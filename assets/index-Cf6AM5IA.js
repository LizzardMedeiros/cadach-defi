var G9=Object.defineProperty;var O4=n=>{throw TypeError(n)};var K9=(n,e,t)=>e in n?G9(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var ie=(n,e,t)=>K9(n,typeof e!="symbol"?e+"":e,t),dv=(n,e,t)=>e.has(n)||O4("Cannot "+t);var k=(n,e,t)=>(dv(n,e,"read from private field"),t?t.call(n):e.get(n)),le=(n,e,t)=>e.has(n)?O4("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),V=(n,e,t,r)=>(dv(n,e,"write to private field"),r?r.call(n,t):e.set(n,t),t),ye=(n,e,t)=>(dv(n,e,"access private method"),t);var Qd=(n,e,t,r)=>({set _(i){V(n,e,i,t)},get _(){return k(n,e,r)}});(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();var Is=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Sg(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function BI(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var e=n.default;if(typeof e=="function"){var t=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(r){var i=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return n[r]}})}),t}var pv={exports:{}},Yd={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C4;function Q9(){if(C4)return Yd;C4=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,i,s){var c=null;if(s!==void 0&&(c=""+s),i.key!==void 0&&(c=""+i.key),"key"in i){s={};for(var l in i)l!=="key"&&(s[l]=i[l])}else s=i;return i=s.ref,{$$typeof:n,type:r,key:c,ref:i!==void 0?i:null,props:s}}return Yd.Fragment=e,Yd.jsx=t,Yd.jsxs=t,Yd}var N4;function Y9(){return N4||(N4=1,pv.exports=Q9()),pv.exports}var B=Y9(),gv={exports:{}},Le={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I4;function Z9(){if(I4)return Le;I4=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),c=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.iterator;function m(C){return C===null||typeof C!="object"?null:(C=g&&C[g]||C["@@iterator"],typeof C=="function"?C:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,x={};function S(C,H,K){this.props=C,this.context=H,this.refs=x,this.updater=K||b}S.prototype.isReactComponent={},S.prototype.setState=function(C,H){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,H,"setState")},S.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function O(){}O.prototype=S.prototype;function T(C,H,K){this.props=C,this.context=H,this.refs=x,this.updater=K||b}var _=T.prototype=new O;_.constructor=T,w(_,S.prototype),_.isPureReactComponent=!0;var I=Array.isArray,N={H:null,A:null,T:null,S:null,V:null},U=Object.prototype.hasOwnProperty;function z(C,H,K,J,Y,se){return K=se.ref,{$$typeof:n,type:C,key:H,ref:K!==void 0?K:null,props:se}}function M(C,H){return z(C.type,H,void 0,void 0,void 0,C.props)}function L(C){return typeof C=="object"&&C!==null&&C.$$typeof===n}function F(C){var H={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(K){return H[K]})}var q=/\/+/g;function Q(C,H){return typeof C=="object"&&C!==null&&C.key!=null?F(""+C.key):H.toString(36)}function G(){}function W(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(G,G):(C.status="pending",C.then(function(H){C.status==="pending"&&(C.status="fulfilled",C.value=H)},function(H){C.status==="pending"&&(C.status="rejected",C.reason=H)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function A(C,H,K,J,Y){var se=typeof C;(se==="undefined"||se==="boolean")&&(C=null);var ue=!1;if(C===null)ue=!0;else switch(se){case"bigint":case"string":case"number":ue=!0;break;case"object":switch(C.$$typeof){case n:case e:ue=!0;break;case p:return ue=C._init,A(ue(C._payload),H,K,J,Y)}}if(ue)return Y=Y(C),ue=J===""?"."+Q(C,0):J,I(Y)?(K="",ue!=null&&(K=ue.replace(q,"$&/")+"/"),A(Y,H,K,"",function(be){return be})):Y!=null&&(L(Y)&&(Y=M(Y,K+(Y.key==null||C&&C.key===Y.key?"":(""+Y.key).replace(q,"$&/")+"/")+ue)),H.push(Y)),1;ue=0;var ge=J===""?".":J+":";if(I(C))for(var xe=0;xe<C.length;xe++)J=C[xe],se=ge+Q(J,xe),ue+=A(J,H,K,se,Y);else if(xe=m(C),typeof xe=="function")for(C=xe.call(C),xe=0;!(J=C.next()).done;)J=J.value,se=ge+Q(J,xe++),ue+=A(J,H,K,se,Y);else if(se==="object"){if(typeof C.then=="function")return A(W(C),H,K,J,Y);throw H=String(C),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.")}return ue}function E(C,H,K){if(C==null)return C;var J=[],Y=0;return A(C,J,"","",function(se){return H.call(K,se,Y++)}),J}function P(C){if(C._status===-1){var H=C._result;H=H(),H.then(function(K){(C._status===0||C._status===-1)&&(C._status=1,C._result=K)},function(K){(C._status===0||C._status===-1)&&(C._status=2,C._result=K)}),C._status===-1&&(C._status=0,C._result=H)}if(C._status===1)return C._result.default;throw C._result}var $=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var H=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(H))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)};function R(){}return Le.Children={map:E,forEach:function(C,H,K){E(C,function(){H.apply(this,arguments)},K)},count:function(C){var H=0;return E(C,function(){H++}),H},toArray:function(C){return E(C,function(H){return H})||[]},only:function(C){if(!L(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},Le.Component=S,Le.Fragment=t,Le.Profiler=i,Le.PureComponent=T,Le.StrictMode=r,Le.Suspense=f,Le.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Le.__COMPILER_RUNTIME={__proto__:null,c:function(C){return N.H.useMemoCache(C)}},Le.cache=function(C){return function(){return C.apply(null,arguments)}},Le.cloneElement=function(C,H,K){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var J=w({},C.props),Y=C.key,se=void 0;if(H!=null)for(ue in H.ref!==void 0&&(se=void 0),H.key!==void 0&&(Y=""+H.key),H)!U.call(H,ue)||ue==="key"||ue==="__self"||ue==="__source"||ue==="ref"&&H.ref===void 0||(J[ue]=H[ue]);var ue=arguments.length-2;if(ue===1)J.children=K;else if(1<ue){for(var ge=Array(ue),xe=0;xe<ue;xe++)ge[xe]=arguments[xe+2];J.children=ge}return z(C.type,Y,void 0,void 0,se,J)},Le.createContext=function(C){return C={$$typeof:c,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:s,_context:C},C},Le.createElement=function(C,H,K){var J,Y={},se=null;if(H!=null)for(J in H.key!==void 0&&(se=""+H.key),H)U.call(H,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(Y[J]=H[J]);var ue=arguments.length-2;if(ue===1)Y.children=K;else if(1<ue){for(var ge=Array(ue),xe=0;xe<ue;xe++)ge[xe]=arguments[xe+2];Y.children=ge}if(C&&C.defaultProps)for(J in ue=C.defaultProps,ue)Y[J]===void 0&&(Y[J]=ue[J]);return z(C,se,void 0,void 0,null,Y)},Le.createRef=function(){return{current:null}},Le.forwardRef=function(C){return{$$typeof:l,render:C}},Le.isValidElement=L,Le.lazy=function(C){return{$$typeof:p,_payload:{_status:-1,_result:C},_init:P}},Le.memo=function(C,H){return{$$typeof:h,type:C,compare:H===void 0?null:H}},Le.startTransition=function(C){var H=N.T,K={};N.T=K;try{var J=C(),Y=N.S;Y!==null&&Y(K,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(R,$)}catch(se){$(se)}finally{N.T=H}},Le.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Le.use=function(C){return N.H.use(C)},Le.useActionState=function(C,H,K){return N.H.useActionState(C,H,K)},Le.useCallback=function(C,H){return N.H.useCallback(C,H)},Le.useContext=function(C){return N.H.useContext(C)},Le.useDebugValue=function(){},Le.useDeferredValue=function(C,H){return N.H.useDeferredValue(C,H)},Le.useEffect=function(C,H,K){var J=N.H;if(typeof K=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return J.useEffect(C,H)},Le.useId=function(){return N.H.useId()},Le.useImperativeHandle=function(C,H,K){return N.H.useImperativeHandle(C,H,K)},Le.useInsertionEffect=function(C,H){return N.H.useInsertionEffect(C,H)},Le.useLayoutEffect=function(C,H){return N.H.useLayoutEffect(C,H)},Le.useMemo=function(C,H){return N.H.useMemo(C,H)},Le.useOptimistic=function(C,H){return N.H.useOptimistic(C,H)},Le.useReducer=function(C,H,K){return N.H.useReducer(C,H,K)},Le.useRef=function(C){return N.H.useRef(C)},Le.useState=function(C){return N.H.useState(C)},Le.useSyncExternalStore=function(C,H,K){return N.H.useSyncExternalStore(C,H,K)},Le.useTransition=function(){return N.H.useTransition()},Le.version="19.1.1",Le}var T4;function l3(){return T4||(T4=1,gv.exports=Z9()),gv.exports}var oe=l3(),mv={exports:{}},Zd={},yv={exports:{}},bv={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D4;function W9(){return D4||(D4=1,(function(n){function e(E,P){var $=E.length;E.push(P);e:for(;0<$;){var R=$-1>>>1,C=E[R];if(0<i(C,P))E[R]=P,E[$]=C,$=R;else break e}}function t(E){return E.length===0?null:E[0]}function r(E){if(E.length===0)return null;var P=E[0],$=E.pop();if($!==P){E[0]=$;e:for(var R=0,C=E.length,H=C>>>1;R<H;){var K=2*(R+1)-1,J=E[K],Y=K+1,se=E[Y];if(0>i(J,$))Y<C&&0>i(se,J)?(E[R]=se,E[Y]=$,R=Y):(E[R]=J,E[K]=$,R=K);else if(Y<C&&0>i(se,$))E[R]=se,E[Y]=$,R=Y;else break e}}return P}function i(E,P){var $=E.sortIndex-P.sortIndex;return $!==0?$:E.id-P.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var c=Date,l=c.now();n.unstable_now=function(){return c.now()-l}}var f=[],h=[],p=1,g=null,m=3,b=!1,w=!1,x=!1,S=!1,O=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;function I(E){for(var P=t(h);P!==null;){if(P.callback===null)r(h);else if(P.startTime<=E)r(h),P.sortIndex=P.expirationTime,e(f,P);else break;P=t(h)}}function N(E){if(x=!1,I(E),!w)if(t(f)!==null)w=!0,U||(U=!0,Q());else{var P=t(h);P!==null&&A(N,P.startTime-E)}}var U=!1,z=-1,M=5,L=-1;function F(){return S?!0:!(n.unstable_now()-L<M)}function q(){if(S=!1,U){var E=n.unstable_now();L=E;var P=!0;try{e:{w=!1,x&&(x=!1,T(z),z=-1),b=!0;var $=m;try{t:{for(I(E),g=t(f);g!==null&&!(g.expirationTime>E&&F());){var R=g.callback;if(typeof R=="function"){g.callback=null,m=g.priorityLevel;var C=R(g.expirationTime<=E);if(E=n.unstable_now(),typeof C=="function"){g.callback=C,I(E),P=!0;break t}g===t(f)&&r(f),I(E)}else r(f);g=t(f)}if(g!==null)P=!0;else{var H=t(h);H!==null&&A(N,H.startTime-E),P=!1}}break e}finally{g=null,m=$,b=!1}P=void 0}}finally{P?Q():U=!1}}}var Q;if(typeof _=="function")Q=function(){_(q)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,W=G.port2;G.port1.onmessage=q,Q=function(){W.postMessage(null)}}else Q=function(){O(q,0)};function A(E,P){z=O(function(){E(n.unstable_now())},P)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(E){E.callback=null},n.unstable_forceFrameRate=function(E){0>E||125<E?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<E?Math.floor(1e3/E):5},n.unstable_getCurrentPriorityLevel=function(){return m},n.unstable_next=function(E){switch(m){case 1:case 2:case 3:var P=3;break;default:P=m}var $=m;m=P;try{return E()}finally{m=$}},n.unstable_requestPaint=function(){S=!0},n.unstable_runWithPriority=function(E,P){switch(E){case 1:case 2:case 3:case 4:case 5:break;default:E=3}var $=m;m=E;try{return P()}finally{m=$}},n.unstable_scheduleCallback=function(E,P,$){var R=n.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?R+$:R):$=R,E){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=$+C,E={id:p++,callback:P,priorityLevel:E,startTime:$,expirationTime:C,sortIndex:-1},$>R?(E.sortIndex=$,e(h,E),t(f)===null&&E===t(h)&&(x?(T(z),z=-1):x=!0,A(N,$-R))):(E.sortIndex=C,e(f,E),w||b||(w=!0,U||(U=!0,Q()))),E},n.unstable_shouldYield=F,n.unstable_wrapCallback=function(E){var P=m;return function(){var $=m;m=P;try{return E.apply(this,arguments)}finally{m=$}}}})(bv)),bv}var R4;function J9(){return R4||(R4=1,yv.exports=W9()),yv.exports}var wv={exports:{}},Hn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B4;function X9(){if(B4)return Hn;B4=1;var n=l3();function e(f){var h="https://react.dev/errors/"+f;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)h+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+f+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(f,h,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:g==null?null:""+g,children:f,containerInfo:h,implementation:p}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(f,h){if(f==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Hn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Hn.createPortal=function(f,h){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return s(f,h,null,p)},Hn.flushSync=function(f){var h=c.T,p=r.p;try{if(c.T=null,r.p=2,f)return f()}finally{c.T=h,r.p=p,r.d.f()}},Hn.preconnect=function(f,h){typeof f=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,r.d.C(f,h))},Hn.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},Hn.preinit=function(f,h){if(typeof f=="string"&&h&&typeof h.as=="string"){var p=h.as,g=l(p,h.crossOrigin),m=typeof h.integrity=="string"?h.integrity:void 0,b=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;p==="style"?r.d.S(f,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:g,integrity:m,fetchPriority:b}):p==="script"&&r.d.X(f,{crossOrigin:g,integrity:m,fetchPriority:b,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Hn.preinitModule=function(f,h){if(typeof f=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var p=l(h.as,h.crossOrigin);r.d.M(f,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&r.d.M(f)},Hn.preload=function(f,h){if(typeof f=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var p=h.as,g=l(p,h.crossOrigin);r.d.L(f,p,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Hn.preloadModule=function(f,h){if(typeof f=="string")if(h){var p=l(h.as,h.crossOrigin);r.d.m(f,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else r.d.m(f)},Hn.requestFormReset=function(f){r.d.r(f)},Hn.unstable_batchedUpdates=function(f,h){return f(h)},Hn.useFormState=function(f,h,p){return c.H.useFormState(f,h,p)},Hn.useFormStatus=function(){return c.H.useHostTransitionStatus()},Hn.version="19.1.1",Hn}var k4;function eM(){if(k4)return wv.exports;k4=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),wv.exports=X9(),wv.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P4;function tM(){if(P4)return Zd;P4=1;var n=J9(),e=l3(),t=eM();function r(a){var o="https://react.dev/errors/"+a;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+a+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function s(a){var o=a,u=a;if(a.alternate)for(;o.return;)o=o.return;else{a=o;do o=a,(o.flags&4098)!==0&&(u=o.return),a=o.return;while(a)}return o.tag===3?u:null}function c(a){if(a.tag===13){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function l(a){if(s(a)!==a)throw Error(r(188))}function f(a){var o=a.alternate;if(!o){if(o=s(a),o===null)throw Error(r(188));return o!==a?null:a}for(var u=a,d=o;;){var y=u.return;if(y===null)break;var v=y.alternate;if(v===null){if(d=y.return,d!==null){u=d;continue}break}if(y.child===v.child){for(v=y.child;v;){if(v===u)return l(y),a;if(v===d)return l(y),o;v=v.sibling}throw Error(r(188))}if(u.return!==d.return)u=y,d=v;else{for(var D=!1,j=y.child;j;){if(j===u){D=!0,u=y,d=v;break}if(j===d){D=!0,d=y,u=v;break}j=j.sibling}if(!D){for(j=v.child;j;){if(j===u){D=!0,u=v,d=y;break}if(j===d){D=!0,d=v,u=y;break}j=j.sibling}if(!D)throw Error(r(189))}}if(u.alternate!==d)throw Error(r(190))}if(u.tag!==3)throw Error(r(188));return u.stateNode.current===u?a:o}function h(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a;for(a=a.child;a!==null;){if(o=h(a),o!==null)return o;a=a.sibling}return null}var p=Object.assign,g=Symbol.for("react.element"),m=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),O=Symbol.for("react.provider"),T=Symbol.for("react.consumer"),_=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),U=Symbol.for("react.suspense_list"),z=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),L=Symbol.for("react.activity"),F=Symbol.for("react.memo_cache_sentinel"),q=Symbol.iterator;function Q(a){return a===null||typeof a!="object"?null:(a=q&&a[q]||a["@@iterator"],typeof a=="function"?a:null)}var G=Symbol.for("react.client.reference");function W(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===G?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case w:return"Fragment";case S:return"Profiler";case x:return"StrictMode";case N:return"Suspense";case U:return"SuspenseList";case L:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case b:return"Portal";case _:return(a.displayName||"Context")+".Provider";case T:return(a._context.displayName||"Context")+".Consumer";case I:var o=a.render;return a=a.displayName,a||(a=o.displayName||o.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case z:return o=a.displayName||null,o!==null?o:W(a.type)||"Memo";case M:o=a._payload,a=a._init;try{return W(a(o))}catch{}}return null}var A=Array.isArray,E=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,P=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$={pending:!1,data:null,method:null,action:null},R=[],C=-1;function H(a){return{current:a}}function K(a){0>C||(a.current=R[C],R[C]=null,C--)}function J(a,o){C++,R[C]=a.current,a.current=o}var Y=H(null),se=H(null),ue=H(null),ge=H(null);function xe(a,o){switch(J(ue,o),J(se,a),J(Y,null),o.nodeType){case 9:case 11:a=(a=o.documentElement)&&(a=a.namespaceURI)?e4(a):0;break;default:if(a=o.tagName,o=o.namespaceURI)o=e4(o),a=t4(o,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}K(Y),J(Y,a)}function be(){K(Y),K(se),K(ue)}function Se(a){a.memoizedState!==null&&J(ge,a);var o=Y.current,u=t4(o,a.type);o!==u&&(J(se,a),J(Y,u))}function Pe(a){se.current===a&&(K(Y),K(se)),ge.current===a&&(K(ge),Fd._currentValue=$)}var Me=Object.prototype.hasOwnProperty,Qe=n.unstable_scheduleCallback,at=n.unstable_cancelCallback,Sn=n.unstable_shouldYield,$n=n.unstable_requestPaint,fn=n.unstable_now,Xa=n.unstable_getCurrentPriorityLevel,Yh=n.unstable_ImmediatePriority,Zh=n.unstable_UserBlockingPriority,eo=n.unstable_NormalPriority,Kg=n.unstable_LowPriority,Wh=n.unstable_IdlePriority,Qg=n.log,Yg=n.unstable_setDisableYieldValue,to=null,Xn=null;function ns(a){if(typeof Qg=="function"&&Yg(a),Xn&&typeof Xn.setStrictMode=="function")try{Xn.setStrictMode(to,a)}catch{}}var er=Math.clz32?Math.clz32:R7,tw=Math.log,D7=Math.LN2;function R7(a){return a>>>=0,a===0?32:31-(tw(a)/D7|0)|0}var Zg=256,Wg=4194304;function Nc(a){var o=a&42;if(o!==0)return o;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function Jg(a,o,u){var d=a.pendingLanes;if(d===0)return 0;var y=0,v=a.suspendedLanes,D=a.pingedLanes;a=a.warmLanes;var j=d&134217727;return j!==0?(d=j&~v,d!==0?y=Nc(d):(D&=j,D!==0?y=Nc(D):u||(u=j&~a,u!==0&&(y=Nc(u))))):(j=d&~v,j!==0?y=Nc(j):D!==0?y=Nc(D):u||(u=d&~a,u!==0&&(y=Nc(u)))),y===0?0:o!==0&&o!==y&&(o&v)===0&&(v=y&-y,u=o&-o,v>=u||v===32&&(u&4194048)!==0)?o:y}function Jh(a,o){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&o)===0}function B7(a,o){switch(a){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function MA(){var a=Zg;return Zg<<=1,(Zg&4194048)===0&&(Zg=256),a}function LA(){var a=Wg;return Wg<<=1,(Wg&62914560)===0&&(Wg=4194304),a}function nw(a){for(var o=[],u=0;31>u;u++)o.push(a);return o}function Xh(a,o){a.pendingLanes|=o,o!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function k7(a,o,u,d,y,v){var D=a.pendingLanes;a.pendingLanes=u,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=u,a.entangledLanes&=u,a.errorRecoveryDisabledLanes&=u,a.shellSuspendCounter=0;var j=a.entanglements,Z=a.expirationTimes,re=a.hiddenUpdates;for(u=D&~u;0<u;){var fe=31-er(u),de=1<<fe;j[fe]=0,Z[fe]=-1;var ae=re[fe];if(ae!==null)for(re[fe]=null,fe=0;fe<ae.length;fe++){var ce=ae[fe];ce!==null&&(ce.lane&=-536870913)}u&=~de}d!==0&&$A(a,d,0),v!==0&&y===0&&a.tag!==0&&(a.suspendedLanes|=v&~(D&~o))}function $A(a,o,u){a.pendingLanes|=o,a.suspendedLanes&=~o;var d=31-er(o);a.entangledLanes|=o,a.entanglements[d]=a.entanglements[d]|1073741824|u&4194090}function jA(a,o){var u=a.entangledLanes|=o;for(a=a.entanglements;u;){var d=31-er(u),y=1<<d;y&o|a[d]&o&&(a[d]|=o),u&=~y}}function rw(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function iw(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function zA(){var a=P.p;return a!==0?a:(a=window.event,a===void 0?32:v4(a.type))}function P7(a,o){var u=P.p;try{return P.p=a,o()}finally{P.p=u}}var no=Math.random().toString(36).slice(2),jn="__reactFiber$"+no,hr="__reactProps$"+no,pu="__reactContainer$"+no,sw="__reactEvents$"+no,U7="__reactListeners$"+no,M7="__reactHandles$"+no,HA="__reactResources$"+no,ed="__reactMarker$"+no;function aw(a){delete a[jn],delete a[hr],delete a[sw],delete a[U7],delete a[M7]}function gu(a){var o=a[jn];if(o)return o;for(var u=a.parentNode;u;){if(o=u[pu]||u[jn]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(a=s4(a);a!==null;){if(u=a[jn])return u;a=s4(a)}return o}a=u,u=a.parentNode}return null}function mu(a){if(a=a[jn]||a[pu]){var o=a.tag;if(o===5||o===6||o===13||o===26||o===27||o===3)return a}return null}function td(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a.stateNode;throw Error(r(33))}function yu(a){var o=a[HA];return o||(o=a[HA]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function hn(a){a[ed]=!0}var FA=new Set,qA={};function Ic(a,o){bu(a,o),bu(a+"Capture",o)}function bu(a,o){for(qA[a]=o,a=0;a<o.length;a++)FA.add(o[a])}var L7=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),VA={},GA={};function $7(a){return Me.call(GA,a)?!0:Me.call(VA,a)?!1:L7.test(a)?GA[a]=!0:(VA[a]=!0,!1)}function Xg(a,o,u){if($7(o))if(u===null)a.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":a.removeAttribute(o);return;case"boolean":var d=o.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){a.removeAttribute(o);return}}a.setAttribute(o,""+u)}}function e0(a,o,u){if(u===null)a.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(o);return}a.setAttribute(o,""+u)}}function Fs(a,o,u,d){if(d===null)a.removeAttribute(u);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(u);return}a.setAttributeNS(o,u,""+d)}}var ow,KA;function wu(a){if(ow===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);ow=o&&o[1]||"",KA=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ow+a+KA}var cw=!1;function lw(a,o){if(!a||cw)return"";cw=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(o){var de=function(){throw Error()};if(Object.defineProperty(de.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(de,[])}catch(ce){var ae=ce}Reflect.construct(a,[],de)}else{try{de.call()}catch(ce){ae=ce}a.call(de.prototype)}}else{try{throw Error()}catch(ce){ae=ce}(de=a())&&typeof de.catch=="function"&&de.catch(function(){})}}catch(ce){if(ce&&ae&&typeof ce.stack=="string")return[ce.stack,ae.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=d.DetermineComponentFrameRoot(),D=v[0],j=v[1];if(D&&j){var Z=D.split(`
`),re=j.split(`
`);for(y=d=0;d<Z.length&&!Z[d].includes("DetermineComponentFrameRoot");)d++;for(;y<re.length&&!re[y].includes("DetermineComponentFrameRoot");)y++;if(d===Z.length||y===re.length)for(d=Z.length-1,y=re.length-1;1<=d&&0<=y&&Z[d]!==re[y];)y--;for(;1<=d&&0<=y;d--,y--)if(Z[d]!==re[y]){if(d!==1||y!==1)do if(d--,y--,0>y||Z[d]!==re[y]){var fe=`
`+Z[d].replace(" at new "," at ");return a.displayName&&fe.includes("<anonymous>")&&(fe=fe.replace("<anonymous>",a.displayName)),fe}while(1<=d&&0<=y);break}}}finally{cw=!1,Error.prepareStackTrace=u}return(u=a?a.displayName||a.name:"")?wu(u):""}function j7(a){switch(a.tag){case 26:case 27:case 5:return wu(a.type);case 16:return wu("Lazy");case 13:return wu("Suspense");case 19:return wu("SuspenseList");case 0:case 15:return lw(a.type,!1);case 11:return lw(a.type.render,!1);case 1:return lw(a.type,!0);case 31:return wu("Activity");default:return""}}function QA(a){try{var o="";do o+=j7(a),a=a.return;while(a);return o}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}function ni(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function YA(a){var o=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function z7(a){var o=YA(a)?"checked":"value",u=Object.getOwnPropertyDescriptor(a.constructor.prototype,o),d=""+a[o];if(!a.hasOwnProperty(o)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var y=u.get,v=u.set;return Object.defineProperty(a,o,{configurable:!0,get:function(){return y.call(this)},set:function(D){d=""+D,v.call(this,D)}}),Object.defineProperty(a,o,{enumerable:u.enumerable}),{getValue:function(){return d},setValue:function(D){d=""+D},stopTracking:function(){a._valueTracker=null,delete a[o]}}}}function t0(a){a._valueTracker||(a._valueTracker=z7(a))}function ZA(a){if(!a)return!1;var o=a._valueTracker;if(!o)return!0;var u=o.getValue(),d="";return a&&(d=YA(a)?a.checked?"true":"false":a.value),a=d,a!==u?(o.setValue(a),!0):!1}function n0(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var H7=/[\n"\\]/g;function ri(a){return a.replace(H7,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function uw(a,o,u,d,y,v,D,j){a.name="",D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?a.type=D:a.removeAttribute("type"),o!=null?D==="number"?(o===0&&a.value===""||a.value!=o)&&(a.value=""+ni(o)):a.value!==""+ni(o)&&(a.value=""+ni(o)):D!=="submit"&&D!=="reset"||a.removeAttribute("value"),o!=null?fw(a,D,ni(o)):u!=null?fw(a,D,ni(u)):d!=null&&a.removeAttribute("value"),y==null&&v!=null&&(a.defaultChecked=!!v),y!=null&&(a.checked=y&&typeof y!="function"&&typeof y!="symbol"),j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"?a.name=""+ni(j):a.removeAttribute("name")}function WA(a,o,u,d,y,v,D,j){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(a.type=v),o!=null||u!=null){if(!(v!=="submit"&&v!=="reset"||o!=null))return;u=u!=null?""+ni(u):"",o=o!=null?""+ni(o):u,j||o===a.value||(a.value=o),a.defaultValue=o}d=d??y,d=typeof d!="function"&&typeof d!="symbol"&&!!d,a.checked=j?a.checked:!!d,a.defaultChecked=!!d,D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"&&(a.name=D)}function fw(a,o,u){o==="number"&&n0(a.ownerDocument)===a||a.defaultValue===""+u||(a.defaultValue=""+u)}function vu(a,o,u,d){if(a=a.options,o){o={};for(var y=0;y<u.length;y++)o["$"+u[y]]=!0;for(u=0;u<a.length;u++)y=o.hasOwnProperty("$"+a[u].value),a[u].selected!==y&&(a[u].selected=y),y&&d&&(a[u].defaultSelected=!0)}else{for(u=""+ni(u),o=null,y=0;y<a.length;y++){if(a[y].value===u){a[y].selected=!0,d&&(a[y].defaultSelected=!0);return}o!==null||a[y].disabled||(o=a[y])}o!==null&&(o.selected=!0)}}function JA(a,o,u){if(o!=null&&(o=""+ni(o),o!==a.value&&(a.value=o),u==null)){a.defaultValue!==o&&(a.defaultValue=o);return}a.defaultValue=u!=null?""+ni(u):""}function XA(a,o,u,d){if(o==null){if(d!=null){if(u!=null)throw Error(r(92));if(A(d)){if(1<d.length)throw Error(r(93));d=d[0]}u=d}u==null&&(u=""),o=u}u=ni(o),a.defaultValue=u,d=a.textContent,d===u&&d!==""&&d!==null&&(a.value=d)}function xu(a,o){if(o){var u=a.firstChild;if(u&&u===a.lastChild&&u.nodeType===3){u.nodeValue=o;return}}a.textContent=o}var F7=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function eS(a,o,u){var d=o.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?d?a.setProperty(o,""):o==="float"?a.cssFloat="":a[o]="":d?a.setProperty(o,u):typeof u!="number"||u===0||F7.has(o)?o==="float"?a.cssFloat=u:a[o]=(""+u).trim():a[o]=u+"px"}function tS(a,o,u){if(o!=null&&typeof o!="object")throw Error(r(62));if(a=a.style,u!=null){for(var d in u)!u.hasOwnProperty(d)||o!=null&&o.hasOwnProperty(d)||(d.indexOf("--")===0?a.setProperty(d,""):d==="float"?a.cssFloat="":a[d]="");for(var y in o)d=o[y],o.hasOwnProperty(y)&&u[y]!==d&&eS(a,y,d)}else for(var v in o)o.hasOwnProperty(v)&&eS(a,v,o[v])}function hw(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var q7=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),V7=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function r0(a){return V7.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}var dw=null;function pw(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Eu=null,Au=null;function nS(a){var o=mu(a);if(o&&(a=o.stateNode)){var u=a[hr]||null;e:switch(a=o.stateNode,o.type){case"input":if(uw(a,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),o=u.name,u.type==="radio"&&o!=null){for(u=a;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+ri(""+o)+'"][type="radio"]'),o=0;o<u.length;o++){var d=u[o];if(d!==a&&d.form===a.form){var y=d[hr]||null;if(!y)throw Error(r(90));uw(d,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(o=0;o<u.length;o++)d=u[o],d.form===a.form&&ZA(d)}break e;case"textarea":JA(a,u.value,u.defaultValue);break e;case"select":o=u.value,o!=null&&vu(a,!!u.multiple,o,!1)}}}var gw=!1;function rS(a,o,u){if(gw)return a(o,u);gw=!0;try{var d=a(o);return d}finally{if(gw=!1,(Eu!==null||Au!==null)&&(H0(),Eu&&(o=Eu,a=Au,Au=Eu=null,nS(o),a)))for(o=0;o<a.length;o++)nS(a[o])}}function nd(a,o){var u=a.stateNode;if(u===null)return null;var d=u[hr]||null;if(d===null)return null;u=d[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(a=a.type,d=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!d;break e;default:a=!1}if(a)return null;if(u&&typeof u!="function")throw Error(r(231,o,typeof u));return u}var qs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),mw=!1;if(qs)try{var rd={};Object.defineProperty(rd,"passive",{get:function(){mw=!0}}),window.addEventListener("test",rd,rd),window.removeEventListener("test",rd,rd)}catch{mw=!1}var ro=null,yw=null,i0=null;function iS(){if(i0)return i0;var a,o=yw,u=o.length,d,y="value"in ro?ro.value:ro.textContent,v=y.length;for(a=0;a<u&&o[a]===y[a];a++);var D=u-a;for(d=1;d<=D&&o[u-d]===y[v-d];d++);return i0=y.slice(a,1<d?1-d:void 0)}function s0(a){var o=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&o===13&&(a=13)):a=o,a===10&&(a=13),32<=a||a===13?a:0}function a0(){return!0}function sS(){return!1}function dr(a){function o(u,d,y,v,D){this._reactName=u,this._targetInst=y,this.type=d,this.nativeEvent=v,this.target=D,this.currentTarget=null;for(var j in a)a.hasOwnProperty(j)&&(u=a[j],this[j]=u?u(v):v[j]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?a0:sS,this.isPropagationStopped=sS,this}return p(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=a0)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=a0)},persist:function(){},isPersistent:a0}),o}var Tc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},o0=dr(Tc),id=p({},Tc,{view:0,detail:0}),G7=dr(id),bw,ww,sd,c0=p({},id,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xw,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==sd&&(sd&&a.type==="mousemove"?(bw=a.screenX-sd.screenX,ww=a.screenY-sd.screenY):ww=bw=0,sd=a),bw)},movementY:function(a){return"movementY"in a?a.movementY:ww}}),aS=dr(c0),K7=p({},c0,{dataTransfer:0}),Q7=dr(K7),Y7=p({},id,{relatedTarget:0}),vw=dr(Y7),Z7=p({},Tc,{animationName:0,elapsedTime:0,pseudoElement:0}),W7=dr(Z7),J7=p({},Tc,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),X7=dr(J7),eU=p({},Tc,{data:0}),oS=dr(eU),tU={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},nU={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},rU={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function iU(a){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(a):(a=rU[a])?!!o[a]:!1}function xw(){return iU}var sU=p({},id,{key:function(a){if(a.key){var o=tU[a.key]||a.key;if(o!=="Unidentified")return o}return a.type==="keypress"?(a=s0(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?nU[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xw,charCode:function(a){return a.type==="keypress"?s0(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?s0(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),aU=dr(sU),oU=p({},c0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cS=dr(oU),cU=p({},id,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xw}),lU=dr(cU),uU=p({},Tc,{propertyName:0,elapsedTime:0,pseudoElement:0}),fU=dr(uU),hU=p({},c0,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),dU=dr(hU),pU=p({},Tc,{newState:0,oldState:0}),gU=dr(pU),mU=[9,13,27,32],Ew=qs&&"CompositionEvent"in window,ad=null;qs&&"documentMode"in document&&(ad=document.documentMode);var yU=qs&&"TextEvent"in window&&!ad,lS=qs&&(!Ew||ad&&8<ad&&11>=ad),uS=" ",fS=!1;function hS(a,o){switch(a){case"keyup":return mU.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function dS(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Su=!1;function bU(a,o){switch(a){case"compositionend":return dS(o);case"keypress":return o.which!==32?null:(fS=!0,uS);case"textInput":return a=o.data,a===uS&&fS?null:a;default:return null}}function wU(a,o){if(Su)return a==="compositionend"||!Ew&&hS(a,o)?(a=iS(),i0=yw=ro=null,Su=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return lS&&o.locale!=="ko"?null:o.data;default:return null}}var vU={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pS(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o==="input"?!!vU[a.type]:o==="textarea"}function gS(a,o,u,d){Eu?Au?Au.push(d):Au=[d]:Eu=d,o=Q0(o,"onChange"),0<o.length&&(u=new o0("onChange","change",null,u,d),a.push({event:u,listeners:o}))}var od=null,cd=null;function xU(a){Y8(a,0)}function l0(a){var o=td(a);if(ZA(o))return a}function mS(a,o){if(a==="change")return o}var yS=!1;if(qs){var Aw;if(qs){var Sw="oninput"in document;if(!Sw){var bS=document.createElement("div");bS.setAttribute("oninput","return;"),Sw=typeof bS.oninput=="function"}Aw=Sw}else Aw=!1;yS=Aw&&(!document.documentMode||9<document.documentMode)}function wS(){od&&(od.detachEvent("onpropertychange",vS),cd=od=null)}function vS(a){if(a.propertyName==="value"&&l0(cd)){var o=[];gS(o,cd,a,pw(a)),rS(xU,o)}}function EU(a,o,u){a==="focusin"?(wS(),od=o,cd=u,od.attachEvent("onpropertychange",vS)):a==="focusout"&&wS()}function AU(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return l0(cd)}function SU(a,o){if(a==="click")return l0(o)}function _U(a,o){if(a==="input"||a==="change")return l0(o)}function OU(a,o){return a===o&&(a!==0||1/a===1/o)||a!==a&&o!==o}var kr=typeof Object.is=="function"?Object.is:OU;function ld(a,o){if(kr(a,o))return!0;if(typeof a!="object"||a===null||typeof o!="object"||o===null)return!1;var u=Object.keys(a),d=Object.keys(o);if(u.length!==d.length)return!1;for(d=0;d<u.length;d++){var y=u[d];if(!Me.call(o,y)||!kr(a[y],o[y]))return!1}return!0}function xS(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function ES(a,o){var u=xS(a);a=0;for(var d;u;){if(u.nodeType===3){if(d=a+u.textContent.length,a<=o&&d>=o)return{node:u,offset:o-a};a=d}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=xS(u)}}function AS(a,o){return a&&o?a===o?!0:a&&a.nodeType===3?!1:o&&o.nodeType===3?AS(a,o.parentNode):"contains"in a?a.contains(o):a.compareDocumentPosition?!!(a.compareDocumentPosition(o)&16):!1:!1}function SS(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var o=n0(a.document);o instanceof a.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)a=o.contentWindow;else break;o=n0(a.document)}return o}function _w(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o&&(o==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||o==="textarea"||a.contentEditable==="true")}var CU=qs&&"documentMode"in document&&11>=document.documentMode,_u=null,Ow=null,ud=null,Cw=!1;function _S(a,o,u){var d=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Cw||_u==null||_u!==n0(d)||(d=_u,"selectionStart"in d&&_w(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),ud&&ld(ud,d)||(ud=d,d=Q0(Ow,"onSelect"),0<d.length&&(o=new o0("onSelect","select",null,o,u),a.push({event:o,listeners:d}),o.target=_u)))}function Dc(a,o){var u={};return u[a.toLowerCase()]=o.toLowerCase(),u["Webkit"+a]="webkit"+o,u["Moz"+a]="moz"+o,u}var Ou={animationend:Dc("Animation","AnimationEnd"),animationiteration:Dc("Animation","AnimationIteration"),animationstart:Dc("Animation","AnimationStart"),transitionrun:Dc("Transition","TransitionRun"),transitionstart:Dc("Transition","TransitionStart"),transitioncancel:Dc("Transition","TransitionCancel"),transitionend:Dc("Transition","TransitionEnd")},Nw={},OS={};qs&&(OS=document.createElement("div").style,"AnimationEvent"in window||(delete Ou.animationend.animation,delete Ou.animationiteration.animation,delete Ou.animationstart.animation),"TransitionEvent"in window||delete Ou.transitionend.transition);function Rc(a){if(Nw[a])return Nw[a];if(!Ou[a])return a;var o=Ou[a],u;for(u in o)if(o.hasOwnProperty(u)&&u in OS)return Nw[a]=o[u];return a}var CS=Rc("animationend"),NS=Rc("animationiteration"),IS=Rc("animationstart"),NU=Rc("transitionrun"),IU=Rc("transitionstart"),TU=Rc("transitioncancel"),TS=Rc("transitionend"),DS=new Map,Iw="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Iw.push("scrollEnd");function Ri(a,o){DS.set(a,o),Ic(o,[a])}var RS=new WeakMap;function ii(a,o){if(typeof a=="object"&&a!==null){var u=RS.get(a);return u!==void 0?u:(o={value:a,source:o,stack:QA(o)},RS.set(a,o),o)}return{value:a,source:o,stack:QA(o)}}var si=[],Cu=0,Tw=0;function u0(){for(var a=Cu,o=Tw=Cu=0;o<a;){var u=si[o];si[o++]=null;var d=si[o];si[o++]=null;var y=si[o];si[o++]=null;var v=si[o];if(si[o++]=null,d!==null&&y!==null){var D=d.pending;D===null?y.next=y:(y.next=D.next,D.next=y),d.pending=y}v!==0&&BS(u,y,v)}}function f0(a,o,u,d){si[Cu++]=a,si[Cu++]=o,si[Cu++]=u,si[Cu++]=d,Tw|=d,a.lanes|=d,a=a.alternate,a!==null&&(a.lanes|=d)}function Dw(a,o,u,d){return f0(a,o,u,d),h0(a)}function Nu(a,o){return f0(a,null,null,o),h0(a)}function BS(a,o,u){a.lanes|=u;var d=a.alternate;d!==null&&(d.lanes|=u);for(var y=!1,v=a.return;v!==null;)v.childLanes|=u,d=v.alternate,d!==null&&(d.childLanes|=u),v.tag===22&&(a=v.stateNode,a===null||a._visibility&1||(y=!0)),a=v,v=v.return;return a.tag===3?(v=a.stateNode,y&&o!==null&&(y=31-er(u),a=v.hiddenUpdates,d=a[y],d===null?a[y]=[o]:d.push(o),o.lane=u|536870912),v):null}function h0(a){if(50<Pd)throw Pd=0,M1=null,Error(r(185));for(var o=a.return;o!==null;)a=o,o=a.return;return a.tag===3?a.stateNode:null}var Iu={};function DU(a,o,u,d){this.tag=a,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pr(a,o,u,d){return new DU(a,o,u,d)}function Rw(a){return a=a.prototype,!(!a||!a.isReactComponent)}function Vs(a,o){var u=a.alternate;return u===null?(u=Pr(a.tag,o,a.key,a.mode),u.elementType=a.elementType,u.type=a.type,u.stateNode=a.stateNode,u.alternate=a,a.alternate=u):(u.pendingProps=o,u.type=a.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=a.flags&65011712,u.childLanes=a.childLanes,u.lanes=a.lanes,u.child=a.child,u.memoizedProps=a.memoizedProps,u.memoizedState=a.memoizedState,u.updateQueue=a.updateQueue,o=a.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=a.sibling,u.index=a.index,u.ref=a.ref,u.refCleanup=a.refCleanup,u}function kS(a,o){a.flags&=65011714;var u=a.alternate;return u===null?(a.childLanes=0,a.lanes=o,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,o=u.dependencies,a.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),a}function d0(a,o,u,d,y,v){var D=0;if(d=a,typeof a=="function")Rw(a)&&(D=1);else if(typeof a=="string")D=B9(a,u,Y.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case L:return a=Pr(31,u,o,y),a.elementType=L,a.lanes=v,a;case w:return Bc(u.children,y,v,o);case x:D=8,y|=24;break;case S:return a=Pr(12,u,o,y|2),a.elementType=S,a.lanes=v,a;case N:return a=Pr(13,u,o,y),a.elementType=N,a.lanes=v,a;case U:return a=Pr(19,u,o,y),a.elementType=U,a.lanes=v,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case O:case _:D=10;break e;case T:D=9;break e;case I:D=11;break e;case z:D=14;break e;case M:D=16,d=null;break e}D=29,u=Error(r(130,a===null?"null":typeof a,"")),d=null}return o=Pr(D,u,o,y),o.elementType=a,o.type=d,o.lanes=v,o}function Bc(a,o,u,d){return a=Pr(7,a,d,o),a.lanes=u,a}function Bw(a,o,u){return a=Pr(6,a,null,o),a.lanes=u,a}function kw(a,o,u){return o=Pr(4,a.children!==null?a.children:[],a.key,o),o.lanes=u,o.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},o}var Tu=[],Du=0,p0=null,g0=0,ai=[],oi=0,kc=null,Gs=1,Ks="";function Pc(a,o){Tu[Du++]=g0,Tu[Du++]=p0,p0=a,g0=o}function PS(a,o,u){ai[oi++]=Gs,ai[oi++]=Ks,ai[oi++]=kc,kc=a;var d=Gs;a=Ks;var y=32-er(d)-1;d&=~(1<<y),u+=1;var v=32-er(o)+y;if(30<v){var D=y-y%5;v=(d&(1<<D)-1).toString(32),d>>=D,y-=D,Gs=1<<32-er(o)+y|u<<y|d,Ks=v+a}else Gs=1<<v|u<<y|d,Ks=a}function Pw(a){a.return!==null&&(Pc(a,1),PS(a,1,0))}function Uw(a){for(;a===p0;)p0=Tu[--Du],Tu[Du]=null,g0=Tu[--Du],Tu[Du]=null;for(;a===kc;)kc=ai[--oi],ai[oi]=null,Ks=ai[--oi],ai[oi]=null,Gs=ai[--oi],ai[oi]=null}var tr=null,Pt=null,ot=!1,Uc=null,rs=!1,Mw=Error(r(519));function Mc(a){var o=Error(r(418,""));throw dd(ii(o,a)),Mw}function US(a){var o=a.stateNode,u=a.type,d=a.memoizedProps;switch(o[jn]=a,o[hr]=d,u){case"dialog":Ze("cancel",o),Ze("close",o);break;case"iframe":case"object":case"embed":Ze("load",o);break;case"video":case"audio":for(u=0;u<Md.length;u++)Ze(Md[u],o);break;case"source":Ze("error",o);break;case"img":case"image":case"link":Ze("error",o),Ze("load",o);break;case"details":Ze("toggle",o);break;case"input":Ze("invalid",o),WA(o,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0),t0(o);break;case"select":Ze("invalid",o);break;case"textarea":Ze("invalid",o),XA(o,d.value,d.defaultValue,d.children),t0(o)}u=d.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||o.textContent===""+u||d.suppressHydrationWarning===!0||X8(o.textContent,u)?(d.popover!=null&&(Ze("beforetoggle",o),Ze("toggle",o)),d.onScroll!=null&&Ze("scroll",o),d.onScrollEnd!=null&&Ze("scrollend",o),d.onClick!=null&&(o.onclick=Y0),o=!0):o=!1,o||Mc(a)}function MS(a){for(tr=a.return;tr;)switch(tr.tag){case 5:case 13:rs=!1;return;case 27:case 3:rs=!0;return;default:tr=tr.return}}function fd(a){if(a!==tr)return!1;if(!ot)return MS(a),ot=!0,!1;var o=a.tag,u;if((u=o!==3&&o!==27)&&((u=o===5)&&(u=a.type,u=!(u!=="form"&&u!=="button")||X1(a.type,a.memoizedProps)),u=!u),u&&Pt&&Mc(a),MS(a),o===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));e:{for(a=a.nextSibling,o=0;a;){if(a.nodeType===8)if(u=a.data,u==="/$"){if(o===0){Pt=ki(a.nextSibling);break e}o--}else u!=="$"&&u!=="$!"&&u!=="$?"||o++;a=a.nextSibling}Pt=null}}else o===27?(o=Pt,vo(a.type)?(a=rv,rv=null,Pt=a):Pt=o):Pt=tr?ki(a.stateNode.nextSibling):null;return!0}function hd(){Pt=tr=null,ot=!1}function LS(){var a=Uc;return a!==null&&(mr===null?mr=a:mr.push.apply(mr,a),Uc=null),a}function dd(a){Uc===null?Uc=[a]:Uc.push(a)}var Lw=H(null),Lc=null,Qs=null;function io(a,o,u){J(Lw,o._currentValue),o._currentValue=u}function Ys(a){a._currentValue=Lw.current,K(Lw)}function $w(a,o,u){for(;a!==null;){var d=a.alternate;if((a.childLanes&o)!==o?(a.childLanes|=o,d!==null&&(d.childLanes|=o)):d!==null&&(d.childLanes&o)!==o&&(d.childLanes|=o),a===u)break;a=a.return}}function jw(a,o,u,d){var y=a.child;for(y!==null&&(y.return=a);y!==null;){var v=y.dependencies;if(v!==null){var D=y.child;v=v.firstContext;e:for(;v!==null;){var j=v;v=y;for(var Z=0;Z<o.length;Z++)if(j.context===o[Z]){v.lanes|=u,j=v.alternate,j!==null&&(j.lanes|=u),$w(v.return,u,a),d||(D=null);break e}v=j.next}}else if(y.tag===18){if(D=y.return,D===null)throw Error(r(341));D.lanes|=u,v=D.alternate,v!==null&&(v.lanes|=u),$w(D,u,a),D=null}else D=y.child;if(D!==null)D.return=y;else for(D=y;D!==null;){if(D===a){D=null;break}if(y=D.sibling,y!==null){y.return=D.return,D=y;break}D=D.return}y=D}}function pd(a,o,u,d){a=null;for(var y=o,v=!1;y!==null;){if(!v){if((y.flags&524288)!==0)v=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var D=y.alternate;if(D===null)throw Error(r(387));if(D=D.memoizedProps,D!==null){var j=y.type;kr(y.pendingProps.value,D.value)||(a!==null?a.push(j):a=[j])}}else if(y===ge.current){if(D=y.alternate,D===null)throw Error(r(387));D.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(a!==null?a.push(Fd):a=[Fd])}y=y.return}a!==null&&jw(o,a,u,d),o.flags|=262144}function m0(a){for(a=a.firstContext;a!==null;){if(!kr(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function $c(a){Lc=a,Qs=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function zn(a){return $S(Lc,a)}function y0(a,o){return Lc===null&&$c(a),$S(a,o)}function $S(a,o){var u=o._currentValue;if(o={context:o,memoizedValue:u,next:null},Qs===null){if(a===null)throw Error(r(308));Qs=o,a.dependencies={lanes:0,firstContext:o},a.flags|=524288}else Qs=Qs.next=o;return u}var RU=typeof AbortController<"u"?AbortController:function(){var a=[],o=this.signal={aborted:!1,addEventListener:function(u,d){a.push(d)}};this.abort=function(){o.aborted=!0,a.forEach(function(u){return u()})}},BU=n.unstable_scheduleCallback,kU=n.unstable_NormalPriority,rn={$$typeof:_,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function zw(){return{controller:new RU,data:new Map,refCount:0}}function gd(a){a.refCount--,a.refCount===0&&BU(kU,function(){a.controller.abort()})}var md=null,Hw=0,Ru=0,Bu=null;function PU(a,o){if(md===null){var u=md=[];Hw=0,Ru=q1(),Bu={status:"pending",value:void 0,then:function(d){u.push(d)}}}return Hw++,o.then(jS,jS),o}function jS(){if(--Hw===0&&md!==null){Bu!==null&&(Bu.status="fulfilled");var a=md;md=null,Ru=0,Bu=null;for(var o=0;o<a.length;o++)(0,a[o])()}}function UU(a,o){var u=[],d={status:"pending",value:null,reason:null,then:function(y){u.push(y)}};return a.then(function(){d.status="fulfilled",d.value=o;for(var y=0;y<u.length;y++)(0,u[y])(o)},function(y){for(d.status="rejected",d.reason=y,y=0;y<u.length;y++)(0,u[y])(void 0)}),d}var zS=E.S;E.S=function(a,o){typeof o=="object"&&o!==null&&typeof o.then=="function"&&PU(a,o),zS!==null&&zS(a,o)};var jc=H(null);function Fw(){var a=jc.current;return a!==null?a:At.pooledCache}function b0(a,o){o===null?J(jc,jc.current):J(jc,o.pool)}function HS(){var a=Fw();return a===null?null:{parent:rn._currentValue,pool:a}}var yd=Error(r(460)),FS=Error(r(474)),w0=Error(r(542)),qw={then:function(){}};function qS(a){return a=a.status,a==="fulfilled"||a==="rejected"}function v0(){}function VS(a,o,u){switch(u=a[u],u===void 0?a.push(o):u!==o&&(o.then(v0,v0),o=u),o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,KS(a),a;default:if(typeof o.status=="string")o.then(v0,v0);else{if(a=At,a!==null&&100<a.shellSuspendCounter)throw Error(r(482));a=o,a.status="pending",a.then(function(d){if(o.status==="pending"){var y=o;y.status="fulfilled",y.value=d}},function(d){if(o.status==="pending"){var y=o;y.status="rejected",y.reason=d}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,KS(a),a}throw bd=o,yd}}var bd=null;function GS(){if(bd===null)throw Error(r(459));var a=bd;return bd=null,a}function KS(a){if(a===yd||a===w0)throw Error(r(483))}var so=!1;function Vw(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Gw(a,o){a=a.updateQueue,o.updateQueue===a&&(o.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function ao(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function oo(a,o,u){var d=a.updateQueue;if(d===null)return null;if(d=d.shared,(ft&2)!==0){var y=d.pending;return y===null?o.next=o:(o.next=y.next,y.next=o),d.pending=o,o=h0(a),BS(a,null,u),o}return f0(a,d,o,u),h0(a)}function wd(a,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194048)!==0)){var d=o.lanes;d&=a.pendingLanes,u|=d,o.lanes=u,jA(a,u)}}function Kw(a,o){var u=a.updateQueue,d=a.alternate;if(d!==null&&(d=d.updateQueue,u===d)){var y=null,v=null;if(u=u.firstBaseUpdate,u!==null){do{var D={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};v===null?y=v=D:v=v.next=D,u=u.next}while(u!==null);v===null?y=v=o:v=v.next=o}else y=v=o;u={baseState:d.baseState,firstBaseUpdate:y,lastBaseUpdate:v,shared:d.shared,callbacks:d.callbacks},a.updateQueue=u;return}a=u.lastBaseUpdate,a===null?u.firstBaseUpdate=o:a.next=o,u.lastBaseUpdate=o}var Qw=!1;function vd(){if(Qw){var a=Bu;if(a!==null)throw a}}function xd(a,o,u,d){Qw=!1;var y=a.updateQueue;so=!1;var v=y.firstBaseUpdate,D=y.lastBaseUpdate,j=y.shared.pending;if(j!==null){y.shared.pending=null;var Z=j,re=Z.next;Z.next=null,D===null?v=re:D.next=re,D=Z;var fe=a.alternate;fe!==null&&(fe=fe.updateQueue,j=fe.lastBaseUpdate,j!==D&&(j===null?fe.firstBaseUpdate=re:j.next=re,fe.lastBaseUpdate=Z))}if(v!==null){var de=y.baseState;D=0,fe=re=Z=null,j=v;do{var ae=j.lane&-536870913,ce=ae!==j.lane;if(ce?(tt&ae)===ae:(d&ae)===ae){ae!==0&&ae===Ru&&(Qw=!0),fe!==null&&(fe=fe.next={lane:0,tag:j.tag,payload:j.payload,callback:null,next:null});e:{var ke=a,De=j;ae=o;var mt=u;switch(De.tag){case 1:if(ke=De.payload,typeof ke=="function"){de=ke.call(mt,de,ae);break e}de=ke;break e;case 3:ke.flags=ke.flags&-65537|128;case 0:if(ke=De.payload,ae=typeof ke=="function"?ke.call(mt,de,ae):ke,ae==null)break e;de=p({},de,ae);break e;case 2:so=!0}}ae=j.callback,ae!==null&&(a.flags|=64,ce&&(a.flags|=8192),ce=y.callbacks,ce===null?y.callbacks=[ae]:ce.push(ae))}else ce={lane:ae,tag:j.tag,payload:j.payload,callback:j.callback,next:null},fe===null?(re=fe=ce,Z=de):fe=fe.next=ce,D|=ae;if(j=j.next,j===null){if(j=y.shared.pending,j===null)break;ce=j,j=ce.next,ce.next=null,y.lastBaseUpdate=ce,y.shared.pending=null}}while(!0);fe===null&&(Z=de),y.baseState=Z,y.firstBaseUpdate=re,y.lastBaseUpdate=fe,v===null&&(y.shared.lanes=0),mo|=D,a.lanes=D,a.memoizedState=de}}function QS(a,o){if(typeof a!="function")throw Error(r(191,a));a.call(o)}function YS(a,o){var u=a.callbacks;if(u!==null)for(a.callbacks=null,a=0;a<u.length;a++)QS(u[a],o)}var ku=H(null),x0=H(0);function ZS(a,o){a=na,J(x0,a),J(ku,o),na=a|o.baseLanes}function Yw(){J(x0,na),J(ku,ku.current)}function Zw(){na=x0.current,K(ku),K(x0)}var co=0,He=null,pt=null,Yt=null,E0=!1,Pu=!1,zc=!1,A0=0,Ed=0,Uu=null,MU=0;function jt(){throw Error(r(321))}function Ww(a,o){if(o===null)return!1;for(var u=0;u<o.length&&u<a.length;u++)if(!kr(a[u],o[u]))return!1;return!0}function Jw(a,o,u,d,y,v){return co=v,He=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,E.H=a===null||a.memoizedState===null?B_:k_,zc=!1,v=u(d,y),zc=!1,Pu&&(v=JS(o,u,d,y)),WS(a),v}function WS(a){E.H=I0;var o=pt!==null&&pt.next!==null;if(co=0,Yt=pt=He=null,E0=!1,Ed=0,Uu=null,o)throw Error(r(300));a===null||dn||(a=a.dependencies,a!==null&&m0(a)&&(dn=!0))}function JS(a,o,u,d){He=a;var y=0;do{if(Pu&&(Uu=null),Ed=0,Pu=!1,25<=y)throw Error(r(301));if(y+=1,Yt=pt=null,a.updateQueue!=null){var v=a.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}E.H=qU,v=o(u,d)}while(Pu);return v}function LU(){var a=E.H,o=a.useState()[0];return o=typeof o.then=="function"?Ad(o):o,a=a.useState()[0],(pt!==null?pt.memoizedState:null)!==a&&(He.flags|=1024),o}function Xw(){var a=A0!==0;return A0=0,a}function e1(a,o,u){o.updateQueue=a.updateQueue,o.flags&=-2053,a.lanes&=~u}function t1(a){if(E0){for(a=a.memoizedState;a!==null;){var o=a.queue;o!==null&&(o.pending=null),a=a.next}E0=!1}co=0,Yt=pt=He=null,Pu=!1,Ed=A0=0,Uu=null}function pr(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Yt===null?He.memoizedState=Yt=a:Yt=Yt.next=a,Yt}function Zt(){if(pt===null){var a=He.alternate;a=a!==null?a.memoizedState:null}else a=pt.next;var o=Yt===null?He.memoizedState:Yt.next;if(o!==null)Yt=o,pt=a;else{if(a===null)throw He.alternate===null?Error(r(467)):Error(r(310));pt=a,a={memoizedState:pt.memoizedState,baseState:pt.baseState,baseQueue:pt.baseQueue,queue:pt.queue,next:null},Yt===null?He.memoizedState=Yt=a:Yt=Yt.next=a}return Yt}function n1(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ad(a){var o=Ed;return Ed+=1,Uu===null&&(Uu=[]),a=VS(Uu,a,o),o=He,(Yt===null?o.memoizedState:Yt.next)===null&&(o=o.alternate,E.H=o===null||o.memoizedState===null?B_:k_),a}function S0(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return Ad(a);if(a.$$typeof===_)return zn(a)}throw Error(r(438,String(a)))}function r1(a){var o=null,u=He.updateQueue;if(u!==null&&(o=u.memoCache),o==null){var d=He.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(o={data:d.data.map(function(y){return y.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),u===null&&(u=n1(),He.updateQueue=u),u.memoCache=o,u=o.data[o.index],u===void 0)for(u=o.data[o.index]=Array(a),d=0;d<a;d++)u[d]=F;return o.index++,u}function Zs(a,o){return typeof o=="function"?o(a):o}function _0(a){var o=Zt();return i1(o,pt,a)}function i1(a,o,u){var d=a.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=u;var y=a.baseQueue,v=d.pending;if(v!==null){if(y!==null){var D=y.next;y.next=v.next,v.next=D}o.baseQueue=y=v,d.pending=null}if(v=a.baseState,y===null)a.memoizedState=v;else{o=y.next;var j=D=null,Z=null,re=o,fe=!1;do{var de=re.lane&-536870913;if(de!==re.lane?(tt&de)===de:(co&de)===de){var ae=re.revertLane;if(ae===0)Z!==null&&(Z=Z.next={lane:0,revertLane:0,action:re.action,hasEagerState:re.hasEagerState,eagerState:re.eagerState,next:null}),de===Ru&&(fe=!0);else if((co&ae)===ae){re=re.next,ae===Ru&&(fe=!0);continue}else de={lane:0,revertLane:re.revertLane,action:re.action,hasEagerState:re.hasEagerState,eagerState:re.eagerState,next:null},Z===null?(j=Z=de,D=v):Z=Z.next=de,He.lanes|=ae,mo|=ae;de=re.action,zc&&u(v,de),v=re.hasEagerState?re.eagerState:u(v,de)}else ae={lane:de,revertLane:re.revertLane,action:re.action,hasEagerState:re.hasEagerState,eagerState:re.eagerState,next:null},Z===null?(j=Z=ae,D=v):Z=Z.next=ae,He.lanes|=de,mo|=de;re=re.next}while(re!==null&&re!==o);if(Z===null?D=v:Z.next=j,!kr(v,a.memoizedState)&&(dn=!0,fe&&(u=Bu,u!==null)))throw u;a.memoizedState=v,a.baseState=D,a.baseQueue=Z,d.lastRenderedState=v}return y===null&&(d.lanes=0),[a.memoizedState,d.dispatch]}function s1(a){var o=Zt(),u=o.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=a;var d=u.dispatch,y=u.pending,v=o.memoizedState;if(y!==null){u.pending=null;var D=y=y.next;do v=a(v,D.action),D=D.next;while(D!==y);kr(v,o.memoizedState)||(dn=!0),o.memoizedState=v,o.baseQueue===null&&(o.baseState=v),u.lastRenderedState=v}return[v,d]}function XS(a,o,u){var d=He,y=Zt(),v=ot;if(v){if(u===void 0)throw Error(r(407));u=u()}else u=o();var D=!kr((pt||y).memoizedState,u);D&&(y.memoizedState=u,dn=!0),y=y.queue;var j=n_.bind(null,d,y,a);if(Sd(2048,8,j,[a]),y.getSnapshot!==o||D||Yt!==null&&Yt.memoizedState.tag&1){if(d.flags|=2048,Mu(9,O0(),t_.bind(null,d,y,u,o),null),At===null)throw Error(r(349));v||(co&124)!==0||e_(d,o,u)}return u}function e_(a,o,u){a.flags|=16384,a={getSnapshot:o,value:u},o=He.updateQueue,o===null?(o=n1(),He.updateQueue=o,o.stores=[a]):(u=o.stores,u===null?o.stores=[a]:u.push(a))}function t_(a,o,u,d){o.value=u,o.getSnapshot=d,r_(o)&&i_(a)}function n_(a,o,u){return u(function(){r_(o)&&i_(a)})}function r_(a){var o=a.getSnapshot;a=a.value;try{var u=o();return!kr(a,u)}catch{return!0}}function i_(a){var o=Nu(a,2);o!==null&&jr(o,a,2)}function a1(a){var o=pr();if(typeof a=="function"){var u=a;if(a=u(),zc){ns(!0);try{u()}finally{ns(!1)}}}return o.memoizedState=o.baseState=a,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zs,lastRenderedState:a},o}function s_(a,o,u,d){return a.baseState=u,i1(a,pt,typeof d=="function"?d:Zs)}function $U(a,o,u,d,y){if(N0(a))throw Error(r(485));if(a=o.action,a!==null){var v={payload:y,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(D){v.listeners.push(D)}};E.T!==null?u(!0):v.isTransition=!1,d(v),u=o.pending,u===null?(v.next=o.pending=v,a_(o,v)):(v.next=u.next,o.pending=u.next=v)}}function a_(a,o){var u=o.action,d=o.payload,y=a.state;if(o.isTransition){var v=E.T,D={};E.T=D;try{var j=u(y,d),Z=E.S;Z!==null&&Z(D,j),o_(a,o,j)}catch(re){o1(a,o,re)}finally{E.T=v}}else try{v=u(y,d),o_(a,o,v)}catch(re){o1(a,o,re)}}function o_(a,o,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(d){c_(a,o,d)},function(d){return o1(a,o,d)}):c_(a,o,u)}function c_(a,o,u){o.status="fulfilled",o.value=u,l_(o),a.state=u,o=a.pending,o!==null&&(u=o.next,u===o?a.pending=null:(u=u.next,o.next=u,a_(a,u)))}function o1(a,o,u){var d=a.pending;if(a.pending=null,d!==null){d=d.next;do o.status="rejected",o.reason=u,l_(o),o=o.next;while(o!==d)}a.action=null}function l_(a){a=a.listeners;for(var o=0;o<a.length;o++)(0,a[o])()}function u_(a,o){return o}function f_(a,o){if(ot){var u=At.formState;if(u!==null){e:{var d=He;if(ot){if(Pt){t:{for(var y=Pt,v=rs;y.nodeType!==8;){if(!v){y=null;break t}if(y=ki(y.nextSibling),y===null){y=null;break t}}v=y.data,y=v==="F!"||v==="F"?y:null}if(y){Pt=ki(y.nextSibling),d=y.data==="F!";break e}}Mc(d)}d=!1}d&&(o=u[0])}}return u=pr(),u.memoizedState=u.baseState=o,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:u_,lastRenderedState:o},u.queue=d,u=T_.bind(null,He,d),d.dispatch=u,d=a1(!1),v=h1.bind(null,He,!1,d.queue),d=pr(),y={state:o,dispatch:null,action:a,pending:null},d.queue=y,u=$U.bind(null,He,y,v,u),y.dispatch=u,d.memoizedState=a,[o,u,!1]}function h_(a){var o=Zt();return d_(o,pt,a)}function d_(a,o,u){if(o=i1(a,o,u_)[0],a=_0(Zs)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var d=Ad(o)}catch(D){throw D===yd?w0:D}else d=o;o=Zt();var y=o.queue,v=y.dispatch;return u!==o.memoizedState&&(He.flags|=2048,Mu(9,O0(),jU.bind(null,y,u),null)),[d,v,a]}function jU(a,o){a.action=o}function p_(a){var o=Zt(),u=pt;if(u!==null)return d_(o,u,a);Zt(),o=o.memoizedState,u=Zt();var d=u.queue.dispatch;return u.memoizedState=a,[o,d,!1]}function Mu(a,o,u,d){return a={tag:a,create:u,deps:d,inst:o,next:null},o=He.updateQueue,o===null&&(o=n1(),He.updateQueue=o),u=o.lastEffect,u===null?o.lastEffect=a.next=a:(d=u.next,u.next=a,a.next=d,o.lastEffect=a),a}function O0(){return{destroy:void 0,resource:void 0}}function g_(){return Zt().memoizedState}function C0(a,o,u,d){var y=pr();d=d===void 0?null:d,He.flags|=a,y.memoizedState=Mu(1|o,O0(),u,d)}function Sd(a,o,u,d){var y=Zt();d=d===void 0?null:d;var v=y.memoizedState.inst;pt!==null&&d!==null&&Ww(d,pt.memoizedState.deps)?y.memoizedState=Mu(o,v,u,d):(He.flags|=a,y.memoizedState=Mu(1|o,v,u,d))}function m_(a,o){C0(8390656,8,a,o)}function y_(a,o){Sd(2048,8,a,o)}function b_(a,o){return Sd(4,2,a,o)}function w_(a,o){return Sd(4,4,a,o)}function v_(a,o){if(typeof o=="function"){a=a();var u=o(a);return function(){typeof u=="function"?u():o(null)}}if(o!=null)return a=a(),o.current=a,function(){o.current=null}}function x_(a,o,u){u=u!=null?u.concat([a]):null,Sd(4,4,v_.bind(null,o,a),u)}function c1(){}function E_(a,o){var u=Zt();o=o===void 0?null:o;var d=u.memoizedState;return o!==null&&Ww(o,d[1])?d[0]:(u.memoizedState=[a,o],a)}function A_(a,o){var u=Zt();o=o===void 0?null:o;var d=u.memoizedState;if(o!==null&&Ww(o,d[1]))return d[0];if(d=a(),zc){ns(!0);try{a()}finally{ns(!1)}}return u.memoizedState=[d,o],d}function l1(a,o,u){return u===void 0||(co&1073741824)!==0?a.memoizedState=o:(a.memoizedState=u,a=O8(),He.lanes|=a,mo|=a,u)}function S_(a,o,u,d){return kr(u,o)?u:ku.current!==null?(a=l1(a,u,d),kr(a,o)||(dn=!0),a):(co&42)===0?(dn=!0,a.memoizedState=u):(a=O8(),He.lanes|=a,mo|=a,o)}function __(a,o,u,d,y){var v=P.p;P.p=v!==0&&8>v?v:8;var D=E.T,j={};E.T=j,h1(a,!1,o,u);try{var Z=y(),re=E.S;if(re!==null&&re(j,Z),Z!==null&&typeof Z=="object"&&typeof Z.then=="function"){var fe=UU(Z,d);_d(a,o,fe,$r(a))}else _d(a,o,d,$r(a))}catch(de){_d(a,o,{then:function(){},status:"rejected",reason:de},$r())}finally{P.p=v,E.T=D}}function zU(){}function u1(a,o,u,d){if(a.tag!==5)throw Error(r(476));var y=O_(a).queue;__(a,y,o,$,u===null?zU:function(){return C_(a),u(d)})}function O_(a){var o=a.memoizedState;if(o!==null)return o;o={memoizedState:$,baseState:$,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zs,lastRenderedState:$},next:null};var u={};return o.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zs,lastRenderedState:u},next:null},a.memoizedState=o,a=a.alternate,a!==null&&(a.memoizedState=o),o}function C_(a){var o=O_(a).next.queue;_d(a,o,{},$r())}function f1(){return zn(Fd)}function N_(){return Zt().memoizedState}function I_(){return Zt().memoizedState}function HU(a){for(var o=a.return;o!==null;){switch(o.tag){case 24:case 3:var u=$r();a=ao(u);var d=oo(o,a,u);d!==null&&(jr(d,o,u),wd(d,o,u)),o={cache:zw()},a.payload=o;return}o=o.return}}function FU(a,o,u){var d=$r();u={lane:d,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null},N0(a)?D_(o,u):(u=Dw(a,o,u,d),u!==null&&(jr(u,a,d),R_(u,o,d)))}function T_(a,o,u){var d=$r();_d(a,o,u,d)}function _d(a,o,u,d){var y={lane:d,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null};if(N0(a))D_(o,y);else{var v=a.alternate;if(a.lanes===0&&(v===null||v.lanes===0)&&(v=o.lastRenderedReducer,v!==null))try{var D=o.lastRenderedState,j=v(D,u);if(y.hasEagerState=!0,y.eagerState=j,kr(j,D))return f0(a,o,y,0),At===null&&u0(),!1}catch{}finally{}if(u=Dw(a,o,y,d),u!==null)return jr(u,a,d),R_(u,o,d),!0}return!1}function h1(a,o,u,d){if(d={lane:2,revertLane:q1(),action:d,hasEagerState:!1,eagerState:null,next:null},N0(a)){if(o)throw Error(r(479))}else o=Dw(a,u,d,2),o!==null&&jr(o,a,2)}function N0(a){var o=a.alternate;return a===He||o!==null&&o===He}function D_(a,o){Pu=E0=!0;var u=a.pending;u===null?o.next=o:(o.next=u.next,u.next=o),a.pending=o}function R_(a,o,u){if((u&4194048)!==0){var d=o.lanes;d&=a.pendingLanes,u|=d,o.lanes=u,jA(a,u)}}var I0={readContext:zn,use:S0,useCallback:jt,useContext:jt,useEffect:jt,useImperativeHandle:jt,useLayoutEffect:jt,useInsertionEffect:jt,useMemo:jt,useReducer:jt,useRef:jt,useState:jt,useDebugValue:jt,useDeferredValue:jt,useTransition:jt,useSyncExternalStore:jt,useId:jt,useHostTransitionStatus:jt,useFormState:jt,useActionState:jt,useOptimistic:jt,useMemoCache:jt,useCacheRefresh:jt},B_={readContext:zn,use:S0,useCallback:function(a,o){return pr().memoizedState=[a,o===void 0?null:o],a},useContext:zn,useEffect:m_,useImperativeHandle:function(a,o,u){u=u!=null?u.concat([a]):null,C0(4194308,4,v_.bind(null,o,a),u)},useLayoutEffect:function(a,o){return C0(4194308,4,a,o)},useInsertionEffect:function(a,o){C0(4,2,a,o)},useMemo:function(a,o){var u=pr();o=o===void 0?null:o;var d=a();if(zc){ns(!0);try{a()}finally{ns(!1)}}return u.memoizedState=[d,o],d},useReducer:function(a,o,u){var d=pr();if(u!==void 0){var y=u(o);if(zc){ns(!0);try{u(o)}finally{ns(!1)}}}else y=o;return d.memoizedState=d.baseState=y,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:y},d.queue=a,a=a.dispatch=FU.bind(null,He,a),[d.memoizedState,a]},useRef:function(a){var o=pr();return a={current:a},o.memoizedState=a},useState:function(a){a=a1(a);var o=a.queue,u=T_.bind(null,He,o);return o.dispatch=u,[a.memoizedState,u]},useDebugValue:c1,useDeferredValue:function(a,o){var u=pr();return l1(u,a,o)},useTransition:function(){var a=a1(!1);return a=__.bind(null,He,a.queue,!0,!1),pr().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,o,u){var d=He,y=pr();if(ot){if(u===void 0)throw Error(r(407));u=u()}else{if(u=o(),At===null)throw Error(r(349));(tt&124)!==0||e_(d,o,u)}y.memoizedState=u;var v={value:u,getSnapshot:o};return y.queue=v,m_(n_.bind(null,d,v,a),[a]),d.flags|=2048,Mu(9,O0(),t_.bind(null,d,v,u,o),null),u},useId:function(){var a=pr(),o=At.identifierPrefix;if(ot){var u=Ks,d=Gs;u=(d&~(1<<32-er(d)-1)).toString(32)+u,o=""+o+"R"+u,u=A0++,0<u&&(o+="H"+u.toString(32)),o+=""}else u=MU++,o=""+o+"r"+u.toString(32)+"";return a.memoizedState=o},useHostTransitionStatus:f1,useFormState:f_,useActionState:f_,useOptimistic:function(a){var o=pr();o.memoizedState=o.baseState=a;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=u,o=h1.bind(null,He,!0,u),u.dispatch=o,[a,o]},useMemoCache:r1,useCacheRefresh:function(){return pr().memoizedState=HU.bind(null,He)}},k_={readContext:zn,use:S0,useCallback:E_,useContext:zn,useEffect:y_,useImperativeHandle:x_,useInsertionEffect:b_,useLayoutEffect:w_,useMemo:A_,useReducer:_0,useRef:g_,useState:function(){return _0(Zs)},useDebugValue:c1,useDeferredValue:function(a,o){var u=Zt();return S_(u,pt.memoizedState,a,o)},useTransition:function(){var a=_0(Zs)[0],o=Zt().memoizedState;return[typeof a=="boolean"?a:Ad(a),o]},useSyncExternalStore:XS,useId:N_,useHostTransitionStatus:f1,useFormState:h_,useActionState:h_,useOptimistic:function(a,o){var u=Zt();return s_(u,pt,a,o)},useMemoCache:r1,useCacheRefresh:I_},qU={readContext:zn,use:S0,useCallback:E_,useContext:zn,useEffect:y_,useImperativeHandle:x_,useInsertionEffect:b_,useLayoutEffect:w_,useMemo:A_,useReducer:s1,useRef:g_,useState:function(){return s1(Zs)},useDebugValue:c1,useDeferredValue:function(a,o){var u=Zt();return pt===null?l1(u,a,o):S_(u,pt.memoizedState,a,o)},useTransition:function(){var a=s1(Zs)[0],o=Zt().memoizedState;return[typeof a=="boolean"?a:Ad(a),o]},useSyncExternalStore:XS,useId:N_,useHostTransitionStatus:f1,useFormState:p_,useActionState:p_,useOptimistic:function(a,o){var u=Zt();return pt!==null?s_(u,pt,a,o):(u.baseState=a,[a,u.queue.dispatch])},useMemoCache:r1,useCacheRefresh:I_},Lu=null,Od=0;function T0(a){var o=Od;return Od+=1,Lu===null&&(Lu=[]),VS(Lu,a,o)}function Cd(a,o){o=o.props.ref,a.ref=o!==void 0?o:null}function D0(a,o){throw o.$$typeof===g?Error(r(525)):(a=Object.prototype.toString.call(o),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":a)))}function P_(a){var o=a._init;return o(a._payload)}function U_(a){function o(te,X){if(a){var ne=te.deletions;ne===null?(te.deletions=[X],te.flags|=16):ne.push(X)}}function u(te,X){if(!a)return null;for(;X!==null;)o(te,X),X=X.sibling;return null}function d(te){for(var X=new Map;te!==null;)te.key!==null?X.set(te.key,te):X.set(te.index,te),te=te.sibling;return X}function y(te,X){return te=Vs(te,X),te.index=0,te.sibling=null,te}function v(te,X,ne){return te.index=ne,a?(ne=te.alternate,ne!==null?(ne=ne.index,ne<X?(te.flags|=67108866,X):ne):(te.flags|=67108866,X)):(te.flags|=1048576,X)}function D(te){return a&&te.alternate===null&&(te.flags|=67108866),te}function j(te,X,ne,he){return X===null||X.tag!==6?(X=Bw(ne,te.mode,he),X.return=te,X):(X=y(X,ne),X.return=te,X)}function Z(te,X,ne,he){var Ce=ne.type;return Ce===w?fe(te,X,ne.props.children,he,ne.key):X!==null&&(X.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===M&&P_(Ce)===X.type)?(X=y(X,ne.props),Cd(X,ne),X.return=te,X):(X=d0(ne.type,ne.key,ne.props,null,te.mode,he),Cd(X,ne),X.return=te,X)}function re(te,X,ne,he){return X===null||X.tag!==4||X.stateNode.containerInfo!==ne.containerInfo||X.stateNode.implementation!==ne.implementation?(X=kw(ne,te.mode,he),X.return=te,X):(X=y(X,ne.children||[]),X.return=te,X)}function fe(te,X,ne,he,Ce){return X===null||X.tag!==7?(X=Bc(ne,te.mode,he,Ce),X.return=te,X):(X=y(X,ne),X.return=te,X)}function de(te,X,ne){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return X=Bw(""+X,te.mode,ne),X.return=te,X;if(typeof X=="object"&&X!==null){switch(X.$$typeof){case m:return ne=d0(X.type,X.key,X.props,null,te.mode,ne),Cd(ne,X),ne.return=te,ne;case b:return X=kw(X,te.mode,ne),X.return=te,X;case M:var he=X._init;return X=he(X._payload),de(te,X,ne)}if(A(X)||Q(X))return X=Bc(X,te.mode,ne,null),X.return=te,X;if(typeof X.then=="function")return de(te,T0(X),ne);if(X.$$typeof===_)return de(te,y0(te,X),ne);D0(te,X)}return null}function ae(te,X,ne,he){var Ce=X!==null?X.key:null;if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return Ce!==null?null:j(te,X,""+ne,he);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case m:return ne.key===Ce?Z(te,X,ne,he):null;case b:return ne.key===Ce?re(te,X,ne,he):null;case M:return Ce=ne._init,ne=Ce(ne._payload),ae(te,X,ne,he)}if(A(ne)||Q(ne))return Ce!==null?null:fe(te,X,ne,he,null);if(typeof ne.then=="function")return ae(te,X,T0(ne),he);if(ne.$$typeof===_)return ae(te,X,y0(te,ne),he);D0(te,ne)}return null}function ce(te,X,ne,he,Ce){if(typeof he=="string"&&he!==""||typeof he=="number"||typeof he=="bigint")return te=te.get(ne)||null,j(X,te,""+he,Ce);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case m:return te=te.get(he.key===null?ne:he.key)||null,Z(X,te,he,Ce);case b:return te=te.get(he.key===null?ne:he.key)||null,re(X,te,he,Ce);case M:var Ve=he._init;return he=Ve(he._payload),ce(te,X,ne,he,Ce)}if(A(he)||Q(he))return te=te.get(ne)||null,fe(X,te,he,Ce,null);if(typeof he.then=="function")return ce(te,X,ne,T0(he),Ce);if(he.$$typeof===_)return ce(te,X,ne,y0(X,he),Ce);D0(X,he)}return null}function ke(te,X,ne,he){for(var Ce=null,Ve=null,Te=X,Be=X=0,gn=null;Te!==null&&Be<ne.length;Be++){Te.index>Be?(gn=Te,Te=null):gn=Te.sibling;var nt=ae(te,Te,ne[Be],he);if(nt===null){Te===null&&(Te=gn);break}a&&Te&&nt.alternate===null&&o(te,Te),X=v(nt,X,Be),Ve===null?Ce=nt:Ve.sibling=nt,Ve=nt,Te=gn}if(Be===ne.length)return u(te,Te),ot&&Pc(te,Be),Ce;if(Te===null){for(;Be<ne.length;Be++)Te=de(te,ne[Be],he),Te!==null&&(X=v(Te,X,Be),Ve===null?Ce=Te:Ve.sibling=Te,Ve=Te);return ot&&Pc(te,Be),Ce}for(Te=d(Te);Be<ne.length;Be++)gn=ce(Te,te,Be,ne[Be],he),gn!==null&&(a&&gn.alternate!==null&&Te.delete(gn.key===null?Be:gn.key),X=v(gn,X,Be),Ve===null?Ce=gn:Ve.sibling=gn,Ve=gn);return a&&Te.forEach(function(_o){return o(te,_o)}),ot&&Pc(te,Be),Ce}function De(te,X,ne,he){if(ne==null)throw Error(r(151));for(var Ce=null,Ve=null,Te=X,Be=X=0,gn=null,nt=ne.next();Te!==null&&!nt.done;Be++,nt=ne.next()){Te.index>Be?(gn=Te,Te=null):gn=Te.sibling;var _o=ae(te,Te,nt.value,he);if(_o===null){Te===null&&(Te=gn);break}a&&Te&&_o.alternate===null&&o(te,Te),X=v(_o,X,Be),Ve===null?Ce=_o:Ve.sibling=_o,Ve=_o,Te=gn}if(nt.done)return u(te,Te),ot&&Pc(te,Be),Ce;if(Te===null){for(;!nt.done;Be++,nt=ne.next())nt=de(te,nt.value,he),nt!==null&&(X=v(nt,X,Be),Ve===null?Ce=nt:Ve.sibling=nt,Ve=nt);return ot&&Pc(te,Be),Ce}for(Te=d(Te);!nt.done;Be++,nt=ne.next())nt=ce(Te,te,Be,nt.value,he),nt!==null&&(a&&nt.alternate!==null&&Te.delete(nt.key===null?Be:nt.key),X=v(nt,X,Be),Ve===null?Ce=nt:Ve.sibling=nt,Ve=nt);return a&&Te.forEach(function(V9){return o(te,V9)}),ot&&Pc(te,Be),Ce}function mt(te,X,ne,he){if(typeof ne=="object"&&ne!==null&&ne.type===w&&ne.key===null&&(ne=ne.props.children),typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case m:e:{for(var Ce=ne.key;X!==null;){if(X.key===Ce){if(Ce=ne.type,Ce===w){if(X.tag===7){u(te,X.sibling),he=y(X,ne.props.children),he.return=te,te=he;break e}}else if(X.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===M&&P_(Ce)===X.type){u(te,X.sibling),he=y(X,ne.props),Cd(he,ne),he.return=te,te=he;break e}u(te,X);break}else o(te,X);X=X.sibling}ne.type===w?(he=Bc(ne.props.children,te.mode,he,ne.key),he.return=te,te=he):(he=d0(ne.type,ne.key,ne.props,null,te.mode,he),Cd(he,ne),he.return=te,te=he)}return D(te);case b:e:{for(Ce=ne.key;X!==null;){if(X.key===Ce)if(X.tag===4&&X.stateNode.containerInfo===ne.containerInfo&&X.stateNode.implementation===ne.implementation){u(te,X.sibling),he=y(X,ne.children||[]),he.return=te,te=he;break e}else{u(te,X);break}else o(te,X);X=X.sibling}he=kw(ne,te.mode,he),he.return=te,te=he}return D(te);case M:return Ce=ne._init,ne=Ce(ne._payload),mt(te,X,ne,he)}if(A(ne))return ke(te,X,ne,he);if(Q(ne)){if(Ce=Q(ne),typeof Ce!="function")throw Error(r(150));return ne=Ce.call(ne),De(te,X,ne,he)}if(typeof ne.then=="function")return mt(te,X,T0(ne),he);if(ne.$$typeof===_)return mt(te,X,y0(te,ne),he);D0(te,ne)}return typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint"?(ne=""+ne,X!==null&&X.tag===6?(u(te,X.sibling),he=y(X,ne),he.return=te,te=he):(u(te,X),he=Bw(ne,te.mode,he),he.return=te,te=he),D(te)):u(te,X)}return function(te,X,ne,he){try{Od=0;var Ce=mt(te,X,ne,he);return Lu=null,Ce}catch(Te){if(Te===yd||Te===w0)throw Te;var Ve=Pr(29,Te,null,te.mode);return Ve.lanes=he,Ve.return=te,Ve}finally{}}}var $u=U_(!0),M_=U_(!1),ci=H(null),is=null;function lo(a){var o=a.alternate;J(sn,sn.current&1),J(ci,a),is===null&&(o===null||ku.current!==null||o.memoizedState!==null)&&(is=a)}function L_(a){if(a.tag===22){if(J(sn,sn.current),J(ci,a),is===null){var o=a.alternate;o!==null&&o.memoizedState!==null&&(is=a)}}else uo()}function uo(){J(sn,sn.current),J(ci,ci.current)}function Ws(a){K(ci),is===a&&(is=null),K(sn)}var sn=H(0);function R0(a){for(var o=a;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||nv(u)))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}function d1(a,o,u,d){o=a.memoizedState,u=u(d,o),u=u==null?o:p({},o,u),a.memoizedState=u,a.lanes===0&&(a.updateQueue.baseState=u)}var p1={enqueueSetState:function(a,o,u){a=a._reactInternals;var d=$r(),y=ao(d);y.payload=o,u!=null&&(y.callback=u),o=oo(a,y,d),o!==null&&(jr(o,a,d),wd(o,a,d))},enqueueReplaceState:function(a,o,u){a=a._reactInternals;var d=$r(),y=ao(d);y.tag=1,y.payload=o,u!=null&&(y.callback=u),o=oo(a,y,d),o!==null&&(jr(o,a,d),wd(o,a,d))},enqueueForceUpdate:function(a,o){a=a._reactInternals;var u=$r(),d=ao(u);d.tag=2,o!=null&&(d.callback=o),o=oo(a,d,u),o!==null&&(jr(o,a,u),wd(o,a,u))}};function $_(a,o,u,d,y,v,D){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(d,v,D):o.prototype&&o.prototype.isPureReactComponent?!ld(u,d)||!ld(y,v):!0}function j_(a,o,u,d){a=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,d),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,d),o.state!==a&&p1.enqueueReplaceState(o,o.state,null)}function Hc(a,o){var u=o;if("ref"in o){u={};for(var d in o)d!=="ref"&&(u[d]=o[d])}if(a=a.defaultProps){u===o&&(u=p({},u));for(var y in a)u[y]===void 0&&(u[y]=a[y])}return u}var B0=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)};function z_(a){B0(a)}function H_(a){console.error(a)}function F_(a){B0(a)}function k0(a,o){try{var u=a.onUncaughtError;u(o.value,{componentStack:o.stack})}catch(d){setTimeout(function(){throw d})}}function q_(a,o,u){try{var d=a.onCaughtError;d(u.value,{componentStack:u.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function g1(a,o,u){return u=ao(u),u.tag=3,u.payload={element:null},u.callback=function(){k0(a,o)},u}function V_(a){return a=ao(a),a.tag=3,a}function G_(a,o,u,d){var y=u.type.getDerivedStateFromError;if(typeof y=="function"){var v=d.value;a.payload=function(){return y(v)},a.callback=function(){q_(o,u,d)}}var D=u.stateNode;D!==null&&typeof D.componentDidCatch=="function"&&(a.callback=function(){q_(o,u,d),typeof y!="function"&&(yo===null?yo=new Set([this]):yo.add(this));var j=d.stack;this.componentDidCatch(d.value,{componentStack:j!==null?j:""})})}function VU(a,o,u,d,y){if(u.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(o=u.alternate,o!==null&&pd(o,u,y,!0),u=ci.current,u!==null){switch(u.tag){case 13:return is===null?$1():u.alternate===null&&Ut===0&&(Ut=3),u.flags&=-257,u.flags|=65536,u.lanes=y,d===qw?u.flags|=16384:(o=u.updateQueue,o===null?u.updateQueue=new Set([d]):o.add(d),z1(a,d,y)),!1;case 22:return u.flags|=65536,d===qw?u.flags|=16384:(o=u.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([d])},u.updateQueue=o):(u=o.retryQueue,u===null?o.retryQueue=new Set([d]):u.add(d)),z1(a,d,y)),!1}throw Error(r(435,u.tag))}return z1(a,d,y),$1(),!1}if(ot)return o=ci.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=y,d!==Mw&&(a=Error(r(422),{cause:d}),dd(ii(a,u)))):(d!==Mw&&(o=Error(r(423),{cause:d}),dd(ii(o,u))),a=a.current.alternate,a.flags|=65536,y&=-y,a.lanes|=y,d=ii(d,u),y=g1(a.stateNode,d,y),Kw(a,y),Ut!==4&&(Ut=2)),!1;var v=Error(r(520),{cause:d});if(v=ii(v,u),kd===null?kd=[v]:kd.push(v),Ut!==4&&(Ut=2),o===null)return!0;d=ii(d,u),u=o;do{switch(u.tag){case 3:return u.flags|=65536,a=y&-y,u.lanes|=a,a=g1(u.stateNode,d,a),Kw(u,a),!1;case 1:if(o=u.type,v=u.stateNode,(u.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(yo===null||!yo.has(v))))return u.flags|=65536,y&=-y,u.lanes|=y,y=V_(y),G_(y,a,u,d),Kw(u,y),!1}u=u.return}while(u!==null);return!1}var K_=Error(r(461)),dn=!1;function _n(a,o,u,d){o.child=a===null?M_(o,null,u,d):$u(o,a.child,u,d)}function Q_(a,o,u,d,y){u=u.render;var v=o.ref;if("ref"in d){var D={};for(var j in d)j!=="ref"&&(D[j]=d[j])}else D=d;return $c(o),d=Jw(a,o,u,D,v,y),j=Xw(),a!==null&&!dn?(e1(a,o,y),Js(a,o,y)):(ot&&j&&Pw(o),o.flags|=1,_n(a,o,d,y),o.child)}function Y_(a,o,u,d,y){if(a===null){var v=u.type;return typeof v=="function"&&!Rw(v)&&v.defaultProps===void 0&&u.compare===null?(o.tag=15,o.type=v,Z_(a,o,v,d,y)):(a=d0(u.type,null,d,o,o.mode,y),a.ref=o.ref,a.return=o,o.child=a)}if(v=a.child,!A1(a,y)){var D=v.memoizedProps;if(u=u.compare,u=u!==null?u:ld,u(D,d)&&a.ref===o.ref)return Js(a,o,y)}return o.flags|=1,a=Vs(v,d),a.ref=o.ref,a.return=o,o.child=a}function Z_(a,o,u,d,y){if(a!==null){var v=a.memoizedProps;if(ld(v,d)&&a.ref===o.ref)if(dn=!1,o.pendingProps=d=v,A1(a,y))(a.flags&131072)!==0&&(dn=!0);else return o.lanes=a.lanes,Js(a,o,y)}return m1(a,o,u,d,y)}function W_(a,o,u){var d=o.pendingProps,y=d.children,v=a!==null?a.memoizedState:null;if(d.mode==="hidden"){if((o.flags&128)!==0){if(d=v!==null?v.baseLanes|u:u,a!==null){for(y=o.child=a.child,v=0;y!==null;)v=v|y.lanes|y.childLanes,y=y.sibling;o.childLanes=v&~d}else o.childLanes=0,o.child=null;return J_(a,o,d,u)}if((u&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},a!==null&&b0(o,v!==null?v.cachePool:null),v!==null?ZS(o,v):Yw(),L_(o);else return o.lanes=o.childLanes=536870912,J_(a,o,v!==null?v.baseLanes|u:u,u)}else v!==null?(b0(o,v.cachePool),ZS(o,v),uo(),o.memoizedState=null):(a!==null&&b0(o,null),Yw(),uo());return _n(a,o,y,u),o.child}function J_(a,o,u,d){var y=Fw();return y=y===null?null:{parent:rn._currentValue,pool:y},o.memoizedState={baseLanes:u,cachePool:y},a!==null&&b0(o,null),Yw(),L_(o),a!==null&&pd(a,o,d,!0),null}function P0(a,o){var u=o.ref;if(u===null)a!==null&&a.ref!==null&&(o.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(r(284));(a===null||a.ref!==u)&&(o.flags|=4194816)}}function m1(a,o,u,d,y){return $c(o),u=Jw(a,o,u,d,void 0,y),d=Xw(),a!==null&&!dn?(e1(a,o,y),Js(a,o,y)):(ot&&d&&Pw(o),o.flags|=1,_n(a,o,u,y),o.child)}function X_(a,o,u,d,y,v){return $c(o),o.updateQueue=null,u=JS(o,d,u,y),WS(a),d=Xw(),a!==null&&!dn?(e1(a,o,v),Js(a,o,v)):(ot&&d&&Pw(o),o.flags|=1,_n(a,o,u,v),o.child)}function e8(a,o,u,d,y){if($c(o),o.stateNode===null){var v=Iu,D=u.contextType;typeof D=="object"&&D!==null&&(v=zn(D)),v=new u(d,v),o.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=p1,o.stateNode=v,v._reactInternals=o,v=o.stateNode,v.props=d,v.state=o.memoizedState,v.refs={},Vw(o),D=u.contextType,v.context=typeof D=="object"&&D!==null?zn(D):Iu,v.state=o.memoizedState,D=u.getDerivedStateFromProps,typeof D=="function"&&(d1(o,u,D,d),v.state=o.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(D=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),D!==v.state&&p1.enqueueReplaceState(v,v.state,null),xd(o,d,v,y),vd(),v.state=o.memoizedState),typeof v.componentDidMount=="function"&&(o.flags|=4194308),d=!0}else if(a===null){v=o.stateNode;var j=o.memoizedProps,Z=Hc(u,j);v.props=Z;var re=v.context,fe=u.contextType;D=Iu,typeof fe=="object"&&fe!==null&&(D=zn(fe));var de=u.getDerivedStateFromProps;fe=typeof de=="function"||typeof v.getSnapshotBeforeUpdate=="function",j=o.pendingProps!==j,fe||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(j||re!==D)&&j_(o,v,d,D),so=!1;var ae=o.memoizedState;v.state=ae,xd(o,d,v,y),vd(),re=o.memoizedState,j||ae!==re||so?(typeof de=="function"&&(d1(o,u,de,d),re=o.memoizedState),(Z=so||$_(o,u,Z,d,ae,re,D))?(fe||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(o.flags|=4194308)):(typeof v.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=d,o.memoizedState=re),v.props=d,v.state=re,v.context=D,d=Z):(typeof v.componentDidMount=="function"&&(o.flags|=4194308),d=!1)}else{v=o.stateNode,Gw(a,o),D=o.memoizedProps,fe=Hc(u,D),v.props=fe,de=o.pendingProps,ae=v.context,re=u.contextType,Z=Iu,typeof re=="object"&&re!==null&&(Z=zn(re)),j=u.getDerivedStateFromProps,(re=typeof j=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(D!==de||ae!==Z)&&j_(o,v,d,Z),so=!1,ae=o.memoizedState,v.state=ae,xd(o,d,v,y),vd();var ce=o.memoizedState;D!==de||ae!==ce||so||a!==null&&a.dependencies!==null&&m0(a.dependencies)?(typeof j=="function"&&(d1(o,u,j,d),ce=o.memoizedState),(fe=so||$_(o,u,fe,d,ae,ce,Z)||a!==null&&a.dependencies!==null&&m0(a.dependencies))?(re||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(d,ce,Z),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(d,ce,Z)),typeof v.componentDidUpdate=="function"&&(o.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof v.componentDidUpdate!="function"||D===a.memoizedProps&&ae===a.memoizedState||(o.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||D===a.memoizedProps&&ae===a.memoizedState||(o.flags|=1024),o.memoizedProps=d,o.memoizedState=ce),v.props=d,v.state=ce,v.context=Z,d=fe):(typeof v.componentDidUpdate!="function"||D===a.memoizedProps&&ae===a.memoizedState||(o.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||D===a.memoizedProps&&ae===a.memoizedState||(o.flags|=1024),d=!1)}return v=d,P0(a,o),d=(o.flags&128)!==0,v||d?(v=o.stateNode,u=d&&typeof u.getDerivedStateFromError!="function"?null:v.render(),o.flags|=1,a!==null&&d?(o.child=$u(o,a.child,null,y),o.child=$u(o,null,u,y)):_n(a,o,u,y),o.memoizedState=v.state,a=o.child):a=Js(a,o,y),a}function t8(a,o,u,d){return hd(),o.flags|=256,_n(a,o,u,d),o.child}var y1={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function b1(a){return{baseLanes:a,cachePool:HS()}}function w1(a,o,u){return a=a!==null?a.childLanes&~u:0,o&&(a|=li),a}function n8(a,o,u){var d=o.pendingProps,y=!1,v=(o.flags&128)!==0,D;if((D=v)||(D=a!==null&&a.memoizedState===null?!1:(sn.current&2)!==0),D&&(y=!0,o.flags&=-129),D=(o.flags&32)!==0,o.flags&=-33,a===null){if(ot){if(y?lo(o):uo(),ot){var j=Pt,Z;if(Z=j){e:{for(Z=j,j=rs;Z.nodeType!==8;){if(!j){j=null;break e}if(Z=ki(Z.nextSibling),Z===null){j=null;break e}}j=Z}j!==null?(o.memoizedState={dehydrated:j,treeContext:kc!==null?{id:Gs,overflow:Ks}:null,retryLane:536870912,hydrationErrors:null},Z=Pr(18,null,null,0),Z.stateNode=j,Z.return=o,o.child=Z,tr=o,Pt=null,Z=!0):Z=!1}Z||Mc(o)}if(j=o.memoizedState,j!==null&&(j=j.dehydrated,j!==null))return nv(j)?o.lanes=32:o.lanes=536870912,null;Ws(o)}return j=d.children,d=d.fallback,y?(uo(),y=o.mode,j=U0({mode:"hidden",children:j},y),d=Bc(d,y,u,null),j.return=o,d.return=o,j.sibling=d,o.child=j,y=o.child,y.memoizedState=b1(u),y.childLanes=w1(a,D,u),o.memoizedState=y1,d):(lo(o),v1(o,j))}if(Z=a.memoizedState,Z!==null&&(j=Z.dehydrated,j!==null)){if(v)o.flags&256?(lo(o),o.flags&=-257,o=x1(a,o,u)):o.memoizedState!==null?(uo(),o.child=a.child,o.flags|=128,o=null):(uo(),y=d.fallback,j=o.mode,d=U0({mode:"visible",children:d.children},j),y=Bc(y,j,u,null),y.flags|=2,d.return=o,y.return=o,d.sibling=y,o.child=d,$u(o,a.child,null,u),d=o.child,d.memoizedState=b1(u),d.childLanes=w1(a,D,u),o.memoizedState=y1,o=y);else if(lo(o),nv(j)){if(D=j.nextSibling&&j.nextSibling.dataset,D)var re=D.dgst;D=re,d=Error(r(419)),d.stack="",d.digest=D,dd({value:d,source:null,stack:null}),o=x1(a,o,u)}else if(dn||pd(a,o,u,!1),D=(u&a.childLanes)!==0,dn||D){if(D=At,D!==null&&(d=u&-u,d=(d&42)!==0?1:rw(d),d=(d&(D.suspendedLanes|u))!==0?0:d,d!==0&&d!==Z.retryLane))throw Z.retryLane=d,Nu(a,d),jr(D,a,d),K_;j.data==="$?"||$1(),o=x1(a,o,u)}else j.data==="$?"?(o.flags|=192,o.child=a.child,o=null):(a=Z.treeContext,Pt=ki(j.nextSibling),tr=o,ot=!0,Uc=null,rs=!1,a!==null&&(ai[oi++]=Gs,ai[oi++]=Ks,ai[oi++]=kc,Gs=a.id,Ks=a.overflow,kc=o),o=v1(o,d.children),o.flags|=4096);return o}return y?(uo(),y=d.fallback,j=o.mode,Z=a.child,re=Z.sibling,d=Vs(Z,{mode:"hidden",children:d.children}),d.subtreeFlags=Z.subtreeFlags&65011712,re!==null?y=Vs(re,y):(y=Bc(y,j,u,null),y.flags|=2),y.return=o,d.return=o,d.sibling=y,o.child=d,d=y,y=o.child,j=a.child.memoizedState,j===null?j=b1(u):(Z=j.cachePool,Z!==null?(re=rn._currentValue,Z=Z.parent!==re?{parent:re,pool:re}:Z):Z=HS(),j={baseLanes:j.baseLanes|u,cachePool:Z}),y.memoizedState=j,y.childLanes=w1(a,D,u),o.memoizedState=y1,d):(lo(o),u=a.child,a=u.sibling,u=Vs(u,{mode:"visible",children:d.children}),u.return=o,u.sibling=null,a!==null&&(D=o.deletions,D===null?(o.deletions=[a],o.flags|=16):D.push(a)),o.child=u,o.memoizedState=null,u)}function v1(a,o){return o=U0({mode:"visible",children:o},a.mode),o.return=a,a.child=o}function U0(a,o){return a=Pr(22,a,null,o),a.lanes=0,a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},a}function x1(a,o,u){return $u(o,a.child,null,u),a=v1(o,o.pendingProps.children),a.flags|=2,o.memoizedState=null,a}function r8(a,o,u){a.lanes|=o;var d=a.alternate;d!==null&&(d.lanes|=o),$w(a.return,o,u)}function E1(a,o,u,d,y){var v=a.memoizedState;v===null?a.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:d,tail:u,tailMode:y}:(v.isBackwards=o,v.rendering=null,v.renderingStartTime=0,v.last=d,v.tail=u,v.tailMode=y)}function i8(a,o,u){var d=o.pendingProps,y=d.revealOrder,v=d.tail;if(_n(a,o,d.children,u),d=sn.current,(d&2)!==0)d=d&1|2,o.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=o.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&r8(a,u,o);else if(a.tag===19)r8(a,u,o);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break e;for(;a.sibling===null;){if(a.return===null||a.return===o)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}d&=1}switch(J(sn,d),y){case"forwards":for(u=o.child,y=null;u!==null;)a=u.alternate,a!==null&&R0(a)===null&&(y=u),u=u.sibling;u=y,u===null?(y=o.child,o.child=null):(y=u.sibling,u.sibling=null),E1(o,!1,y,u,v);break;case"backwards":for(u=null,y=o.child,o.child=null;y!==null;){if(a=y.alternate,a!==null&&R0(a)===null){o.child=y;break}a=y.sibling,y.sibling=u,u=y,y=a}E1(o,!0,u,null,v);break;case"together":E1(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Js(a,o,u){if(a!==null&&(o.dependencies=a.dependencies),mo|=o.lanes,(u&o.childLanes)===0)if(a!==null){if(pd(a,o,u,!1),(u&o.childLanes)===0)return null}else return null;if(a!==null&&o.child!==a.child)throw Error(r(153));if(o.child!==null){for(a=o.child,u=Vs(a,a.pendingProps),o.child=u,u.return=o;a.sibling!==null;)a=a.sibling,u=u.sibling=Vs(a,a.pendingProps),u.return=o;u.sibling=null}return o.child}function A1(a,o){return(a.lanes&o)!==0?!0:(a=a.dependencies,!!(a!==null&&m0(a)))}function GU(a,o,u){switch(o.tag){case 3:xe(o,o.stateNode.containerInfo),io(o,rn,a.memoizedState.cache),hd();break;case 27:case 5:Se(o);break;case 4:xe(o,o.stateNode.containerInfo);break;case 10:io(o,o.type,o.memoizedProps.value);break;case 13:var d=o.memoizedState;if(d!==null)return d.dehydrated!==null?(lo(o),o.flags|=128,null):(u&o.child.childLanes)!==0?n8(a,o,u):(lo(o),a=Js(a,o,u),a!==null?a.sibling:null);lo(o);break;case 19:var y=(a.flags&128)!==0;if(d=(u&o.childLanes)!==0,d||(pd(a,o,u,!1),d=(u&o.childLanes)!==0),y){if(d)return i8(a,o,u);o.flags|=128}if(y=o.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),J(sn,sn.current),d)break;return null;case 22:case 23:return o.lanes=0,W_(a,o,u);case 24:io(o,rn,a.memoizedState.cache)}return Js(a,o,u)}function s8(a,o,u){if(a!==null)if(a.memoizedProps!==o.pendingProps)dn=!0;else{if(!A1(a,u)&&(o.flags&128)===0)return dn=!1,GU(a,o,u);dn=(a.flags&131072)!==0}else dn=!1,ot&&(o.flags&1048576)!==0&&PS(o,g0,o.index);switch(o.lanes=0,o.tag){case 16:e:{a=o.pendingProps;var d=o.elementType,y=d._init;if(d=y(d._payload),o.type=d,typeof d=="function")Rw(d)?(a=Hc(d,a),o.tag=1,o=e8(null,o,d,a,u)):(o.tag=0,o=m1(null,o,d,a,u));else{if(d!=null){if(y=d.$$typeof,y===I){o.tag=11,o=Q_(null,o,d,a,u);break e}else if(y===z){o.tag=14,o=Y_(null,o,d,a,u);break e}}throw o=W(d)||d,Error(r(306,o,""))}}return o;case 0:return m1(a,o,o.type,o.pendingProps,u);case 1:return d=o.type,y=Hc(d,o.pendingProps),e8(a,o,d,y,u);case 3:e:{if(xe(o,o.stateNode.containerInfo),a===null)throw Error(r(387));d=o.pendingProps;var v=o.memoizedState;y=v.element,Gw(a,o),xd(o,d,null,u);var D=o.memoizedState;if(d=D.cache,io(o,rn,d),d!==v.cache&&jw(o,[rn],u,!0),vd(),d=D.element,v.isDehydrated)if(v={element:d,isDehydrated:!1,cache:D.cache},o.updateQueue.baseState=v,o.memoizedState=v,o.flags&256){o=t8(a,o,d,u);break e}else if(d!==y){y=ii(Error(r(424)),o),dd(y),o=t8(a,o,d,u);break e}else{switch(a=o.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(Pt=ki(a.firstChild),tr=o,ot=!0,Uc=null,rs=!0,u=M_(o,null,d,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(hd(),d===y){o=Js(a,o,u);break e}_n(a,o,d,u)}o=o.child}return o;case 26:return P0(a,o),a===null?(u=l4(o.type,null,o.pendingProps,null))?o.memoizedState=u:ot||(u=o.type,a=o.pendingProps,d=Z0(ue.current).createElement(u),d[jn]=o,d[hr]=a,Cn(d,u,a),hn(d),o.stateNode=d):o.memoizedState=l4(o.type,a.memoizedProps,o.pendingProps,a.memoizedState),null;case 27:return Se(o),a===null&&ot&&(d=o.stateNode=a4(o.type,o.pendingProps,ue.current),tr=o,rs=!0,y=Pt,vo(o.type)?(rv=y,Pt=ki(d.firstChild)):Pt=y),_n(a,o,o.pendingProps.children,u),P0(a,o),a===null&&(o.flags|=4194304),o.child;case 5:return a===null&&ot&&((y=d=Pt)&&(d=v9(d,o.type,o.pendingProps,rs),d!==null?(o.stateNode=d,tr=o,Pt=ki(d.firstChild),rs=!1,y=!0):y=!1),y||Mc(o)),Se(o),y=o.type,v=o.pendingProps,D=a!==null?a.memoizedProps:null,d=v.children,X1(y,v)?d=null:D!==null&&X1(y,D)&&(o.flags|=32),o.memoizedState!==null&&(y=Jw(a,o,LU,null,null,u),Fd._currentValue=y),P0(a,o),_n(a,o,d,u),o.child;case 6:return a===null&&ot&&((a=u=Pt)&&(u=x9(u,o.pendingProps,rs),u!==null?(o.stateNode=u,tr=o,Pt=null,a=!0):a=!1),a||Mc(o)),null;case 13:return n8(a,o,u);case 4:return xe(o,o.stateNode.containerInfo),d=o.pendingProps,a===null?o.child=$u(o,null,d,u):_n(a,o,d,u),o.child;case 11:return Q_(a,o,o.type,o.pendingProps,u);case 7:return _n(a,o,o.pendingProps,u),o.child;case 8:return _n(a,o,o.pendingProps.children,u),o.child;case 12:return _n(a,o,o.pendingProps.children,u),o.child;case 10:return d=o.pendingProps,io(o,o.type,d.value),_n(a,o,d.children,u),o.child;case 9:return y=o.type._context,d=o.pendingProps.children,$c(o),y=zn(y),d=d(y),o.flags|=1,_n(a,o,d,u),o.child;case 14:return Y_(a,o,o.type,o.pendingProps,u);case 15:return Z_(a,o,o.type,o.pendingProps,u);case 19:return i8(a,o,u);case 31:return d=o.pendingProps,u=o.mode,d={mode:d.mode,children:d.children},a===null?(u=U0(d,u),u.ref=o.ref,o.child=u,u.return=o,o=u):(u=Vs(a.child,d),u.ref=o.ref,o.child=u,u.return=o,o=u),o;case 22:return W_(a,o,u);case 24:return $c(o),d=zn(rn),a===null?(y=Fw(),y===null&&(y=At,v=zw(),y.pooledCache=v,v.refCount++,v!==null&&(y.pooledCacheLanes|=u),y=v),o.memoizedState={parent:d,cache:y},Vw(o),io(o,rn,y)):((a.lanes&u)!==0&&(Gw(a,o),xd(o,null,null,u),vd()),y=a.memoizedState,v=o.memoizedState,y.parent!==d?(y={parent:d,cache:d},o.memoizedState=y,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=y),io(o,rn,d)):(d=v.cache,io(o,rn,d),d!==y.cache&&jw(o,[rn],u,!0))),_n(a,o,o.pendingProps.children,u),o.child;case 29:throw o.pendingProps}throw Error(r(156,o.tag))}function Xs(a){a.flags|=4}function a8(a,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!p4(o)){if(o=ci.current,o!==null&&((tt&4194048)===tt?is!==null:(tt&62914560)!==tt&&(tt&536870912)===0||o!==is))throw bd=qw,FS;a.flags|=8192}}function M0(a,o){o!==null&&(a.flags|=4),a.flags&16384&&(o=a.tag!==22?LA():536870912,a.lanes|=o,Fu|=o)}function Nd(a,o){if(!ot)switch(a.tailMode){case"hidden":o=a.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?a.tail=null:u.sibling=null;break;case"collapsed":u=a.tail;for(var d=null;u!==null;)u.alternate!==null&&(d=u),u=u.sibling;d===null?o||a.tail===null?a.tail=null:a.tail.sibling=null:d.sibling=null}}function Rt(a){var o=a.alternate!==null&&a.alternate.child===a.child,u=0,d=0;if(o)for(var y=a.child;y!==null;)u|=y.lanes|y.childLanes,d|=y.subtreeFlags&65011712,d|=y.flags&65011712,y.return=a,y=y.sibling;else for(y=a.child;y!==null;)u|=y.lanes|y.childLanes,d|=y.subtreeFlags,d|=y.flags,y.return=a,y=y.sibling;return a.subtreeFlags|=d,a.childLanes=u,o}function KU(a,o,u){var d=o.pendingProps;switch(Uw(o),o.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Rt(o),null;case 1:return Rt(o),null;case 3:return u=o.stateNode,d=null,a!==null&&(d=a.memoizedState.cache),o.memoizedState.cache!==d&&(o.flags|=2048),Ys(rn),be(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(a===null||a.child===null)&&(fd(o)?Xs(o):a===null||a.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,LS())),Rt(o),null;case 26:return u=o.memoizedState,a===null?(Xs(o),u!==null?(Rt(o),a8(o,u)):(Rt(o),o.flags&=-16777217)):u?u!==a.memoizedState?(Xs(o),Rt(o),a8(o,u)):(Rt(o),o.flags&=-16777217):(a.memoizedProps!==d&&Xs(o),Rt(o),o.flags&=-16777217),null;case 27:Pe(o),u=ue.current;var y=o.type;if(a!==null&&o.stateNode!=null)a.memoizedProps!==d&&Xs(o);else{if(!d){if(o.stateNode===null)throw Error(r(166));return Rt(o),null}a=Y.current,fd(o)?US(o):(a=a4(y,d,u),o.stateNode=a,Xs(o))}return Rt(o),null;case 5:if(Pe(o),u=o.type,a!==null&&o.stateNode!=null)a.memoizedProps!==d&&Xs(o);else{if(!d){if(o.stateNode===null)throw Error(r(166));return Rt(o),null}if(a=Y.current,fd(o))US(o);else{switch(y=Z0(ue.current),a){case 1:a=y.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:a=y.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":a=y.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":a=y.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":a=y.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a=typeof d.is=="string"?y.createElement("select",{is:d.is}):y.createElement("select"),d.multiple?a.multiple=!0:d.size&&(a.size=d.size);break;default:a=typeof d.is=="string"?y.createElement(u,{is:d.is}):y.createElement(u)}}a[jn]=o,a[hr]=d;e:for(y=o.child;y!==null;){if(y.tag===5||y.tag===6)a.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===o)break e;for(;y.sibling===null;){if(y.return===null||y.return===o)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}o.stateNode=a;e:switch(Cn(a,u,d),u){case"button":case"input":case"select":case"textarea":a=!!d.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&Xs(o)}}return Rt(o),o.flags&=-16777217,null;case 6:if(a&&o.stateNode!=null)a.memoizedProps!==d&&Xs(o);else{if(typeof d!="string"&&o.stateNode===null)throw Error(r(166));if(a=ue.current,fd(o)){if(a=o.stateNode,u=o.memoizedProps,d=null,y=tr,y!==null)switch(y.tag){case 27:case 5:d=y.memoizedProps}a[jn]=o,a=!!(a.nodeValue===u||d!==null&&d.suppressHydrationWarning===!0||X8(a.nodeValue,u)),a||Mc(o)}else a=Z0(a).createTextNode(d),a[jn]=o,o.stateNode=a}return Rt(o),null;case 13:if(d=o.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(y=fd(o),d!==null&&d.dehydrated!==null){if(a===null){if(!y)throw Error(r(318));if(y=o.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(r(317));y[jn]=o}else hd(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Rt(o),y=!1}else y=LS(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=y),y=!0;if(!y)return o.flags&256?(Ws(o),o):(Ws(o),null)}if(Ws(o),(o.flags&128)!==0)return o.lanes=u,o;if(u=d!==null,a=a!==null&&a.memoizedState!==null,u){d=o.child,y=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(y=d.alternate.memoizedState.cachePool.pool);var v=null;d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(v=d.memoizedState.cachePool.pool),v!==y&&(d.flags|=2048)}return u!==a&&u&&(o.child.flags|=8192),M0(o,o.updateQueue),Rt(o),null;case 4:return be(),a===null&&Q1(o.stateNode.containerInfo),Rt(o),null;case 10:return Ys(o.type),Rt(o),null;case 19:if(K(sn),y=o.memoizedState,y===null)return Rt(o),null;if(d=(o.flags&128)!==0,v=y.rendering,v===null)if(d)Nd(y,!1);else{if(Ut!==0||a!==null&&(a.flags&128)!==0)for(a=o.child;a!==null;){if(v=R0(a),v!==null){for(o.flags|=128,Nd(y,!1),a=v.updateQueue,o.updateQueue=a,M0(o,a),o.subtreeFlags=0,a=u,u=o.child;u!==null;)kS(u,a),u=u.sibling;return J(sn,sn.current&1|2),o.child}a=a.sibling}y.tail!==null&&fn()>j0&&(o.flags|=128,d=!0,Nd(y,!1),o.lanes=4194304)}else{if(!d)if(a=R0(v),a!==null){if(o.flags|=128,d=!0,a=a.updateQueue,o.updateQueue=a,M0(o,a),Nd(y,!0),y.tail===null&&y.tailMode==="hidden"&&!v.alternate&&!ot)return Rt(o),null}else 2*fn()-y.renderingStartTime>j0&&u!==536870912&&(o.flags|=128,d=!0,Nd(y,!1),o.lanes=4194304);y.isBackwards?(v.sibling=o.child,o.child=v):(a=y.last,a!==null?a.sibling=v:o.child=v,y.last=v)}return y.tail!==null?(o=y.tail,y.rendering=o,y.tail=o.sibling,y.renderingStartTime=fn(),o.sibling=null,a=sn.current,J(sn,d?a&1|2:a&1),o):(Rt(o),null);case 22:case 23:return Ws(o),Zw(),d=o.memoizedState!==null,a!==null?a.memoizedState!==null!==d&&(o.flags|=8192):d&&(o.flags|=8192),d?(u&536870912)!==0&&(o.flags&128)===0&&(Rt(o),o.subtreeFlags&6&&(o.flags|=8192)):Rt(o),u=o.updateQueue,u!==null&&M0(o,u.retryQueue),u=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),d=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),d!==u&&(o.flags|=2048),a!==null&&K(jc),null;case 24:return u=null,a!==null&&(u=a.memoizedState.cache),o.memoizedState.cache!==u&&(o.flags|=2048),Ys(rn),Rt(o),null;case 25:return null;case 30:return null}throw Error(r(156,o.tag))}function QU(a,o){switch(Uw(o),o.tag){case 1:return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 3:return Ys(rn),be(),a=o.flags,(a&65536)!==0&&(a&128)===0?(o.flags=a&-65537|128,o):null;case 26:case 27:case 5:return Pe(o),null;case 13:if(Ws(o),a=o.memoizedState,a!==null&&a.dehydrated!==null){if(o.alternate===null)throw Error(r(340));hd()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 19:return K(sn),null;case 4:return be(),null;case 10:return Ys(o.type),null;case 22:case 23:return Ws(o),Zw(),a!==null&&K(jc),a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 24:return Ys(rn),null;case 25:return null;default:return null}}function o8(a,o){switch(Uw(o),o.tag){case 3:Ys(rn),be();break;case 26:case 27:case 5:Pe(o);break;case 4:be();break;case 13:Ws(o);break;case 19:K(sn);break;case 10:Ys(o.type);break;case 22:case 23:Ws(o),Zw(),a!==null&&K(jc);break;case 24:Ys(rn)}}function Id(a,o){try{var u=o.updateQueue,d=u!==null?u.lastEffect:null;if(d!==null){var y=d.next;u=y;do{if((u.tag&a)===a){d=void 0;var v=u.create,D=u.inst;d=v(),D.destroy=d}u=u.next}while(u!==y)}}catch(j){vt(o,o.return,j)}}function fo(a,o,u){try{var d=o.updateQueue,y=d!==null?d.lastEffect:null;if(y!==null){var v=y.next;d=v;do{if((d.tag&a)===a){var D=d.inst,j=D.destroy;if(j!==void 0){D.destroy=void 0,y=o;var Z=u,re=j;try{re()}catch(fe){vt(y,Z,fe)}}}d=d.next}while(d!==v)}}catch(fe){vt(o,o.return,fe)}}function c8(a){var o=a.updateQueue;if(o!==null){var u=a.stateNode;try{YS(o,u)}catch(d){vt(a,a.return,d)}}}function l8(a,o,u){u.props=Hc(a.type,a.memoizedProps),u.state=a.memoizedState;try{u.componentWillUnmount()}catch(d){vt(a,o,d)}}function Td(a,o){try{var u=a.ref;if(u!==null){switch(a.tag){case 26:case 27:case 5:var d=a.stateNode;break;case 30:d=a.stateNode;break;default:d=a.stateNode}typeof u=="function"?a.refCleanup=u(d):u.current=d}}catch(y){vt(a,o,y)}}function ss(a,o){var u=a.ref,d=a.refCleanup;if(u!==null)if(typeof d=="function")try{d()}catch(y){vt(a,o,y)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(y){vt(a,o,y)}else u.current=null}function u8(a){var o=a.type,u=a.memoizedProps,d=a.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":u.autoFocus&&d.focus();break e;case"img":u.src?d.src=u.src:u.srcSet&&(d.srcset=u.srcSet)}}catch(y){vt(a,a.return,y)}}function S1(a,o,u){try{var d=a.stateNode;g9(d,a.type,u,o),d[hr]=o}catch(y){vt(a,a.return,y)}}function f8(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&vo(a.type)||a.tag===4}function _1(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||f8(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&vo(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function O1(a,o,u){var d=a.tag;if(d===5||d===6)a=a.stateNode,o?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(a,o):(o=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,o.appendChild(a),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=Y0));else if(d!==4&&(d===27&&vo(a.type)&&(u=a.stateNode,o=null),a=a.child,a!==null))for(O1(a,o,u),a=a.sibling;a!==null;)O1(a,o,u),a=a.sibling}function L0(a,o,u){var d=a.tag;if(d===5||d===6)a=a.stateNode,o?u.insertBefore(a,o):u.appendChild(a);else if(d!==4&&(d===27&&vo(a.type)&&(u=a.stateNode),a=a.child,a!==null))for(L0(a,o,u),a=a.sibling;a!==null;)L0(a,o,u),a=a.sibling}function h8(a){var o=a.stateNode,u=a.memoizedProps;try{for(var d=a.type,y=o.attributes;y.length;)o.removeAttributeNode(y[0]);Cn(o,d,u),o[jn]=a,o[hr]=u}catch(v){vt(a,a.return,v)}}var ea=!1,zt=!1,C1=!1,d8=typeof WeakSet=="function"?WeakSet:Set,pn=null;function YU(a,o){if(a=a.containerInfo,W1=nm,a=SS(a),_w(a)){if("selectionStart"in a)var u={start:a.selectionStart,end:a.selectionEnd};else e:{u=(u=a.ownerDocument)&&u.defaultView||window;var d=u.getSelection&&u.getSelection();if(d&&d.rangeCount!==0){u=d.anchorNode;var y=d.anchorOffset,v=d.focusNode;d=d.focusOffset;try{u.nodeType,v.nodeType}catch{u=null;break e}var D=0,j=-1,Z=-1,re=0,fe=0,de=a,ae=null;t:for(;;){for(var ce;de!==u||y!==0&&de.nodeType!==3||(j=D+y),de!==v||d!==0&&de.nodeType!==3||(Z=D+d),de.nodeType===3&&(D+=de.nodeValue.length),(ce=de.firstChild)!==null;)ae=de,de=ce;for(;;){if(de===a)break t;if(ae===u&&++re===y&&(j=D),ae===v&&++fe===d&&(Z=D),(ce=de.nextSibling)!==null)break;de=ae,ae=de.parentNode}de=ce}u=j===-1||Z===-1?null:{start:j,end:Z}}else u=null}u=u||{start:0,end:0}}else u=null;for(J1={focusedElem:a,selectionRange:u},nm=!1,pn=o;pn!==null;)if(o=pn,a=o.child,(o.subtreeFlags&1024)!==0&&a!==null)a.return=o,pn=a;else for(;pn!==null;){switch(o=pn,v=o.alternate,a=o.flags,o.tag){case 0:break;case 11:case 15:break;case 1:if((a&1024)!==0&&v!==null){a=void 0,u=o,y=v.memoizedProps,v=v.memoizedState,d=u.stateNode;try{var ke=Hc(u.type,y,u.elementType===u.type);a=d.getSnapshotBeforeUpdate(ke,v),d.__reactInternalSnapshotBeforeUpdate=a}catch(De){vt(u,u.return,De)}}break;case 3:if((a&1024)!==0){if(a=o.stateNode.containerInfo,u=a.nodeType,u===9)tv(a);else if(u===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":tv(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(r(163))}if(a=o.sibling,a!==null){a.return=o.return,pn=a;break}pn=o.return}}function p8(a,o,u){var d=u.flags;switch(u.tag){case 0:case 11:case 15:ho(a,u),d&4&&Id(5,u);break;case 1:if(ho(a,u),d&4)if(a=u.stateNode,o===null)try{a.componentDidMount()}catch(D){vt(u,u.return,D)}else{var y=Hc(u.type,o.memoizedProps);o=o.memoizedState;try{a.componentDidUpdate(y,o,a.__reactInternalSnapshotBeforeUpdate)}catch(D){vt(u,u.return,D)}}d&64&&c8(u),d&512&&Td(u,u.return);break;case 3:if(ho(a,u),d&64&&(a=u.updateQueue,a!==null)){if(o=null,u.child!==null)switch(u.child.tag){case 27:case 5:o=u.child.stateNode;break;case 1:o=u.child.stateNode}try{YS(a,o)}catch(D){vt(u,u.return,D)}}break;case 27:o===null&&d&4&&h8(u);case 26:case 5:ho(a,u),o===null&&d&4&&u8(u),d&512&&Td(u,u.return);break;case 12:ho(a,u);break;case 13:ho(a,u),d&4&&y8(a,u),d&64&&(a=u.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(u=i9.bind(null,u),E9(a,u))));break;case 22:if(d=u.memoizedState!==null||ea,!d){o=o!==null&&o.memoizedState!==null||zt,y=ea;var v=zt;ea=d,(zt=o)&&!v?po(a,u,(u.subtreeFlags&8772)!==0):ho(a,u),ea=y,zt=v}break;case 30:break;default:ho(a,u)}}function g8(a){var o=a.alternate;o!==null&&(a.alternate=null,g8(o)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(o=a.stateNode,o!==null&&aw(o)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var Tt=null,gr=!1;function ta(a,o,u){for(u=u.child;u!==null;)m8(a,o,u),u=u.sibling}function m8(a,o,u){if(Xn&&typeof Xn.onCommitFiberUnmount=="function")try{Xn.onCommitFiberUnmount(to,u)}catch{}switch(u.tag){case 26:zt||ss(u,o),ta(a,o,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:zt||ss(u,o);var d=Tt,y=gr;vo(u.type)&&(Tt=u.stateNode,gr=!1),ta(a,o,u),$d(u.stateNode),Tt=d,gr=y;break;case 5:zt||ss(u,o);case 6:if(d=Tt,y=gr,Tt=null,ta(a,o,u),Tt=d,gr=y,Tt!==null)if(gr)try{(Tt.nodeType===9?Tt.body:Tt.nodeName==="HTML"?Tt.ownerDocument.body:Tt).removeChild(u.stateNode)}catch(v){vt(u,o,v)}else try{Tt.removeChild(u.stateNode)}catch(v){vt(u,o,v)}break;case 18:Tt!==null&&(gr?(a=Tt,i4(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,u.stateNode),Kd(a)):i4(Tt,u.stateNode));break;case 4:d=Tt,y=gr,Tt=u.stateNode.containerInfo,gr=!0,ta(a,o,u),Tt=d,gr=y;break;case 0:case 11:case 14:case 15:zt||fo(2,u,o),zt||fo(4,u,o),ta(a,o,u);break;case 1:zt||(ss(u,o),d=u.stateNode,typeof d.componentWillUnmount=="function"&&l8(u,o,d)),ta(a,o,u);break;case 21:ta(a,o,u);break;case 22:zt=(d=zt)||u.memoizedState!==null,ta(a,o,u),zt=d;break;default:ta(a,o,u)}}function y8(a,o){if(o.memoizedState===null&&(a=o.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{Kd(a)}catch(u){vt(o,o.return,u)}}function ZU(a){switch(a.tag){case 13:case 19:var o=a.stateNode;return o===null&&(o=a.stateNode=new d8),o;case 22:return a=a.stateNode,o=a._retryCache,o===null&&(o=a._retryCache=new d8),o;default:throw Error(r(435,a.tag))}}function N1(a,o){var u=ZU(a);o.forEach(function(d){var y=s9.bind(null,a,d);u.has(d)||(u.add(d),d.then(y,y))})}function Ur(a,o){var u=o.deletions;if(u!==null)for(var d=0;d<u.length;d++){var y=u[d],v=a,D=o,j=D;e:for(;j!==null;){switch(j.tag){case 27:if(vo(j.type)){Tt=j.stateNode,gr=!1;break e}break;case 5:Tt=j.stateNode,gr=!1;break e;case 3:case 4:Tt=j.stateNode.containerInfo,gr=!0;break e}j=j.return}if(Tt===null)throw Error(r(160));m8(v,D,y),Tt=null,gr=!1,v=y.alternate,v!==null&&(v.return=null),y.return=null}if(o.subtreeFlags&13878)for(o=o.child;o!==null;)b8(o,a),o=o.sibling}var Bi=null;function b8(a,o){var u=a.alternate,d=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:Ur(o,a),Mr(a),d&4&&(fo(3,a,a.return),Id(3,a),fo(5,a,a.return));break;case 1:Ur(o,a),Mr(a),d&512&&(zt||u===null||ss(u,u.return)),d&64&&ea&&(a=a.updateQueue,a!==null&&(d=a.callbacks,d!==null&&(u=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=u===null?d:u.concat(d))));break;case 26:var y=Bi;if(Ur(o,a),Mr(a),d&512&&(zt||u===null||ss(u,u.return)),d&4){var v=u!==null?u.memoizedState:null;if(d=a.memoizedState,u===null)if(d===null)if(a.stateNode===null){e:{d=a.type,u=a.memoizedProps,y=y.ownerDocument||y;t:switch(d){case"title":v=y.getElementsByTagName("title")[0],(!v||v[ed]||v[jn]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=y.createElement(d),y.head.insertBefore(v,y.querySelector("head > title"))),Cn(v,d,u),v[jn]=a,hn(v),d=v;break e;case"link":var D=h4("link","href",y).get(d+(u.href||""));if(D){for(var j=0;j<D.length;j++)if(v=D[j],v.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&v.getAttribute("rel")===(u.rel==null?null:u.rel)&&v.getAttribute("title")===(u.title==null?null:u.title)&&v.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){D.splice(j,1);break t}}v=y.createElement(d),Cn(v,d,u),y.head.appendChild(v);break;case"meta":if(D=h4("meta","content",y).get(d+(u.content||""))){for(j=0;j<D.length;j++)if(v=D[j],v.getAttribute("content")===(u.content==null?null:""+u.content)&&v.getAttribute("name")===(u.name==null?null:u.name)&&v.getAttribute("property")===(u.property==null?null:u.property)&&v.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&v.getAttribute("charset")===(u.charSet==null?null:u.charSet)){D.splice(j,1);break t}}v=y.createElement(d),Cn(v,d,u),y.head.appendChild(v);break;default:throw Error(r(468,d))}v[jn]=a,hn(v),d=v}a.stateNode=d}else d4(y,a.type,a.stateNode);else a.stateNode=f4(y,d,a.memoizedProps);else v!==d?(v===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):v.count--,d===null?d4(y,a.type,a.stateNode):f4(y,d,a.memoizedProps)):d===null&&a.stateNode!==null&&S1(a,a.memoizedProps,u.memoizedProps)}break;case 27:Ur(o,a),Mr(a),d&512&&(zt||u===null||ss(u,u.return)),u!==null&&d&4&&S1(a,a.memoizedProps,u.memoizedProps);break;case 5:if(Ur(o,a),Mr(a),d&512&&(zt||u===null||ss(u,u.return)),a.flags&32){y=a.stateNode;try{xu(y,"")}catch(ce){vt(a,a.return,ce)}}d&4&&a.stateNode!=null&&(y=a.memoizedProps,S1(a,y,u!==null?u.memoizedProps:y)),d&1024&&(C1=!0);break;case 6:if(Ur(o,a),Mr(a),d&4){if(a.stateNode===null)throw Error(r(162));d=a.memoizedProps,u=a.stateNode;try{u.nodeValue=d}catch(ce){vt(a,a.return,ce)}}break;case 3:if(X0=null,y=Bi,Bi=W0(o.containerInfo),Ur(o,a),Bi=y,Mr(a),d&4&&u!==null&&u.memoizedState.isDehydrated)try{Kd(o.containerInfo)}catch(ce){vt(a,a.return,ce)}C1&&(C1=!1,w8(a));break;case 4:d=Bi,Bi=W0(a.stateNode.containerInfo),Ur(o,a),Mr(a),Bi=d;break;case 12:Ur(o,a),Mr(a);break;case 13:Ur(o,a),Mr(a),a.child.flags&8192&&a.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(k1=fn()),d&4&&(d=a.updateQueue,d!==null&&(a.updateQueue=null,N1(a,d)));break;case 22:y=a.memoizedState!==null;var Z=u!==null&&u.memoizedState!==null,re=ea,fe=zt;if(ea=re||y,zt=fe||Z,Ur(o,a),zt=fe,ea=re,Mr(a),d&8192)e:for(o=a.stateNode,o._visibility=y?o._visibility&-2:o._visibility|1,y&&(u===null||Z||ea||zt||Fc(a)),u=null,o=a;;){if(o.tag===5||o.tag===26){if(u===null){Z=u=o;try{if(v=Z.stateNode,y)D=v.style,typeof D.setProperty=="function"?D.setProperty("display","none","important"):D.display="none";else{j=Z.stateNode;var de=Z.memoizedProps.style,ae=de!=null&&de.hasOwnProperty("display")?de.display:null;j.style.display=ae==null||typeof ae=="boolean"?"":(""+ae).trim()}}catch(ce){vt(Z,Z.return,ce)}}}else if(o.tag===6){if(u===null){Z=o;try{Z.stateNode.nodeValue=y?"":Z.memoizedProps}catch(ce){vt(Z,Z.return,ce)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===a)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break e;for(;o.sibling===null;){if(o.return===null||o.return===a)break e;u===o&&(u=null),o=o.return}u===o&&(u=null),o.sibling.return=o.return,o=o.sibling}d&4&&(d=a.updateQueue,d!==null&&(u=d.retryQueue,u!==null&&(d.retryQueue=null,N1(a,u))));break;case 19:Ur(o,a),Mr(a),d&4&&(d=a.updateQueue,d!==null&&(a.updateQueue=null,N1(a,d)));break;case 30:break;case 21:break;default:Ur(o,a),Mr(a)}}function Mr(a){var o=a.flags;if(o&2){try{for(var u,d=a.return;d!==null;){if(f8(d)){u=d;break}d=d.return}if(u==null)throw Error(r(160));switch(u.tag){case 27:var y=u.stateNode,v=_1(a);L0(a,v,y);break;case 5:var D=u.stateNode;u.flags&32&&(xu(D,""),u.flags&=-33);var j=_1(a);L0(a,j,D);break;case 3:case 4:var Z=u.stateNode.containerInfo,re=_1(a);O1(a,re,Z);break;default:throw Error(r(161))}}catch(fe){vt(a,a.return,fe)}a.flags&=-3}o&4096&&(a.flags&=-4097)}function w8(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var o=a;w8(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),a=a.sibling}}function ho(a,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)p8(a,o.alternate,o),o=o.sibling}function Fc(a){for(a=a.child;a!==null;){var o=a;switch(o.tag){case 0:case 11:case 14:case 15:fo(4,o,o.return),Fc(o);break;case 1:ss(o,o.return);var u=o.stateNode;typeof u.componentWillUnmount=="function"&&l8(o,o.return,u),Fc(o);break;case 27:$d(o.stateNode);case 26:case 5:ss(o,o.return),Fc(o);break;case 22:o.memoizedState===null&&Fc(o);break;case 30:Fc(o);break;default:Fc(o)}a=a.sibling}}function po(a,o,u){for(u=u&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var d=o.alternate,y=a,v=o,D=v.flags;switch(v.tag){case 0:case 11:case 15:po(y,v,u),Id(4,v);break;case 1:if(po(y,v,u),d=v,y=d.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(re){vt(d,d.return,re)}if(d=v,y=d.updateQueue,y!==null){var j=d.stateNode;try{var Z=y.shared.hiddenCallbacks;if(Z!==null)for(y.shared.hiddenCallbacks=null,y=0;y<Z.length;y++)QS(Z[y],j)}catch(re){vt(d,d.return,re)}}u&&D&64&&c8(v),Td(v,v.return);break;case 27:h8(v);case 26:case 5:po(y,v,u),u&&d===null&&D&4&&u8(v),Td(v,v.return);break;case 12:po(y,v,u);break;case 13:po(y,v,u),u&&D&4&&y8(y,v);break;case 22:v.memoizedState===null&&po(y,v,u),Td(v,v.return);break;case 30:break;default:po(y,v,u)}o=o.sibling}}function I1(a,o){var u=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),a=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(a=o.memoizedState.cachePool.pool),a!==u&&(a!=null&&a.refCount++,u!=null&&gd(u))}function T1(a,o){a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&gd(a))}function as(a,o,u,d){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)v8(a,o,u,d),o=o.sibling}function v8(a,o,u,d){var y=o.flags;switch(o.tag){case 0:case 11:case 15:as(a,o,u,d),y&2048&&Id(9,o);break;case 1:as(a,o,u,d);break;case 3:as(a,o,u,d),y&2048&&(a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&gd(a)));break;case 12:if(y&2048){as(a,o,u,d),a=o.stateNode;try{var v=o.memoizedProps,D=v.id,j=v.onPostCommit;typeof j=="function"&&j(D,o.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(Z){vt(o,o.return,Z)}}else as(a,o,u,d);break;case 13:as(a,o,u,d);break;case 23:break;case 22:v=o.stateNode,D=o.alternate,o.memoizedState!==null?v._visibility&2?as(a,o,u,d):Dd(a,o):v._visibility&2?as(a,o,u,d):(v._visibility|=2,ju(a,o,u,d,(o.subtreeFlags&10256)!==0)),y&2048&&I1(D,o);break;case 24:as(a,o,u,d),y&2048&&T1(o.alternate,o);break;default:as(a,o,u,d)}}function ju(a,o,u,d,y){for(y=y&&(o.subtreeFlags&10256)!==0,o=o.child;o!==null;){var v=a,D=o,j=u,Z=d,re=D.flags;switch(D.tag){case 0:case 11:case 15:ju(v,D,j,Z,y),Id(8,D);break;case 23:break;case 22:var fe=D.stateNode;D.memoizedState!==null?fe._visibility&2?ju(v,D,j,Z,y):Dd(v,D):(fe._visibility|=2,ju(v,D,j,Z,y)),y&&re&2048&&I1(D.alternate,D);break;case 24:ju(v,D,j,Z,y),y&&re&2048&&T1(D.alternate,D);break;default:ju(v,D,j,Z,y)}o=o.sibling}}function Dd(a,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var u=a,d=o,y=d.flags;switch(d.tag){case 22:Dd(u,d),y&2048&&I1(d.alternate,d);break;case 24:Dd(u,d),y&2048&&T1(d.alternate,d);break;default:Dd(u,d)}o=o.sibling}}var Rd=8192;function zu(a){if(a.subtreeFlags&Rd)for(a=a.child;a!==null;)x8(a),a=a.sibling}function x8(a){switch(a.tag){case 26:zu(a),a.flags&Rd&&a.memoizedState!==null&&P9(Bi,a.memoizedState,a.memoizedProps);break;case 5:zu(a);break;case 3:case 4:var o=Bi;Bi=W0(a.stateNode.containerInfo),zu(a),Bi=o;break;case 22:a.memoizedState===null&&(o=a.alternate,o!==null&&o.memoizedState!==null?(o=Rd,Rd=16777216,zu(a),Rd=o):zu(a));break;default:zu(a)}}function E8(a){var o=a.alternate;if(o!==null&&(a=o.child,a!==null)){o.child=null;do o=a.sibling,a.sibling=null,a=o;while(a!==null)}}function Bd(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var d=o[u];pn=d,S8(d,a)}E8(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)A8(a),a=a.sibling}function A8(a){switch(a.tag){case 0:case 11:case 15:Bd(a),a.flags&2048&&fo(9,a,a.return);break;case 3:Bd(a);break;case 12:Bd(a);break;case 22:var o=a.stateNode;a.memoizedState!==null&&o._visibility&2&&(a.return===null||a.return.tag!==13)?(o._visibility&=-3,$0(a)):Bd(a);break;default:Bd(a)}}function $0(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var d=o[u];pn=d,S8(d,a)}E8(a)}for(a=a.child;a!==null;){switch(o=a,o.tag){case 0:case 11:case 15:fo(8,o,o.return),$0(o);break;case 22:u=o.stateNode,u._visibility&2&&(u._visibility&=-3,$0(o));break;default:$0(o)}a=a.sibling}}function S8(a,o){for(;pn!==null;){var u=pn;switch(u.tag){case 0:case 11:case 15:fo(8,u,o);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var d=u.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:gd(u.memoizedState.cache)}if(d=u.child,d!==null)d.return=u,pn=d;else e:for(u=a;pn!==null;){d=pn;var y=d.sibling,v=d.return;if(g8(d),d===u){pn=null;break e}if(y!==null){y.return=v,pn=y;break e}pn=v}}}var WU={getCacheForType:function(a){var o=zn(rn),u=o.data.get(a);return u===void 0&&(u=a(),o.data.set(a,u)),u}},JU=typeof WeakMap=="function"?WeakMap:Map,ft=0,At=null,Ye=null,tt=0,ht=0,Lr=null,go=!1,Hu=!1,D1=!1,na=0,Ut=0,mo=0,qc=0,R1=0,li=0,Fu=0,kd=null,mr=null,B1=!1,k1=0,j0=1/0,z0=null,yo=null,On=0,bo=null,qu=null,Vu=0,P1=0,U1=null,_8=null,Pd=0,M1=null;function $r(){if((ft&2)!==0&&tt!==0)return tt&-tt;if(E.T!==null){var a=Ru;return a!==0?a:q1()}return zA()}function O8(){li===0&&(li=(tt&536870912)===0||ot?MA():536870912);var a=ci.current;return a!==null&&(a.flags|=32),li}function jr(a,o,u){(a===At&&(ht===2||ht===9)||a.cancelPendingCommit!==null)&&(Gu(a,0),wo(a,tt,li,!1)),Xh(a,u),((ft&2)===0||a!==At)&&(a===At&&((ft&2)===0&&(qc|=u),Ut===4&&wo(a,tt,li,!1)),os(a))}function C8(a,o,u){if((ft&6)!==0)throw Error(r(327));var d=!u&&(o&124)===0&&(o&a.expiredLanes)===0||Jh(a,o),y=d?t9(a,o):j1(a,o,!0),v=d;do{if(y===0){Hu&&!d&&wo(a,o,0,!1);break}else{if(u=a.current.alternate,v&&!XU(u)){y=j1(a,o,!1),v=!1;continue}if(y===2){if(v=o,a.errorRecoveryDisabledLanes&v)var D=0;else D=a.pendingLanes&-536870913,D=D!==0?D:D&536870912?536870912:0;if(D!==0){o=D;e:{var j=a;y=kd;var Z=j.current.memoizedState.isDehydrated;if(Z&&(Gu(j,D).flags|=256),D=j1(j,D,!1),D!==2){if(D1&&!Z){j.errorRecoveryDisabledLanes|=v,qc|=v,y=4;break e}v=mr,mr=y,v!==null&&(mr===null?mr=v:mr.push.apply(mr,v))}y=D}if(v=!1,y!==2)continue}}if(y===1){Gu(a,0),wo(a,o,0,!0);break}e:{switch(d=a,v=y,v){case 0:case 1:throw Error(r(345));case 4:if((o&4194048)!==o)break;case 6:wo(d,o,li,!go);break e;case 2:mr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((o&62914560)===o&&(y=k1+300-fn(),10<y)){if(wo(d,o,li,!go),Jg(d,0,!0)!==0)break e;d.timeoutHandle=n4(N8.bind(null,d,u,mr,z0,B1,o,li,qc,Fu,go,v,2,-0,0),y);break e}N8(d,u,mr,z0,B1,o,li,qc,Fu,go,v,0,-0,0)}}break}while(!0);os(a)}function N8(a,o,u,d,y,v,D,j,Z,re,fe,de,ae,ce){if(a.timeoutHandle=-1,de=o.subtreeFlags,(de&8192||(de&16785408)===16785408)&&(Hd={stylesheets:null,count:0,unsuspend:k9},x8(o),de=U9(),de!==null)){a.cancelPendingCommit=de(P8.bind(null,a,o,v,u,d,y,D,j,Z,fe,1,ae,ce)),wo(a,v,D,!re);return}P8(a,o,v,u,d,y,D,j,Z)}function XU(a){for(var o=a;;){var u=o.tag;if((u===0||u===11||u===15)&&o.flags&16384&&(u=o.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var d=0;d<u.length;d++){var y=u[d],v=y.getSnapshot;y=y.value;try{if(!kr(v(),y))return!1}catch{return!1}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function wo(a,o,u,d){o&=~R1,o&=~qc,a.suspendedLanes|=o,a.pingedLanes&=~o,d&&(a.warmLanes|=o),d=a.expirationTimes;for(var y=o;0<y;){var v=31-er(y),D=1<<v;d[v]=-1,y&=~D}u!==0&&$A(a,u,o)}function H0(){return(ft&6)===0?(Ud(0),!1):!0}function L1(){if(Ye!==null){if(ht===0)var a=Ye.return;else a=Ye,Qs=Lc=null,t1(a),Lu=null,Od=0,a=Ye;for(;a!==null;)o8(a.alternate,a),a=a.return;Ye=null}}function Gu(a,o){var u=a.timeoutHandle;u!==-1&&(a.timeoutHandle=-1,y9(u)),u=a.cancelPendingCommit,u!==null&&(a.cancelPendingCommit=null,u()),L1(),At=a,Ye=u=Vs(a.current,null),tt=o,ht=0,Lr=null,go=!1,Hu=Jh(a,o),D1=!1,Fu=li=R1=qc=mo=Ut=0,mr=kd=null,B1=!1,(o&8)!==0&&(o|=o&32);var d=a.entangledLanes;if(d!==0)for(a=a.entanglements,d&=o;0<d;){var y=31-er(d),v=1<<y;o|=a[y],d&=~v}return na=o,u0(),u}function I8(a,o){He=null,E.H=I0,o===yd||o===w0?(o=GS(),ht=3):o===FS?(o=GS(),ht=4):ht=o===K_?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Lr=o,Ye===null&&(Ut=1,k0(a,ii(o,a.current)))}function T8(){var a=E.H;return E.H=I0,a===null?I0:a}function D8(){var a=E.A;return E.A=WU,a}function $1(){Ut=4,go||(tt&4194048)!==tt&&ci.current!==null||(Hu=!0),(mo&134217727)===0&&(qc&134217727)===0||At===null||wo(At,tt,li,!1)}function j1(a,o,u){var d=ft;ft|=2;var y=T8(),v=D8();(At!==a||tt!==o)&&(z0=null,Gu(a,o)),o=!1;var D=Ut;e:do try{if(ht!==0&&Ye!==null){var j=Ye,Z=Lr;switch(ht){case 8:L1(),D=6;break e;case 3:case 2:case 9:case 6:ci.current===null&&(o=!0);var re=ht;if(ht=0,Lr=null,Ku(a,j,Z,re),u&&Hu){D=0;break e}break;default:re=ht,ht=0,Lr=null,Ku(a,j,Z,re)}}e9(),D=Ut;break}catch(fe){I8(a,fe)}while(!0);return o&&a.shellSuspendCounter++,Qs=Lc=null,ft=d,E.H=y,E.A=v,Ye===null&&(At=null,tt=0,u0()),D}function e9(){for(;Ye!==null;)R8(Ye)}function t9(a,o){var u=ft;ft|=2;var d=T8(),y=D8();At!==a||tt!==o?(z0=null,j0=fn()+500,Gu(a,o)):Hu=Jh(a,o);e:do try{if(ht!==0&&Ye!==null){o=Ye;var v=Lr;t:switch(ht){case 1:ht=0,Lr=null,Ku(a,o,v,1);break;case 2:case 9:if(qS(v)){ht=0,Lr=null,B8(o);break}o=function(){ht!==2&&ht!==9||At!==a||(ht=7),os(a)},v.then(o,o);break e;case 3:ht=7;break e;case 4:ht=5;break e;case 7:qS(v)?(ht=0,Lr=null,B8(o)):(ht=0,Lr=null,Ku(a,o,v,7));break;case 5:var D=null;switch(Ye.tag){case 26:D=Ye.memoizedState;case 5:case 27:var j=Ye;if(!D||p4(D)){ht=0,Lr=null;var Z=j.sibling;if(Z!==null)Ye=Z;else{var re=j.return;re!==null?(Ye=re,F0(re)):Ye=null}break t}}ht=0,Lr=null,Ku(a,o,v,5);break;case 6:ht=0,Lr=null,Ku(a,o,v,6);break;case 8:L1(),Ut=6;break e;default:throw Error(r(462))}}n9();break}catch(fe){I8(a,fe)}while(!0);return Qs=Lc=null,E.H=d,E.A=y,ft=u,Ye!==null?0:(At=null,tt=0,u0(),Ut)}function n9(){for(;Ye!==null&&!Sn();)R8(Ye)}function R8(a){var o=s8(a.alternate,a,na);a.memoizedProps=a.pendingProps,o===null?F0(a):Ye=o}function B8(a){var o=a,u=o.alternate;switch(o.tag){case 15:case 0:o=X_(u,o,o.pendingProps,o.type,void 0,tt);break;case 11:o=X_(u,o,o.pendingProps,o.type.render,o.ref,tt);break;case 5:t1(o);default:o8(u,o),o=Ye=kS(o,na),o=s8(u,o,na)}a.memoizedProps=a.pendingProps,o===null?F0(a):Ye=o}function Ku(a,o,u,d){Qs=Lc=null,t1(o),Lu=null,Od=0;var y=o.return;try{if(VU(a,y,o,u,tt)){Ut=1,k0(a,ii(u,a.current)),Ye=null;return}}catch(v){if(y!==null)throw Ye=y,v;Ut=1,k0(a,ii(u,a.current)),Ye=null;return}o.flags&32768?(ot||d===1?a=!0:Hu||(tt&536870912)!==0?a=!1:(go=a=!0,(d===2||d===9||d===3||d===6)&&(d=ci.current,d!==null&&d.tag===13&&(d.flags|=16384))),k8(o,a)):F0(o)}function F0(a){var o=a;do{if((o.flags&32768)!==0){k8(o,go);return}a=o.return;var u=KU(o.alternate,o,na);if(u!==null){Ye=u;return}if(o=o.sibling,o!==null){Ye=o;return}Ye=o=a}while(o!==null);Ut===0&&(Ut=5)}function k8(a,o){do{var u=QU(a.alternate,a);if(u!==null){u.flags&=32767,Ye=u;return}if(u=a.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!o&&(a=a.sibling,a!==null)){Ye=a;return}Ye=a=u}while(a!==null);Ut=6,Ye=null}function P8(a,o,u,d,y,v,D,j,Z){a.cancelPendingCommit=null;do q0();while(On!==0);if((ft&6)!==0)throw Error(r(327));if(o!==null){if(o===a.current)throw Error(r(177));if(v=o.lanes|o.childLanes,v|=Tw,k7(a,u,v,D,j,Z),a===At&&(Ye=At=null,tt=0),qu=o,bo=a,Vu=u,P1=v,U1=y,_8=d,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,a9(eo,function(){return j8(),null})):(a.callbackNode=null,a.callbackPriority=0),d=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||d){d=E.T,E.T=null,y=P.p,P.p=2,D=ft,ft|=4;try{YU(a,o,u)}finally{ft=D,P.p=y,E.T=d}}On=1,U8(),M8(),L8()}}function U8(){if(On===1){On=0;var a=bo,o=qu,u=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||u){u=E.T,E.T=null;var d=P.p;P.p=2;var y=ft;ft|=4;try{b8(o,a);var v=J1,D=SS(a.containerInfo),j=v.focusedElem,Z=v.selectionRange;if(D!==j&&j&&j.ownerDocument&&AS(j.ownerDocument.documentElement,j)){if(Z!==null&&_w(j)){var re=Z.start,fe=Z.end;if(fe===void 0&&(fe=re),"selectionStart"in j)j.selectionStart=re,j.selectionEnd=Math.min(fe,j.value.length);else{var de=j.ownerDocument||document,ae=de&&de.defaultView||window;if(ae.getSelection){var ce=ae.getSelection(),ke=j.textContent.length,De=Math.min(Z.start,ke),mt=Z.end===void 0?De:Math.min(Z.end,ke);!ce.extend&&De>mt&&(D=mt,mt=De,De=D);var te=ES(j,De),X=ES(j,mt);if(te&&X&&(ce.rangeCount!==1||ce.anchorNode!==te.node||ce.anchorOffset!==te.offset||ce.focusNode!==X.node||ce.focusOffset!==X.offset)){var ne=de.createRange();ne.setStart(te.node,te.offset),ce.removeAllRanges(),De>mt?(ce.addRange(ne),ce.extend(X.node,X.offset)):(ne.setEnd(X.node,X.offset),ce.addRange(ne))}}}}for(de=[],ce=j;ce=ce.parentNode;)ce.nodeType===1&&de.push({element:ce,left:ce.scrollLeft,top:ce.scrollTop});for(typeof j.focus=="function"&&j.focus(),j=0;j<de.length;j++){var he=de[j];he.element.scrollLeft=he.left,he.element.scrollTop=he.top}}nm=!!W1,J1=W1=null}finally{ft=y,P.p=d,E.T=u}}a.current=o,On=2}}function M8(){if(On===2){On=0;var a=bo,o=qu,u=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||u){u=E.T,E.T=null;var d=P.p;P.p=2;var y=ft;ft|=4;try{p8(a,o.alternate,o)}finally{ft=y,P.p=d,E.T=u}}On=3}}function L8(){if(On===4||On===3){On=0,$n();var a=bo,o=qu,u=Vu,d=_8;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?On=5:(On=0,qu=bo=null,$8(a,a.pendingLanes));var y=a.pendingLanes;if(y===0&&(yo=null),iw(u),o=o.stateNode,Xn&&typeof Xn.onCommitFiberRoot=="function")try{Xn.onCommitFiberRoot(to,o,void 0,(o.current.flags&128)===128)}catch{}if(d!==null){o=E.T,y=P.p,P.p=2,E.T=null;try{for(var v=a.onRecoverableError,D=0;D<d.length;D++){var j=d[D];v(j.value,{componentStack:j.stack})}}finally{E.T=o,P.p=y}}(Vu&3)!==0&&q0(),os(a),y=a.pendingLanes,(u&4194090)!==0&&(y&42)!==0?a===M1?Pd++:(Pd=0,M1=a):Pd=0,Ud(0)}}function $8(a,o){(a.pooledCacheLanes&=o)===0&&(o=a.pooledCache,o!=null&&(a.pooledCache=null,gd(o)))}function q0(a){return U8(),M8(),L8(),j8()}function j8(){if(On!==5)return!1;var a=bo,o=P1;P1=0;var u=iw(Vu),d=E.T,y=P.p;try{P.p=32>u?32:u,E.T=null,u=U1,U1=null;var v=bo,D=Vu;if(On=0,qu=bo=null,Vu=0,(ft&6)!==0)throw Error(r(331));var j=ft;if(ft|=4,A8(v.current),v8(v,v.current,D,u),ft=j,Ud(0,!1),Xn&&typeof Xn.onPostCommitFiberRoot=="function")try{Xn.onPostCommitFiberRoot(to,v)}catch{}return!0}finally{P.p=y,E.T=d,$8(a,o)}}function z8(a,o,u){o=ii(u,o),o=g1(a.stateNode,o,2),a=oo(a,o,2),a!==null&&(Xh(a,2),os(a))}function vt(a,o,u){if(a.tag===3)z8(a,a,u);else for(;o!==null;){if(o.tag===3){z8(o,a,u);break}else if(o.tag===1){var d=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(yo===null||!yo.has(d))){a=ii(u,a),u=V_(2),d=oo(o,u,2),d!==null&&(G_(u,d,o,a),Xh(d,2),os(d));break}}o=o.return}}function z1(a,o,u){var d=a.pingCache;if(d===null){d=a.pingCache=new JU;var y=new Set;d.set(o,y)}else y=d.get(o),y===void 0&&(y=new Set,d.set(o,y));y.has(u)||(D1=!0,y.add(u),a=r9.bind(null,a,o,u),o.then(a,a))}function r9(a,o,u){var d=a.pingCache;d!==null&&d.delete(o),a.pingedLanes|=a.suspendedLanes&u,a.warmLanes&=~u,At===a&&(tt&u)===u&&(Ut===4||Ut===3&&(tt&62914560)===tt&&300>fn()-k1?(ft&2)===0&&Gu(a,0):R1|=u,Fu===tt&&(Fu=0)),os(a)}function H8(a,o){o===0&&(o=LA()),a=Nu(a,o),a!==null&&(Xh(a,o),os(a))}function i9(a){var o=a.memoizedState,u=0;o!==null&&(u=o.retryLane),H8(a,u)}function s9(a,o){var u=0;switch(a.tag){case 13:var d=a.stateNode,y=a.memoizedState;y!==null&&(u=y.retryLane);break;case 19:d=a.stateNode;break;case 22:d=a.stateNode._retryCache;break;default:throw Error(r(314))}d!==null&&d.delete(o),H8(a,u)}function a9(a,o){return Qe(a,o)}var V0=null,Qu=null,H1=!1,G0=!1,F1=!1,Vc=0;function os(a){a!==Qu&&a.next===null&&(Qu===null?V0=Qu=a:Qu=Qu.next=a),G0=!0,H1||(H1=!0,c9())}function Ud(a,o){if(!F1&&G0){F1=!0;do for(var u=!1,d=V0;d!==null;){if(a!==0){var y=d.pendingLanes;if(y===0)var v=0;else{var D=d.suspendedLanes,j=d.pingedLanes;v=(1<<31-er(42|a)+1)-1,v&=y&~(D&~j),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(u=!0,G8(d,v))}else v=tt,v=Jg(d,d===At?v:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(v&3)===0||Jh(d,v)||(u=!0,G8(d,v));d=d.next}while(u);F1=!1}}function o9(){F8()}function F8(){G0=H1=!1;var a=0;Vc!==0&&(m9()&&(a=Vc),Vc=0);for(var o=fn(),u=null,d=V0;d!==null;){var y=d.next,v=q8(d,o);v===0?(d.next=null,u===null?V0=y:u.next=y,y===null&&(Qu=u)):(u=d,(a!==0||(v&3)!==0)&&(G0=!0)),d=y}Ud(a)}function q8(a,o){for(var u=a.suspendedLanes,d=a.pingedLanes,y=a.expirationTimes,v=a.pendingLanes&-62914561;0<v;){var D=31-er(v),j=1<<D,Z=y[D];Z===-1?((j&u)===0||(j&d)!==0)&&(y[D]=B7(j,o)):Z<=o&&(a.expiredLanes|=j),v&=~j}if(o=At,u=tt,u=Jg(a,a===o?u:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),d=a.callbackNode,u===0||a===o&&(ht===2||ht===9)||a.cancelPendingCommit!==null)return d!==null&&d!==null&&at(d),a.callbackNode=null,a.callbackPriority=0;if((u&3)===0||Jh(a,u)){if(o=u&-u,o===a.callbackPriority)return o;switch(d!==null&&at(d),iw(u)){case 2:case 8:u=Zh;break;case 32:u=eo;break;case 268435456:u=Wh;break;default:u=eo}return d=V8.bind(null,a),u=Qe(u,d),a.callbackPriority=o,a.callbackNode=u,o}return d!==null&&d!==null&&at(d),a.callbackPriority=2,a.callbackNode=null,2}function V8(a,o){if(On!==0&&On!==5)return a.callbackNode=null,a.callbackPriority=0,null;var u=a.callbackNode;if(q0()&&a.callbackNode!==u)return null;var d=tt;return d=Jg(a,a===At?d:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),d===0?null:(C8(a,d,o),q8(a,fn()),a.callbackNode!=null&&a.callbackNode===u?V8.bind(null,a):null)}function G8(a,o){if(q0())return null;C8(a,o,!0)}function c9(){b9(function(){(ft&6)!==0?Qe(Yh,o9):F8()})}function q1(){return Vc===0&&(Vc=MA()),Vc}function K8(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:r0(""+a)}function Q8(a,o){var u=o.ownerDocument.createElement("input");return u.name=o.name,u.value=o.value,a.id&&u.setAttribute("form",a.id),o.parentNode.insertBefore(u,o),a=new FormData(a),u.parentNode.removeChild(u),a}function l9(a,o,u,d,y){if(o==="submit"&&u&&u.stateNode===y){var v=K8((y[hr]||null).action),D=d.submitter;D&&(o=(o=D[hr]||null)?K8(o.formAction):D.getAttribute("formAction"),o!==null&&(v=o,D=null));var j=new o0("action","action",null,d,y);a.push({event:j,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(Vc!==0){var Z=D?Q8(y,D):new FormData(y);u1(u,{pending:!0,data:Z,method:y.method,action:v},null,Z)}}else typeof v=="function"&&(j.preventDefault(),Z=D?Q8(y,D):new FormData(y),u1(u,{pending:!0,data:Z,method:y.method,action:v},v,Z))},currentTarget:y}]})}}for(var V1=0;V1<Iw.length;V1++){var G1=Iw[V1],u9=G1.toLowerCase(),f9=G1[0].toUpperCase()+G1.slice(1);Ri(u9,"on"+f9)}Ri(CS,"onAnimationEnd"),Ri(NS,"onAnimationIteration"),Ri(IS,"onAnimationStart"),Ri("dblclick","onDoubleClick"),Ri("focusin","onFocus"),Ri("focusout","onBlur"),Ri(NU,"onTransitionRun"),Ri(IU,"onTransitionStart"),Ri(TU,"onTransitionCancel"),Ri(TS,"onTransitionEnd"),bu("onMouseEnter",["mouseout","mouseover"]),bu("onMouseLeave",["mouseout","mouseover"]),bu("onPointerEnter",["pointerout","pointerover"]),bu("onPointerLeave",["pointerout","pointerover"]),Ic("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ic("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ic("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ic("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ic("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ic("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Md="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),h9=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Md));function Y8(a,o){o=(o&4)!==0;for(var u=0;u<a.length;u++){var d=a[u],y=d.event;d=d.listeners;e:{var v=void 0;if(o)for(var D=d.length-1;0<=D;D--){var j=d[D],Z=j.instance,re=j.currentTarget;if(j=j.listener,Z!==v&&y.isPropagationStopped())break e;v=j,y.currentTarget=re;try{v(y)}catch(fe){B0(fe)}y.currentTarget=null,v=Z}else for(D=0;D<d.length;D++){if(j=d[D],Z=j.instance,re=j.currentTarget,j=j.listener,Z!==v&&y.isPropagationStopped())break e;v=j,y.currentTarget=re;try{v(y)}catch(fe){B0(fe)}y.currentTarget=null,v=Z}}}}function Ze(a,o){var u=o[sw];u===void 0&&(u=o[sw]=new Set);var d=a+"__bubble";u.has(d)||(Z8(o,a,2,!1),u.add(d))}function K1(a,o,u){var d=0;o&&(d|=4),Z8(u,a,d,o)}var K0="_reactListening"+Math.random().toString(36).slice(2);function Q1(a){if(!a[K0]){a[K0]=!0,FA.forEach(function(u){u!=="selectionchange"&&(h9.has(u)||K1(u,!1,a),K1(u,!0,a))});var o=a.nodeType===9?a:a.ownerDocument;o===null||o[K0]||(o[K0]=!0,K1("selectionchange",!1,o))}}function Z8(a,o,u,d){switch(v4(o)){case 2:var y=$9;break;case 8:y=j9;break;default:y=cv}u=y.bind(null,o,u,a),y=void 0,!mw||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(y=!0),d?y!==void 0?a.addEventListener(o,u,{capture:!0,passive:y}):a.addEventListener(o,u,!0):y!==void 0?a.addEventListener(o,u,{passive:y}):a.addEventListener(o,u,!1)}function Y1(a,o,u,d,y){var v=d;if((o&1)===0&&(o&2)===0&&d!==null)e:for(;;){if(d===null)return;var D=d.tag;if(D===3||D===4){var j=d.stateNode.containerInfo;if(j===y)break;if(D===4)for(D=d.return;D!==null;){var Z=D.tag;if((Z===3||Z===4)&&D.stateNode.containerInfo===y)return;D=D.return}for(;j!==null;){if(D=gu(j),D===null)return;if(Z=D.tag,Z===5||Z===6||Z===26||Z===27){d=v=D;continue e}j=j.parentNode}}d=d.return}rS(function(){var re=v,fe=pw(u),de=[];e:{var ae=DS.get(a);if(ae!==void 0){var ce=o0,ke=a;switch(a){case"keypress":if(s0(u)===0)break e;case"keydown":case"keyup":ce=aU;break;case"focusin":ke="focus",ce=vw;break;case"focusout":ke="blur",ce=vw;break;case"beforeblur":case"afterblur":ce=vw;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ce=aS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ce=Q7;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ce=lU;break;case CS:case NS:case IS:ce=W7;break;case TS:ce=fU;break;case"scroll":case"scrollend":ce=G7;break;case"wheel":ce=dU;break;case"copy":case"cut":case"paste":ce=X7;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ce=cS;break;case"toggle":case"beforetoggle":ce=gU}var De=(o&4)!==0,mt=!De&&(a==="scroll"||a==="scrollend"),te=De?ae!==null?ae+"Capture":null:ae;De=[];for(var X=re,ne;X!==null;){var he=X;if(ne=he.stateNode,he=he.tag,he!==5&&he!==26&&he!==27||ne===null||te===null||(he=nd(X,te),he!=null&&De.push(Ld(X,he,ne))),mt)break;X=X.return}0<De.length&&(ae=new ce(ae,ke,null,u,fe),de.push({event:ae,listeners:De}))}}if((o&7)===0){e:{if(ae=a==="mouseover"||a==="pointerover",ce=a==="mouseout"||a==="pointerout",ae&&u!==dw&&(ke=u.relatedTarget||u.fromElement)&&(gu(ke)||ke[pu]))break e;if((ce||ae)&&(ae=fe.window===fe?fe:(ae=fe.ownerDocument)?ae.defaultView||ae.parentWindow:window,ce?(ke=u.relatedTarget||u.toElement,ce=re,ke=ke?gu(ke):null,ke!==null&&(mt=s(ke),De=ke.tag,ke!==mt||De!==5&&De!==27&&De!==6)&&(ke=null)):(ce=null,ke=re),ce!==ke)){if(De=aS,he="onMouseLeave",te="onMouseEnter",X="mouse",(a==="pointerout"||a==="pointerover")&&(De=cS,he="onPointerLeave",te="onPointerEnter",X="pointer"),mt=ce==null?ae:td(ce),ne=ke==null?ae:td(ke),ae=new De(he,X+"leave",ce,u,fe),ae.target=mt,ae.relatedTarget=ne,he=null,gu(fe)===re&&(De=new De(te,X+"enter",ke,u,fe),De.target=ne,De.relatedTarget=mt,he=De),mt=he,ce&&ke)t:{for(De=ce,te=ke,X=0,ne=De;ne;ne=Yu(ne))X++;for(ne=0,he=te;he;he=Yu(he))ne++;for(;0<X-ne;)De=Yu(De),X--;for(;0<ne-X;)te=Yu(te),ne--;for(;X--;){if(De===te||te!==null&&De===te.alternate)break t;De=Yu(De),te=Yu(te)}De=null}else De=null;ce!==null&&W8(de,ae,ce,De,!1),ke!==null&&mt!==null&&W8(de,mt,ke,De,!0)}}e:{if(ae=re?td(re):window,ce=ae.nodeName&&ae.nodeName.toLowerCase(),ce==="select"||ce==="input"&&ae.type==="file")var Ce=mS;else if(pS(ae))if(yS)Ce=_U;else{Ce=AU;var Ve=EU}else ce=ae.nodeName,!ce||ce.toLowerCase()!=="input"||ae.type!=="checkbox"&&ae.type!=="radio"?re&&hw(re.elementType)&&(Ce=mS):Ce=SU;if(Ce&&(Ce=Ce(a,re))){gS(de,Ce,u,fe);break e}Ve&&Ve(a,ae,re),a==="focusout"&&re&&ae.type==="number"&&re.memoizedProps.value!=null&&fw(ae,"number",ae.value)}switch(Ve=re?td(re):window,a){case"focusin":(pS(Ve)||Ve.contentEditable==="true")&&(_u=Ve,Ow=re,ud=null);break;case"focusout":ud=Ow=_u=null;break;case"mousedown":Cw=!0;break;case"contextmenu":case"mouseup":case"dragend":Cw=!1,_S(de,u,fe);break;case"selectionchange":if(CU)break;case"keydown":case"keyup":_S(de,u,fe)}var Te;if(Ew)e:{switch(a){case"compositionstart":var Be="onCompositionStart";break e;case"compositionend":Be="onCompositionEnd";break e;case"compositionupdate":Be="onCompositionUpdate";break e}Be=void 0}else Su?hS(a,u)&&(Be="onCompositionEnd"):a==="keydown"&&u.keyCode===229&&(Be="onCompositionStart");Be&&(lS&&u.locale!=="ko"&&(Su||Be!=="onCompositionStart"?Be==="onCompositionEnd"&&Su&&(Te=iS()):(ro=fe,yw="value"in ro?ro.value:ro.textContent,Su=!0)),Ve=Q0(re,Be),0<Ve.length&&(Be=new oS(Be,a,null,u,fe),de.push({event:Be,listeners:Ve}),Te?Be.data=Te:(Te=dS(u),Te!==null&&(Be.data=Te)))),(Te=yU?bU(a,u):wU(a,u))&&(Be=Q0(re,"onBeforeInput"),0<Be.length&&(Ve=new oS("onBeforeInput","beforeinput",null,u,fe),de.push({event:Ve,listeners:Be}),Ve.data=Te)),l9(de,a,re,u,fe)}Y8(de,o)})}function Ld(a,o,u){return{instance:a,listener:o,currentTarget:u}}function Q0(a,o){for(var u=o+"Capture",d=[];a!==null;){var y=a,v=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||v===null||(y=nd(a,u),y!=null&&d.unshift(Ld(a,y,v)),y=nd(a,o),y!=null&&d.push(Ld(a,y,v))),a.tag===3)return d;a=a.return}return[]}function Yu(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function W8(a,o,u,d,y){for(var v=o._reactName,D=[];u!==null&&u!==d;){var j=u,Z=j.alternate,re=j.stateNode;if(j=j.tag,Z!==null&&Z===d)break;j!==5&&j!==26&&j!==27||re===null||(Z=re,y?(re=nd(u,v),re!=null&&D.unshift(Ld(u,re,Z))):y||(re=nd(u,v),re!=null&&D.push(Ld(u,re,Z)))),u=u.return}D.length!==0&&a.push({event:o,listeners:D})}var d9=/\r\n?/g,p9=/\u0000|\uFFFD/g;function J8(a){return(typeof a=="string"?a:""+a).replace(d9,`
`).replace(p9,"")}function X8(a,o){return o=J8(o),J8(a)===o}function Y0(){}function gt(a,o,u,d,y,v){switch(u){case"children":typeof d=="string"?o==="body"||o==="textarea"&&d===""||xu(a,d):(typeof d=="number"||typeof d=="bigint")&&o!=="body"&&xu(a,""+d);break;case"className":e0(a,"class",d);break;case"tabIndex":e0(a,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":e0(a,u,d);break;case"style":tS(a,d,v);break;case"data":if(o!=="object"){e0(a,"data",d);break}case"src":case"href":if(d===""&&(o!=="a"||u!=="href")){a.removeAttribute(u);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){a.removeAttribute(u);break}d=r0(""+d),a.setAttribute(u,d);break;case"action":case"formAction":if(typeof d=="function"){a.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(u==="formAction"?(o!=="input"&&gt(a,o,"name",y.name,y,null),gt(a,o,"formEncType",y.formEncType,y,null),gt(a,o,"formMethod",y.formMethod,y,null),gt(a,o,"formTarget",y.formTarget,y,null)):(gt(a,o,"encType",y.encType,y,null),gt(a,o,"method",y.method,y,null),gt(a,o,"target",y.target,y,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){a.removeAttribute(u);break}d=r0(""+d),a.setAttribute(u,d);break;case"onClick":d!=null&&(a.onclick=Y0);break;case"onScroll":d!=null&&Ze("scroll",a);break;case"onScrollEnd":d!=null&&Ze("scrollend",a);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(r(61));if(u=d.__html,u!=null){if(y.children!=null)throw Error(r(60));a.innerHTML=u}}break;case"multiple":a.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":a.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){a.removeAttribute("xlink:href");break}u=r0(""+d),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?a.setAttribute(u,""+d):a.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?a.setAttribute(u,""):a.removeAttribute(u);break;case"capture":case"download":d===!0?a.setAttribute(u,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?a.setAttribute(u,d):a.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?a.setAttribute(u,d):a.removeAttribute(u);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?a.removeAttribute(u):a.setAttribute(u,d);break;case"popover":Ze("beforetoggle",a),Ze("toggle",a),Xg(a,"popover",d);break;case"xlinkActuate":Fs(a,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":Fs(a,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":Fs(a,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":Fs(a,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":Fs(a,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":Fs(a,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":Fs(a,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":Fs(a,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":Fs(a,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":Xg(a,"is",d);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=q7.get(u)||u,Xg(a,u,d))}}function Z1(a,o,u,d,y,v){switch(u){case"style":tS(a,d,v);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(r(61));if(u=d.__html,u!=null){if(y.children!=null)throw Error(r(60));a.innerHTML=u}}break;case"children":typeof d=="string"?xu(a,d):(typeof d=="number"||typeof d=="bigint")&&xu(a,""+d);break;case"onScroll":d!=null&&Ze("scroll",a);break;case"onScrollEnd":d!=null&&Ze("scrollend",a);break;case"onClick":d!=null&&(a.onclick=Y0);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!qA.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(y=u.endsWith("Capture"),o=u.slice(2,y?u.length-7:void 0),v=a[hr]||null,v=v!=null?v[u]:null,typeof v=="function"&&a.removeEventListener(o,v,y),typeof d=="function")){typeof v!="function"&&v!==null&&(u in a?a[u]=null:a.hasAttribute(u)&&a.removeAttribute(u)),a.addEventListener(o,d,y);break e}u in a?a[u]=d:d===!0?a.setAttribute(u,""):Xg(a,u,d)}}}function Cn(a,o,u){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ze("error",a),Ze("load",a);var d=!1,y=!1,v;for(v in u)if(u.hasOwnProperty(v)){var D=u[v];if(D!=null)switch(v){case"src":d=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:gt(a,o,v,D,u,null)}}y&&gt(a,o,"srcSet",u.srcSet,u,null),d&&gt(a,o,"src",u.src,u,null);return;case"input":Ze("invalid",a);var j=v=D=y=null,Z=null,re=null;for(d in u)if(u.hasOwnProperty(d)){var fe=u[d];if(fe!=null)switch(d){case"name":y=fe;break;case"type":D=fe;break;case"checked":Z=fe;break;case"defaultChecked":re=fe;break;case"value":v=fe;break;case"defaultValue":j=fe;break;case"children":case"dangerouslySetInnerHTML":if(fe!=null)throw Error(r(137,o));break;default:gt(a,o,d,fe,u,null)}}WA(a,v,j,Z,re,D,y,!1),t0(a);return;case"select":Ze("invalid",a),d=D=v=null;for(y in u)if(u.hasOwnProperty(y)&&(j=u[y],j!=null))switch(y){case"value":v=j;break;case"defaultValue":D=j;break;case"multiple":d=j;default:gt(a,o,y,j,u,null)}o=v,u=D,a.multiple=!!d,o!=null?vu(a,!!d,o,!1):u!=null&&vu(a,!!d,u,!0);return;case"textarea":Ze("invalid",a),v=y=d=null;for(D in u)if(u.hasOwnProperty(D)&&(j=u[D],j!=null))switch(D){case"value":d=j;break;case"defaultValue":y=j;break;case"children":v=j;break;case"dangerouslySetInnerHTML":if(j!=null)throw Error(r(91));break;default:gt(a,o,D,j,u,null)}XA(a,d,y,v),t0(a);return;case"option":for(Z in u)if(u.hasOwnProperty(Z)&&(d=u[Z],d!=null))switch(Z){case"selected":a.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:gt(a,o,Z,d,u,null)}return;case"dialog":Ze("beforetoggle",a),Ze("toggle",a),Ze("cancel",a),Ze("close",a);break;case"iframe":case"object":Ze("load",a);break;case"video":case"audio":for(d=0;d<Md.length;d++)Ze(Md[d],a);break;case"image":Ze("error",a),Ze("load",a);break;case"details":Ze("toggle",a);break;case"embed":case"source":case"link":Ze("error",a),Ze("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(re in u)if(u.hasOwnProperty(re)&&(d=u[re],d!=null))switch(re){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:gt(a,o,re,d,u,null)}return;default:if(hw(o)){for(fe in u)u.hasOwnProperty(fe)&&(d=u[fe],d!==void 0&&Z1(a,o,fe,d,u,void 0));return}}for(j in u)u.hasOwnProperty(j)&&(d=u[j],d!=null&&gt(a,o,j,d,u,null))}function g9(a,o,u,d){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,v=null,D=null,j=null,Z=null,re=null,fe=null;for(ce in u){var de=u[ce];if(u.hasOwnProperty(ce)&&de!=null)switch(ce){case"checked":break;case"value":break;case"defaultValue":Z=de;default:d.hasOwnProperty(ce)||gt(a,o,ce,null,d,de)}}for(var ae in d){var ce=d[ae];if(de=u[ae],d.hasOwnProperty(ae)&&(ce!=null||de!=null))switch(ae){case"type":v=ce;break;case"name":y=ce;break;case"checked":re=ce;break;case"defaultChecked":fe=ce;break;case"value":D=ce;break;case"defaultValue":j=ce;break;case"children":case"dangerouslySetInnerHTML":if(ce!=null)throw Error(r(137,o));break;default:ce!==de&&gt(a,o,ae,ce,d,de)}}uw(a,D,j,Z,re,fe,v,y);return;case"select":ce=D=j=ae=null;for(v in u)if(Z=u[v],u.hasOwnProperty(v)&&Z!=null)switch(v){case"value":break;case"multiple":ce=Z;default:d.hasOwnProperty(v)||gt(a,o,v,null,d,Z)}for(y in d)if(v=d[y],Z=u[y],d.hasOwnProperty(y)&&(v!=null||Z!=null))switch(y){case"value":ae=v;break;case"defaultValue":j=v;break;case"multiple":D=v;default:v!==Z&&gt(a,o,y,v,d,Z)}o=j,u=D,d=ce,ae!=null?vu(a,!!u,ae,!1):!!d!=!!u&&(o!=null?vu(a,!!u,o,!0):vu(a,!!u,u?[]:"",!1));return;case"textarea":ce=ae=null;for(j in u)if(y=u[j],u.hasOwnProperty(j)&&y!=null&&!d.hasOwnProperty(j))switch(j){case"value":break;case"children":break;default:gt(a,o,j,null,d,y)}for(D in d)if(y=d[D],v=u[D],d.hasOwnProperty(D)&&(y!=null||v!=null))switch(D){case"value":ae=y;break;case"defaultValue":ce=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(r(91));break;default:y!==v&&gt(a,o,D,y,d,v)}JA(a,ae,ce);return;case"option":for(var ke in u)if(ae=u[ke],u.hasOwnProperty(ke)&&ae!=null&&!d.hasOwnProperty(ke))switch(ke){case"selected":a.selected=!1;break;default:gt(a,o,ke,null,d,ae)}for(Z in d)if(ae=d[Z],ce=u[Z],d.hasOwnProperty(Z)&&ae!==ce&&(ae!=null||ce!=null))switch(Z){case"selected":a.selected=ae&&typeof ae!="function"&&typeof ae!="symbol";break;default:gt(a,o,Z,ae,d,ce)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var De in u)ae=u[De],u.hasOwnProperty(De)&&ae!=null&&!d.hasOwnProperty(De)&&gt(a,o,De,null,d,ae);for(re in d)if(ae=d[re],ce=u[re],d.hasOwnProperty(re)&&ae!==ce&&(ae!=null||ce!=null))switch(re){case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(r(137,o));break;default:gt(a,o,re,ae,d,ce)}return;default:if(hw(o)){for(var mt in u)ae=u[mt],u.hasOwnProperty(mt)&&ae!==void 0&&!d.hasOwnProperty(mt)&&Z1(a,o,mt,void 0,d,ae);for(fe in d)ae=d[fe],ce=u[fe],!d.hasOwnProperty(fe)||ae===ce||ae===void 0&&ce===void 0||Z1(a,o,fe,ae,d,ce);return}}for(var te in u)ae=u[te],u.hasOwnProperty(te)&&ae!=null&&!d.hasOwnProperty(te)&&gt(a,o,te,null,d,ae);for(de in d)ae=d[de],ce=u[de],!d.hasOwnProperty(de)||ae===ce||ae==null&&ce==null||gt(a,o,de,ae,d,ce)}var W1=null,J1=null;function Z0(a){return a.nodeType===9?a:a.ownerDocument}function e4(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function t4(a,o){if(a===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&o==="foreignObject"?0:a}function X1(a,o){return a==="textarea"||a==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var ev=null;function m9(){var a=window.event;return a&&a.type==="popstate"?a===ev?!1:(ev=a,!0):(ev=null,!1)}var n4=typeof setTimeout=="function"?setTimeout:void 0,y9=typeof clearTimeout=="function"?clearTimeout:void 0,r4=typeof Promise=="function"?Promise:void 0,b9=typeof queueMicrotask=="function"?queueMicrotask:typeof r4<"u"?function(a){return r4.resolve(null).then(a).catch(w9)}:n4;function w9(a){setTimeout(function(){throw a})}function vo(a){return a==="head"}function i4(a,o){var u=o,d=0,y=0;do{var v=u.nextSibling;if(a.removeChild(u),v&&v.nodeType===8)if(u=v.data,u==="/$"){if(0<d&&8>d){u=d;var D=a.ownerDocument;if(u&1&&$d(D.documentElement),u&2&&$d(D.body),u&4)for(u=D.head,$d(u),D=u.firstChild;D;){var j=D.nextSibling,Z=D.nodeName;D[ed]||Z==="SCRIPT"||Z==="STYLE"||Z==="LINK"&&D.rel.toLowerCase()==="stylesheet"||u.removeChild(D),D=j}}if(y===0){a.removeChild(v),Kd(o);return}y--}else u==="$"||u==="$?"||u==="$!"?y++:d=u.charCodeAt(0)-48;else d=0;u=v}while(u);Kd(o)}function tv(a){var o=a.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var u=o;switch(o=o.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":tv(u),aw(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}a.removeChild(u)}}function v9(a,o,u,d){for(;a.nodeType===1;){var y=u;if(a.nodeName.toLowerCase()!==o.toLowerCase()){if(!d&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(d){if(!a[ed])switch(o){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(v=a.getAttribute("rel"),v==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(v!==y.rel||a.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||a.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||a.getAttribute("title")!==(y.title==null?null:y.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(v=a.getAttribute("src"),(v!==(y.src==null?null:y.src)||a.getAttribute("type")!==(y.type==null?null:y.type)||a.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&v&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(o==="input"&&a.type==="hidden"){var v=y.name==null?null:""+y.name;if(y.type==="hidden"&&a.getAttribute("name")===v)return a}else return a;if(a=ki(a.nextSibling),a===null)break}return null}function x9(a,o,u){if(o==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!u||(a=ki(a.nextSibling),a===null))return null;return a}function nv(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState==="complete"}function E9(a,o){var u=a.ownerDocument;if(a.data!=="$?"||u.readyState==="complete")o();else{var d=function(){o(),u.removeEventListener("DOMContentLoaded",d)};u.addEventListener("DOMContentLoaded",d),a._reactRetry=d}}function ki(a){for(;a!=null;a=a.nextSibling){var o=a.nodeType;if(o===1||o===3)break;if(o===8){if(o=a.data,o==="$"||o==="$!"||o==="$?"||o==="F!"||o==="F")break;if(o==="/$")return null}}return a}var rv=null;function s4(a){a=a.previousSibling;for(var o=0;a;){if(a.nodeType===8){var u=a.data;if(u==="$"||u==="$!"||u==="$?"){if(o===0)return a;o--}else u==="/$"&&o++}a=a.previousSibling}return null}function a4(a,o,u){switch(o=Z0(u),a){case"html":if(a=o.documentElement,!a)throw Error(r(452));return a;case"head":if(a=o.head,!a)throw Error(r(453));return a;case"body":if(a=o.body,!a)throw Error(r(454));return a;default:throw Error(r(451))}}function $d(a){for(var o=a.attributes;o.length;)a.removeAttributeNode(o[0]);aw(a)}var ui=new Map,o4=new Set;function W0(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var ra=P.d;P.d={f:A9,r:S9,D:_9,C:O9,L:C9,m:N9,X:T9,S:I9,M:D9};function A9(){var a=ra.f(),o=H0();return a||o}function S9(a){var o=mu(a);o!==null&&o.tag===5&&o.type==="form"?C_(o):ra.r(a)}var Zu=typeof document>"u"?null:document;function c4(a,o,u){var d=Zu;if(d&&typeof o=="string"&&o){var y=ri(o);y='link[rel="'+a+'"][href="'+y+'"]',typeof u=="string"&&(y+='[crossorigin="'+u+'"]'),o4.has(y)||(o4.add(y),a={rel:a,crossOrigin:u,href:o},d.querySelector(y)===null&&(o=d.createElement("link"),Cn(o,"link",a),hn(o),d.head.appendChild(o)))}}function _9(a){ra.D(a),c4("dns-prefetch",a,null)}function O9(a,o){ra.C(a,o),c4("preconnect",a,o)}function C9(a,o,u){ra.L(a,o,u);var d=Zu;if(d&&a&&o){var y='link[rel="preload"][as="'+ri(o)+'"]';o==="image"&&u&&u.imageSrcSet?(y+='[imagesrcset="'+ri(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(y+='[imagesizes="'+ri(u.imageSizes)+'"]')):y+='[href="'+ri(a)+'"]';var v=y;switch(o){case"style":v=Wu(a);break;case"script":v=Ju(a)}ui.has(v)||(a=p({rel:"preload",href:o==="image"&&u&&u.imageSrcSet?void 0:a,as:o},u),ui.set(v,a),d.querySelector(y)!==null||o==="style"&&d.querySelector(jd(v))||o==="script"&&d.querySelector(zd(v))||(o=d.createElement("link"),Cn(o,"link",a),hn(o),d.head.appendChild(o)))}}function N9(a,o){ra.m(a,o);var u=Zu;if(u&&a){var d=o&&typeof o.as=="string"?o.as:"script",y='link[rel="modulepreload"][as="'+ri(d)+'"][href="'+ri(a)+'"]',v=y;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=Ju(a)}if(!ui.has(v)&&(a=p({rel:"modulepreload",href:a},o),ui.set(v,a),u.querySelector(y)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(zd(v)))return}d=u.createElement("link"),Cn(d,"link",a),hn(d),u.head.appendChild(d)}}}function I9(a,o,u){ra.S(a,o,u);var d=Zu;if(d&&a){var y=yu(d).hoistableStyles,v=Wu(a);o=o||"default";var D=y.get(v);if(!D){var j={loading:0,preload:null};if(D=d.querySelector(jd(v)))j.loading=5;else{a=p({rel:"stylesheet",href:a,"data-precedence":o},u),(u=ui.get(v))&&iv(a,u);var Z=D=d.createElement("link");hn(Z),Cn(Z,"link",a),Z._p=new Promise(function(re,fe){Z.onload=re,Z.onerror=fe}),Z.addEventListener("load",function(){j.loading|=1}),Z.addEventListener("error",function(){j.loading|=2}),j.loading|=4,J0(D,o,d)}D={type:"stylesheet",instance:D,count:1,state:j},y.set(v,D)}}}function T9(a,o){ra.X(a,o);var u=Zu;if(u&&a){var d=yu(u).hoistableScripts,y=Ju(a),v=d.get(y);v||(v=u.querySelector(zd(y)),v||(a=p({src:a,async:!0},o),(o=ui.get(y))&&sv(a,o),v=u.createElement("script"),hn(v),Cn(v,"link",a),u.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},d.set(y,v))}}function D9(a,o){ra.M(a,o);var u=Zu;if(u&&a){var d=yu(u).hoistableScripts,y=Ju(a),v=d.get(y);v||(v=u.querySelector(zd(y)),v||(a=p({src:a,async:!0,type:"module"},o),(o=ui.get(y))&&sv(a,o),v=u.createElement("script"),hn(v),Cn(v,"link",a),u.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},d.set(y,v))}}function l4(a,o,u,d){var y=(y=ue.current)?W0(y):null;if(!y)throw Error(r(446));switch(a){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(o=Wu(u.href),u=yu(y).hoistableStyles,d=u.get(o),d||(d={type:"style",instance:null,count:0,state:null},u.set(o,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){a=Wu(u.href);var v=yu(y).hoistableStyles,D=v.get(a);if(D||(y=y.ownerDocument||y,D={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(a,D),(v=y.querySelector(jd(a)))&&!v._p&&(D.instance=v,D.state.loading=5),ui.has(a)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},ui.set(a,u),v||R9(y,a,u,D.state))),o&&d===null)throw Error(r(528,""));return D}if(o&&d!==null)throw Error(r(529,""));return null;case"script":return o=u.async,u=u.src,typeof u=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Ju(u),u=yu(y).hoistableScripts,d=u.get(o),d||(d={type:"script",instance:null,count:0,state:null},u.set(o,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,a))}}function Wu(a){return'href="'+ri(a)+'"'}function jd(a){return'link[rel="stylesheet"]['+a+"]"}function u4(a){return p({},a,{"data-precedence":a.precedence,precedence:null})}function R9(a,o,u,d){a.querySelector('link[rel="preload"][as="style"]['+o+"]")?d.loading=1:(o=a.createElement("link"),d.preload=o,o.addEventListener("load",function(){return d.loading|=1}),o.addEventListener("error",function(){return d.loading|=2}),Cn(o,"link",u),hn(o),a.head.appendChild(o))}function Ju(a){return'[src="'+ri(a)+'"]'}function zd(a){return"script[async]"+a}function f4(a,o,u){if(o.count++,o.instance===null)switch(o.type){case"style":var d=a.querySelector('style[data-href~="'+ri(u.href)+'"]');if(d)return o.instance=d,hn(d),d;var y=p({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return d=(a.ownerDocument||a).createElement("style"),hn(d),Cn(d,"style",y),J0(d,u.precedence,a),o.instance=d;case"stylesheet":y=Wu(u.href);var v=a.querySelector(jd(y));if(v)return o.state.loading|=4,o.instance=v,hn(v),v;d=u4(u),(y=ui.get(y))&&iv(d,y),v=(a.ownerDocument||a).createElement("link"),hn(v);var D=v;return D._p=new Promise(function(j,Z){D.onload=j,D.onerror=Z}),Cn(v,"link",d),o.state.loading|=4,J0(v,u.precedence,a),o.instance=v;case"script":return v=Ju(u.src),(y=a.querySelector(zd(v)))?(o.instance=y,hn(y),y):(d=u,(y=ui.get(v))&&(d=p({},u),sv(d,y)),a=a.ownerDocument||a,y=a.createElement("script"),hn(y),Cn(y,"link",d),a.head.appendChild(y),o.instance=y);case"void":return null;default:throw Error(r(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(d=o.instance,o.state.loading|=4,J0(d,u.precedence,a));return o.instance}function J0(a,o,u){for(var d=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=d.length?d[d.length-1]:null,v=y,D=0;D<d.length;D++){var j=d[D];if(j.dataset.precedence===o)v=j;else if(v!==y)break}v?v.parentNode.insertBefore(a,v.nextSibling):(o=u.nodeType===9?u.head:u,o.insertBefore(a,o.firstChild))}function iv(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.title==null&&(a.title=o.title)}function sv(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.integrity==null&&(a.integrity=o.integrity)}var X0=null;function h4(a,o,u){if(X0===null){var d=new Map,y=X0=new Map;y.set(u,d)}else y=X0,d=y.get(u),d||(d=new Map,y.set(u,d));if(d.has(a))return d;for(d.set(a,null),u=u.getElementsByTagName(a),y=0;y<u.length;y++){var v=u[y];if(!(v[ed]||v[jn]||a==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var D=v.getAttribute(o)||"";D=a+D;var j=d.get(D);j?j.push(v):d.set(D,[v])}}return d}function d4(a,o,u){a=a.ownerDocument||a,a.head.insertBefore(u,o==="title"?a.querySelector("head > title"):null)}function B9(a,o,u){if(u===1||o.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return a=o.disabled,typeof o.precedence=="string"&&a==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function p4(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}var Hd=null;function k9(){}function P9(a,o,u){if(Hd===null)throw Error(r(475));var d=Hd;if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var y=Wu(u.href),v=a.querySelector(jd(y));if(v){a=v._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(d.count++,d=em.bind(d),a.then(d,d)),o.state.loading|=4,o.instance=v,hn(v);return}v=a.ownerDocument||a,u=u4(u),(y=ui.get(y))&&iv(u,y),v=v.createElement("link"),hn(v);var D=v;D._p=new Promise(function(j,Z){D.onload=j,D.onerror=Z}),Cn(v,"link",u),o.instance=v}d.stylesheets===null&&(d.stylesheets=new Map),d.stylesheets.set(o,a),(a=o.state.preload)&&(o.state.loading&3)===0&&(d.count++,o=em.bind(d),a.addEventListener("load",o),a.addEventListener("error",o))}}function U9(){if(Hd===null)throw Error(r(475));var a=Hd;return a.stylesheets&&a.count===0&&av(a,a.stylesheets),0<a.count?function(o){var u=setTimeout(function(){if(a.stylesheets&&av(a,a.stylesheets),a.unsuspend){var d=a.unsuspend;a.unsuspend=null,d()}},6e4);return a.unsuspend=o,function(){a.unsuspend=null,clearTimeout(u)}}:null}function em(){if(this.count--,this.count===0){if(this.stylesheets)av(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var tm=null;function av(a,o){a.stylesheets=null,a.unsuspend!==null&&(a.count++,tm=new Map,o.forEach(M9,a),tm=null,em.call(a))}function M9(a,o){if(!(o.state.loading&4)){var u=tm.get(a);if(u)var d=u.get(null);else{u=new Map,tm.set(a,u);for(var y=a.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<y.length;v++){var D=y[v];(D.nodeName==="LINK"||D.getAttribute("media")!=="not all")&&(u.set(D.dataset.precedence,D),d=D)}d&&u.set(null,d)}y=o.instance,D=y.getAttribute("data-precedence"),v=u.get(D)||d,v===d&&u.set(null,y),u.set(D,y),this.count++,d=em.bind(this),y.addEventListener("load",d),y.addEventListener("error",d),v?v.parentNode.insertBefore(y,v.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(y,a.firstChild)),o.state.loading|=4}}var Fd={$$typeof:_,Provider:null,Consumer:null,_currentValue:$,_currentValue2:$,_threadCount:0};function L9(a,o,u,d,y,v,D,j){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=nw(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=nw(0),this.hiddenUpdates=nw(null),this.identifierPrefix=d,this.onUncaughtError=y,this.onCaughtError=v,this.onRecoverableError=D,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=j,this.incompleteTransitions=new Map}function g4(a,o,u,d,y,v,D,j,Z,re,fe,de){return a=new L9(a,o,u,D,j,Z,re,de),o=1,v===!0&&(o|=24),v=Pr(3,null,null,o),a.current=v,v.stateNode=a,o=zw(),o.refCount++,a.pooledCache=o,o.refCount++,v.memoizedState={element:d,isDehydrated:u,cache:o},Vw(v),a}function m4(a){return a?(a=Iu,a):Iu}function y4(a,o,u,d,y,v){y=m4(y),d.context===null?d.context=y:d.pendingContext=y,d=ao(o),d.payload={element:u},v=v===void 0?null:v,v!==null&&(d.callback=v),u=oo(a,d,o),u!==null&&(jr(u,a,o),wd(u,a,o))}function b4(a,o){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var u=a.retryLane;a.retryLane=u!==0&&u<o?u:o}}function ov(a,o){b4(a,o),(a=a.alternate)&&b4(a,o)}function w4(a){if(a.tag===13){var o=Nu(a,67108864);o!==null&&jr(o,a,67108864),ov(a,67108864)}}var nm=!0;function $9(a,o,u,d){var y=E.T;E.T=null;var v=P.p;try{P.p=2,cv(a,o,u,d)}finally{P.p=v,E.T=y}}function j9(a,o,u,d){var y=E.T;E.T=null;var v=P.p;try{P.p=8,cv(a,o,u,d)}finally{P.p=v,E.T=y}}function cv(a,o,u,d){if(nm){var y=lv(d);if(y===null)Y1(a,o,d,rm,u),x4(a,d);else if(H9(y,a,o,u,d))d.stopPropagation();else if(x4(a,d),o&4&&-1<z9.indexOf(a)){for(;y!==null;){var v=mu(y);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var D=Nc(v.pendingLanes);if(D!==0){var j=v;for(j.pendingLanes|=2,j.entangledLanes|=2;D;){var Z=1<<31-er(D);j.entanglements[1]|=Z,D&=~Z}os(v),(ft&6)===0&&(j0=fn()+500,Ud(0))}}break;case 13:j=Nu(v,2),j!==null&&jr(j,v,2),H0(),ov(v,2)}if(v=lv(d),v===null&&Y1(a,o,d,rm,u),v===y)break;y=v}y!==null&&d.stopPropagation()}else Y1(a,o,d,null,u)}}function lv(a){return a=pw(a),uv(a)}var rm=null;function uv(a){if(rm=null,a=gu(a),a!==null){var o=s(a);if(o===null)a=null;else{var u=o.tag;if(u===13){if(a=c(o),a!==null)return a;a=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;a=null}else o!==a&&(a=null)}}return rm=a,null}function v4(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Xa()){case Yh:return 2;case Zh:return 8;case eo:case Kg:return 32;case Wh:return 268435456;default:return 32}default:return 32}}var fv=!1,xo=null,Eo=null,Ao=null,qd=new Map,Vd=new Map,So=[],z9="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function x4(a,o){switch(a){case"focusin":case"focusout":xo=null;break;case"dragenter":case"dragleave":Eo=null;break;case"mouseover":case"mouseout":Ao=null;break;case"pointerover":case"pointerout":qd.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vd.delete(o.pointerId)}}function Gd(a,o,u,d,y,v){return a===null||a.nativeEvent!==v?(a={blockedOn:o,domEventName:u,eventSystemFlags:d,nativeEvent:v,targetContainers:[y]},o!==null&&(o=mu(o),o!==null&&w4(o)),a):(a.eventSystemFlags|=d,o=a.targetContainers,y!==null&&o.indexOf(y)===-1&&o.push(y),a)}function H9(a,o,u,d,y){switch(o){case"focusin":return xo=Gd(xo,a,o,u,d,y),!0;case"dragenter":return Eo=Gd(Eo,a,o,u,d,y),!0;case"mouseover":return Ao=Gd(Ao,a,o,u,d,y),!0;case"pointerover":var v=y.pointerId;return qd.set(v,Gd(qd.get(v)||null,a,o,u,d,y)),!0;case"gotpointercapture":return v=y.pointerId,Vd.set(v,Gd(Vd.get(v)||null,a,o,u,d,y)),!0}return!1}function E4(a){var o=gu(a.target);if(o!==null){var u=s(o);if(u!==null){if(o=u.tag,o===13){if(o=c(u),o!==null){a.blockedOn=o,P7(a.priority,function(){if(u.tag===13){var d=$r();d=rw(d);var y=Nu(u,d);y!==null&&jr(y,u,d),ov(u,d)}});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){a.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}a.blockedOn=null}function im(a){if(a.blockedOn!==null)return!1;for(var o=a.targetContainers;0<o.length;){var u=lv(a.nativeEvent);if(u===null){u=a.nativeEvent;var d=new u.constructor(u.type,u);dw=d,u.target.dispatchEvent(d),dw=null}else return o=mu(u),o!==null&&w4(o),a.blockedOn=u,!1;o.shift()}return!0}function A4(a,o,u){im(a)&&u.delete(o)}function F9(){fv=!1,xo!==null&&im(xo)&&(xo=null),Eo!==null&&im(Eo)&&(Eo=null),Ao!==null&&im(Ao)&&(Ao=null),qd.forEach(A4),Vd.forEach(A4)}function sm(a,o){a.blockedOn===o&&(a.blockedOn=null,fv||(fv=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,F9)))}var am=null;function S4(a){am!==a&&(am=a,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){am===a&&(am=null);for(var o=0;o<a.length;o+=3){var u=a[o],d=a[o+1],y=a[o+2];if(typeof d!="function"){if(uv(d||u)===null)continue;break}var v=mu(u);v!==null&&(a.splice(o,3),o-=3,u1(v,{pending:!0,data:y,method:u.method,action:d},d,y))}}))}function Kd(a){function o(Z){return sm(Z,a)}xo!==null&&sm(xo,a),Eo!==null&&sm(Eo,a),Ao!==null&&sm(Ao,a),qd.forEach(o),Vd.forEach(o);for(var u=0;u<So.length;u++){var d=So[u];d.blockedOn===a&&(d.blockedOn=null)}for(;0<So.length&&(u=So[0],u.blockedOn===null);)E4(u),u.blockedOn===null&&So.shift();if(u=(a.ownerDocument||a).$$reactFormReplay,u!=null)for(d=0;d<u.length;d+=3){var y=u[d],v=u[d+1],D=y[hr]||null;if(typeof v=="function")D||S4(u);else if(D){var j=null;if(v&&v.hasAttribute("formAction")){if(y=v,D=v[hr]||null)j=D.formAction;else if(uv(y)!==null)continue}else j=D.action;typeof j=="function"?u[d+1]=j:(u.splice(d,3),d-=3),S4(u)}}}function hv(a){this._internalRoot=a}om.prototype.render=hv.prototype.render=function(a){var o=this._internalRoot;if(o===null)throw Error(r(409));var u=o.current,d=$r();y4(u,d,a,o,null,null)},om.prototype.unmount=hv.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var o=a.containerInfo;y4(a.current,2,null,a,null,null),H0(),o[pu]=null}};function om(a){this._internalRoot=a}om.prototype.unstable_scheduleHydration=function(a){if(a){var o=zA();a={blockedOn:null,target:a,priority:o};for(var u=0;u<So.length&&o!==0&&o<So[u].priority;u++);So.splice(u,0,a),u===0&&E4(a)}};var _4=e.version;if(_4!=="19.1.1")throw Error(r(527,_4,"19.1.1"));P.findDOMNode=function(a){var o=a._reactInternals;if(o===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=f(o),a=a!==null?h(a):null,a=a===null?null:a.stateNode,a};var q9={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:E,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var cm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cm.isDisabled&&cm.supportsFiber)try{to=cm.inject(q9),Xn=cm}catch{}}return Zd.createRoot=function(a,o){if(!i(a))throw Error(r(299));var u=!1,d="",y=z_,v=H_,D=F_,j=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(v=o.onCaughtError),o.onRecoverableError!==void 0&&(D=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(j=o.unstable_transitionCallbacks)),o=g4(a,1,!1,null,null,u,d,y,v,D,j,null),a[pu]=o.current,Q1(a),new hv(o)},Zd.hydrateRoot=function(a,o,u){if(!i(a))throw Error(r(299));var d=!1,y="",v=z_,D=H_,j=F_,Z=null,re=null;return u!=null&&(u.unstable_strictMode===!0&&(d=!0),u.identifierPrefix!==void 0&&(y=u.identifierPrefix),u.onUncaughtError!==void 0&&(v=u.onUncaughtError),u.onCaughtError!==void 0&&(D=u.onCaughtError),u.onRecoverableError!==void 0&&(j=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(Z=u.unstable_transitionCallbacks),u.formState!==void 0&&(re=u.formState)),o=g4(a,1,!0,o,u??null,d,y,v,D,j,Z,re),o.context=m4(null),u=o.current,d=$r(),d=rw(d),y=ao(d),y.callback=null,oo(u,y,d),u=d,o.current.lanes=u,Xh(o,u),os(o),a[pu]=o.current,Q1(a),new om(o)},Zd.version="19.1.1",Zd}var U4;function nM(){if(U4)return mv.exports;U4=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),mv.exports=tM(),mv.exports}var rM=nM();function M4(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function iM(...n){return e=>{let t=!1;const r=n.map(i=>{const s=M4(i,e);return!t&&typeof s=="function"&&(t=!0),s});if(t)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():M4(n[i],null)}}}}function sM(n){const e=oM(n),t=oe.forwardRef((r,i)=>{const{children:s,...c}=r,l=oe.Children.toArray(s),f=l.find(lM);if(f){const h=f.props.children,p=l.map(g=>g===f?oe.Children.count(h)>1?oe.Children.only(null):oe.isValidElement(h)?h.props.children:null:g);return B.jsx(e,{...c,ref:i,children:oe.isValidElement(h)?oe.cloneElement(h,void 0,p):null})}return B.jsx(e,{...c,ref:i,children:s})});return t.displayName=`${n}.Slot`,t}var aM=sM("Slot");function oM(n){const e=oe.forwardRef((t,r)=>{const{children:i,...s}=t;if(oe.isValidElement(i)){const c=fM(i),l=uM(s,i.props);return i.type!==oe.Fragment&&(l.ref=r?iM(r,c):c),oe.cloneElement(i,l)}return oe.Children.count(i)>1?oe.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var cM=Symbol("radix.slottable");function lM(n){return oe.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===cM}function uM(n,e){const t={...e};for(const r in e){const i=n[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?t[r]=(...l)=>{const f=s(...l);return i(...l),f}:i&&(t[r]=i):r==="style"?t[r]={...i,...s}:r==="className"&&(t[r]=[i,s].filter(Boolean).join(" "))}return{...n,...t}}function fM(n){var r,i;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(i=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function kI(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=kI(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function PI(){for(var n,e,t=0,r="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=kI(n))&&(r&&(r+=" "),r+=e);return r}const L4=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,$4=PI,hM=(n,e)=>t=>{var r;if((e==null?void 0:e.variants)==null)return $4(n,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:i,defaultVariants:s}=e,c=Object.keys(i).map(h=>{const p=t==null?void 0:t[h],g=s==null?void 0:s[h];if(p===null)return null;const m=L4(p)||L4(g);return i[h][m]}),l=t&&Object.entries(t).reduce((h,p)=>{let[g,m]=p;return m===void 0||(h[g]=m),h},{}),f=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((h,p)=>{let{class:g,className:m,...b}=p;return Object.entries(b).every(w=>{let[x,S]=w;return Array.isArray(S)?S.includes({...s,...l}[x]):{...s,...l}[x]===S})?[...h,g,m]:h},[]);return $4(n,c,f,t==null?void 0:t.class,t==null?void 0:t.className)},u3="-",dM=n=>{const e=gM(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:r}=n;return{getClassGroupId:c=>{const l=c.split(u3);return l[0]===""&&l.length!==1&&l.shift(),UI(l,e)||pM(c)},getConflictingClassGroupIds:(c,l)=>{const f=t[c]||[];return l&&r[c]?[...f,...r[c]]:f}}},UI=(n,e)=>{var c;if(n.length===0)return e.classGroupId;const t=n[0],r=e.nextPart.get(t),i=r?UI(n.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=n.join(u3);return(c=e.validators.find(({validator:l})=>l(s)))==null?void 0:c.classGroupId},j4=/^\[(.+)\]$/,pM=n=>{if(j4.test(n)){const e=j4.exec(n)[1],t=e==null?void 0:e.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},gM=n=>{const{theme:e,classGroups:t}=n,r={nextPart:new Map,validators:[]};for(const i in t)cx(t[i],r,i,e);return r},cx=(n,e,t,r)=>{n.forEach(i=>{if(typeof i=="string"){const s=i===""?e:z4(e,i);s.classGroupId=t;return}if(typeof i=="function"){if(mM(i)){cx(i(r),e,t,r);return}e.validators.push({validator:i,classGroupId:t});return}Object.entries(i).forEach(([s,c])=>{cx(c,z4(e,s),t,r)})})},z4=(n,e)=>{let t=n;return e.split(u3).forEach(r=>{t.nextPart.has(r)||t.nextPart.set(r,{nextPart:new Map,validators:[]}),t=t.nextPart.get(r)}),t},mM=n=>n.isThemeGetter,yM=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,r=new Map;const i=(s,c)=>{t.set(s,c),e++,e>n&&(e=0,r=t,t=new Map)};return{get(s){let c=t.get(s);if(c!==void 0)return c;if((c=r.get(s))!==void 0)return i(s,c),c},set(s,c){t.has(s)?t.set(s,c):i(s,c)}}},lx="!",ux=":",bM=ux.length,wM=n=>{const{prefix:e,experimentalParseClassName:t}=n;let r=i=>{const s=[];let c=0,l=0,f=0,h;for(let w=0;w<i.length;w++){let x=i[w];if(c===0&&l===0){if(x===ux){s.push(i.slice(f,w)),f=w+bM;continue}if(x==="/"){h=w;continue}}x==="["?c++:x==="]"?c--:x==="("?l++:x===")"&&l--}const p=s.length===0?i:i.substring(f),g=vM(p),m=g!==p,b=h&&h>f?h-f:void 0;return{modifiers:s,hasImportantModifier:m,baseClassName:g,maybePostfixModifierPosition:b}};if(e){const i=e+ux,s=r;r=c=>c.startsWith(i)?s(c.substring(i.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:c,maybePostfixModifierPosition:void 0}}if(t){const i=r;r=s=>t({className:s,parseClassName:i})}return r},vM=n=>n.endsWith(lx)?n.substring(0,n.length-1):n.startsWith(lx)?n.substring(1):n,xM=n=>{const e=Object.fromEntries(n.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const i=[];let s=[];return r.forEach(c=>{c[0]==="["||e[c]?(i.push(...s.sort(),c),s=[]):s.push(c)}),i.push(...s.sort()),i}},EM=n=>({cache:yM(n.cacheSize),parseClassName:wM(n),sortModifiers:xM(n),...dM(n)}),AM=/\s+/,SM=(n,e)=>{const{parseClassName:t,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:s}=e,c=[],l=n.trim().split(AM);let f="";for(let h=l.length-1;h>=0;h-=1){const p=l[h],{isExternal:g,modifiers:m,hasImportantModifier:b,baseClassName:w,maybePostfixModifierPosition:x}=t(p);if(g){f=p+(f.length>0?" "+f:f);continue}let S=!!x,O=r(S?w.substring(0,x):w);if(!O){if(!S){f=p+(f.length>0?" "+f:f);continue}if(O=r(w),!O){f=p+(f.length>0?" "+f:f);continue}S=!1}const T=s(m).join(":"),_=b?T+lx:T,I=_+O;if(c.includes(I))continue;c.push(I);const N=i(O,S);for(let U=0;U<N.length;++U){const z=N[U];c.push(_+z)}f=p+(f.length>0?" "+f:f)}return f};function _M(){let n=0,e,t,r="";for(;n<arguments.length;)(e=arguments[n++])&&(t=MI(e))&&(r&&(r+=" "),r+=t);return r}const MI=n=>{if(typeof n=="string")return n;let e,t="";for(let r=0;r<n.length;r++)n[r]&&(e=MI(n[r]))&&(t&&(t+=" "),t+=e);return t};function OM(n,...e){let t,r,i,s=c;function c(f){const h=e.reduce((p,g)=>g(p),n());return t=EM(h),r=t.cache.get,i=t.cache.set,s=l,l(f)}function l(f){const h=r(f);if(h)return h;const p=SM(f,t);return i(f,p),p}return function(){return s(_M.apply(null,arguments))}}const an=n=>{const e=t=>t[n]||[];return e.isThemeGetter=!0,e},LI=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,$I=/^\((?:(\w[\w-]*):)?(.+)\)$/i,CM=/^\d+\/\d+$/,NM=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,IM=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,TM=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,DM=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,RM=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Xu=n=>CM.test(n),Fe=n=>!!n&&!Number.isNaN(Number(n)),Oo=n=>!!n&&Number.isInteger(Number(n)),vv=n=>n.endsWith("%")&&Fe(n.slice(0,-1)),ia=n=>NM.test(n),BM=()=>!0,kM=n=>IM.test(n)&&!TM.test(n),jI=()=>!1,PM=n=>DM.test(n),UM=n=>RM.test(n),MM=n=>!Ne(n)&&!Ie(n),LM=n=>$h(n,FI,jI),Ne=n=>LI.test(n),Gc=n=>$h(n,qI,kM),xv=n=>$h(n,FM,Fe),H4=n=>$h(n,zI,jI),$M=n=>$h(n,HI,UM),lm=n=>$h(n,VI,PM),Ie=n=>$I.test(n),Wd=n=>jh(n,qI),jM=n=>jh(n,qM),F4=n=>jh(n,zI),zM=n=>jh(n,FI),HM=n=>jh(n,HI),um=n=>jh(n,VI,!0),$h=(n,e,t)=>{const r=LI.exec(n);return r?r[1]?e(r[1]):t(r[2]):!1},jh=(n,e,t=!1)=>{const r=$I.exec(n);return r?r[1]?e(r[1]):t:!1},zI=n=>n==="position"||n==="percentage",HI=n=>n==="image"||n==="url",FI=n=>n==="length"||n==="size"||n==="bg-size",qI=n=>n==="length",FM=n=>n==="number",qM=n=>n==="family-name",VI=n=>n==="shadow",VM=()=>{const n=an("color"),e=an("font"),t=an("text"),r=an("font-weight"),i=an("tracking"),s=an("leading"),c=an("breakpoint"),l=an("container"),f=an("spacing"),h=an("radius"),p=an("shadow"),g=an("inset-shadow"),m=an("text-shadow"),b=an("drop-shadow"),w=an("blur"),x=an("perspective"),S=an("aspect"),O=an("ease"),T=an("animate"),_=()=>["auto","avoid","all","avoid-page","page","left","right","column"],I=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],N=()=>[...I(),Ie,Ne],U=()=>["auto","hidden","clip","visible","scroll"],z=()=>["auto","contain","none"],M=()=>[Ie,Ne,f],L=()=>[Xu,"full","auto",...M()],F=()=>[Oo,"none","subgrid",Ie,Ne],q=()=>["auto",{span:["full",Oo,Ie,Ne]},Oo,Ie,Ne],Q=()=>[Oo,"auto",Ie,Ne],G=()=>["auto","min","max","fr",Ie,Ne],W=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],A=()=>["start","end","center","stretch","center-safe","end-safe"],E=()=>["auto",...M()],P=()=>[Xu,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...M()],$=()=>[n,Ie,Ne],R=()=>[...I(),F4,H4,{position:[Ie,Ne]}],C=()=>["no-repeat",{repeat:["","x","y","space","round"]}],H=()=>["auto","cover","contain",zM,LM,{size:[Ie,Ne]}],K=()=>[vv,Wd,Gc],J=()=>["","none","full",h,Ie,Ne],Y=()=>["",Fe,Wd,Gc],se=()=>["solid","dashed","dotted","double"],ue=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ge=()=>[Fe,vv,F4,H4],xe=()=>["","none",w,Ie,Ne],be=()=>["none",Fe,Ie,Ne],Se=()=>["none",Fe,Ie,Ne],Pe=()=>[Fe,Ie,Ne],Me=()=>[Xu,"full",...M()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[ia],breakpoint:[ia],color:[BM],container:[ia],"drop-shadow":[ia],ease:["in","out","in-out"],font:[MM],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[ia],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[ia],shadow:[ia],spacing:["px",Fe],text:[ia],"text-shadow":[ia],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Xu,Ne,Ie,S]}],container:["container"],columns:[{columns:[Fe,Ne,Ie,l]}],"break-after":[{"break-after":_()}],"break-before":[{"break-before":_()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:N()}],overflow:[{overflow:U()}],"overflow-x":[{"overflow-x":U()}],"overflow-y":[{"overflow-y":U()}],overscroll:[{overscroll:z()}],"overscroll-x":[{"overscroll-x":z()}],"overscroll-y":[{"overscroll-y":z()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:L()}],"inset-x":[{"inset-x":L()}],"inset-y":[{"inset-y":L()}],start:[{start:L()}],end:[{end:L()}],top:[{top:L()}],right:[{right:L()}],bottom:[{bottom:L()}],left:[{left:L()}],visibility:["visible","invisible","collapse"],z:[{z:[Oo,"auto",Ie,Ne]}],basis:[{basis:[Xu,"full","auto",l,...M()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Fe,Xu,"auto","initial","none",Ne]}],grow:[{grow:["",Fe,Ie,Ne]}],shrink:[{shrink:["",Fe,Ie,Ne]}],order:[{order:[Oo,"first","last","none",Ie,Ne]}],"grid-cols":[{"grid-cols":F()}],"col-start-end":[{col:q()}],"col-start":[{"col-start":Q()}],"col-end":[{"col-end":Q()}],"grid-rows":[{"grid-rows":F()}],"row-start-end":[{row:q()}],"row-start":[{"row-start":Q()}],"row-end":[{"row-end":Q()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":G()}],"auto-rows":[{"auto-rows":G()}],gap:[{gap:M()}],"gap-x":[{"gap-x":M()}],"gap-y":[{"gap-y":M()}],"justify-content":[{justify:[...W(),"normal"]}],"justify-items":[{"justify-items":[...A(),"normal"]}],"justify-self":[{"justify-self":["auto",...A()]}],"align-content":[{content:["normal",...W()]}],"align-items":[{items:[...A(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...A(),{baseline:["","last"]}]}],"place-content":[{"place-content":W()}],"place-items":[{"place-items":[...A(),"baseline"]}],"place-self":[{"place-self":["auto",...A()]}],p:[{p:M()}],px:[{px:M()}],py:[{py:M()}],ps:[{ps:M()}],pe:[{pe:M()}],pt:[{pt:M()}],pr:[{pr:M()}],pb:[{pb:M()}],pl:[{pl:M()}],m:[{m:E()}],mx:[{mx:E()}],my:[{my:E()}],ms:[{ms:E()}],me:[{me:E()}],mt:[{mt:E()}],mr:[{mr:E()}],mb:[{mb:E()}],ml:[{ml:E()}],"space-x":[{"space-x":M()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":M()}],"space-y-reverse":["space-y-reverse"],size:[{size:P()}],w:[{w:[l,"screen",...P()]}],"min-w":[{"min-w":[l,"screen","none",...P()]}],"max-w":[{"max-w":[l,"screen","none","prose",{screen:[c]},...P()]}],h:[{h:["screen","lh",...P()]}],"min-h":[{"min-h":["screen","lh","none",...P()]}],"max-h":[{"max-h":["screen","lh",...P()]}],"font-size":[{text:["base",t,Wd,Gc]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Ie,xv]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",vv,Ne]}],"font-family":[{font:[jM,Ne,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,Ie,Ne]}],"line-clamp":[{"line-clamp":[Fe,"none",Ie,xv]}],leading:[{leading:[s,...M()]}],"list-image":[{"list-image":["none",Ie,Ne]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ie,Ne]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:$()}],"text-color":[{text:$()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...se(),"wavy"]}],"text-decoration-thickness":[{decoration:[Fe,"from-font","auto",Ie,Gc]}],"text-decoration-color":[{decoration:$()}],"underline-offset":[{"underline-offset":[Fe,"auto",Ie,Ne]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:M()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ie,Ne]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ie,Ne]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:R()}],"bg-repeat":[{bg:C()}],"bg-size":[{bg:H()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Oo,Ie,Ne],radial:["",Ie,Ne],conic:[Oo,Ie,Ne]},HM,$M]}],"bg-color":[{bg:$()}],"gradient-from-pos":[{from:K()}],"gradient-via-pos":[{via:K()}],"gradient-to-pos":[{to:K()}],"gradient-from":[{from:$()}],"gradient-via":[{via:$()}],"gradient-to":[{to:$()}],rounded:[{rounded:J()}],"rounded-s":[{"rounded-s":J()}],"rounded-e":[{"rounded-e":J()}],"rounded-t":[{"rounded-t":J()}],"rounded-r":[{"rounded-r":J()}],"rounded-b":[{"rounded-b":J()}],"rounded-l":[{"rounded-l":J()}],"rounded-ss":[{"rounded-ss":J()}],"rounded-se":[{"rounded-se":J()}],"rounded-ee":[{"rounded-ee":J()}],"rounded-es":[{"rounded-es":J()}],"rounded-tl":[{"rounded-tl":J()}],"rounded-tr":[{"rounded-tr":J()}],"rounded-br":[{"rounded-br":J()}],"rounded-bl":[{"rounded-bl":J()}],"border-w":[{border:Y()}],"border-w-x":[{"border-x":Y()}],"border-w-y":[{"border-y":Y()}],"border-w-s":[{"border-s":Y()}],"border-w-e":[{"border-e":Y()}],"border-w-t":[{"border-t":Y()}],"border-w-r":[{"border-r":Y()}],"border-w-b":[{"border-b":Y()}],"border-w-l":[{"border-l":Y()}],"divide-x":[{"divide-x":Y()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":Y()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...se(),"hidden","none"]}],"divide-style":[{divide:[...se(),"hidden","none"]}],"border-color":[{border:$()}],"border-color-x":[{"border-x":$()}],"border-color-y":[{"border-y":$()}],"border-color-s":[{"border-s":$()}],"border-color-e":[{"border-e":$()}],"border-color-t":[{"border-t":$()}],"border-color-r":[{"border-r":$()}],"border-color-b":[{"border-b":$()}],"border-color-l":[{"border-l":$()}],"divide-color":[{divide:$()}],"outline-style":[{outline:[...se(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Fe,Ie,Ne]}],"outline-w":[{outline:["",Fe,Wd,Gc]}],"outline-color":[{outline:$()}],shadow:[{shadow:["","none",p,um,lm]}],"shadow-color":[{shadow:$()}],"inset-shadow":[{"inset-shadow":["none",g,um,lm]}],"inset-shadow-color":[{"inset-shadow":$()}],"ring-w":[{ring:Y()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:$()}],"ring-offset-w":[{"ring-offset":[Fe,Gc]}],"ring-offset-color":[{"ring-offset":$()}],"inset-ring-w":[{"inset-ring":Y()}],"inset-ring-color":[{"inset-ring":$()}],"text-shadow":[{"text-shadow":["none",m,um,lm]}],"text-shadow-color":[{"text-shadow":$()}],opacity:[{opacity:[Fe,Ie,Ne]}],"mix-blend":[{"mix-blend":[...ue(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ue()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Fe]}],"mask-image-linear-from-pos":[{"mask-linear-from":ge()}],"mask-image-linear-to-pos":[{"mask-linear-to":ge()}],"mask-image-linear-from-color":[{"mask-linear-from":$()}],"mask-image-linear-to-color":[{"mask-linear-to":$()}],"mask-image-t-from-pos":[{"mask-t-from":ge()}],"mask-image-t-to-pos":[{"mask-t-to":ge()}],"mask-image-t-from-color":[{"mask-t-from":$()}],"mask-image-t-to-color":[{"mask-t-to":$()}],"mask-image-r-from-pos":[{"mask-r-from":ge()}],"mask-image-r-to-pos":[{"mask-r-to":ge()}],"mask-image-r-from-color":[{"mask-r-from":$()}],"mask-image-r-to-color":[{"mask-r-to":$()}],"mask-image-b-from-pos":[{"mask-b-from":ge()}],"mask-image-b-to-pos":[{"mask-b-to":ge()}],"mask-image-b-from-color":[{"mask-b-from":$()}],"mask-image-b-to-color":[{"mask-b-to":$()}],"mask-image-l-from-pos":[{"mask-l-from":ge()}],"mask-image-l-to-pos":[{"mask-l-to":ge()}],"mask-image-l-from-color":[{"mask-l-from":$()}],"mask-image-l-to-color":[{"mask-l-to":$()}],"mask-image-x-from-pos":[{"mask-x-from":ge()}],"mask-image-x-to-pos":[{"mask-x-to":ge()}],"mask-image-x-from-color":[{"mask-x-from":$()}],"mask-image-x-to-color":[{"mask-x-to":$()}],"mask-image-y-from-pos":[{"mask-y-from":ge()}],"mask-image-y-to-pos":[{"mask-y-to":ge()}],"mask-image-y-from-color":[{"mask-y-from":$()}],"mask-image-y-to-color":[{"mask-y-to":$()}],"mask-image-radial":[{"mask-radial":[Ie,Ne]}],"mask-image-radial-from-pos":[{"mask-radial-from":ge()}],"mask-image-radial-to-pos":[{"mask-radial-to":ge()}],"mask-image-radial-from-color":[{"mask-radial-from":$()}],"mask-image-radial-to-color":[{"mask-radial-to":$()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":I()}],"mask-image-conic-pos":[{"mask-conic":[Fe]}],"mask-image-conic-from-pos":[{"mask-conic-from":ge()}],"mask-image-conic-to-pos":[{"mask-conic-to":ge()}],"mask-image-conic-from-color":[{"mask-conic-from":$()}],"mask-image-conic-to-color":[{"mask-conic-to":$()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:R()}],"mask-repeat":[{mask:C()}],"mask-size":[{mask:H()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Ie,Ne]}],filter:[{filter:["","none",Ie,Ne]}],blur:[{blur:xe()}],brightness:[{brightness:[Fe,Ie,Ne]}],contrast:[{contrast:[Fe,Ie,Ne]}],"drop-shadow":[{"drop-shadow":["","none",b,um,lm]}],"drop-shadow-color":[{"drop-shadow":$()}],grayscale:[{grayscale:["",Fe,Ie,Ne]}],"hue-rotate":[{"hue-rotate":[Fe,Ie,Ne]}],invert:[{invert:["",Fe,Ie,Ne]}],saturate:[{saturate:[Fe,Ie,Ne]}],sepia:[{sepia:["",Fe,Ie,Ne]}],"backdrop-filter":[{"backdrop-filter":["","none",Ie,Ne]}],"backdrop-blur":[{"backdrop-blur":xe()}],"backdrop-brightness":[{"backdrop-brightness":[Fe,Ie,Ne]}],"backdrop-contrast":[{"backdrop-contrast":[Fe,Ie,Ne]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Fe,Ie,Ne]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Fe,Ie,Ne]}],"backdrop-invert":[{"backdrop-invert":["",Fe,Ie,Ne]}],"backdrop-opacity":[{"backdrop-opacity":[Fe,Ie,Ne]}],"backdrop-saturate":[{"backdrop-saturate":[Fe,Ie,Ne]}],"backdrop-sepia":[{"backdrop-sepia":["",Fe,Ie,Ne]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":M()}],"border-spacing-x":[{"border-spacing-x":M()}],"border-spacing-y":[{"border-spacing-y":M()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ie,Ne]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Fe,"initial",Ie,Ne]}],ease:[{ease:["linear","initial",O,Ie,Ne]}],delay:[{delay:[Fe,Ie,Ne]}],animate:[{animate:["none",T,Ie,Ne]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[x,Ie,Ne]}],"perspective-origin":[{"perspective-origin":N()}],rotate:[{rotate:be()}],"rotate-x":[{"rotate-x":be()}],"rotate-y":[{"rotate-y":be()}],"rotate-z":[{"rotate-z":be()}],scale:[{scale:Se()}],"scale-x":[{"scale-x":Se()}],"scale-y":[{"scale-y":Se()}],"scale-z":[{"scale-z":Se()}],"scale-3d":["scale-3d"],skew:[{skew:Pe()}],"skew-x":[{"skew-x":Pe()}],"skew-y":[{"skew-y":Pe()}],transform:[{transform:[Ie,Ne,"","none","gpu","cpu"]}],"transform-origin":[{origin:N()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Me()}],"translate-x":[{"translate-x":Me()}],"translate-y":[{"translate-y":Me()}],"translate-z":[{"translate-z":Me()}],"translate-none":["translate-none"],accent:[{accent:$()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:$()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ie,Ne]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":M()}],"scroll-mx":[{"scroll-mx":M()}],"scroll-my":[{"scroll-my":M()}],"scroll-ms":[{"scroll-ms":M()}],"scroll-me":[{"scroll-me":M()}],"scroll-mt":[{"scroll-mt":M()}],"scroll-mr":[{"scroll-mr":M()}],"scroll-mb":[{"scroll-mb":M()}],"scroll-ml":[{"scroll-ml":M()}],"scroll-p":[{"scroll-p":M()}],"scroll-px":[{"scroll-px":M()}],"scroll-py":[{"scroll-py":M()}],"scroll-ps":[{"scroll-ps":M()}],"scroll-pe":[{"scroll-pe":M()}],"scroll-pt":[{"scroll-pt":M()}],"scroll-pr":[{"scroll-pr":M()}],"scroll-pb":[{"scroll-pb":M()}],"scroll-pl":[{"scroll-pl":M()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ie,Ne]}],fill:[{fill:["none",...$()]}],"stroke-w":[{stroke:[Fe,Wd,Gc,xv]}],stroke:[{stroke:["none",...$()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},GM=OM(VM);function KM(...n){return GM(PI(n))}const QM=hM("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function en({className:n,variant:e,size:t,asChild:r=!1,...i}){const s=r?aM:"button";return B.jsx(s,{"data-slot":"button",className:KM(QM({variant:e,size:t,className:n})),...i})}/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YM=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ZM=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),q4=n=>{const e=ZM(n);return e.charAt(0).toUpperCase()+e.slice(1)},GI=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim(),WM=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var JM={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XM=oe.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:c,...l},f)=>oe.createElement("svg",{ref:f,...JM,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:GI("lucide",i),...!s&&!WM(l)&&{"aria-hidden":"true"},...l},[...c.map(([h,p])=>oe.createElement(h,p)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $t=(n,e)=>{const t=oe.forwardRef(({className:r,...i},s)=>oe.createElement(XM,{ref:s,iconNode:e,className:GI(`lucide-${YM(q4(n))}`,`lucide-${n}`,r),...i}));return t.displayName=q4(n),t};/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eL=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],tL=$t("arrow-down",eL);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nL=[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]],rL=$t("arrow-right-left",nL);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iL=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],el=$t("dollar-sign",iL);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sL=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],aL=$t("file-text",sL);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oL=[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]],cL=$t("github",oL);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lL=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],KI=$t("globe",lL);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uL=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],f3=$t("info",uL);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fL=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],hL=$t("instagram",fL);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dL=[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]],pL=$t("linkedin",dL);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gL=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],mL=$t("mail",gL);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yL=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],bL=$t("menu",yL);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wL=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],vL=$t("message-circle",wL);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xL=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],EL=$t("rocket",xL);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AL=[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]],SL=$t("scale",AL);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _L=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],ub=$t("shield",_L);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OL=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],CL=$t("star",OL);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NL=[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]],IL=$t("trending-down",NL);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TL=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],h3=$t("trending-up",TL);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DL=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],RL=$t("users",DL);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BL=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],kL=$t("wallet",BL);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PL=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],V4=$t("x",PL);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UL=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],ML=$t("zap",UL),LL="6.15.0";function $L(n,e,t){const r=e.split("|").map(s=>s.trim());for(let s=0;s<r.length;s++)switch(e){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof n===e)return}const i=new Error(`invalid value for type ${e}`);throw i.code="INVALID_ARGUMENT",i.argument=`value.${t}`,i.value=n,i}async function ir(n){const e=Object.keys(n);return(await Promise.all(e.map(r=>Promise.resolve(n[r])))).reduce((r,i,s)=>(r[e[s]]=i,r),{})}function Re(n,e,t){for(let r in e){let i=e[r];const s=t?t[r]:null;s&&$L(i,s,r),Object.defineProperty(n,r,{enumerable:!0,value:i,writable:!1})}}function vf(n,e){if(n==null)return"null";if(e==null&&(e=new Set),typeof n=="object"){if(e.has(n))return"[Circular]";e.add(n)}if(Array.isArray(n))return"[ "+n.map(t=>vf(t,e)).join(", ")+" ]";if(n instanceof Uint8Array){const t="0123456789abcdef";let r="0x";for(let i=0;i<n.length;i++)r+=t[n[i]>>4],r+=t[n[i]&15];return r}if(typeof n=="object"&&typeof n.toJSON=="function")return vf(n.toJSON(),e);switch(typeof n){case"boolean":case"number":case"symbol":return n.toString();case"bigint":return BigInt(n).toString();case"string":return JSON.stringify(n);case"object":{const t=Object.keys(n);return t.sort(),"{ "+t.map(r=>`${vf(r,e)}: ${vf(n[r],e)}`).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function kn(n,e){return n&&n.code===e}function d3(n){return kn(n,"CALL_EXCEPTION")}function Dt(n,e,t){let r=n;{const s=[];if(t){if("message"in t||"code"in t||"name"in t)throw new Error(`value will overwrite populated values: ${vf(t)}`);for(const c in t){if(c==="shortMessage")continue;const l=t[c];s.push(c+"="+vf(l))}}s.push(`code=${e}`),s.push(`version=${LL}`),s.length&&(n+=" ("+s.join(", ")+")")}let i;switch(e){case"INVALID_ARGUMENT":i=new TypeError(n);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":i=new RangeError(n);break;default:i=new Error(n)}return Re(i,{code:e}),t&&Object.assign(i,t),i.shortMessage==null&&Re(i,{shortMessage:r}),i}function pe(n,e,t,r){if(!n)throw Dt(e,t,r)}function ee(n,e,t,r){pe(n,e,"INVALID_ARGUMENT",{argument:t,value:r})}function QI(n,e,t){t==null&&(t=""),t&&(t=": "+t),pe(n>=e,"missing argument"+t,"MISSING_ARGUMENT",{count:n,expectedCount:e}),pe(n<=e,"too many arguments"+t,"UNEXPECTED_ARGUMENT",{count:n,expectedCount:e})}["NFD","NFC","NFKD","NFKC"].reduce((n,e)=>{try{if("test".normalize(e)!=="test")throw new Error("bad");if(e==="NFD"&&"".normalize("NFD")!=="e")throw new Error("broken");n.push(e)}catch{}return n},[]);function _g(n,e,t){if(t==null&&(t=""),n!==e){let r=t,i="new";t&&(r+=".",i+=" "+t),pe(!1,`private constructor; use ${r}from* methods`,"UNSUPPORTED_OPERATION",{operation:i})}}function YI(n,e,t){if(n instanceof Uint8Array)return t?new Uint8Array(n):n;if(typeof n=="string"&&n.match(/^0x(?:[0-9a-f][0-9a-f])*$/i)){const r=new Uint8Array((n.length-2)/2);let i=2;for(let s=0;s<r.length;s++)r[s]=parseInt(n.substring(i,i+2),16),i+=2;return r}ee(!1,"invalid BytesLike value",e||"value",n)}function qe(n,e){return YI(n,e,!1)}function sr(n,e){return YI(n,e,!0)}function Ot(n,e){return!(typeof n!="string"||!n.match(/^0x[0-9A-Fa-f]*$/)||typeof e=="number"&&n.length!==2+2*e||e===!0&&n.length%2!==0)}function p3(n){return Ot(n,!0)||n instanceof Uint8Array}const G4="0123456789abcdef";function Ae(n){const e=qe(n);let t="0x";for(let r=0;r<e.length;r++){const i=e[r];t+=G4[(i&240)>>4]+G4[i&15]}return t}function Lt(n){return"0x"+n.map(e=>Ae(e).substring(2)).join("")}function Tf(n){return Ot(n,!0)?(n.length-2)/2:qe(n).length}function Mt(n,e,t){const r=qe(n);return t!=null&&t>r.length&&pe(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:r,length:r.length,offset:t}),Ae(r.slice(e??0,t??r.length))}function ZI(n,e,t){const r=qe(n);pe(e>=r.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(r),length:e,offset:e+1});const i=new Uint8Array(e);return i.fill(0),t?i.set(r,e-r.length):i.set(r,0),Ae(i)}function Va(n,e){return ZI(n,e,!0)}function jL(n,e){return ZI(n,e,!1)}const fb=BigInt(0),Wi=BigInt(1),xf=9007199254740991;function by(n,e){const t=hb(n,"value"),r=BigInt($e(e,"width"));if(pe(t>>r===fb,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:n}),t>>r-Wi){const i=(Wi<<r)-Wi;return-((~t&i)+Wi)}return t}function WI(n,e){let t=Oe(n,"value");const r=BigInt($e(e,"width")),i=Wi<<r-Wi;if(t<fb){t=-t,pe(t<=i,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:n});const s=(Wi<<r)-Wi;return(~t&s)+Wi}else pe(t<i,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:n});return t}function yl(n,e){const t=hb(n,"value"),r=BigInt($e(e,"bits"));return t&(Wi<<r)-Wi}function Oe(n,e){switch(typeof n){case"bigint":return n;case"number":return ee(Number.isInteger(n),"underflow",e||"value",n),ee(n>=-xf&&n<=xf,"overflow",e||"value",n),BigInt(n);case"string":try{if(n==="")throw new Error("empty string");return n[0]==="-"&&n[1]!=="-"?-BigInt(n.substring(1)):BigInt(n)}catch(t){ee(!1,`invalid BigNumberish string: ${t.message}`,e||"value",n)}}ee(!1,"invalid BigNumberish value",e||"value",n)}function hb(n,e){const t=Oe(n,e);return pe(t>=fb,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:n}),t}const K4="0123456789abcdef";function db(n){if(n instanceof Uint8Array){let e="0x0";for(const t of n)e+=K4[t>>4],e+=K4[t&15];return BigInt(e)}return Oe(n)}function $e(n,e){switch(typeof n){case"bigint":return ee(n>=-xf&&n<=xf,"overflow",e||"value",n),Number(n);case"number":return ee(Number.isInteger(n),"underflow",e||"value",n),ee(n>=-xf&&n<=xf,"overflow",e||"value",n),n;case"string":try{if(n==="")throw new Error("empty string");return $e(BigInt(n),e)}catch(t){ee(!1,`invalid numeric string: ${t.message}`,e||"value",n)}}ee(!1,"invalid numeric value",e||"value",n)}function zL(n){return $e(db(n))}function wc(n,e){let r=hb(n,"value").toString(16);if(e==null)r.length%2&&(r="0"+r);else{const i=$e(e,"width");for(pe(i*2>=r.length,`value exceeds width (${i} bytes)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:n});r.length<i*2;)r="0"+r}return"0x"+r}function un(n){const e=hb(n,"value");if(e===fb)return new Uint8Array([]);let t=e.toString(16);t.length%2&&(t="0"+t);const r=new Uint8Array(t.length/2);for(let i=0;i<r.length;i++){const s=i*2;r[i]=parseInt(t.substring(s,s+2),16)}return r}function Yi(n){let e=Ae(p3(n)?n:un(n)).substring(2);for(;e.startsWith("0");)e=e.substring(1);return e===""&&(e="0"),"0x"+e}const Q4="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";BigInt(0);const Y4=BigInt(58);function HL(n){const e=qe(n);let t=db(e),r="";for(;t;)r=Q4[Number(t%Y4)]+r,t/=Y4;for(let i=0;i<e.length&&!e[i];i++)r=Q4[0]+r;return r}function FL(n){n=atob(n);const e=new Uint8Array(n.length);for(let t=0;t<n.length;t++)e[t]=n.charCodeAt(t);return qe(e)}function qL(n){const e=qe(n);let t="";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return btoa(t)}var jf;class JI{constructor(e,t,r){ie(this,"filter");ie(this,"emitter");le(this,jf);V(this,jf,t),Re(this,{emitter:e,filter:r})}async removeListener(){k(this,jf)!=null&&await this.emitter.off(this.filter,k(this,jf))}}jf=new WeakMap;function VL(n,e,t,r,i){ee(!1,`invalid codepoint at offset ${e}; ${n}`,"bytes",t)}function XI(n,e,t,r,i){if(n==="BAD_PREFIX"||n==="UNEXPECTED_CONTINUE"){let s=0;for(let c=e+1;c<t.length&&t[c]>>6===2;c++)s++;return s}return n==="OVERRUN"?t.length-e-1:0}function GL(n,e,t,r,i){return n==="OVERLONG"?(ee(typeof i=="number","invalid bad code point for replacement","badCodepoint",i),r.push(i),0):(r.push(65533),XI(n,e,t))}const KL=Object.freeze({error:VL,ignore:XI,replace:GL});function QL(n,e){e==null&&(e=KL.error);const t=qe(n,"bytes"),r=[];let i=0;for(;i<t.length;){const s=t[i++];if(s>>7===0){r.push(s);continue}let c=null,l=null;if((s&224)===192)c=1,l=127;else if((s&240)===224)c=2,l=2047;else if((s&248)===240)c=3,l=65535;else{(s&192)===128?i+=e("UNEXPECTED_CONTINUE",i-1,t,r):i+=e("BAD_PREFIX",i-1,t,r);continue}if(i-1+c>=t.length){i+=e("OVERRUN",i-1,t,r);continue}let f=s&(1<<8-c-1)-1;for(let h=0;h<c;h++){let p=t[i];if((p&192)!=128){i+=e("MISSING_CONTINUE",i,t,r),f=null;break}f=f<<6|p&63,i++}if(f!==null){if(f>1114111){i+=e("OUT_OF_RANGE",i-1-c,t,r,f);continue}if(f>=55296&&f<=57343){i+=e("UTF16_SURROGATE",i-1-c,t,r,f);continue}if(f<=l){i+=e("OVERLONG",i-1-c,t,r,f);continue}r.push(f)}}return r}function ja(n,e){ee(typeof n=="string","invalid string value","str",n);let t=[];for(let r=0;r<n.length;r++){const i=n.charCodeAt(r);if(i<128)t.push(i);else if(i<2048)t.push(i>>6|192),t.push(i&63|128);else if((i&64512)==55296){r++;const s=n.charCodeAt(r);ee(r<n.length&&(s&64512)===56320,"invalid surrogate pair","str",n);const c=65536+((i&1023)<<10)+(s&1023);t.push(c>>18|240),t.push(c>>12&63|128),t.push(c>>6&63|128),t.push(c&63|128)}else t.push(i>>12|224),t.push(i>>6&63|128),t.push(i&63|128)}return new Uint8Array(t)}function YL(n){return n.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function wy(n,e){return YL(QL(n,e))}function eT(n){async function e(t,r){pe(r==null||!r.cancelled,"request cancelled before sending","CANCELLED");const i=t.url.split(":")[0].toLowerCase();pe(i==="http"||i==="https",`unsupported protocol ${i}`,"UNSUPPORTED_OPERATION",{info:{protocol:i},operation:"request"}),pe(i==="https"||!t.credentials||t.allowInsecureAuthentication,"insecure authorized connections unsupported","UNSUPPORTED_OPERATION",{operation:"request"});let s=null;const c=new AbortController,l=setTimeout(()=>{s=Dt("request timeout","TIMEOUT"),c.abort()},t.timeout);r&&r.addListener(()=>{s=Dt("request cancelled","CANCELLED"),c.abort()});const f=Object.assign({},n,{method:t.method,headers:new Headers(Array.from(t)),body:t.body||void 0,signal:c.signal});let h;try{h=await fetch(t.url,f)}catch(b){throw clearTimeout(l),s||b}clearTimeout(l);const p={};h.headers.forEach((b,w)=>{p[w.toLowerCase()]=b});const g=await h.arrayBuffer(),m=g==null?null:new Uint8Array(g);return{statusCode:h.status,statusMessage:h.statusText,headers:p,body:m}}return e}const ZL=12,WL=250;let Z4=eT();const JL=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),XL=new RegExp("^ipfs://(ipfs/)?(.*)$","i");let Ev=!1;async function tT(n,e){try{const t=n.match(JL);if(!t)throw new Error("invalid data");return new yc(200,"OK",{"content-type":t[1]||"text/plain"},t[2]?FL(t[3]):t$(t[3]))}catch{return new yc(599,"BAD REQUEST (invalid data: URI)",{},null,new vc(n))}}function nT(n){async function e(t,r){try{const i=t.match(XL);if(!i)throw new Error("invalid link");return new vc(`${n}${i[2]}`)}catch{return new yc(599,"BAD REQUEST (invalid IPFS URI)",{},null,new vc(t))}}return e}const fm={data:tT,ipfs:nT("https://gateway.ipfs.io/ipfs/")},rT=new WeakMap;var Ol,Jo;class e${constructor(e){le(this,Ol);le(this,Jo);V(this,Ol,[]),V(this,Jo,!1),rT.set(e,()=>{if(!k(this,Jo)){V(this,Jo,!0);for(const t of k(this,Ol))setTimeout(()=>{t()},0);V(this,Ol,[])}})}addListener(e){pe(!k(this,Jo),"singal already cancelled","UNSUPPORTED_OPERATION",{operation:"fetchCancelSignal.addCancelListener"}),k(this,Ol).push(e)}get cancelled(){return k(this,Jo)}checkSignal(){pe(!this.cancelled,"cancelled","CANCELLED",{})}}Ol=new WeakMap,Jo=new WeakMap;function hm(n){if(n==null)throw new Error("missing signal; should not happen");return n.checkSignal(),n}var zf,Hf,Fi,Sa,Ff,qf,wn,Gr,_a,Cl,Nl,Il,vs,qi,Xo,Tl,Ap;const rb=class rb{constructor(e){le(this,Tl);le(this,zf);le(this,Hf);le(this,Fi);le(this,Sa);le(this,Ff);le(this,qf);le(this,wn);le(this,Gr);le(this,_a);le(this,Cl);le(this,Nl);le(this,Il);le(this,vs);le(this,qi);le(this,Xo);V(this,qf,String(e)),V(this,zf,!1),V(this,Hf,!0),V(this,Fi,{}),V(this,Sa,""),V(this,Ff,3e5),V(this,qi,{slotInterval:WL,maxAttempts:ZL}),V(this,Xo,null)}get url(){return k(this,qf)}set url(e){V(this,qf,String(e))}get body(){return k(this,wn)==null?null:new Uint8Array(k(this,wn))}set body(e){if(e==null)V(this,wn,void 0),V(this,Gr,void 0);else if(typeof e=="string")V(this,wn,ja(e)),V(this,Gr,"text/plain");else if(e instanceof Uint8Array)V(this,wn,e),V(this,Gr,"application/octet-stream");else if(typeof e=="object")V(this,wn,ja(JSON.stringify(e))),V(this,Gr,"application/json");else throw new Error("invalid body")}hasBody(){return k(this,wn)!=null}get method(){return k(this,Sa)?k(this,Sa):this.hasBody()?"POST":"GET"}set method(e){e==null&&(e=""),V(this,Sa,String(e).toUpperCase())}get headers(){const e=Object.assign({},k(this,Fi));return k(this,_a)&&(e.authorization=`Basic ${qL(ja(k(this,_a)))}`),this.allowGzip&&(e["accept-encoding"]="gzip"),e["content-type"]==null&&k(this,Gr)&&(e["content-type"]=k(this,Gr)),this.body&&(e["content-length"]=String(this.body.length)),e}getHeader(e){return this.headers[e.toLowerCase()]}setHeader(e,t){k(this,Fi)[String(e).toLowerCase()]=String(t)}clearHeaders(){V(this,Fi,{})}[Symbol.iterator](){const e=this.headers,t=Object.keys(e);let r=0;return{next:()=>{if(r<t.length){const i=t[r++];return{value:[i,e[i]],done:!1}}return{value:void 0,done:!0}}}}get credentials(){return k(this,_a)||null}setCredentials(e,t){ee(!e.match(/:/),"invalid basic authentication username","username","[REDACTED]"),V(this,_a,`${e}:${t}`)}get allowGzip(){return k(this,Hf)}set allowGzip(e){V(this,Hf,!!e)}get allowInsecureAuthentication(){return!!k(this,zf)}set allowInsecureAuthentication(e){V(this,zf,!!e)}get timeout(){return k(this,Ff)}set timeout(e){ee(e>=0,"timeout must be non-zero","timeout",e),V(this,Ff,e)}get preflightFunc(){return k(this,Cl)||null}set preflightFunc(e){V(this,Cl,e)}get processFunc(){return k(this,Nl)||null}set processFunc(e){V(this,Nl,e)}get retryFunc(){return k(this,Il)||null}set retryFunc(e){V(this,Il,e)}get getUrlFunc(){return k(this,Xo)||Z4}set getUrlFunc(e){V(this,Xo,e)}toString(){return`<FetchRequest method=${JSON.stringify(this.method)} url=${JSON.stringify(this.url)} headers=${JSON.stringify(this.headers)} body=${k(this,wn)?Ae(k(this,wn)):"null"}>`}setThrottleParams(e){e.slotInterval!=null&&(k(this,qi).slotInterval=e.slotInterval),e.maxAttempts!=null&&(k(this,qi).maxAttempts=e.maxAttempts)}send(){return pe(k(this,vs)==null,"request already sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.send"}),V(this,vs,new e$(this)),ye(this,Tl,Ap).call(this,0,W4()+this.timeout,0,this,new yc(0,"",{},null,this))}cancel(){pe(k(this,vs)!=null,"request has not been sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.cancel"});const e=rT.get(this);if(!e)throw new Error("missing signal; should not happen");e()}redirect(e){const t=this.url.split(":")[0].toLowerCase(),r=e.split(":")[0].toLowerCase();pe(this.method==="GET"&&(t!=="https"||r!=="http")&&e.match(/^https?:/),"unsupported redirect","UNSUPPORTED_OPERATION",{operation:`redirect(${this.method} ${JSON.stringify(this.url)} => ${JSON.stringify(e)})`});const i=new rb(e);return i.method="GET",i.allowGzip=this.allowGzip,i.timeout=this.timeout,V(i,Fi,Object.assign({},k(this,Fi))),k(this,wn)&&V(i,wn,new Uint8Array(k(this,wn))),V(i,Gr,k(this,Gr)),i}clone(){const e=new rb(this.url);return V(e,Sa,k(this,Sa)),k(this,wn)&&V(e,wn,k(this,wn)),V(e,Gr,k(this,Gr)),V(e,Fi,Object.assign({},k(this,Fi))),V(e,_a,k(this,_a)),this.allowGzip&&(e.allowGzip=!0),e.timeout=this.timeout,this.allowInsecureAuthentication&&(e.allowInsecureAuthentication=!0),V(e,Cl,k(this,Cl)),V(e,Nl,k(this,Nl)),V(e,Il,k(this,Il)),V(e,qi,Object.assign({},k(this,qi))),V(e,Xo,k(this,Xo)),e}static lockConfig(){Ev=!0}static getGateway(e){return fm[e.toLowerCase()]||null}static registerGateway(e,t){if(e=e.toLowerCase(),e==="http"||e==="https")throw new Error(`cannot intercept ${e}; use registerGetUrl`);if(Ev)throw new Error("gateways locked");fm[e]=t}static registerGetUrl(e){if(Ev)throw new Error("gateways locked");Z4=e}static createGetUrlFunc(e){return eT(e)}static createDataGateway(){return tT}static createIpfsGatewayFunc(e){return nT(e)}};zf=new WeakMap,Hf=new WeakMap,Fi=new WeakMap,Sa=new WeakMap,Ff=new WeakMap,qf=new WeakMap,wn=new WeakMap,Gr=new WeakMap,_a=new WeakMap,Cl=new WeakMap,Nl=new WeakMap,Il=new WeakMap,vs=new WeakMap,qi=new WeakMap,Xo=new WeakMap,Tl=new WeakSet,Ap=async function(e,t,r,i,s){var p,g,m;if(e>=k(this,qi).maxAttempts)return s.makeServerError("exceeded maximum retry limit");pe(W4()<=t,"timeout","TIMEOUT",{operation:"request.send",reason:"timeout",request:i}),r>0&&await n$(r);let c=this.clone();const l=(c.url.split(":")[0]||"").toLowerCase();if(l in fm){const b=await fm[l](c.url,hm(k(i,vs)));if(b instanceof yc){let w=b;if(this.processFunc){hm(k(i,vs));try{w=await this.processFunc(c,w)}catch(x){(x.throttle==null||typeof x.stall!="number")&&w.makeServerError("error in post-processing function",x).assertOk()}}return w}c=b}this.preflightFunc&&(c=await this.preflightFunc(c));const f=await this.getUrlFunc(c,hm(k(i,vs)));let h=new yc(f.statusCode,f.statusMessage,f.headers,f.body,i);if(h.statusCode===301||h.statusCode===302){try{const b=h.headers.location||"";return ye(p=c.redirect(b),Tl,Ap).call(p,e+1,t,0,i,h)}catch{}return h}else if(h.statusCode===429&&(this.retryFunc==null||await this.retryFunc(c,h,e))){const b=h.headers["retry-after"];let w=k(this,qi).slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return typeof b=="string"&&b.match(/^[1-9][0-9]*$/)&&(w=parseInt(b)),ye(g=c.clone(),Tl,Ap).call(g,e+1,t,w,i,h)}if(this.processFunc){hm(k(i,vs));try{h=await this.processFunc(c,h)}catch(b){(b.throttle==null||typeof b.stall!="number")&&h.makeServerError("error in post-processing function",b).assertOk();let w=k(this,qi).slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return b.stall>=0&&(w=b.stall),ye(m=c.clone(),Tl,Ap).call(m,e+1,t,w,i,h)}}return h};let vc=rb;var hg,dg,pg,Kr,Vf,Dl;const kA=class kA{constructor(e,t,r,i,s){le(this,hg);le(this,dg);le(this,pg);le(this,Kr);le(this,Vf);le(this,Dl);V(this,hg,e),V(this,dg,t),V(this,pg,Object.keys(r).reduce((c,l)=>(c[l.toLowerCase()]=String(r[l]),c),{})),V(this,Kr,i==null?null:new Uint8Array(i)),V(this,Vf,s||null),V(this,Dl,{message:""})}toString(){return`<FetchResponse status=${this.statusCode} body=${k(this,Kr)?Ae(k(this,Kr)):"null"}>`}get statusCode(){return k(this,hg)}get statusMessage(){return k(this,dg)}get headers(){return Object.assign({},k(this,pg))}get body(){return k(this,Kr)==null?null:new Uint8Array(k(this,Kr))}get bodyText(){try{return k(this,Kr)==null?"":wy(k(this,Kr))}catch{pe(!1,"response body is not valid UTF-8 data","UNSUPPORTED_OPERATION",{operation:"bodyText",info:{response:this}})}}get bodyJson(){try{return JSON.parse(this.bodyText)}catch{pe(!1,"response body is not valid JSON","UNSUPPORTED_OPERATION",{operation:"bodyJson",info:{response:this}})}}[Symbol.iterator](){const e=this.headers,t=Object.keys(e);let r=0;return{next:()=>{if(r<t.length){const i=t[r++];return{value:[i,e[i]],done:!1}}return{value:void 0,done:!0}}}}makeServerError(e,t){let r;e?r=`CLIENT ESCALATED SERVER ERROR (${this.statusCode} ${this.statusMessage}; ${e})`:(e=`${this.statusCode} ${this.statusMessage}`,r=`CLIENT ESCALATED SERVER ERROR (${e})`);const i=new kA(599,r,this.headers,this.body,k(this,Vf)||void 0);return V(i,Dl,{message:e,error:t}),i}throwThrottleError(e,t){t==null?t=-1:ee(Number.isInteger(t)&&t>=0,"invalid stall timeout","stall",t);const r=new Error(e||"throttling requests");throw Re(r,{stall:t,throttle:!0}),r}getHeader(e){return this.headers[e.toLowerCase()]}hasBody(){return k(this,Kr)!=null}get request(){return k(this,Vf)}ok(){return k(this,Dl).message===""&&this.statusCode>=200&&this.statusCode<300}assertOk(){if(this.ok())return;let{message:e,error:t}=k(this,Dl);e===""&&(e=`server response ${this.statusCode} ${this.statusMessage}`);let r=null;this.request&&(r=this.request.url);let i=null;try{k(this,Kr)&&(i=wy(k(this,Kr)))}catch{}pe(!1,e,"SERVER_ERROR",{request:this.request||"unknown request",response:this,error:t,info:{requestUrl:r,responseBody:i,responseStatus:`${this.statusCode} ${this.statusMessage}`}})}};hg=new WeakMap,dg=new WeakMap,pg=new WeakMap,Kr=new WeakMap,Vf=new WeakMap,Dl=new WeakMap;let yc=kA;function W4(){return new Date().getTime()}function t$(n){return ja(n.replace(/%([0-9a-f][0-9a-f])/gi,(e,t)=>String.fromCharCode(parseInt(t,16))))}function n$(n){return new Promise(e=>setTimeout(e,n))}const r$=BigInt(-1),$i=BigInt(0),Ef=BigInt(1),i$=BigInt(5),ef={};let Df="0000";for(;Df.length<80;)Df+=Df;function Kc(n){let e=Df;for(;e.length<n;)e+=e;return BigInt("1"+e.substring(0,n))}function Jd(n,e,t){const r=BigInt(e.width);if(e.signed){const i=Ef<<r-Ef;pe(t==null||n>=-i&&n<i,"overflow","NUMERIC_FAULT",{operation:t,fault:"overflow",value:n}),n>$i?n=by(yl(n,r),r):n=-by(yl(-n,r),r)}else{const i=Ef<<r;pe(t==null||n>=0&&n<i,"overflow","NUMERIC_FAULT",{operation:t,fault:"overflow",value:n}),n=(n%i+i)%i&i-Ef}return n}function Av(n){typeof n=="number"&&(n=`fixed128x${n}`);let e=!0,t=128,r=18;if(typeof n=="string"){if(n!=="fixed")if(n==="ufixed")e=!1;else{const s=n.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);ee(s,"invalid fixed format","format",n),e=s[1]!=="u",t=parseInt(s[2]),r=parseInt(s[3])}}else if(n){const s=n,c=(l,f,h)=>s[l]==null?h:(ee(typeof s[l]===f,"invalid fixed format ("+l+" not "+f+")","format."+l,s[l]),s[l]);e=c("signed","boolean",e),t=c("width","number",t),r=c("decimals","number",r)}ee(t%8===0,"invalid FixedNumber width (not byte aligned)","format.width",t),ee(r<=80,"invalid FixedNumber decimals (too large)","format.decimals",r);const i=(e?"":"u")+"fixed"+String(t)+"x"+String(r);return{signed:e,width:t,decimals:r,name:i}}function s$(n,e){let t="";n<$i&&(t="-",n*=r$);let r=n.toString();if(e===0)return t+r;for(;r.length<=e;)r=Df+r;const i=r.length-e;for(r=r.substring(0,i)+"."+r.substring(i);r[0]==="0"&&r[1]!==".";)r=r.substring(1);for(;r[r.length-1]==="0"&&r[r.length-2]!==".";)r=r.substring(0,r.length-1);return t+r}var Vi,yt,nr,lt,tl,da,fx,hx,dx,px;const Qo=class Qo{constructor(e,t,r){le(this,lt);ie(this,"format");le(this,Vi);le(this,yt);le(this,nr);ie(this,"_value");_g(e,ef,"FixedNumber"),V(this,yt,t),V(this,Vi,r);const i=s$(t,r.decimals);Re(this,{format:r.name,_value:i}),V(this,nr,Kc(r.decimals))}get signed(){return k(this,Vi).signed}get width(){return k(this,Vi).width}get decimals(){return k(this,Vi).decimals}get value(){return k(this,yt)}addUnsafe(e){return ye(this,lt,fx).call(this,e)}add(e){return ye(this,lt,fx).call(this,e,"add")}subUnsafe(e){return ye(this,lt,hx).call(this,e)}sub(e){return ye(this,lt,hx).call(this,e,"sub")}mulUnsafe(e){return ye(this,lt,dx).call(this,e)}mul(e){return ye(this,lt,dx).call(this,e,"mul")}mulSignal(e){ye(this,lt,tl).call(this,e);const t=k(this,yt)*k(e,yt);return pe(t%k(this,nr)===$i,"precision lost during signalling mul","NUMERIC_FAULT",{operation:"mulSignal",fault:"underflow",value:this}),ye(this,lt,da).call(this,t/k(this,nr),"mulSignal")}divUnsafe(e){return ye(this,lt,px).call(this,e)}div(e){return ye(this,lt,px).call(this,e,"div")}divSignal(e){pe(k(e,yt)!==$i,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),ye(this,lt,tl).call(this,e);const t=k(this,yt)*k(this,nr);return pe(t%k(e,yt)===$i,"precision lost during signalling div","NUMERIC_FAULT",{operation:"divSignal",fault:"underflow",value:this}),ye(this,lt,da).call(this,t/k(e,yt),"divSignal")}cmp(e){let t=this.value,r=e.value;const i=this.decimals-e.decimals;return i>0?r*=Kc(i):i<0&&(t*=Kc(-i)),t<r?-1:t>r?1:0}eq(e){return this.cmp(e)===0}lt(e){return this.cmp(e)<0}lte(e){return this.cmp(e)<=0}gt(e){return this.cmp(e)>0}gte(e){return this.cmp(e)>=0}floor(){let e=k(this,yt);return k(this,yt)<$i&&(e-=k(this,nr)-Ef),e=k(this,yt)/k(this,nr)*k(this,nr),ye(this,lt,da).call(this,e,"floor")}ceiling(){let e=k(this,yt);return k(this,yt)>$i&&(e+=k(this,nr)-Ef),e=k(this,yt)/k(this,nr)*k(this,nr),ye(this,lt,da).call(this,e,"ceiling")}round(e){if(e==null&&(e=0),e>=this.decimals)return this;const t=this.decimals-e,r=i$*Kc(t-1);let i=this.value+r;const s=Kc(t);return i=i/s*s,Jd(i,k(this,Vi),"round"),new Qo(ef,i,k(this,Vi))}isZero(){return k(this,yt)===$i}isNegative(){return k(this,yt)<$i}toString(){return this._value}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return Qo.fromString(this.toString(),e)}static fromValue(e,t,r){const i=t==null?0:$e(t),s=Av(r);let c=Oe(e,"value");const l=i-s.decimals;if(l>0){const f=Kc(l);pe(c%f===$i,"value loses precision for format","NUMERIC_FAULT",{operation:"fromValue",fault:"underflow",value:e}),c/=f}else l<0&&(c*=Kc(-l));return Jd(c,s,"fromValue"),new Qo(ef,c,s)}static fromString(e,t){const r=e.match(/^(-?)([0-9]*)\.?([0-9]*)$/);ee(r&&r[2].length+r[3].length>0,"invalid FixedNumber string value","value",e);const i=Av(t);let s=r[2]||"0",c=r[3]||"";for(;c.length<i.decimals;)c+=Df;pe(c.substring(i.decimals).match(/^0*$/),"too many decimals for format","NUMERIC_FAULT",{operation:"fromString",fault:"underflow",value:e}),c=c.substring(0,i.decimals);const l=BigInt(r[1]+s+c);return Jd(l,i,"fromString"),new Qo(ef,l,i)}static fromBytes(e,t){let r=db(qe(e,"value"));const i=Av(t);return i.signed&&(r=by(r,i.width)),Jd(r,i,"fromBytes"),new Qo(ef,r,i)}};Vi=new WeakMap,yt=new WeakMap,nr=new WeakMap,lt=new WeakSet,tl=function(e){ee(this.format===e.format,"incompatible format; use fixedNumber.toFormat","other",e)},da=function(e,t){return e=Jd(e,k(this,Vi),t),new Qo(ef,e,k(this,Vi))},fx=function(e,t){return ye(this,lt,tl).call(this,e),ye(this,lt,da).call(this,k(this,yt)+k(e,yt),t)},hx=function(e,t){return ye(this,lt,tl).call(this,e),ye(this,lt,da).call(this,k(this,yt)-k(e,yt),t)},dx=function(e,t){return ye(this,lt,tl).call(this,e),ye(this,lt,da).call(this,k(this,yt)*k(e,yt)/k(this,nr),t)},px=function(e,t){return pe(k(e,yt)!==$i,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),ye(this,lt,tl).call(this,e),ye(this,lt,da).call(this,k(this,yt)*k(this,nr)/k(e,yt),t)};let vy=Qo;function a$(n){let e=n.toString(16);for(;e.length<2;)e="0"+e;return"0x"+e}function J4(n,e,t){let r=0;for(let i=0;i<t;i++)r=r*256+n[e+i];return r}function X4(n,e,t,r){const i=[];for(;t<e+1+r;){const s=iT(n,t);i.push(s.result),t+=s.consumed,pe(t<=e+1+r,"child data too short","BUFFER_OVERRUN",{buffer:n,length:r,offset:e})}return{consumed:1+r,result:i}}function iT(n,e){pe(n.length!==0,"data too short","BUFFER_OVERRUN",{buffer:n,length:0,offset:1});const t=r=>{pe(r<=n.length,"data short segment too short","BUFFER_OVERRUN",{buffer:n,length:n.length,offset:r})};if(n[e]>=248){const r=n[e]-247;t(e+1+r);const i=J4(n,e+1,r);return t(e+1+r+i),X4(n,e,e+1+r,r+i)}else if(n[e]>=192){const r=n[e]-192;return t(e+1+r),X4(n,e,e+1,r)}else if(n[e]>=184){const r=n[e]-183;t(e+1+r);const i=J4(n,e+1,r);t(e+1+r+i);const s=Ae(n.slice(e+1+r,e+1+r+i));return{consumed:1+r+i,result:s}}else if(n[e]>=128){const r=n[e]-128;t(e+1+r);const i=Ae(n.slice(e+1,e+1+r));return{consumed:1+r,result:i}}return{consumed:1,result:a$(n[e])}}function Og(n){const e=qe(n,"data"),t=iT(e,0);return ee(t.consumed===e.length,"unexpected junk after rlp payload","data",n),t.result}function e5(n){const e=[];for(;n;)e.unshift(n&255),n>>=8;return e}function sT(n){if(Array.isArray(n)){let r=[];if(n.forEach(function(s){r=r.concat(sT(s))}),r.length<=55)return r.unshift(192+r.length),r;const i=e5(r.length);return i.unshift(247+i.length),i.concat(r)}const e=Array.prototype.slice.call(qe(n,"object"));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const t=e5(e.length);return t.unshift(183+t.length),t.concat(e)}const t5="0123456789abcdef";function xc(n){let e="0x";for(const t of sT(n))e+=t5[t>>4],e+=t5[t&15];return e}const aT=["wei","kwei","mwei","gwei","szabo","finney","ether"];function nl(n,e){let t=18;if(typeof e=="string"){const r=aT.indexOf(e);ee(r>=0,"invalid unit","unit",e),t=3*r}else e!=null&&(t=$e(e,"unit"));return vy.fromValue(n,t,{decimals:t,width:512}).toString()}function o$(n,e){ee(typeof n=="string","value must be a string","value",n);let t=18;if(typeof e=="string"){const r=aT.indexOf(e);ee(r>=0,"invalid unit","unit",e),t=3*r}else e!=null&&(t=$e(e,"unit"));return vy.fromString(n,{decimals:t,width:512}).value}function c$(n){return nl(n,18)}const ar=32,gx=new Uint8Array(ar),l$=["then"],dm={},oT=new WeakMap;function al(n){return oT.get(n)}function n5(n,e){oT.set(n,e)}function Xd(n,e){const t=new Error(`deferred error during ABI decoding triggered accessing ${n}`);throw t.error=e,t}function mx(n,e,t){return n.indexOf(null)>=0?e.map((r,i)=>r instanceof Oh?mx(al(r),r,t):r):n.reduce((r,i,s)=>{let c=e.getValue(i);return i in r||(t&&c instanceof Oh&&(c=mx(al(c),c,t)),r[i]=c),r},{})}var Gf;const Cf=class Cf extends Array{constructor(...t){const r=t[0];let i=t[1],s=(t[2]||[]).slice(),c=!0;r!==dm&&(i=t,s=[],c=!1);super(i.length);le(this,Gf);i.forEach((h,p)=>{this[p]=h});const l=s.reduce((h,p)=>(typeof p=="string"&&h.set(p,(h.get(p)||0)+1),h),new Map);if(n5(this,Object.freeze(i.map((h,p)=>{const g=s[p];return g!=null&&l.get(g)===1?g:null}))),V(this,Gf,[]),k(this,Gf)==null&&k(this,Gf),!c)return;Object.freeze(this);const f=new Proxy(this,{get:(h,p,g)=>{if(typeof p=="string"){if(p.match(/^[0-9]+$/)){const b=$e(p,"%index");if(b<0||b>=this.length)throw new RangeError("out of result range");const w=h[b];return w instanceof Error&&Xd(`index ${b}`,w),w}if(l$.indexOf(p)>=0)return Reflect.get(h,p,g);const m=h[p];if(m instanceof Function)return function(...b){return m.apply(this===g?h:this,b)};if(!(p in h))return h.getValue.apply(this===g?h:this,[p])}return Reflect.get(h,p,g)}});return n5(f,al(this)),f}toArray(t){const r=[];return this.forEach((i,s)=>{i instanceof Error&&Xd(`index ${s}`,i),t&&i instanceof Cf&&(i=i.toArray(t)),r.push(i)}),r}toObject(t){const r=al(this);return r.reduce((i,s,c)=>(pe(s!=null,`value at index ${c} unnamed`,"UNSUPPORTED_OPERATION",{operation:"toObject()"}),mx(r,this,t)),{})}slice(t,r){t==null&&(t=0),t<0&&(t+=this.length,t<0&&(t=0)),r==null&&(r=this.length),r<0&&(r+=this.length,r<0&&(r=0)),r>this.length&&(r=this.length);const i=al(this),s=[],c=[];for(let l=t;l<r;l++)s.push(this[l]),c.push(i[l]);return new Cf(dm,s,c)}filter(t,r){const i=al(this),s=[],c=[];for(let l=0;l<this.length;l++){const f=this[l];f instanceof Error&&Xd(`index ${l}`,f),t.call(r,f,l,this)&&(s.push(f),c.push(i[l]))}return new Cf(dm,s,c)}map(t,r){const i=[];for(let s=0;s<this.length;s++){const c=this[s];c instanceof Error&&Xd(`index ${s}`,c),i.push(t.call(r,c,s,this))}return i}getValue(t){const r=al(this).indexOf(t);if(r===-1)return;const i=this[r];return i instanceof Error&&Xd(`property ${JSON.stringify(t)}`,i.error),i}static fromItems(t,r){return new Cf(dm,t,r)}};Gf=new WeakMap;let Oh=Cf;function r5(n){let e=un(n);return pe(e.length<=ar,"value out-of-bounds","BUFFER_OVERRUN",{buffer:e,length:ar,offset:e.length}),e.length!==ar&&(e=sr(Lt([gx.slice(e.length%ar),e]))),e}class Wa{constructor(e,t,r,i){ie(this,"name");ie(this,"type");ie(this,"localName");ie(this,"dynamic");Re(this,{name:e,type:t,localName:r,dynamic:i},{name:"string",type:"string",localName:"string",dynamic:"boolean"})}_throwError(e,t){ee(!1,e,this.localName,t)}}var Oa,Rl,Kf,Ym;class yx{constructor(){le(this,Kf);le(this,Oa);le(this,Rl);V(this,Oa,[]),V(this,Rl,0)}get data(){return Lt(k(this,Oa))}get length(){return k(this,Rl)}appendWriter(e){return ye(this,Kf,Ym).call(this,sr(e.data))}writeBytes(e){let t=sr(e);const r=t.length%ar;return r&&(t=sr(Lt([t,gx.slice(r)]))),ye(this,Kf,Ym).call(this,t)}writeValue(e){return ye(this,Kf,Ym).call(this,r5(e))}writeUpdatableValue(){const e=k(this,Oa).length;return k(this,Oa).push(gx),V(this,Rl,k(this,Rl)+ar),t=>{k(this,Oa)[e]=r5(t)}}}Oa=new WeakMap,Rl=new WeakMap,Kf=new WeakSet,Ym=function(e){return k(this,Oa).push(e),V(this,Rl,k(this,Rl)+e.length),e.length};var xr,Qr,Bl,kl,ec,iu,wx,cT;const PA=class PA{constructor(e,t,r){le(this,iu);ie(this,"allowLoose");le(this,xr);le(this,Qr);le(this,Bl);le(this,kl);le(this,ec);Re(this,{allowLoose:!!t}),V(this,xr,sr(e)),V(this,Bl,0),V(this,kl,null),V(this,ec,r??1024),V(this,Qr,0)}get data(){return Ae(k(this,xr))}get dataLength(){return k(this,xr).length}get consumed(){return k(this,Qr)}get bytes(){return new Uint8Array(k(this,xr))}subReader(e){const t=new PA(k(this,xr).slice(k(this,Qr)+e),this.allowLoose,k(this,ec));return V(t,kl,this),t}readBytes(e,t){let r=ye(this,iu,cT).call(this,0,e,!!t);return ye(this,iu,wx).call(this,e),V(this,Qr,k(this,Qr)+r.length),r.slice(0,e)}readValue(){return db(this.readBytes(ar))}readIndex(){return zL(this.readBytes(ar))}};xr=new WeakMap,Qr=new WeakMap,Bl=new WeakMap,kl=new WeakMap,ec=new WeakMap,iu=new WeakSet,wx=function(e){var t;if(k(this,kl))return ye(t=k(this,kl),iu,wx).call(t,e);V(this,Bl,k(this,Bl)+e),pe(k(this,ec)<1||k(this,Bl)<=k(this,ec)*this.dataLength,`compressed ABI data exceeds inflation ratio of ${k(this,ec)} ( see: https://github.com/ethers-io/ethers.js/issues/4537 )`,"BUFFER_OVERRUN",{buffer:sr(k(this,xr)),offset:k(this,Qr),length:e,info:{bytesRead:k(this,Bl),dataLength:this.dataLength}})},cT=function(e,t,r){let i=Math.ceil(t/ar)*ar;return k(this,Qr)+i>k(this,xr).length&&(this.allowLoose&&r&&k(this,Qr)+t<=k(this,xr).length?i=t:pe(!1,"data out-of-bounds","BUFFER_OVERRUN",{buffer:sr(k(this,xr)),length:k(this,xr).length,offset:k(this,Qr)+i})),k(this,xr).slice(k(this,Qr),k(this,Qr)+i)};let bx=PA;function xy(n){if(!Number.isSafeInteger(n)||n<0)throw new Error(`Wrong positive integer: ${n}`)}function g3(n,...e){if(!(n instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(n.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${n.length}`)}function u$(n){if(typeof n!="function"||typeof n.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");xy(n.outputLen),xy(n.blockLen)}function Ch(n,e=!0){if(n.destroyed)throw new Error("Hash instance has been destroyed");if(e&&n.finished)throw new Error("Hash#digest() has already been called")}function lT(n,e){g3(n);const t=e.outputLen;if(n.length<t)throw new Error(`digestInto() expects output buffer of length at least ${t}`)}const Sv=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const uT=n=>n instanceof Uint8Array,f$=n=>new Uint32Array(n.buffer,n.byteOffset,Math.floor(n.byteLength/4)),_v=n=>new DataView(n.buffer,n.byteOffset,n.byteLength),cs=(n,e)=>n<<32-e|n>>>e,h$=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!h$)throw new Error("Non little-endian hardware is not supported");function d$(n){if(typeof n!="string")throw new Error(`utf8ToBytes expected string, got ${typeof n}`);return new Uint8Array(new TextEncoder().encode(n))}function pb(n){if(typeof n=="string"&&(n=d$(n)),!uT(n))throw new Error(`expected Uint8Array, got ${typeof n}`);return n}function p$(...n){const e=new Uint8Array(n.reduce((r,i)=>r+i.length,0));let t=0;return n.forEach(r=>{if(!uT(r))throw new Error("Uint8Array expected");e.set(r,t),t+=r.length}),e}let m3=class{clone(){return this._cloneInto()}};function y3(n){const e=r=>n().update(pb(r)).digest(),t=n();return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=()=>n(),e}function g$(n=32){if(Sv&&typeof Sv.getRandomValues=="function")return Sv.getRandomValues(new Uint8Array(n));throw new Error("crypto.getRandomValues must be defined")}let fT=class extends m3{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,u$(e);const r=pb(t);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(r.length>i?e.create().update(r).digest():r);for(let c=0;c<s.length;c++)s[c]^=54;this.iHash.update(s),this.oHash=e.create();for(let c=0;c<s.length;c++)s[c]^=106;this.oHash.update(s),s.fill(0)}update(e){return Ch(this),this.iHash.update(e),this}digestInto(e){Ch(this),g3(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:r,finished:i,destroyed:s,blockLen:c,outputLen:l}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=c,e.outputLen=l,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const hT=(n,e,t)=>new fT(n,e).update(t).digest();hT.create=(n,e)=>new fT(n,e);function m$(n,e,t,r){if(typeof n.setBigUint64=="function")return n.setBigUint64(e,t,r);const i=BigInt(32),s=BigInt(4294967295),c=Number(t>>i&s),l=Number(t&s),f=r?4:0,h=r?0:4;n.setUint32(e+f,c,r),n.setUint32(e+h,l,r)}class dT extends m3{constructor(e,t,r,i){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=_v(this.buffer)}update(e){Ch(this);const{view:t,buffer:r,blockLen:i}=this;e=pb(e);const s=e.length;for(let c=0;c<s;){const l=Math.min(i-this.pos,s-c);if(l===i){const f=_v(e);for(;i<=s-c;c+=i)this.process(f,c);continue}r.set(e.subarray(c,c+l),this.pos),this.pos+=l,c+=l,this.pos===i&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Ch(this),lT(e,this),this.finished=!0;const{buffer:t,view:r,blockLen:i,isLE:s}=this;let{pos:c}=this;t[c++]=128,this.buffer.subarray(c).fill(0),this.padOffset>i-c&&(this.process(r,0),c=0);for(let g=c;g<i;g++)t[g]=0;m$(r,i-8,BigInt(this.length*8),s),this.process(r,0);const l=_v(e),f=this.outputLen;if(f%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const h=f/4,p=this.get();if(h>p.length)throw new Error("_sha2: outputLen bigger than state");for(let g=0;g<h;g++)l.setUint32(4*g,p[g],s)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:r,length:i,finished:s,destroyed:c,pos:l}=this;return e.length=i,e.pos=l,e.finished=s,e.destroyed=c,i%t&&e.buffer.set(r),e}}const y$=(n,e,t)=>n&e^~n&t,b$=(n,e,t)=>n&e^n&t^e&t,w$=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Co=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),No=new Uint32Array(64);let v$=class extends dT{constructor(){super(64,32,8,!1),this.A=Co[0]|0,this.B=Co[1]|0,this.C=Co[2]|0,this.D=Co[3]|0,this.E=Co[4]|0,this.F=Co[5]|0,this.G=Co[6]|0,this.H=Co[7]|0}get(){const{A:e,B:t,C:r,D:i,E:s,F:c,G:l,H:f}=this;return[e,t,r,i,s,c,l,f]}set(e,t,r,i,s,c,l,f){this.A=e|0,this.B=t|0,this.C=r|0,this.D=i|0,this.E=s|0,this.F=c|0,this.G=l|0,this.H=f|0}process(e,t){for(let g=0;g<16;g++,t+=4)No[g]=e.getUint32(t,!1);for(let g=16;g<64;g++){const m=No[g-15],b=No[g-2],w=cs(m,7)^cs(m,18)^m>>>3,x=cs(b,17)^cs(b,19)^b>>>10;No[g]=x+No[g-7]+w+No[g-16]|0}let{A:r,B:i,C:s,D:c,E:l,F:f,G:h,H:p}=this;for(let g=0;g<64;g++){const m=cs(l,6)^cs(l,11)^cs(l,25),b=p+m+y$(l,f,h)+w$[g]+No[g]|0,x=(cs(r,2)^cs(r,13)^cs(r,22))+b$(r,i,s)|0;p=h,h=f,f=l,l=c+b|0,c=s,s=i,i=r,r=b+x|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,c=c+this.D|0,l=l+this.E|0,f=f+this.F|0,h=h+this.G|0,p=p+this.H|0,this.set(r,i,s,c,l,f,h,p)}roundClean(){No.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};const pT=y3(()=>new v$),pm=BigInt(2**32-1),vx=BigInt(32);function gT(n,e=!1){return e?{h:Number(n&pm),l:Number(n>>vx&pm)}:{h:Number(n>>vx&pm)|0,l:Number(n&pm)|0}}function mT(n,e=!1){let t=new Uint32Array(n.length),r=new Uint32Array(n.length);for(let i=0;i<n.length;i++){const{h:s,l:c}=gT(n[i],e);[t[i],r[i]]=[s,c]}return[t,r]}const x$=(n,e)=>BigInt(n>>>0)<<vx|BigInt(e>>>0),E$=(n,e,t)=>n>>>t,A$=(n,e,t)=>n<<32-t|e>>>t,S$=(n,e,t)=>n>>>t|e<<32-t,_$=(n,e,t)=>n<<32-t|e>>>t,O$=(n,e,t)=>n<<64-t|e>>>t-32,C$=(n,e,t)=>n>>>t-32|e<<64-t,N$=(n,e)=>e,I$=(n,e)=>n,yT=(n,e,t)=>n<<t|e>>>32-t,bT=(n,e,t)=>e<<t|n>>>32-t,wT=(n,e,t)=>e<<t-32|n>>>64-t,vT=(n,e,t)=>n<<t-32|e>>>64-t;function T$(n,e,t,r){const i=(e>>>0)+(r>>>0);return{h:n+t+(i/2**32|0)|0,l:i|0}}const D$=(n,e,t)=>(n>>>0)+(e>>>0)+(t>>>0),R$=(n,e,t,r)=>e+t+r+(n/2**32|0)|0,B$=(n,e,t,r)=>(n>>>0)+(e>>>0)+(t>>>0)+(r>>>0),k$=(n,e,t,r,i)=>e+t+r+i+(n/2**32|0)|0,P$=(n,e,t,r,i)=>(n>>>0)+(e>>>0)+(t>>>0)+(r>>>0)+(i>>>0),U$=(n,e,t,r,i,s)=>e+t+r+i+s+(n/2**32|0)|0,je={fromBig:gT,split:mT,toBig:x$,shrSH:E$,shrSL:A$,rotrSH:S$,rotrSL:_$,rotrBH:O$,rotrBL:C$,rotr32H:N$,rotr32L:I$,rotlSH:yT,rotlSL:bT,rotlBH:wT,rotlBL:vT,add:T$,add3L:D$,add3H:R$,add4L:B$,add4H:k$,add5H:U$,add5L:P$},[M$,L$]=je.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(n=>BigInt(n))),Io=new Uint32Array(80),To=new Uint32Array(80);class $$ extends dT{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:r,Bl:i,Ch:s,Cl:c,Dh:l,Dl:f,Eh:h,El:p,Fh:g,Fl:m,Gh:b,Gl:w,Hh:x,Hl:S}=this;return[e,t,r,i,s,c,l,f,h,p,g,m,b,w,x,S]}set(e,t,r,i,s,c,l,f,h,p,g,m,b,w,x,S){this.Ah=e|0,this.Al=t|0,this.Bh=r|0,this.Bl=i|0,this.Ch=s|0,this.Cl=c|0,this.Dh=l|0,this.Dl=f|0,this.Eh=h|0,this.El=p|0,this.Fh=g|0,this.Fl=m|0,this.Gh=b|0,this.Gl=w|0,this.Hh=x|0,this.Hl=S|0}process(e,t){for(let _=0;_<16;_++,t+=4)Io[_]=e.getUint32(t),To[_]=e.getUint32(t+=4);for(let _=16;_<80;_++){const I=Io[_-15]|0,N=To[_-15]|0,U=je.rotrSH(I,N,1)^je.rotrSH(I,N,8)^je.shrSH(I,N,7),z=je.rotrSL(I,N,1)^je.rotrSL(I,N,8)^je.shrSL(I,N,7),M=Io[_-2]|0,L=To[_-2]|0,F=je.rotrSH(M,L,19)^je.rotrBH(M,L,61)^je.shrSH(M,L,6),q=je.rotrSL(M,L,19)^je.rotrBL(M,L,61)^je.shrSL(M,L,6),Q=je.add4L(z,q,To[_-7],To[_-16]),G=je.add4H(Q,U,F,Io[_-7],Io[_-16]);Io[_]=G|0,To[_]=Q|0}let{Ah:r,Al:i,Bh:s,Bl:c,Ch:l,Cl:f,Dh:h,Dl:p,Eh:g,El:m,Fh:b,Fl:w,Gh:x,Gl:S,Hh:O,Hl:T}=this;for(let _=0;_<80;_++){const I=je.rotrSH(g,m,14)^je.rotrSH(g,m,18)^je.rotrBH(g,m,41),N=je.rotrSL(g,m,14)^je.rotrSL(g,m,18)^je.rotrBL(g,m,41),U=g&b^~g&x,z=m&w^~m&S,M=je.add5L(T,N,z,L$[_],To[_]),L=je.add5H(M,O,I,U,M$[_],Io[_]),F=M|0,q=je.rotrSH(r,i,28)^je.rotrBH(r,i,34)^je.rotrBH(r,i,39),Q=je.rotrSL(r,i,28)^je.rotrBL(r,i,34)^je.rotrBL(r,i,39),G=r&s^r&l^s&l,W=i&c^i&f^c&f;O=x|0,T=S|0,x=b|0,S=w|0,b=g|0,w=m|0,{h:g,l:m}=je.add(h|0,p|0,L|0,F|0),h=l|0,p=f|0,l=s|0,f=c|0,s=r|0,c=i|0;const A=je.add3L(F,Q,W);r=je.add3H(A,L,q,G),i=A|0}({h:r,l:i}=je.add(this.Ah|0,this.Al|0,r|0,i|0)),{h:s,l:c}=je.add(this.Bh|0,this.Bl|0,s|0,c|0),{h:l,l:f}=je.add(this.Ch|0,this.Cl|0,l|0,f|0),{h,l:p}=je.add(this.Dh|0,this.Dl|0,h|0,p|0),{h:g,l:m}=je.add(this.Eh|0,this.El|0,g|0,m|0),{h:b,l:w}=je.add(this.Fh|0,this.Fl|0,b|0,w|0),{h:x,l:S}=je.add(this.Gh|0,this.Gl|0,x|0,S|0),{h:O,l:T}=je.add(this.Hh|0,this.Hl|0,O|0,T|0),this.set(r,i,s,c,l,f,h,p,g,m,b,w,x,S,O,T)}roundClean(){Io.fill(0),To.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const j$=y3(()=>new $$);function z$(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}const i5=z$();i5.crypto||i5.msCrypto;function H$(n){switch(n){case"sha256":return pT.create();case"sha512":return j$.create()}ee(!1,"invalid hashing algorithm name","algorithm",n)}const[xT,ET,AT]=[[],[],[]],F$=BigInt(0),ep=BigInt(1),q$=BigInt(2),V$=BigInt(7),G$=BigInt(256),K$=BigInt(113);for(let n=0,e=ep,t=1,r=0;n<24;n++){[t,r]=[r,(2*t+3*r)%5],xT.push(2*(5*r+t)),ET.push((n+1)*(n+2)/2%64);let i=F$;for(let s=0;s<7;s++)e=(e<<ep^(e>>V$)*K$)%G$,e&q$&&(i^=ep<<(ep<<BigInt(s))-ep);AT.push(i)}const[Q$,Y$]=mT(AT,!0),s5=(n,e,t)=>t>32?wT(n,e,t):yT(n,e,t),a5=(n,e,t)=>t>32?vT(n,e,t):bT(n,e,t);function Z$(n,e=24){const t=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let c=0;c<10;c++)t[c]=n[c]^n[c+10]^n[c+20]^n[c+30]^n[c+40];for(let c=0;c<10;c+=2){const l=(c+8)%10,f=(c+2)%10,h=t[f],p=t[f+1],g=s5(h,p,1)^t[l],m=a5(h,p,1)^t[l+1];for(let b=0;b<50;b+=10)n[c+b]^=g,n[c+b+1]^=m}let i=n[2],s=n[3];for(let c=0;c<24;c++){const l=ET[c],f=s5(i,s,l),h=a5(i,s,l),p=xT[c];i=n[p],s=n[p+1],n[p]=f,n[p+1]=h}for(let c=0;c<50;c+=10){for(let l=0;l<10;l++)t[l]=n[c+l];for(let l=0;l<10;l++)n[c+l]^=~t[(l+2)%10]&t[(l+4)%10]}n[0]^=Q$[r],n[1]^=Y$[r]}t.fill(0)}let W$=class ST extends m3{constructor(e,t,r,i=!1,s=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=i,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,xy(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=f$(this.state)}keccak(){Z$(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){Ch(this);const{blockLen:t,state:r}=this;e=pb(e);const i=e.length;for(let s=0;s<i;){const c=Math.min(t-this.pos,i-s);for(let l=0;l<c;l++)r[this.pos++]^=e[s++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:r,blockLen:i}=this;e[r]^=t,(t&128)!==0&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){Ch(this,!1),g3(e),this.finish();const t=this.state,{blockLen:r}=this;for(let i=0,s=e.length;i<s;){this.posOut>=r&&this.keccak();const c=Math.min(r-this.posOut,s-i);e.set(t.subarray(this.posOut,this.posOut+c),i),this.posOut+=c,i+=c}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return xy(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(lT(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:t,suffix:r,outputLen:i,rounds:s,enableXOF:c}=this;return e||(e=new ST(t,r,i,c,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=r,e.outputLen=i,e.enableXOF=c,e.destroyed=this.destroyed,e}};const J$=(n,e,t)=>y3(()=>new W$(e,n,t)),X$=J$(1,136,256/8);let _T=!1;const OT=function(n){return X$(n)};let CT=OT;function nn(n){const e=qe(n,"data");return Ae(CT(e))}nn._=OT;nn.lock=function(){_T=!0};nn.register=function(n){if(_T)throw new TypeError("keccak256 is locked");CT=n};Object.freeze(nn);const NT=function(n){return H$("sha256").update(n).digest()};let IT=NT,TT=!1;function zh(n){const e=qe(n,"data");return Ae(IT(e))}zh._=NT;zh.lock=function(){TT=!0};zh.register=function(n){if(TT)throw new Error("sha256 is locked");IT=n};Object.freeze(zh);Object.freeze(zh);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const DT=BigInt(0),gb=BigInt(1),ej=BigInt(2),mb=n=>n instanceof Uint8Array,tj=Array.from({length:256},(n,e)=>e.toString(16).padStart(2,"0"));function Nh(n){if(!mb(n))throw new Error("Uint8Array expected");let e="";for(let t=0;t<n.length;t++)e+=tj[n[t]];return e}function RT(n){const e=n.toString(16);return e.length&1?`0${e}`:e}function b3(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);return BigInt(n===""?"0":`0x${n}`)}function Ih(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);const e=n.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const t=new Uint8Array(e/2);for(let r=0;r<t.length;r++){const i=r*2,s=n.slice(i,i+2),c=Number.parseInt(s,16);if(Number.isNaN(c)||c<0)throw new Error("Invalid byte sequence");t[r]=c}return t}function Gl(n){return b3(Nh(n))}function w3(n){if(!mb(n))throw new Error("Uint8Array expected");return b3(Nh(Uint8Array.from(n).reverse()))}function Th(n,e){return Ih(n.toString(16).padStart(e*2,"0"))}function v3(n,e){return Th(n,e).reverse()}function nj(n){return Ih(RT(n))}function Hi(n,e,t){let r;if(typeof e=="string")try{r=Ih(e)}catch(s){throw new Error(`${n} must be valid hex string, got "${e}". Cause: ${s}`)}else if(mb(e))r=Uint8Array.from(e);else throw new Error(`${n} must be hex string or Uint8Array`);const i=r.length;if(typeof t=="number"&&i!==t)throw new Error(`${n} expected ${t} bytes, got ${i}`);return r}function Hp(...n){const e=new Uint8Array(n.reduce((r,i)=>r+i.length,0));let t=0;return n.forEach(r=>{if(!mb(r))throw new Error("Uint8Array expected");e.set(r,t),t+=r.length}),e}function rj(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!==e[t])return!1;return!0}function ij(n){if(typeof n!="string")throw new Error(`utf8ToBytes expected string, got ${typeof n}`);return new Uint8Array(new TextEncoder().encode(n))}function sj(n){let e;for(e=0;n>DT;n>>=gb,e+=1);return e}function aj(n,e){return n>>BigInt(e)&gb}const oj=(n,e,t)=>n|(t?gb:DT)<<BigInt(e),x3=n=>(ej<<BigInt(n-1))-gb,Ov=n=>new Uint8Array(n),o5=n=>Uint8Array.from(n);function BT(n,e,t){if(typeof n!="number"||n<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof t!="function")throw new Error("hmacFn must be a function");let r=Ov(n),i=Ov(n),s=0;const c=()=>{r.fill(1),i.fill(0),s=0},l=(...g)=>t(i,r,...g),f=(g=Ov())=>{i=l(o5([0]),g),r=l(),g.length!==0&&(i=l(o5([1]),g),r=l())},h=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let g=0;const m=[];for(;g<e;){r=l();const b=r.slice();m.push(b),g+=r.length}return Hp(...m)};return(g,m)=>{c(),f(g);let b;for(;!(b=m(h()));)f();return c(),b}}const cj={bigint:n=>typeof n=="bigint",function:n=>typeof n=="function",boolean:n=>typeof n=="boolean",string:n=>typeof n=="string",stringOrUint8Array:n=>typeof n=="string"||n instanceof Uint8Array,isSafeInteger:n=>Number.isSafeInteger(n),array:n=>Array.isArray(n),field:(n,e)=>e.Fp.isValid(n),hash:n=>typeof n=="function"&&Number.isSafeInteger(n.outputLen)};function Cg(n,e,t={}){const r=(i,s,c)=>{const l=cj[s];if(typeof l!="function")throw new Error(`Invalid validator "${s}", expected function`);const f=n[i];if(!(c&&f===void 0)&&!l(f,n))throw new Error(`Invalid param ${String(i)}=${f} (${typeof f}), expected ${s}`)};for(const[i,s]of Object.entries(e))r(i,s,!1);for(const[i,s]of Object.entries(t))r(i,s,!0);return n}const lj=Object.freeze(Object.defineProperty({__proto__:null,bitGet:aj,bitLen:sj,bitMask:x3,bitSet:oj,bytesToHex:Nh,bytesToNumberBE:Gl,bytesToNumberLE:w3,concatBytes:Hp,createHmacDrbg:BT,ensureBytes:Hi,equalBytes:rj,hexToBytes:Ih,hexToNumber:b3,numberToBytesBE:Th,numberToBytesLE:v3,numberToHexUnpadded:RT,numberToVarBytesBE:nj,utf8ToBytes:ij,validateObject:Cg},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const En=BigInt(0),Gt=BigInt(1),ol=BigInt(2),uj=BigInt(3),xx=BigInt(4),c5=BigInt(5),l5=BigInt(8);BigInt(9);BigInt(16);function Ar(n,e){const t=n%e;return t>=En?t:e+t}function fj(n,e,t){if(t<=En||e<En)throw new Error("Expected power/modulo > 0");if(t===Gt)return En;let r=Gt;for(;e>En;)e&Gt&&(r=r*n%t),n=n*n%t,e>>=Gt;return r}function fi(n,e,t){let r=n;for(;e-- >En;)r*=r,r%=t;return r}function Ex(n,e){if(n===En||e<=En)throw new Error(`invert: expected positive integers, got n=${n} mod=${e}`);let t=Ar(n,e),r=e,i=En,s=Gt;for(;t!==En;){const l=r/t,f=r%t,h=i-s*l;r=t,t=f,i=s,s=h}if(r!==Gt)throw new Error("invert: does not exist");return Ar(i,e)}function hj(n){const e=(n-Gt)/ol;let t,r,i;for(t=n-Gt,r=0;t%ol===En;t/=ol,r++);for(i=ol;i<n&&fj(i,e,n)!==n-Gt;i++);if(r===1){const c=(n+Gt)/xx;return function(f,h){const p=f.pow(h,c);if(!f.eql(f.sqr(p),h))throw new Error("Cannot find square root");return p}}const s=(t+Gt)/ol;return function(l,f){if(l.pow(f,e)===l.neg(l.ONE))throw new Error("Cannot find square root");let h=r,p=l.pow(l.mul(l.ONE,i),t),g=l.pow(f,s),m=l.pow(f,t);for(;!l.eql(m,l.ONE);){if(l.eql(m,l.ZERO))return l.ZERO;let b=1;for(let x=l.sqr(m);b<h&&!l.eql(x,l.ONE);b++)x=l.sqr(x);const w=l.pow(p,Gt<<BigInt(h-b-1));p=l.sqr(w),g=l.mul(g,w),m=l.mul(m,p),h=b}return g}}function dj(n){if(n%xx===uj){const e=(n+Gt)/xx;return function(r,i){const s=r.pow(i,e);if(!r.eql(r.sqr(s),i))throw new Error("Cannot find square root");return s}}if(n%l5===c5){const e=(n-c5)/l5;return function(r,i){const s=r.mul(i,ol),c=r.pow(s,e),l=r.mul(i,c),f=r.mul(r.mul(l,ol),c),h=r.mul(l,r.sub(f,r.ONE));if(!r.eql(r.sqr(h),i))throw new Error("Cannot find square root");return h}}return hj(n)}const pj=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function gj(n){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},t=pj.reduce((r,i)=>(r[i]="function",r),e);return Cg(n,t)}function mj(n,e,t){if(t<En)throw new Error("Expected power > 0");if(t===En)return n.ONE;if(t===Gt)return e;let r=n.ONE,i=e;for(;t>En;)t&Gt&&(r=n.mul(r,i)),i=n.sqr(i),t>>=Gt;return r}function yj(n,e){const t=new Array(e.length),r=e.reduce((s,c,l)=>n.is0(c)?s:(t[l]=s,n.mul(s,c)),n.ONE),i=n.inv(r);return e.reduceRight((s,c,l)=>n.is0(c)?s:(t[l]=n.mul(s,t[l]),n.mul(s,c)),i),t}function kT(n,e){const t=e!==void 0?e:n.toString(2).length,r=Math.ceil(t/8);return{nBitLength:t,nByteLength:r}}function bj(n,e,t=!1,r={}){if(n<=En)throw new Error(`Expected Field ORDER > 0, got ${n}`);const{nBitLength:i,nByteLength:s}=kT(n,e);if(s>2048)throw new Error("Field lengths over 2048 bytes are not supported");const c=dj(n),l=Object.freeze({ORDER:n,BITS:i,BYTES:s,MASK:x3(i),ZERO:En,ONE:Gt,create:f=>Ar(f,n),isValid:f=>{if(typeof f!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof f}`);return En<=f&&f<n},is0:f=>f===En,isOdd:f=>(f&Gt)===Gt,neg:f=>Ar(-f,n),eql:(f,h)=>f===h,sqr:f=>Ar(f*f,n),add:(f,h)=>Ar(f+h,n),sub:(f,h)=>Ar(f-h,n),mul:(f,h)=>Ar(f*h,n),pow:(f,h)=>mj(l,f,h),div:(f,h)=>Ar(f*Ex(h,n),n),sqrN:f=>f*f,addN:(f,h)=>f+h,subN:(f,h)=>f-h,mulN:(f,h)=>f*h,inv:f=>Ex(f,n),sqrt:r.sqrt||(f=>c(l,f)),invertBatch:f=>yj(l,f),cmov:(f,h,p)=>p?h:f,toBytes:f=>t?v3(f,s):Th(f,s),fromBytes:f=>{if(f.length!==s)throw new Error(`Fp.fromBytes: expected ${s}, got ${f.length}`);return t?w3(f):Gl(f)}});return Object.freeze(l)}function PT(n){if(typeof n!="bigint")throw new Error("field order must be bigint");const e=n.toString(2).length;return Math.ceil(e/8)}function UT(n){const e=PT(n);return e+Math.ceil(e/2)}function wj(n,e,t=!1){const r=n.length,i=PT(e),s=UT(e);if(r<16||r<s||r>1024)throw new Error(`expected ${s}-1024 bytes of input, got ${r}`);const c=t?Gl(n):w3(n),l=Ar(c,e-Gt)+Gt;return t?v3(l,i):Th(l,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const vj=BigInt(0),Cv=BigInt(1);function xj(n,e){const t=(i,s)=>{const c=s.negate();return i?c:s},r=i=>{const s=Math.ceil(e/i)+1,c=2**(i-1);return{windows:s,windowSize:c}};return{constTimeNegate:t,unsafeLadder(i,s){let c=n.ZERO,l=i;for(;s>vj;)s&Cv&&(c=c.add(l)),l=l.double(),s>>=Cv;return c},precomputeWindow(i,s){const{windows:c,windowSize:l}=r(s),f=[];let h=i,p=h;for(let g=0;g<c;g++){p=h,f.push(p);for(let m=1;m<l;m++)p=p.add(h),f.push(p);h=p.double()}return f},wNAF(i,s,c){const{windows:l,windowSize:f}=r(i);let h=n.ZERO,p=n.BASE;const g=BigInt(2**i-1),m=2**i,b=BigInt(i);for(let w=0;w<l;w++){const x=w*f;let S=Number(c&g);c>>=b,S>f&&(S-=m,c+=Cv);const O=x,T=x+Math.abs(S)-1,_=w%2!==0,I=S<0;S===0?p=p.add(t(_,s[O])):h=h.add(t(I,s[T]))}return{p:h,f:p}},wNAFCached(i,s,c,l){const f=i._WINDOW_SIZE||1;let h=s.get(i);return h||(h=this.precomputeWindow(i,f),f!==1&&s.set(i,l(h))),this.wNAF(f,h,c)}}}function MT(n){return gj(n.Fp),Cg(n,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...kT(n.n,n.nBitLength),...n,p:n.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Ej(n){const e=MT(n);Cg(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:t,Fp:r,a:i}=e;if(t){if(!r.eql(i,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof t!="object"||typeof t.beta!="bigint"||typeof t.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:Aj,hexToBytes:Sj}=lj,bl={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(n){const{Err:e}=bl;if(n.length<2||n[0]!==2)throw new e("Invalid signature integer tag");const t=n[1],r=n.subarray(2,t+2);if(!t||r.length!==t)throw new e("Invalid signature integer: wrong length");if(r[0]&128)throw new e("Invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:Aj(r),l:n.subarray(t+2)}},toSig(n){const{Err:e}=bl,t=typeof n=="string"?Sj(n):n;if(!(t instanceof Uint8Array))throw new Error("ui8a expected");let r=t.length;if(r<2||t[0]!=48)throw new e("Invalid signature tag");if(t[1]!==r-2)throw new e("Invalid signature: incorrect length");const{d:i,l:s}=bl._parseInt(t.subarray(2)),{d:c,l}=bl._parseInt(s);if(l.length)throw new e("Invalid signature: left bytes after parsing");return{r:i,s:c}},hexFromSig(n){const e=h=>Number.parseInt(h[0],16)&8?"00"+h:h,t=h=>{const p=h.toString(16);return p.length&1?`0${p}`:p},r=e(t(n.s)),i=e(t(n.r)),s=r.length/2,c=i.length/2,l=t(s),f=t(c);return`30${t(c+s+4)}02${f}${i}02${l}${r}`}},Pa=BigInt(0),_i=BigInt(1);BigInt(2);const u5=BigInt(3);BigInt(4);function _j(n){const e=Ej(n),{Fp:t}=e,r=e.toBytes||((w,x,S)=>{const O=x.toAffine();return Hp(Uint8Array.from([4]),t.toBytes(O.x),t.toBytes(O.y))}),i=e.fromBytes||(w=>{const x=w.subarray(1),S=t.fromBytes(x.subarray(0,t.BYTES)),O=t.fromBytes(x.subarray(t.BYTES,2*t.BYTES));return{x:S,y:O}});function s(w){const{a:x,b:S}=e,O=t.sqr(w),T=t.mul(O,w);return t.add(t.add(T,t.mul(w,x)),S)}if(!t.eql(t.sqr(e.Gy),s(e.Gx)))throw new Error("bad generator point: equation left != right");function c(w){return typeof w=="bigint"&&Pa<w&&w<e.n}function l(w){if(!c(w))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function f(w){const{allowedPrivateKeyLengths:x,nByteLength:S,wrapPrivateKey:O,n:T}=e;if(x&&typeof w!="bigint"){if(w instanceof Uint8Array&&(w=Nh(w)),typeof w!="string"||!x.includes(w.length))throw new Error("Invalid key");w=w.padStart(S*2,"0")}let _;try{_=typeof w=="bigint"?w:Gl(Hi("private key",w,S))}catch{throw new Error(`private key must be ${S} bytes, hex or bigint, not ${typeof w}`)}return O&&(_=Ar(_,T)),l(_),_}const h=new Map;function p(w){if(!(w instanceof g))throw new Error("ProjectivePoint expected")}class g{constructor(x,S,O){if(this.px=x,this.py=S,this.pz=O,x==null||!t.isValid(x))throw new Error("x required");if(S==null||!t.isValid(S))throw new Error("y required");if(O==null||!t.isValid(O))throw new Error("z required")}static fromAffine(x){const{x:S,y:O}=x||{};if(!x||!t.isValid(S)||!t.isValid(O))throw new Error("invalid affine point");if(x instanceof g)throw new Error("projective point not allowed");const T=_=>t.eql(_,t.ZERO);return T(S)&&T(O)?g.ZERO:new g(S,O,t.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(x){const S=t.invertBatch(x.map(O=>O.pz));return x.map((O,T)=>O.toAffine(S[T])).map(g.fromAffine)}static fromHex(x){const S=g.fromAffine(i(Hi("pointHex",x)));return S.assertValidity(),S}static fromPrivateKey(x){return g.BASE.multiply(f(x))}_setWindowSize(x){this._WINDOW_SIZE=x,h.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!t.is0(this.py))return;throw new Error("bad point: ZERO")}const{x,y:S}=this.toAffine();if(!t.isValid(x)||!t.isValid(S))throw new Error("bad point: x or y not FE");const O=t.sqr(S),T=s(x);if(!t.eql(O,T))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:x}=this.toAffine();if(t.isOdd)return!t.isOdd(x);throw new Error("Field doesn't support isOdd")}equals(x){p(x);const{px:S,py:O,pz:T}=this,{px:_,py:I,pz:N}=x,U=t.eql(t.mul(S,N),t.mul(_,T)),z=t.eql(t.mul(O,N),t.mul(I,T));return U&&z}negate(){return new g(this.px,t.neg(this.py),this.pz)}double(){const{a:x,b:S}=e,O=t.mul(S,u5),{px:T,py:_,pz:I}=this;let N=t.ZERO,U=t.ZERO,z=t.ZERO,M=t.mul(T,T),L=t.mul(_,_),F=t.mul(I,I),q=t.mul(T,_);return q=t.add(q,q),z=t.mul(T,I),z=t.add(z,z),N=t.mul(x,z),U=t.mul(O,F),U=t.add(N,U),N=t.sub(L,U),U=t.add(L,U),U=t.mul(N,U),N=t.mul(q,N),z=t.mul(O,z),F=t.mul(x,F),q=t.sub(M,F),q=t.mul(x,q),q=t.add(q,z),z=t.add(M,M),M=t.add(z,M),M=t.add(M,F),M=t.mul(M,q),U=t.add(U,M),F=t.mul(_,I),F=t.add(F,F),M=t.mul(F,q),N=t.sub(N,M),z=t.mul(F,L),z=t.add(z,z),z=t.add(z,z),new g(N,U,z)}add(x){p(x);const{px:S,py:O,pz:T}=this,{px:_,py:I,pz:N}=x;let U=t.ZERO,z=t.ZERO,M=t.ZERO;const L=e.a,F=t.mul(e.b,u5);let q=t.mul(S,_),Q=t.mul(O,I),G=t.mul(T,N),W=t.add(S,O),A=t.add(_,I);W=t.mul(W,A),A=t.add(q,Q),W=t.sub(W,A),A=t.add(S,T);let E=t.add(_,N);return A=t.mul(A,E),E=t.add(q,G),A=t.sub(A,E),E=t.add(O,T),U=t.add(I,N),E=t.mul(E,U),U=t.add(Q,G),E=t.sub(E,U),M=t.mul(L,A),U=t.mul(F,G),M=t.add(U,M),U=t.sub(Q,M),M=t.add(Q,M),z=t.mul(U,M),Q=t.add(q,q),Q=t.add(Q,q),G=t.mul(L,G),A=t.mul(F,A),Q=t.add(Q,G),G=t.sub(q,G),G=t.mul(L,G),A=t.add(A,G),q=t.mul(Q,A),z=t.add(z,q),q=t.mul(E,A),U=t.mul(W,U),U=t.sub(U,q),q=t.mul(W,Q),M=t.mul(E,M),M=t.add(M,q),new g(U,z,M)}subtract(x){return this.add(x.negate())}is0(){return this.equals(g.ZERO)}wNAF(x){return b.wNAFCached(this,h,x,S=>{const O=t.invertBatch(S.map(T=>T.pz));return S.map((T,_)=>T.toAffine(O[_])).map(g.fromAffine)})}multiplyUnsafe(x){const S=g.ZERO;if(x===Pa)return S;if(l(x),x===_i)return this;const{endo:O}=e;if(!O)return b.unsafeLadder(this,x);let{k1neg:T,k1:_,k2neg:I,k2:N}=O.splitScalar(x),U=S,z=S,M=this;for(;_>Pa||N>Pa;)_&_i&&(U=U.add(M)),N&_i&&(z=z.add(M)),M=M.double(),_>>=_i,N>>=_i;return T&&(U=U.negate()),I&&(z=z.negate()),z=new g(t.mul(z.px,O.beta),z.py,z.pz),U.add(z)}multiply(x){l(x);let S=x,O,T;const{endo:_}=e;if(_){const{k1neg:I,k1:N,k2neg:U,k2:z}=_.splitScalar(S);let{p:M,f:L}=this.wNAF(N),{p:F,f:q}=this.wNAF(z);M=b.constTimeNegate(I,M),F=b.constTimeNegate(U,F),F=new g(t.mul(F.px,_.beta),F.py,F.pz),O=M.add(F),T=L.add(q)}else{const{p:I,f:N}=this.wNAF(S);O=I,T=N}return g.normalizeZ([O,T])[0]}multiplyAndAddUnsafe(x,S,O){const T=g.BASE,_=(N,U)=>U===Pa||U===_i||!N.equals(T)?N.multiplyUnsafe(U):N.multiply(U),I=_(this,S).add(_(x,O));return I.is0()?void 0:I}toAffine(x){const{px:S,py:O,pz:T}=this,_=this.is0();x==null&&(x=_?t.ONE:t.inv(T));const I=t.mul(S,x),N=t.mul(O,x),U=t.mul(T,x);if(_)return{x:t.ZERO,y:t.ZERO};if(!t.eql(U,t.ONE))throw new Error("invZ was invalid");return{x:I,y:N}}isTorsionFree(){const{h:x,isTorsionFree:S}=e;if(x===_i)return!0;if(S)return S(g,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:x,clearCofactor:S}=e;return x===_i?this:S?S(g,this):this.multiplyUnsafe(e.h)}toRawBytes(x=!0){return this.assertValidity(),r(g,this,x)}toHex(x=!0){return Nh(this.toRawBytes(x))}}g.BASE=new g(e.Gx,e.Gy,t.ONE),g.ZERO=new g(t.ZERO,t.ONE,t.ZERO);const m=e.nBitLength,b=xj(g,e.endo?Math.ceil(m/2):m);return{CURVE:e,ProjectivePoint:g,normPrivateKeyToScalar:f,weierstrassEquation:s,isWithinCurveOrder:c}}function Oj(n){const e=MT(n);return Cg(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function Cj(n){const e=Oj(n),{Fp:t,n:r}=e,i=t.BYTES+1,s=2*t.BYTES+1;function c(A){return Pa<A&&A<t.ORDER}function l(A){return Ar(A,r)}function f(A){return Ex(A,r)}const{ProjectivePoint:h,normPrivateKeyToScalar:p,weierstrassEquation:g,isWithinCurveOrder:m}=_j({...e,toBytes(A,E,P){const $=E.toAffine(),R=t.toBytes($.x),C=Hp;return P?C(Uint8Array.from([E.hasEvenY()?2:3]),R):C(Uint8Array.from([4]),R,t.toBytes($.y))},fromBytes(A){const E=A.length,P=A[0],$=A.subarray(1);if(E===i&&(P===2||P===3)){const R=Gl($);if(!c(R))throw new Error("Point is not on curve");const C=g(R);let H=t.sqrt(C);const K=(H&_i)===_i;return(P&1)===1!==K&&(H=t.neg(H)),{x:R,y:H}}else if(E===s&&P===4){const R=t.fromBytes($.subarray(0,t.BYTES)),C=t.fromBytes($.subarray(t.BYTES,2*t.BYTES));return{x:R,y:C}}else throw new Error(`Point of length ${E} was invalid. Expected ${i} compressed bytes or ${s} uncompressed bytes`)}}),b=A=>Nh(Th(A,e.nByteLength));function w(A){const E=r>>_i;return A>E}function x(A){return w(A)?l(-A):A}const S=(A,E,P)=>Gl(A.slice(E,P));class O{constructor(E,P,$){this.r=E,this.s=P,this.recovery=$,this.assertValidity()}static fromCompact(E){const P=e.nByteLength;return E=Hi("compactSignature",E,P*2),new O(S(E,0,P),S(E,P,2*P))}static fromDER(E){const{r:P,s:$}=bl.toSig(Hi("DER",E));return new O(P,$)}assertValidity(){if(!m(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!m(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(E){return new O(this.r,this.s,E)}recoverPublicKey(E){const{r:P,s:$,recovery:R}=this,C=z(Hi("msgHash",E));if(R==null||![0,1,2,3].includes(R))throw new Error("recovery id invalid");const H=R===2||R===3?P+e.n:P;if(H>=t.ORDER)throw new Error("recovery id 2 or 3 invalid");const K=(R&1)===0?"02":"03",J=h.fromHex(K+b(H)),Y=f(H),se=l(-C*Y),ue=l($*Y),ge=h.BASE.multiplyAndAddUnsafe(J,se,ue);if(!ge)throw new Error("point at infinify");return ge.assertValidity(),ge}hasHighS(){return w(this.s)}normalizeS(){return this.hasHighS()?new O(this.r,l(-this.s),this.recovery):this}toDERRawBytes(){return Ih(this.toDERHex())}toDERHex(){return bl.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Ih(this.toCompactHex())}toCompactHex(){return b(this.r)+b(this.s)}}const T={isValidPrivateKey(A){try{return p(A),!0}catch{return!1}},normPrivateKeyToScalar:p,randomPrivateKey:()=>{const A=UT(e.n);return wj(e.randomBytes(A),e.n)},precompute(A=8,E=h.BASE){return E._setWindowSize(A),E.multiply(BigInt(3)),E}};function _(A,E=!0){return h.fromPrivateKey(A).toRawBytes(E)}function I(A){const E=A instanceof Uint8Array,P=typeof A=="string",$=(E||P)&&A.length;return E?$===i||$===s:P?$===2*i||$===2*s:A instanceof h}function N(A,E,P=!0){if(I(A))throw new Error("first arg must be private key");if(!I(E))throw new Error("second arg must be public key");return h.fromHex(E).multiply(p(A)).toRawBytes(P)}const U=e.bits2int||function(A){const E=Gl(A),P=A.length*8-e.nBitLength;return P>0?E>>BigInt(P):E},z=e.bits2int_modN||function(A){return l(U(A))},M=x3(e.nBitLength);function L(A){if(typeof A!="bigint")throw new Error("bigint expected");if(!(Pa<=A&&A<M))throw new Error(`bigint expected < 2^${e.nBitLength}`);return Th(A,e.nByteLength)}function F(A,E,P=q){if(["recovered","canonical"].some(be=>be in P))throw new Error("sign() legacy options not supported");const{hash:$,randomBytes:R}=e;let{lowS:C,prehash:H,extraEntropy:K}=P;C==null&&(C=!0),A=Hi("msgHash",A),H&&(A=Hi("prehashed msgHash",$(A)));const J=z(A),Y=p(E),se=[L(Y),L(J)];if(K!=null){const be=K===!0?R(t.BYTES):K;se.push(Hi("extraEntropy",be))}const ue=Hp(...se),ge=J;function xe(be){const Se=U(be);if(!m(Se))return;const Pe=f(Se),Me=h.BASE.multiply(Se).toAffine(),Qe=l(Me.x);if(Qe===Pa)return;const at=l(Pe*l(ge+Qe*Y));if(at===Pa)return;let Sn=(Me.x===Qe?0:2)|Number(Me.y&_i),$n=at;return C&&w(at)&&($n=x(at),Sn^=1),new O(Qe,$n,Sn)}return{seed:ue,k2sig:xe}}const q={lowS:e.lowS,prehash:!1},Q={lowS:e.lowS,prehash:!1};function G(A,E,P=q){const{seed:$,k2sig:R}=F(A,E,P),C=e;return BT(C.hash.outputLen,C.nByteLength,C.hmac)($,R)}h.BASE._setWindowSize(8);function W(A,E,P,$=Q){var Me;const R=A;if(E=Hi("msgHash",E),P=Hi("publicKey",P),"strict"in $)throw new Error("options.strict was renamed to lowS");const{lowS:C,prehash:H}=$;let K,J;try{if(typeof R=="string"||R instanceof Uint8Array)try{K=O.fromDER(R)}catch(Qe){if(!(Qe instanceof bl.Err))throw Qe;K=O.fromCompact(R)}else if(typeof R=="object"&&typeof R.r=="bigint"&&typeof R.s=="bigint"){const{r:Qe,s:at}=R;K=new O(Qe,at)}else throw new Error("PARSE");J=h.fromHex(P)}catch(Qe){if(Qe.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(C&&K.hasHighS())return!1;H&&(E=e.hash(E));const{r:Y,s:se}=K,ue=z(E),ge=f(se),xe=l(ue*ge),be=l(Y*ge),Se=(Me=h.BASE.multiplyAndAddUnsafe(J,xe,be))==null?void 0:Me.toAffine();return Se?l(Se.x)===Y:!1}return{CURVE:e,getPublicKey:_,getSharedSecret:N,sign:G,verify:W,ProjectivePoint:h,Signature:O,utils:T}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Nj(n){return{hash:n,hmac:(e,...t)=>hT(n,e,p$(...t)),randomBytes:g$}}function Ij(n,e){const t=r=>Cj({...n,...Nj(r)});return Object.freeze({...t(e),create:t})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const LT=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),f5=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Tj=BigInt(1),Ax=BigInt(2),h5=(n,e)=>(n+e/Ax)/e;function Dj(n){const e=LT,t=BigInt(3),r=BigInt(6),i=BigInt(11),s=BigInt(22),c=BigInt(23),l=BigInt(44),f=BigInt(88),h=n*n*n%e,p=h*h*n%e,g=fi(p,t,e)*p%e,m=fi(g,t,e)*p%e,b=fi(m,Ax,e)*h%e,w=fi(b,i,e)*b%e,x=fi(w,s,e)*w%e,S=fi(x,l,e)*x%e,O=fi(S,f,e)*S%e,T=fi(O,l,e)*x%e,_=fi(T,t,e)*p%e,I=fi(_,c,e)*w%e,N=fi(I,r,e)*h%e,U=fi(N,Ax,e);if(!Sx.eql(Sx.sqr(U),n))throw new Error("Cannot find square root");return U}const Sx=bj(LT,void 0,void 0,{sqrt:Dj}),qo=Ij({a:BigInt(0),b:BigInt(7),Fp:Sx,n:f5,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:n=>{const e=f5,t=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-Tj*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=t,c=BigInt("0x100000000000000000000000000000000"),l=h5(s*n,e),f=h5(-r*n,e);let h=Ar(n-l*t-f*i,e),p=Ar(-l*r-f*s,e);const g=h>c,m=p>c;if(g&&(h=e-h),m&&(p=e-p),h>c||p>c)throw new Error("splitScalar: Endomorphism failed, k="+n);return{k1neg:g,k1:h,k2neg:m,k2:p}}}},pT);BigInt(0);qo.ProjectivePoint;const Fp="0x0000000000000000000000000000000000000000",d5="0x0000000000000000000000000000000000000000000000000000000000000000",p5=BigInt(0),g5=BigInt(1),m5=BigInt(2),y5=BigInt(27),b5=BigInt(28),gm=BigInt(35),tf={};function w5(n){return Va(un(n),32)}var Qf,xs,Yf,Pl;const zi=class zi{constructor(e,t,r,i){le(this,Qf);le(this,xs);le(this,Yf);le(this,Pl);_g(e,tf,"Signature"),V(this,Qf,t),V(this,xs,r),V(this,Yf,i),V(this,Pl,null)}get r(){return k(this,Qf)}set r(e){ee(Tf(e)===32,"invalid r","value",e),V(this,Qf,Ae(e))}get s(){return ee(parseInt(k(this,xs).substring(0,3))<8,"non-canonical s; use ._s","s",k(this,xs)),k(this,xs)}set s(e){ee(Tf(e)===32,"invalid s","value",e),V(this,xs,Ae(e))}get _s(){return k(this,xs)}isValid(){return parseInt(k(this,xs).substring(0,3))<8}get v(){return k(this,Yf)}set v(e){const t=$e(e,"value");ee(t===27||t===28,"invalid v","v",e),V(this,Yf,t)}get networkV(){return k(this,Pl)}get legacyChainId(){const e=this.networkV;return e==null?null:zi.getChainId(e)}get yParity(){return this.v===27?0:1}get yParityAndS(){const e=qe(this.s);return this.yParity&&(e[0]|=128),Ae(e)}get compactSerialized(){return Lt([this.r,this.yParityAndS])}get serialized(){return Lt([this.r,this.s,this.yParity?"0x1c":"0x1b"])}[Symbol.for("nodejs.util.inspect.custom")](){return`Signature { r: "${this.r}", s: "${this._s}"${this.isValid()?"":', valid: "false"'}, yParity: ${this.yParity}, networkV: ${this.networkV} }`}clone(){const e=new zi(tf,this.r,this._s,this.v);return this.networkV&&V(e,Pl,this.networkV),e}toJSON(){const e=this.networkV;return{_type:"signature",networkV:e!=null?e.toString():null,r:this.r,s:this._s,v:this.v}}static getChainId(e){const t=Oe(e,"v");return t==y5||t==b5?p5:(ee(t>=gm,"invalid EIP-155 v","v",e),(t-gm)/m5)}static getChainIdV(e,t){return Oe(e)*m5+BigInt(35+t-27)}static getNormalizedV(e){const t=Oe(e);return t===p5||t===y5?27:t===g5||t===b5?28:(ee(t>=gm,"invalid v","v",e),t&g5?27:28)}static from(e){function t(h,p){ee(h,p,"signature",e)}if(e==null)return new zi(tf,d5,d5,27);if(typeof e=="string"){const h=qe(e,"signature");if(h.length===64){const p=Ae(h.slice(0,32)),g=h.slice(32,64),m=g[0]&128?28:27;return g[0]&=127,new zi(tf,p,Ae(g),m)}if(h.length===65){const p=Ae(h.slice(0,32)),g=Ae(h.slice(32,64)),m=zi.getNormalizedV(h[64]);return new zi(tf,p,g,m)}t(!1,"invalid raw signature length")}if(e instanceof zi)return e.clone();const r=e.r;t(r!=null,"missing r");const i=w5(r),s=(function(h,p){if(h!=null)return w5(h);if(p!=null){t(Ot(p,32),"invalid yParityAndS");const g=qe(p);return g[0]&=127,Ae(g)}t(!1,"missing s")})(e.s,e.yParityAndS),{networkV:c,v:l}=(function(h,p,g){if(h!=null){const m=Oe(h);return{networkV:m>=gm?m:void 0,v:zi.getNormalizedV(m)}}if(p!=null)return t(Ot(p,32),"invalid yParityAndS"),{v:qe(p)[0]&128?28:27};if(g!=null){switch($e(g,"sig.yParity")){case 0:return{v:27};case 1:return{v:28}}t(!1,"invalid yParity")}t(!1,"missing v")})(e.v,e.yParityAndS,e.yParity),f=new zi(tf,i,s,l);return c&&V(f,Pl,c),t(e.yParity==null||$e(e.yParity,"sig.yParity")===f.yParity,"yParity mismatch"),t(e.yParityAndS==null||e.yParityAndS===f.yParityAndS,"yParityAndS mismatch"),f}};Qf=new WeakMap,xs=new WeakMap,Yf=new WeakMap,Pl=new WeakMap;let Tr=zi;var Ca;const pl=class pl{constructor(e){le(this,Ca);ee(Tf(e)===32,"invalid private key","privateKey","[REDACTED]"),V(this,Ca,Ae(e))}get privateKey(){return k(this,Ca)}get publicKey(){return pl.computePublicKey(k(this,Ca))}get compressedPublicKey(){return pl.computePublicKey(k(this,Ca),!0)}sign(e){ee(Tf(e)===32,"invalid digest length","digest",e);const t=qo.sign(sr(e),sr(k(this,Ca)),{lowS:!0});return Tr.from({r:wc(t.r,32),s:wc(t.s,32),v:t.recovery?28:27})}computeSharedSecret(e){const t=pl.computePublicKey(e);return Ae(qo.getSharedSecret(sr(k(this,Ca)),qe(t),!1))}static computePublicKey(e,t){let r=qe(e,"key");if(r.length===32){const s=qo.getPublicKey(r,!!t);return Ae(s)}if(r.length===64){const s=new Uint8Array(65);s[0]=4,s.set(r,1),r=s}const i=qo.ProjectivePoint.fromHex(r);return Ae(i.toRawBytes(t))}static recoverPublicKey(e,t){ee(Tf(e)===32,"invalid digest length","digest",e);const r=Tr.from(t);let i=qo.Signature.fromCompact(sr(Lt([r.r,r.s])));i=i.addRecoveryBit(r.yParity);const s=i.recoverPublicKey(sr(e));return ee(s!=null,"invalid signature for digest","signature",t),"0x"+s.toHex(!1)}static addPoints(e,t,r){const i=qo.ProjectivePoint.fromHex(pl.computePublicKey(e).substring(2)),s=qo.ProjectivePoint.fromHex(pl.computePublicKey(t).substring(2));return"0x"+i.add(s).toHex(!!r)}};Ca=new WeakMap;let qp=pl;const Rj=BigInt(0),Bj=BigInt(36);function v5(n){n=n.toLowerCase();const e=n.substring(2).split(""),t=new Uint8Array(40);for(let i=0;i<40;i++)t[i]=e[i].charCodeAt(0);const r=qe(nn(t));for(let i=0;i<40;i+=2)r[i>>1]>>4>=8&&(e[i]=e[i].toUpperCase()),(r[i>>1]&15)>=8&&(e[i+1]=e[i+1].toUpperCase());return"0x"+e.join("")}const E3={};for(let n=0;n<10;n++)E3[String(n)]=String(n);for(let n=0;n<26;n++)E3[String.fromCharCode(65+n)]=String(10+n);const x5=15;function kj(n){n=n.toUpperCase(),n=n.substring(4)+n.substring(0,2)+"00";let e=n.split("").map(r=>E3[r]).join("");for(;e.length>=x5;){let r=e.substring(0,x5);e=parseInt(r,10)%97+e.substring(r.length)}let t=String(98-parseInt(e,10)%97);for(;t.length<2;)t="0"+t;return t}const Pj=(function(){const n={};for(let e=0;e<36;e++){const t="0123456789abcdefghijklmnopqrstuvwxyz"[e];n[t]=BigInt(e)}return n})();function Uj(n){n=n.toLowerCase();let e=Rj;for(let t=0;t<n.length;t++)e=e*Bj+Pj[n[t]];return e}function ut(n){if(ee(typeof n=="string","invalid address","address",n),n.match(/^(0x)?[0-9a-fA-F]{40}$/)){n.startsWith("0x")||(n="0x"+n);const e=v5(n);return ee(!n.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||e===n,"bad address checksum","address",n),e}if(n.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){ee(n.substring(2,4)===kj(n),"bad icap checksum","address",n);let e=Uj(n.substring(4)).toString(16);for(;e.length<40;)e="0"+e;return v5("0x"+e)}ee(!1,"invalid address","address",n)}function Mj(n){const e=ut(n.from);let r=Oe(n.nonce,"tx.nonce").toString(16);return r==="0"?r="0x":r.length%2?r="0x0"+r:r="0x"+r,ut(Mt(nn(xc([e,r])),12))}function $T(n){return n&&typeof n.getAddress=="function"}async function Nv(n,e){const t=await e;return(t==null||t==="0x0000000000000000000000000000000000000000")&&(pe(typeof n!="string","unconfigured name","UNCONFIGURED_NAME",{value:n}),ee(!1,"invalid AddressLike value; did not resolve to a value address","target",n)),ut(t)}function or(n,e){if(typeof n=="string")return n.match(/^0x[0-9a-f]{40}$/i)?ut(n):(pe(e!=null,"ENS resolution requires a provider","UNSUPPORTED_OPERATION",{operation:"resolveName"}),Nv(n,e.resolveName(n)));if($T(n))return Nv(n,n.getAddress());if(n&&typeof n.then=="function")return Nv(n,n);ee(!1,"unsupported addressable value","target",n)}const ma={};function _e(n,e){let t=!1;return e<0&&(t=!0,e*=-1),new Jn(ma,`${t?"":"u"}int${e}`,n,{signed:t,width:e})}function rt(n,e){return new Jn(ma,`bytes${e||""}`,n,{size:e})}const E5=Symbol.for("_ethers_typed");var Ul;const ba=class ba{constructor(e,t,r,i){ie(this,"type");ie(this,"value");le(this,Ul);ie(this,"_typedSymbol");i==null&&(i=null),_g(ma,e,"Typed"),Re(this,{_typedSymbol:E5,type:t,value:r}),V(this,Ul,i),this.format()}format(){if(this.type==="array")throw new Error("");if(this.type==="dynamicArray")throw new Error("");return this.type==="tuple"?`tuple(${this.value.map(e=>e.format()).join(",")})`:this.type}defaultValue(){return 0}minValue(){return 0}maxValue(){return 0}isBigInt(){return!!this.type.match(/^u?int[0-9]+$/)}isData(){return this.type.startsWith("bytes")}isString(){return this.type==="string"}get tupleName(){if(this.type!=="tuple")throw TypeError("not a tuple");return k(this,Ul)}get arrayLength(){if(this.type!=="array")throw TypeError("not an array");return k(this,Ul)===!0?-1:k(this,Ul)===!1?this.value.length:null}static from(e,t){return new ba(ma,e,t)}static uint8(e){return _e(e,8)}static uint16(e){return _e(e,16)}static uint24(e){return _e(e,24)}static uint32(e){return _e(e,32)}static uint40(e){return _e(e,40)}static uint48(e){return _e(e,48)}static uint56(e){return _e(e,56)}static uint64(e){return _e(e,64)}static uint72(e){return _e(e,72)}static uint80(e){return _e(e,80)}static uint88(e){return _e(e,88)}static uint96(e){return _e(e,96)}static uint104(e){return _e(e,104)}static uint112(e){return _e(e,112)}static uint120(e){return _e(e,120)}static uint128(e){return _e(e,128)}static uint136(e){return _e(e,136)}static uint144(e){return _e(e,144)}static uint152(e){return _e(e,152)}static uint160(e){return _e(e,160)}static uint168(e){return _e(e,168)}static uint176(e){return _e(e,176)}static uint184(e){return _e(e,184)}static uint192(e){return _e(e,192)}static uint200(e){return _e(e,200)}static uint208(e){return _e(e,208)}static uint216(e){return _e(e,216)}static uint224(e){return _e(e,224)}static uint232(e){return _e(e,232)}static uint240(e){return _e(e,240)}static uint248(e){return _e(e,248)}static uint256(e){return _e(e,256)}static uint(e){return _e(e,256)}static int8(e){return _e(e,-8)}static int16(e){return _e(e,-16)}static int24(e){return _e(e,-24)}static int32(e){return _e(e,-32)}static int40(e){return _e(e,-40)}static int48(e){return _e(e,-48)}static int56(e){return _e(e,-56)}static int64(e){return _e(e,-64)}static int72(e){return _e(e,-72)}static int80(e){return _e(e,-80)}static int88(e){return _e(e,-88)}static int96(e){return _e(e,-96)}static int104(e){return _e(e,-104)}static int112(e){return _e(e,-112)}static int120(e){return _e(e,-120)}static int128(e){return _e(e,-128)}static int136(e){return _e(e,-136)}static int144(e){return _e(e,-144)}static int152(e){return _e(e,-152)}static int160(e){return _e(e,-160)}static int168(e){return _e(e,-168)}static int176(e){return _e(e,-176)}static int184(e){return _e(e,-184)}static int192(e){return _e(e,-192)}static int200(e){return _e(e,-200)}static int208(e){return _e(e,-208)}static int216(e){return _e(e,-216)}static int224(e){return _e(e,-224)}static int232(e){return _e(e,-232)}static int240(e){return _e(e,-240)}static int248(e){return _e(e,-248)}static int256(e){return _e(e,-256)}static int(e){return _e(e,-256)}static bytes1(e){return rt(e,1)}static bytes2(e){return rt(e,2)}static bytes3(e){return rt(e,3)}static bytes4(e){return rt(e,4)}static bytes5(e){return rt(e,5)}static bytes6(e){return rt(e,6)}static bytes7(e){return rt(e,7)}static bytes8(e){return rt(e,8)}static bytes9(e){return rt(e,9)}static bytes10(e){return rt(e,10)}static bytes11(e){return rt(e,11)}static bytes12(e){return rt(e,12)}static bytes13(e){return rt(e,13)}static bytes14(e){return rt(e,14)}static bytes15(e){return rt(e,15)}static bytes16(e){return rt(e,16)}static bytes17(e){return rt(e,17)}static bytes18(e){return rt(e,18)}static bytes19(e){return rt(e,19)}static bytes20(e){return rt(e,20)}static bytes21(e){return rt(e,21)}static bytes22(e){return rt(e,22)}static bytes23(e){return rt(e,23)}static bytes24(e){return rt(e,24)}static bytes25(e){return rt(e,25)}static bytes26(e){return rt(e,26)}static bytes27(e){return rt(e,27)}static bytes28(e){return rt(e,28)}static bytes29(e){return rt(e,29)}static bytes30(e){return rt(e,30)}static bytes31(e){return rt(e,31)}static bytes32(e){return rt(e,32)}static address(e){return new ba(ma,"address",e)}static bool(e){return new ba(ma,"bool",!!e)}static bytes(e){return new ba(ma,"bytes",e)}static string(e){return new ba(ma,"string",e)}static array(e,t){throw new Error("not implemented yet")}static tuple(e,t){throw new Error("not implemented yet")}static overrides(e){return new ba(ma,"overrides",Object.assign({},e))}static isTyped(e){return e&&typeof e=="object"&&"_typedSymbol"in e&&e._typedSymbol===E5}static dereference(e,t){if(ba.isTyped(e)){if(e.type!==t)throw new Error(`invalid type: expecetd ${t}, got ${e.type}`);return e.value}return e}};Ul=new WeakMap;let Jn=ba;class Lj extends Wa{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,t){let r=Jn.dereference(t,"string");try{r=ut(r)}catch(i){return this._throwError(i.message,t)}return e.writeValue(r)}decode(e){return ut(wc(e.readValue(),20))}}class $j extends Wa{constructor(t){super(t.name,t.type,"_",t.dynamic);ie(this,"coder");this.coder=t}defaultValue(){return this.coder.defaultValue()}encode(t,r){return this.coder.encode(t,r)}decode(t){return this.coder.decode(t)}}function jT(n,e,t){let r=[];if(Array.isArray(t))r=t;else if(t&&typeof t=="object"){let f={};r=e.map(h=>{const p=h.localName;return pe(p,"cannot encode object for signature with missing names","INVALID_ARGUMENT",{argument:"values",info:{coder:h},value:t}),pe(!f[p],"cannot encode object for signature with duplicate names","INVALID_ARGUMENT",{argument:"values",info:{coder:h},value:t}),f[p]=!0,t[p]})}else ee(!1,"invalid tuple value","tuple",t);ee(e.length===r.length,"types/value length mismatch","tuple",t);let i=new yx,s=new yx,c=[];e.forEach((f,h)=>{let p=r[h];if(f.dynamic){let g=s.length;f.encode(s,p);let m=i.writeUpdatableValue();c.push(b=>{m(b+g)})}else f.encode(i,p)}),c.forEach(f=>{f(i.length)});let l=n.appendWriter(i);return l+=n.appendWriter(s),l}function zT(n,e){let t=[],r=[],i=n.subReader(0);return e.forEach(s=>{let c=null;if(s.dynamic){let l=n.readIndex(),f=i.subReader(l);try{c=s.decode(f)}catch(h){if(kn(h,"BUFFER_OVERRUN"))throw h;c=h,c.baseType=s.name,c.name=s.localName,c.type=s.type}}else try{c=s.decode(n)}catch(l){if(kn(l,"BUFFER_OVERRUN"))throw l;c=l,c.baseType=s.name,c.name=s.localName,c.type=s.type}if(c==null)throw new Error("investigate");t.push(c),r.push(s.localName||null)}),Oh.fromItems(t,r)}class jj extends Wa{constructor(t,r,i){const s=t.type+"["+(r>=0?r:"")+"]",c=r===-1||t.dynamic;super("array",s,i,c);ie(this,"coder");ie(this,"length");Re(this,{coder:t,length:r})}defaultValue(){const t=this.coder.defaultValue(),r=[];for(let i=0;i<this.length;i++)r.push(t);return r}encode(t,r){const i=Jn.dereference(r,"array");Array.isArray(i)||this._throwError("expected array value",i);let s=this.length;s===-1&&(s=i.length,t.writeValue(i.length)),QI(i.length,s,"coder array"+(this.localName?" "+this.localName:""));let c=[];for(let l=0;l<i.length;l++)c.push(this.coder);return jT(t,c,i)}decode(t){let r=this.length;r===-1&&(r=t.readIndex(),pe(r*ar<=t.dataLength,"insufficient data length","BUFFER_OVERRUN",{buffer:t.bytes,offset:r*ar,length:t.dataLength}));let i=[];for(let s=0;s<r;s++)i.push(new $j(this.coder));return zT(t,i)}}class zj extends Wa{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,t){const r=Jn.dereference(t,"bool");return e.writeValue(r?1:0)}decode(e){return!!e.readValue()}}class HT extends Wa{constructor(e,t){super(e,e,t,!0)}defaultValue(){return"0x"}encode(e,t){t=sr(t);let r=e.writeValue(t.length);return r+=e.writeBytes(t),r}decode(e){return e.readBytes(e.readIndex(),!0)}}class Hj extends HT{constructor(e){super("bytes",e)}decode(e){return Ae(super.decode(e))}}class Fj extends Wa{constructor(t,r){let i="bytes"+String(t);super(i,i,r,!1);ie(this,"size");Re(this,{size:t},{size:"number"})}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(t,r){let i=sr(Jn.dereference(r,this.type));return i.length!==this.size&&this._throwError("incorrect data length",r),t.writeBytes(i)}decode(t){return Ae(t.readBytes(this.size))}}const qj=new Uint8Array([]);class Vj extends Wa{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,t){return t!=null&&this._throwError("not null",t),e.writeBytes(qj)}decode(e){return e.readBytes(0),null}}const Gj=BigInt(0),Kj=BigInt(1),Qj=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class Yj extends Wa{constructor(t,r,i){const s=(r?"int":"uint")+t*8;super(s,s,i,!1);ie(this,"size");ie(this,"signed");Re(this,{size:t,signed:r},{size:"number",signed:"boolean"})}defaultValue(){return 0}encode(t,r){let i=Oe(Jn.dereference(r,this.type)),s=yl(Qj,ar*8);if(this.signed){let c=yl(s,this.size*8-1);(i>c||i<-(c+Kj))&&this._throwError("value out-of-bounds",r),i=WI(i,8*ar)}else(i<Gj||i>yl(s,this.size*8))&&this._throwError("value out-of-bounds",r);return t.writeValue(i)}decode(t){let r=yl(t.readValue(),this.size*8);return this.signed&&(r=by(r,this.size*8)),r}}class Zj extends HT{constructor(e){super("string",e)}defaultValue(){return""}encode(e,t){return super.encode(e,ja(Jn.dereference(t,"string")))}decode(e){return wy(super.decode(e))}}class mm extends Wa{constructor(t,r){let i=!1;const s=[];t.forEach(l=>{l.dynamic&&(i=!0),s.push(l.type)});const c="tuple("+s.join(",")+")";super("tuple",c,r,i);ie(this,"coders");Re(this,{coders:Object.freeze(t.slice())})}defaultValue(){const t=[];this.coders.forEach(i=>{t.push(i.defaultValue())});const r=this.coders.reduce((i,s)=>{const c=s.localName;return c&&(i[c]||(i[c]=0),i[c]++),i},{});return this.coders.forEach((i,s)=>{let c=i.localName;!c||r[c]!==1||(c==="length"&&(c="_length"),t[c]==null&&(t[c]=t[s]))}),Object.freeze(t)}encode(t,r){const i=Jn.dereference(r,"tuple");return jT(t,this.coders,i)}decode(t){return zT(t,this.coders)}}function Iv(n,e){return{address:ut(n),storageKeys:e.map((t,r)=>(ee(Ot(t,32),"invalid slot",`storageKeys[${r}]`,t),t.toLowerCase()))}}function su(n){if(Array.isArray(n))return n.map((t,r)=>Array.isArray(t)?(ee(t.length===2,"invalid slot set",`value[${r}]`,t),Iv(t[0],t[1])):(ee(t!=null&&typeof t=="object","invalid address-slot set","value",n),Iv(t.address,t.storageKeys)));ee(n!=null&&typeof n=="object","invalid access list","value",n);const e=Object.keys(n).map(t=>{const r=n[t].reduce((i,s)=>(i[s]=!0,i),{});return Iv(t,Object.keys(r).sort())});return e.sort((t,r)=>t.address.localeCompare(r.address)),e}function FT(n){return{address:ut(n.address),nonce:Oe(n.nonce!=null?n.nonce:0),chainId:Oe(n.chainId!=null?n.chainId:0),signature:Tr.from(n.signature)}}function Wj(n){let e;return typeof n=="string"?e=qp.computePublicKey(n,!1):e=n.publicKey,ut(nn("0x"+e.substring(4)).substring(26))}function Jj(n,e){return Wj(qp.recoverPublicKey(n,e))}const xn=BigInt(0),Xj=BigInt(2),ez=BigInt(27),tz=BigInt(28),nz=BigInt(35),rz=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),Tv=4096*32;function iz(n){return{blobToKzgCommitment:r=>{if("computeBlobProof"in n){if("blobToKzgCommitment"in n&&typeof n.blobToKzgCommitment=="function")return qe(n.blobToKzgCommitment(Ae(r)))}else if("blobToKzgCommitment"in n&&typeof n.blobToKzgCommitment=="function")return qe(n.blobToKzgCommitment(r));if("blobToKZGCommitment"in n&&typeof n.blobToKZGCommitment=="function")return qe(n.blobToKZGCommitment(Ae(r)));ee(!1,"unsupported KZG library","kzg",n)},computeBlobKzgProof:(r,i)=>{if("computeBlobProof"in n&&typeof n.computeBlobProof=="function")return qe(n.computeBlobProof(Ae(r),Ae(i)));if("computeBlobKzgProof"in n&&typeof n.computeBlobKzgProof=="function")return n.computeBlobKzgProof(r,i);if("computeBlobKZGProof"in n&&typeof n.computeBlobKZGProof=="function")return qe(n.computeBlobKZGProof(Ae(r),Ae(i)));ee(!1,"unsupported KZG library","kzg",n)}}}function A5(n,e){let t=n.toString(16);for(;t.length<2;)t="0"+t;return t+=zh(e).substring(4),"0x"+t}function Hh(n){return n==="0x"?null:ut(n)}function yb(n,e){try{return su(n)}catch(t){ee(!1,t.message,e,n)}}function sz(n,e){try{if(!Array.isArray(n))throw new Error("authorizationList: invalid array");const t=[];for(let r=0;r<n.length;r++){const i=n[r];if(!Array.isArray(i))throw new Error(`authorization[${r}]: invalid array`);if(i.length!==6)throw new Error(`authorization[${r}]: wrong length`);if(!i[1])throw new Error(`authorization[${r}]: null address`);t.push({address:Hh(i[1]),nonce:wt(i[2],"nonce"),chainId:wt(i[0],"chainId"),signature:Tr.from({yParity:au(i[3],"yParity"),r:Va(i[4],32),s:Va(i[5],32)})})}return t}catch(t){ee(!1,t.message,e,n)}}function au(n,e){return n==="0x"?0:$e(n,e)}function wt(n,e){if(n==="0x")return xn;const t=Oe(n,e);return ee(t<=rz,"value exceeds uint size",e,t),t}function et(n,e){const t=Oe(n,"value"),r=un(t);return ee(r.length<=32,"value too large",`tx.${e}`,t),r}function bb(n){return su(n).map(e=>[e.address,e.storageKeys])}function az(n){return n.map(e=>[et(e.chainId,"chainId"),e.address,et(e.nonce,"nonce"),et(e.signature.yParity,"yParity"),un(e.signature.r),un(e.signature.s)])}function oz(n,e){ee(Array.isArray(n),`invalid ${e}`,"value",n);for(let t=0;t<n.length;t++)ee(Ot(n[t],32),"invalid ${ param } hash",`value[${t}]`,n[t]);return n}function cz(n){const e=Og(n);ee(Array.isArray(e)&&(e.length===9||e.length===6),"invalid field count for legacy transaction","data",n);const t={type:0,nonce:au(e[0],"nonce"),gasPrice:wt(e[1],"gasPrice"),gasLimit:wt(e[2],"gasLimit"),to:Hh(e[3]),value:wt(e[4],"value"),data:Ae(e[5]),chainId:xn};if(e.length===6)return t;const r=wt(e[6],"v"),i=wt(e[7],"r"),s=wt(e[8],"s");if(i===xn&&s===xn)t.chainId=r;else{let c=(r-nz)/Xj;c<xn&&(c=xn),t.chainId=c,ee(c!==xn||r===ez||r===tz,"non-canonical legacy v","v",e[6]),t.signature=Tr.from({r:Va(e[7],32),s:Va(e[8],32),v:r})}return t}function lz(n,e){const t=[et(n.nonce,"nonce"),et(n.gasPrice||0,"gasPrice"),et(n.gasLimit,"gasLimit"),n.to||"0x",et(n.value,"value"),n.data];let r=xn;if(n.chainId!=xn)r=Oe(n.chainId,"tx.chainId"),ee(!e||e.networkV==null||e.legacyChainId===r,"tx.chainId/sig.v mismatch","sig",e);else if(n.signature){const s=n.signature.legacyChainId;s!=null&&(r=s)}if(!e)return r!==xn&&(t.push(un(r)),t.push("0x"),t.push("0x")),xc(t);let i=BigInt(27+e.yParity);return r!==xn?i=Tr.getChainIdV(r,e.v):BigInt(e.v)!==i&&ee(!1,"tx.chainId/sig.v mismatch","sig",e),t.push(un(i)),t.push(un(e.r)),t.push(un(e.s)),xc(t)}function wb(n,e){let t;try{if(t=au(e[0],"yParity"),t!==0&&t!==1)throw new Error("bad yParity")}catch{ee(!1,"invalid yParity","yParity",e[0])}const r=Va(e[1],32),i=Va(e[2],32),s=Tr.from({r,s:i,yParity:t});n.signature=s}function uz(n){const e=Og(qe(n).slice(1));ee(Array.isArray(e)&&(e.length===9||e.length===12),"invalid field count for transaction type: 2","data",Ae(n));const t={type:2,chainId:wt(e[0],"chainId"),nonce:au(e[1],"nonce"),maxPriorityFeePerGas:wt(e[2],"maxPriorityFeePerGas"),maxFeePerGas:wt(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:wt(e[4],"gasLimit"),to:Hh(e[5]),value:wt(e[6],"value"),data:Ae(e[7]),accessList:yb(e[8],"accessList")};return e.length===9||wb(t,e.slice(9)),t}function fz(n,e){const t=[et(n.chainId,"chainId"),et(n.nonce,"nonce"),et(n.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),et(n.maxFeePerGas||0,"maxFeePerGas"),et(n.gasLimit,"gasLimit"),n.to||"0x",et(n.value,"value"),n.data,bb(n.accessList||[])];return e&&(t.push(et(e.yParity,"yParity")),t.push(un(e.r)),t.push(un(e.s))),Lt(["0x02",xc(t)])}function hz(n){const e=Og(qe(n).slice(1));ee(Array.isArray(e)&&(e.length===8||e.length===11),"invalid field count for transaction type: 1","data",Ae(n));const t={type:1,chainId:wt(e[0],"chainId"),nonce:au(e[1],"nonce"),gasPrice:wt(e[2],"gasPrice"),gasLimit:wt(e[3],"gasLimit"),to:Hh(e[4]),value:wt(e[5],"value"),data:Ae(e[6]),accessList:yb(e[7],"accessList")};return e.length===8||wb(t,e.slice(8)),t}function dz(n,e){const t=[et(n.chainId,"chainId"),et(n.nonce,"nonce"),et(n.gasPrice||0,"gasPrice"),et(n.gasLimit,"gasLimit"),n.to||"0x",et(n.value,"value"),n.data,bb(n.accessList||[])];return e&&(t.push(et(e.yParity,"recoveryParam")),t.push(un(e.r)),t.push(un(e.s))),Lt(["0x01",xc(t)])}function pz(n){let e=Og(qe(n).slice(1)),t="3",r=null;if(e.length===4&&Array.isArray(e[0])){t="3 (network format)";const s=e[1],c=e[2],l=e[3];ee(Array.isArray(s),"invalid network format: blobs not an array","fields[1]",s),ee(Array.isArray(c),"invalid network format: commitments not an array","fields[2]",c),ee(Array.isArray(l),"invalid network format: proofs not an array","fields[3]",l),ee(s.length===c.length,"invalid network format: blobs/commitments length mismatch","fields",e),ee(s.length===l.length,"invalid network format: blobs/proofs length mismatch","fields",e),r=[];for(let f=0;f<e[1].length;f++)r.push({data:s[f],commitment:c[f],proof:l[f]});e=e[0]}ee(Array.isArray(e)&&(e.length===11||e.length===14),`invalid field count for transaction type: ${t}`,"data",Ae(n));const i={type:3,chainId:wt(e[0],"chainId"),nonce:au(e[1],"nonce"),maxPriorityFeePerGas:wt(e[2],"maxPriorityFeePerGas"),maxFeePerGas:wt(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:wt(e[4],"gasLimit"),to:Hh(e[5]),value:wt(e[6],"value"),data:Ae(e[7]),accessList:yb(e[8],"accessList"),maxFeePerBlobGas:wt(e[9],"maxFeePerBlobGas"),blobVersionedHashes:e[10]};r&&(i.blobs=r),ee(i.to!=null,`invalid address for transaction type: ${t}`,"data",n),ee(Array.isArray(i.blobVersionedHashes),"invalid blobVersionedHashes: must be an array","data",n);for(let s=0;s<i.blobVersionedHashes.length;s++)ee(Ot(i.blobVersionedHashes[s],32),`invalid blobVersionedHash at index ${s}: must be length 32`,"data",n);return e.length===11||wb(i,e.slice(11)),i}function gz(n,e,t){const r=[et(n.chainId,"chainId"),et(n.nonce,"nonce"),et(n.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),et(n.maxFeePerGas||0,"maxFeePerGas"),et(n.gasLimit,"gasLimit"),n.to||Fp,et(n.value,"value"),n.data,bb(n.accessList||[]),et(n.maxFeePerBlobGas||0,"maxFeePerBlobGas"),oz(n.blobVersionedHashes||[],"blobVersionedHashes")];return e&&(r.push(et(e.yParity,"yParity")),r.push(un(e.r)),r.push(un(e.s)),t)?Lt(["0x03",xc([r,t.map(i=>i.data),t.map(i=>i.commitment),t.map(i=>i.proof)])]):Lt(["0x03",xc(r)])}function mz(n){const e=Og(qe(n).slice(1));ee(Array.isArray(e)&&(e.length===10||e.length===13),"invalid field count for transaction type: 4","data",Ae(n));const t={type:4,chainId:wt(e[0],"chainId"),nonce:au(e[1],"nonce"),maxPriorityFeePerGas:wt(e[2],"maxPriorityFeePerGas"),maxFeePerGas:wt(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:wt(e[4],"gasLimit"),to:Hh(e[5]),value:wt(e[6],"value"),data:Ae(e[7]),accessList:yb(e[8],"accessList"),authorizationList:sz(e[9],"authorizationList")};return e.length===10||wb(t,e.slice(10)),t}function yz(n,e){const t=[et(n.chainId,"chainId"),et(n.nonce,"nonce"),et(n.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),et(n.maxFeePerGas||0,"maxFeePerGas"),et(n.gasLimit,"gasLimit"),n.to||"0x",et(n.value,"value"),n.data,bb(n.accessList||[]),az(n.authorizationList||[])];return e&&(t.push(et(e.yParity,"yParity")),t.push(un(e.r)),t.push(un(e.s))),Lt(["0x04",xc(t)])}var Gi,Zf,Wf,Jf,Xf,eh,th,nh,rh,ih,sh,ah,Ml,tc,Es,nc,oh,ch,Zm;const ws=class ws{constructor(){le(this,ch);le(this,Gi);le(this,Zf);le(this,Wf);le(this,Jf);le(this,Xf);le(this,eh);le(this,th);le(this,nh);le(this,rh);le(this,ih);le(this,sh);le(this,ah);le(this,Ml);le(this,tc);le(this,Es);le(this,nc);le(this,oh);V(this,Gi,null),V(this,Zf,null),V(this,Jf,0),V(this,Xf,xn),V(this,eh,null),V(this,th,null),V(this,nh,null),V(this,Wf,"0x"),V(this,rh,xn),V(this,ih,xn),V(this,sh,null),V(this,ah,null),V(this,Ml,null),V(this,tc,null),V(this,Es,null),V(this,nc,null),V(this,oh,null)}get type(){return k(this,Gi)}set type(e){switch(e){case null:V(this,Gi,null);break;case 0:case"legacy":V(this,Gi,0);break;case 1:case"berlin":case"eip-2930":V(this,Gi,1);break;case 2:case"london":case"eip-1559":V(this,Gi,2);break;case 3:case"cancun":case"eip-4844":V(this,Gi,3);break;case 4:case"pectra":case"eip-7702":V(this,Gi,4);break;default:ee(!1,"unsupported transaction type","type",e)}}get typeName(){switch(this.type){case 0:return"legacy";case 1:return"eip-2930";case 2:return"eip-1559";case 3:return"eip-4844";case 4:return"eip-7702"}return null}get to(){const e=k(this,Zf);return e==null&&this.type===3?Fp:e}set to(e){V(this,Zf,e==null?null:ut(e))}get nonce(){return k(this,Jf)}set nonce(e){V(this,Jf,$e(e,"value"))}get gasLimit(){return k(this,Xf)}set gasLimit(e){V(this,Xf,Oe(e))}get gasPrice(){const e=k(this,eh);return e==null&&(this.type===0||this.type===1)?xn:e}set gasPrice(e){V(this,eh,e==null?null:Oe(e,"gasPrice"))}get maxPriorityFeePerGas(){const e=k(this,th);return e??(this.type===2||this.type===3?xn:null)}set maxPriorityFeePerGas(e){V(this,th,e==null?null:Oe(e,"maxPriorityFeePerGas"))}get maxFeePerGas(){const e=k(this,nh);return e??(this.type===2||this.type===3?xn:null)}set maxFeePerGas(e){V(this,nh,e==null?null:Oe(e,"maxFeePerGas"))}get data(){return k(this,Wf)}set data(e){V(this,Wf,Ae(e))}get value(){return k(this,rh)}set value(e){V(this,rh,Oe(e,"value"))}get chainId(){return k(this,ih)}set chainId(e){V(this,ih,Oe(e))}get signature(){return k(this,sh)||null}set signature(e){V(this,sh,e==null?null:Tr.from(e))}get accessList(){const e=k(this,ah)||null;return e??(this.type===1||this.type===2||this.type===3?[]:null)}set accessList(e){V(this,ah,e==null?null:su(e))}get authorizationList(){const e=k(this,oh)||null;return e==null&&this.type===4?[]:e}set authorizationList(e){V(this,oh,e==null?null:e.map(t=>FT(t)))}get maxFeePerBlobGas(){const e=k(this,Ml);return e==null&&this.type===3?xn:e}set maxFeePerBlobGas(e){V(this,Ml,e==null?null:Oe(e,"maxFeePerBlobGas"))}get blobVersionedHashes(){let e=k(this,tc);return e==null&&this.type===3?[]:e}set blobVersionedHashes(e){if(e!=null){ee(Array.isArray(e),"blobVersionedHashes must be an Array","value",e),e=e.slice();for(let t=0;t<e.length;t++)ee(Ot(e[t],32),"invalid blobVersionedHash",`value[${t}]`,e[t])}V(this,tc,e)}get blobs(){return k(this,nc)==null?null:k(this,nc).map(e=>Object.assign({},e))}set blobs(e){if(e==null){V(this,nc,null);return}const t=[],r=[];for(let i=0;i<e.length;i++){const s=e[i];if(p3(s)){pe(k(this,Es),"adding a raw blob requires a KZG library","UNSUPPORTED_OPERATION",{operation:"set blobs()"});let c=qe(s);if(ee(c.length<=Tv,"blob is too large",`blobs[${i}]`,s),c.length!==Tv){const h=new Uint8Array(Tv);h.set(c),c=h}const l=k(this,Es).blobToKzgCommitment(c),f=Ae(k(this,Es).computeBlobKzgProof(c,l));t.push({data:Ae(c),commitment:Ae(l),proof:f}),r.push(A5(1,l))}else{const c=Ae(s.commitment);t.push({data:Ae(s.data),commitment:c,proof:Ae(s.proof)}),r.push(A5(1,c))}}V(this,nc,t),V(this,tc,r)}get kzg(){return k(this,Es)}set kzg(e){e==null?V(this,Es,null):V(this,Es,iz(e))}get hash(){return this.signature==null?null:nn(ye(this,ch,Zm).call(this,!0,!1))}get unsignedHash(){return nn(this.unsignedSerialized)}get from(){return this.signature==null?null:Jj(this.unsignedHash,this.signature)}get fromPublicKey(){return this.signature==null?null:qp.recoverPublicKey(this.unsignedHash,this.signature)}isSigned(){return this.signature!=null}get serialized(){return ye(this,ch,Zm).call(this,!0,!0)}get unsignedSerialized(){return ye(this,ch,Zm).call(this,!1,!1)}inferType(){const e=this.inferTypes();return e.indexOf(2)>=0?2:e.pop()}inferTypes(){const e=this.gasPrice!=null,t=this.maxFeePerGas!=null||this.maxPriorityFeePerGas!=null,r=this.accessList!=null,i=k(this,Ml)!=null||k(this,tc);this.maxFeePerGas!=null&&this.maxPriorityFeePerGas!=null&&pe(this.maxFeePerGas>=this.maxPriorityFeePerGas,"priorityFee cannot be more than maxFee","BAD_DATA",{value:this}),pe(!t||this.type!==0&&this.type!==1,"transaction type cannot have maxFeePerGas or maxPriorityFeePerGas","BAD_DATA",{value:this}),pe(this.type!==0||!r,"legacy transaction cannot have accessList","BAD_DATA",{value:this});const s=[];return this.type!=null?s.push(this.type):this.authorizationList&&this.authorizationList.length?s.push(4):t?s.push(2):e?(s.push(1),r||s.push(0)):r?(s.push(1),s.push(2)):(i&&this.to||(s.push(0),s.push(1),s.push(2)),s.push(3)),s.sort(),s}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}clone(){return ws.from(this)}toJSON(){const e=t=>t==null?null:t.toString();return{type:this.type,to:this.to,data:this.data,nonce:this.nonce,gasLimit:e(this.gasLimit),gasPrice:e(this.gasPrice),maxPriorityFeePerGas:e(this.maxPriorityFeePerGas),maxFeePerGas:e(this.maxFeePerGas),value:e(this.value),chainId:e(this.chainId),sig:this.signature?this.signature.toJSON():null,accessList:this.accessList}}static from(e){if(e==null)return new ws;if(typeof e=="string"){const r=qe(e);if(r[0]>=127)return ws.from(cz(r));switch(r[0]){case 1:return ws.from(hz(r));case 2:return ws.from(uz(r));case 3:return ws.from(pz(r));case 4:return ws.from(mz(r))}pe(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:"from"})}const t=new ws;return e.type!=null&&(t.type=e.type),e.to!=null&&(t.to=e.to),e.nonce!=null&&(t.nonce=e.nonce),e.gasLimit!=null&&(t.gasLimit=e.gasLimit),e.gasPrice!=null&&(t.gasPrice=e.gasPrice),e.maxPriorityFeePerGas!=null&&(t.maxPriorityFeePerGas=e.maxPriorityFeePerGas),e.maxFeePerGas!=null&&(t.maxFeePerGas=e.maxFeePerGas),e.maxFeePerBlobGas!=null&&(t.maxFeePerBlobGas=e.maxFeePerBlobGas),e.data!=null&&(t.data=e.data),e.value!=null&&(t.value=e.value),e.chainId!=null&&(t.chainId=e.chainId),e.signature!=null&&(t.signature=Tr.from(e.signature)),e.accessList!=null&&(t.accessList=e.accessList),e.authorizationList!=null&&(t.authorizationList=e.authorizationList),e.blobVersionedHashes!=null&&(t.blobVersionedHashes=e.blobVersionedHashes),e.kzg!=null&&(t.kzg=e.kzg),e.blobs!=null&&(t.blobs=e.blobs),e.hash!=null&&(ee(t.isSigned(),"unsigned transaction cannot define '.hash'","tx",e),ee(t.hash===e.hash,"hash mismatch","tx",e)),e.from!=null&&(ee(t.isSigned(),"unsigned transaction cannot define '.from'","tx",e),ee(t.from.toLowerCase()===(e.from||"").toLowerCase(),"from mismatch","tx",e)),t}};Gi=new WeakMap,Zf=new WeakMap,Wf=new WeakMap,Jf=new WeakMap,Xf=new WeakMap,eh=new WeakMap,th=new WeakMap,nh=new WeakMap,rh=new WeakMap,ih=new WeakMap,sh=new WeakMap,ah=new WeakMap,Ml=new WeakMap,tc=new WeakMap,Es=new WeakMap,nc=new WeakMap,oh=new WeakMap,ch=new WeakSet,Zm=function(e,t){pe(!e||this.signature!=null,"cannot serialize unsigned transaction; maybe you meant .unsignedSerialized","UNSUPPORTED_OPERATION",{operation:".serialized"});const r=e?this.signature:null;switch(this.inferType()){case 0:return lz(this,r);case 1:return dz(this,r);case 2:return fz(this,r);case 3:return gz(this,r,t?this.blobs:null);case 4:return yz(this,r)}pe(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".serialized"})};let Ey=ws;function Zl(n){return nn(ja(n))}var bz="AEEUdwmgDS8BxQKKAP4BOgDjATAAngDUAIMAoABoAOAAagCOAEQAhABMAHIAOwA9ACsANgAmAGIAHgAuACgAJwAXAC0AGgAjAB8ALwAUACkAEgAeAAkAGwARABkAFgA5ACgALQArADcAFQApABAAHgAiABAAGgAeABMAGAUhBe8BFxREN8sF2wC5AK5HAW8ArQkDzQCuhzc3NzcBP68NEfMABQdHBuw5BV8FYAA9MzkI9r4ZBg7QyQAWA9CeOwLNCjcCjqkChuA/lm+RAsXTAoP6ASfnEQDytQFJAjWVCkeXAOsA6godAB/cwdAUE0WlBCN/AQUCQRjFD/MRBjHxDQSJbw0jBzUAswBxme+tnIcAYwabAysG8QAjAEMMmxcDqgPKQyDXCMMxA7kUQwD3NXOrAKmFIAAfBC0D3x4BJQDBGdUFAhEgVD8JnwmQJiNWYUzrg0oAGwAUAB0AFnNcACkAFgBP9h3gPfsDOWDKneY2ChglX1UDYD30ABsAFAAdABZzIGRAnwDD8wAjAEEMzRbDqgMB2sAFYwXqAtCnAsS4AwpUJKRtFHsadUz9AMMVbwLpABM1NJEX0ZkCgYMBEyMAxRVvAukAEzUBUFAtmUwSAy4DBTER33EftQHfSwB5MxJ/AjkWKQLzL8E/cwBB6QH9LQDPDtO9ASNriQC5DQANAwCK21EFI91zHwCoL9kBqQcHBwcHKzUDowBvAQohPvU3fAQgHwCyAc8CKQMA5zMSezr7ULgFmDp/LzVQBgEGAi8FYQVgt8AFcTtlQhpCWEmfe5tmZ6IAExsDzQ8t+X8rBKtTAltbAn0jsy8Bl6utPWMDTR8Ei2kRANkDBrNHNysDBzECQWUAcwFpJ3kAiyUhAJ0BUb8AL3EfAbfNAz81KUsFWwF3YQZtAm0A+VEfAzEJDQBRSQCzAQBlAHsAM70GD/v3IZWHBwARKQAxALsjTwHZAeMPEzmXgIHwABIAGQA8AEUAQDt3gdvIEGcQZAkGTRFMdEIVEwK0D64L7REdDNkq09PgADSxB/MDWwfzA1sDWwfzB/MDWwfzA1sDWwNbA1scEvAi28gQZw9QBHUFlgWTBN4IiyZREYkHMAjaVBV0JhxPA00BBCMtSSQ7mzMTJUpMFE0LCAQ2SmyvfUADTzGzVP2QqgPTMlc5dAkGHnkSqAAyD3skNb1OhnpPcagKU0+2tYdJak5vAsY6sEAACikJm2/Dd1YGRRAfJ6kQ+ww3AbkBPw3xS9wE9QY/BM0fgRkdD9GVoAipLeEM8SbnLqWAXiP5KocF8Uv4POELUVFsD10LaQnnOmeBUgMlAREijwrhDT0IcRD3Cs1vDekRSQc9A9lJngCpBwULFR05FbkmFGKwCw05ewb/GvoLkyazEy17AAXXGiUGUQEtGwMA0y7rhbRaNVwgT2MGBwspI8sUrFAkDSlAu3hMGh8HGSWtApVDdEqLUToelyH6PEENai4XUYAH+TwJGVMLhTyiRq9FEhHWPpE9TCJNTDAEOYMsMyePCdMPiQy9fHYBXQklCbUMdRM1ERs3yQg9Bx0xlygnGQglRplgngT7owP3E9UDDwVDCUUHFwO5HDETMhUtBRGBKNsC9zbZLrcCk1aEARsFzw8pH+MQVEfkDu0InwJpA4cl7wAxFSUAGyKfCEdnAGOP3FMJLs8Iy2pwI3gDaxTrZRF3B5UOWwerHDcVwxzlcMxeD4YMKKezCV8BeQmdAWME5wgNNV+MpCBFZ1eLXBifIGVBQ14AAjUMaRWjRMGHfAKPD28SHwE5AXcHPQ0FAnsR8RFvEJkI74YINbkz/DopBFMhhyAVCisDU2zSCysm/Qz8bQGnEmYDEDRBd/Jnr2C6KBgBBx0yyUFkIfULlk/RDKAaxRhGVDIZ6AfDA/ca9yfuQVsGAwOnBxc6UTPyBMELbQiPCUMATQ6nGwfbGG4KdYzUATWPAbudA1uVhwJzkwY7Bw8Aaw+LBX3pACECqwinAAkA0wNbAD0CsQehAB0AiUUBQQMrMwEl6QKTA5cINc8BmTMB9y0EH8cMGQD7O25OAsO1AoBuZqYF4VwCkgJNOQFRKQQJUktVA7N15QDfAE8GF+NLARmvTs8e50cB43MvAMsA/wAJOQcJRQHRAfdxALsBYws1Caa3uQFR7S0AhwAZbwHbAo0A4QA5AIP1AVcAUQVd/QXXAlNNARU1HC9bZQG/AyMBNwERAH0Gz5GpzQsjBHEH1wIQHxXlAu8yB7kFAyLjE9FCyQK94lkAMhoKPAqrCqpgX2Q3CjV2PVQAEh+sPss/UgVVO1c7XDtXO1w7VztcO1c7XDtXO1wDm8Pmw+YKcF9JYe8Mqg3YRMw6TRPfYFVgNhPMLbsUxRXSJVoZQRrAJwkl6FUNDwgt12Y0CDA0eRfAAEMpbINFY4oeNApPHOtTlVT8LR8AtUumM7MNsBsZREQFS3XxYi4WEgomAmSFAmJGX1GzAV83JAKh+wJonAJmDQKfiDgfDwJmPwJmKgRyBIMDfxcDfpY5Cjl7GzmGOicnAmwhAjI6OA4CbcsCbbLzjgM3a0kvAWsA4gDlAE4JB5wMkQECD8YAEbkCdzMCdqZDAnlPRwJ4viFg30WyRvcCfEMCeswCfQ0CfPRIBEiBZygALxlJXEpfGRtK0ALRBQLQ0EsrA4hTA4fqRMmRNgLypV0HAwOyS9JMMSkH001QTbMCi0MCitzFHwshR2sJuwKOOwKOYESbhQKO3QKOYHxRuFM5AQ5S2FSJApP/ApMQAO0AIFUiVbNV1AosHymZijLleGpFPz0Cl6MC77ZYJawAXSkClpMCloCgAK1ZsFoNhVEAPwKWuQKWUlxIXNUCmc8CmWhczl0LHQKcnznGOqECnBoCn58CnryOACETNS4TAp31Ap6WALlBYThh8wKe1wKgcgGtAp6jIwKeUqljzGQrKS8CJ7MCJoICoP8CoFDbAqYzAqXSAqgDAIECp/ZogGi1AAdNaiBq1QKs5wKssgKtawKtBgJXIQJV4AKx5dsDH1JsmwKywRECsuwbbORtZ21MYwMl0QK2YD9DbpQDKUkCuGICuUsZArkue3A6cOUCvR0DLbYDMhUCvoxyBgMzdQK+HnMmc1MCw88CwwhzhnRPOUl05AM8qwEDPJ4DPcMCxYACxksCxhSNAshtVQLISALJUwLJMgJkoQLd1nh9ZXiyeSlL1AMYp2cGAmH4GfeVKHsPXpZevxUCz28Cz3AzT1fW9xejAMqxAs93AS3uA04Wfk8JAtwrAtuOAtJTA1JgA1NjAQUDVZCAjUMEzxrxZEl5A4LSg5EC2ssC2eKEFIRNp0ADhqkAMwNkEoZ1Xf0AWQLfaQLevHd7AuIz7RgB8zQrAfSfAfLWiwLr9wLpdH0DAur9AuroAP1LAb0C7o0C66CWrpcHAu5DA4XkmH1w5HGlAvMHAG0DjhqZlwL3FwORcgOSiwL3nAL53QL4apogmq+/O5siA52HAv7+AR8APZ8gAZ+3AwWRA6ZuA6bdANXJAwZuoYyiCQ0DDE0BEwEjB3EGZb1rCQC/BG/DFY8etxEAG3k9ACcDNxJRA42DAWcrJQCM8wAlAOanC6OVCLsGI6fJBgCvBRnDBvElRUYFFoAFcD9GSDNCKUK8X3kZX8QAls0FOgCQVCGbwTsuYDoZutcONxjOGJHJ/gVfBWAFXwVgBWsFYAVfBWAFXwVgBV8FYAVfBWBOHQjfjW8KCgoKbF7xMwTRA7kGN8PDAMMEr8MA70gxFroFTj5xPnhCR0K+X30/X/AAWBkzswCNBsxzzASm70aCRS4rDDMeLz49fnXfcsH5GcoscQFz13Y4HwVnBXLJycnACNdRYwgICAqEXoWTxgA7P4kACxbZBu21Kw0AjMsTAwkVAOVtJUUsJ1JCuULESUArXy9gPi9AKwnJRQYKTD9LPoA+iT54PnkCkULEUUpDX9NWV3JVEjQAc1w3A3IBE3YnX+g7QiMJb6MKaiszRCUuQrNCxDPMCcwEX9EWJzYREBEEBwIHKn6l33JCNVIfybPJtAltydPUCmhBZw/tEKsZAJOVJU1CLRuxbUHOQAo7P0s+eEJHHA8SJVRPdGM0NVrpvBoKhfUlM0JHHGUQUhEWO1xLSj8MO0ucNAqJIzVCRxv9EFsqKyA4OQgNj2nwZgp5ZNFgE2A1K3YHS2AhQQojJmC7DgpzGG1WYFUZCQYHZO9gHWCdYIVgu2BTYJlwFh8GvRbcXbG8YgtDHrMBwzPVyQonHQgkCyYBgQJ0Ajc4nVqIAwGSCsBPIgDsK3SWEtIVBa5N8gGjAo+kVwVIZwD/AEUSCDweX4ITrRQsJ8K3TwBXFDwEAB0TvzVcAtoTS20RIwDgVgZ9BBImYgA5AL4Coi8LFnezOkCnIQFjAY4KBAPh9RcGsgZSBsEAJctdsWIRu2kTkQstRw7DAcMBKgpPBGIGMDAwKCYnKTQaLg4AKRSVAFwCdl+YUZ0JdicFD3lPAdt1F9ZZKCGxuE3yBxkFVGcA/wBFEgiCBwAOLHQSjxOtQDg1z7deFRMAZ8QTAGtKb1ApIiPHADkAvgKiLy1DFtYCmBiDAlDDWNB0eo7fpaMO/aEVRRv0ATEQZBIODyMEAc8JQhCbDRgzFD4TAEMAu9YBCgCsAOkAm5I3ABwAYxvONnR+MhXJAxgKQyxL2+kkJhMbhQKDBMkSsvF0AD9BNQ6uQC7WqSQHwxEAEEIu1hkhAH2z4iQPwyJPHNWpdyYBRSpnJALzoBAEVPPsH20MxA0CCEQKRgAFyAtFAlMNwwjEDUQJRArELtapMg7DDZgJIw+TGukEIwvDFkMAqAtDEMMMBhioe+QAO3MMRAACrgnEBSPY9Q0FDnbSBoMAB8MSYxkSxAEJAPIJAAB8FWMOFtMc/HcXwxhDAC7DAvOowwAewwJdKDKHAAHDAALrFUQVwwAbwyvzpWMWv8wA/ABpAy++bcYDUKPD0KhDCwKmJ1MAAmMA5+UZwxAagwipBRL/eADfw6fDGOMCGsOjk3l6BwOpo4sAEsMOGxMAA5sAbcMOAAvDp0MJGkMDwgipnNIPAwfIqUMGAOGDAAPzABXDAAcDAAnDAGmTABrDAA7DChjDjnEWAwABYwAOcwAuUyYABsMAF8MIKQANUgC6wy4AA8MADqMq8wCyYgAcIwAB8wqpAAXOCx0V4wAHowBCwwEKAGnDAAuDAB3DAAjDCakABdIAbqcZ3QCZCCkABdIAAAFDAAfjAB2jCCkABqIACYMAGzMAbSMA5sOIAAhjAAhDABTDBAkpAAbSAOOTAAlDC6kOzPtnAAdDAG6kQFAATwAKwwwAA0MACbUDPwAHIwAZgwACE6cDAAojAApDAAoDp/MGwwAJIwADEwAQQwgAFEMAEXMAD5MADfMADcMAGRMOFiMAFUMAbqMWuwHDAMIAE0MLAGkzEgDhUwACQwAEWgAXgwUjAAbYABjDBSYBgzBaAEFNALcQBxUMegAwMngBrA0IZgJ0KxQHBREPd1N0ZzKRJwaIHAZqNT4DqQq8BwngAB4DAwt2AX56T1ocKQNXAh1GATQGC3tOxYNagkgAMQA5CQADAQEAWxLjAIOYNAEzAH7tFRk6TglSAF8NAAlYAQ+S1ACAQwQorQBiAN4dAJ1wPyeTANVzuQDX3AIeEMp9eyMgXiUAEdkBkJizKltbVVAaRMqRAAEAhyQ/SDEz6BmfVwB6ATEsOClKIRcDOF0E/832AFNt5AByAnkCRxGCOs94NjXdAwINGBonDBwPALW2AwICAgAAAAAAAAYDBQMDARrUAwAtAAAAAgEGBgYGBgYFBQUFBQUEBQYHCAkEBQUFBQQAAAICAAAAIgCNAJAAlT0A6gC7ANwApEQAwgCyAK0AqADuAKYA2gCjAOcBCAEDAMcAgQBiANIA1AEDAN4A8gCQAKkBMQDqAN8A3AsBCQ8yO9ra2tq8xuLT1tRJOB0BUgFcNU0BWgFpAWgBWwFMUUlLbhMBUxsNEAs6PhMOACcUKy0vMj5AQENDQ0RFFEYGJFdXV1dZWVhZL1pbXVxcI2NnZ2ZoZypsbnZ1eHh4eHh4enp6enp6enp6enp8fH18e2IARPIASQCaAHgAMgBm+ACOAFcAVwA3AnbvAIsABfj4AGQAk/IAnwBPAGIAZP//sACFAIUAaQBWALEAJAC2AIMCQAJDAPwA5wD+AP4A6AD/AOkA6QDoAOYALwJ7AVEBQAE+AVQBPgE+AT4BOQE4ATgBOAEcAVgXADEQCAEAUx8SHgsdHhYAjgCWAKYAUQBqIAIxAHYAbwCXAxUDJzIDIUlGTzEAkQJPAMcCVwKkAMAClgKWApYClgKWApYCiwKWApYClgKWApYClgKVApUCmAKgApcClgKWApQClAKUApQCkgKVAnUB1AKXAp8ClgKWApUeAIETBQD+DQOfAmECOh8BVBg9AuIZEjMbAU4/G1WZAXusRAFpYQEFA0FPAQYAmTEeIJdyADFoAHEANgCRA5zMk/C2jGINwjMWygIZCaXdfDILBCs5dAE7YnQBugDlhoiHhoiGiYqKhouOjIaNkI6Ij4qQipGGkoaThpSSlYaWhpeKmIaZhpqGm4aci52QnoqfhuIC4XTpAt90AIp0LHSoAIsAdHQEQwRABEIERQRDBEkERgRBBEcESQRIBEQERgRJAJ5udACrA490ALxuAQ10ANFZdHQA13QCFHQA/mJ0AP4BIQD+APwA/AD9APwDhGZ03ASMK23HAP4A/AD8AP0A/CR0dACRYnQA/gCRASEA/gCRAvQA/gCRA4RmdNwEjCttxyR0AP9idAEhAP4A/gD8APwA/QD8AP8A/AD8AP0A/AOEZnTcBIwrbcckdHQAkWJ0ASEA/gCRAP4AkQL0AP4AkQOEZnTcBIwrbcckdAJLAT50AlIBQXQCU8l0dAJfdHQDpgL0A6YDpgOnA6cDpwOnA4RmdNwEjCttxyR0dACRYnQBIQOmAJEDpgCRAvQDpgCRA4RmdNwEjCttxyR0BDh0AJEEOQCRDpU5dSgCADR03gV2CwArdAEFAM5iCnR0AF1iAAYcOgp0dACRCnQAXAEIwWZ0CnRmdHQAkWZ0CnRmdEXgAFF03gp0dEY0tlT2u3SOAQTwscwhjZZKrhYcBSfFp9XNbKiVDOD2b+cpe4/Z17mQnbtzzhaeQtE2GGj0IDNTjRUSyTxxw/RPHW/+vS7d1NfRt9z9QPZg4X7QFfhCnkvgNPIItOsC2eV6hPannZNHlZ9xrwZXIMOlu3jSoQSq78WEjwLjw1ELSlF1aBvfzwk5ZX7AUvQzjPQKbDuQ+sm4wNOp4A6AdVuRS0t1y/DZpg4R6m7FNjM9HgvW7Bi88zaMjOo6lM8wtBBdj8LP4ylv3zCXPhebMKJc066o9sF71oFW/8JXu86HJbwDID5lzw5GWLR/LhT0Qqnp2JQxNZNfcbLIzPy+YypqRm/lBmGmex+82+PisxUumSeJkALIT6rJezxMH+CTJmQtt5uwTVbL3ptmjDUQzlSIvWi8Tl7ng1NpuRn1Ng4n14Qc+3Iil7OwkvNWogLSPkn3pihIFytyIGmMhOe3n1tWsuMy9BdKyqF4Z3v2SgggTL9KVvMXPnCbRe+oOuFFP3HejBG/w9gvmfNYvg6JuWia2lcSSN1uIjBktzoIazOHPJZ7kKHPz8mRWVdW3lA8WGF9dQF6Bm673boov3BUWDU2JNcahR23GtfHKLOz/viZ+rYnZFaIznXO67CYEJ1fXuTRpZhYZkKe54xeoagkNGLs+NTZHE0rX45/XvQ2RGADX6vcAvdxIUBV27wxGm2zjZo4X3ILgAlrOFheuZ6wtsvaIj4yLY7qqawlliaIcrz2G+c3vscAnCkCuMzMmZvMfu9lLwTvfX+3cVSyPdN9ZwgDZhfjRgNJcLiJ67b9xx8JHswprbiE3v9UphotAPIgnXVIN5KmMc0piXhc6cChPnN+MRhG9adtdttQTTwSIpl8I4/j//d3sz1326qTBTpPRM/Hgh3kzqEXs8ZAk4ErQhNO8hzrQ0DLkWMA/N+91tn2MdOJnWC2FCZehkQrwzwbKOjhvZsbM95QoeL9skYyMf4srVPVJSgg7pOLUtr/n9eT99oe9nLtFRpjA9okV2Kj8h9k5HaC0oivRD8VyXkJ81tcd4fHNXPCfloIQasxsuO18/46dR2jgul/UIet2G0kRvnyONMKhHs6J26FEoqSqd+rfYjeEGwHWVDpX1fh1jBBcKGMqRepju9Y00mDVHC+Xdij/j44rKfvfjGinNs1jO/0F3jB83XCDINN/HB84axlP+3E/klktRo+vl3U/aiyMJbIodE1XSsDn6UAzIoMtUObY2+k/4gY/l+AkZJ5Sj2vQrkyLm3FoxjhDX+31UXBFf9XrAH31fFqoBmDEZvhvvpnZ87N+oZEu7U9O/nnk+QWj3x8uyoRbEnf+O5UMr9i0nHP38IF5AvzrBW8YWBUR0mIAzIvndQq9N3v/Jto3aPjPXUPl8ASdPPyAp7jENf8bk7VMM9ol9XGmlBmeDMuGqt+WzuL6CXAxXjIhCPM5vACchgMJ/8XBGLO/D1isVvGhwwHHr1DLaI5mn2Jr/b1pUD90uciDaS8cXNDzCWvNmT/PhQe5e8nTnnnkt8Ds/SIjibcum/fqDhKopxAY8AkSrPn+IGDEKOO+U3XOP6djFs2H5N9+orhOahiQk5KnEUWa+CzkVzhp8bMHRbg81qhjjXuIKbHjSLSIBKWqockGtKinY+z4/RdBUF6pcc3JmnlxVcNgrI4SEzKUZSwcD2QCyxzKve+gAmg6ZuSRkpPFa6mfThu7LJNu3H5K42uCpNvPAsoedolKV/LHe/eJ+BbaG5MG0NaSGVPRUmNFMFFSSpXEcXwbVh7UETOZZtoVNRGOIbbkig3McEtR68cG0RZAoJevWYo7Dg/lZ1CQzblWeUvVHmr8fY4Nqd9JJiH/zEX24mJviH60fAyFr0A3c4bC1j3yZU60VgJxXn8JgJXLUIsiBnmKmMYz+7yBQFBvqb2eYnuW59joZBf56/wXvWIR4R8wTmV80i1mZy+S4+BUES+hzjk0uXpC///z/IlqHZ1monzlXp8aCfhGKMti73FI1KbL1q6IKO4fuBuZ59gagjn5xU79muMpHXg6S+e+gDM/U9BKLHbl9l6o8czQKl4RUkJJiqftQG2i3BMg/TQlUYFkJDYBOOvAugYuzYSDnZbDDd/aSd9x0Oe6F+bJcHfl9+gp6L5/TgA+BdFFovbfCrQ40s5vMPw8866pNX8zyFGeFWdxIpPVp9Rg1UPOVFbFZrvaFq/YAzHQgqMWpahMYfqHpmwXfHL1/kpYmGuHFwT55mQu0dylfNuq2Oq0hTMCPwqfxnuBIPLXfci4Y1ANy+1CUipQxld/izVh16WyG2Q0CQQ9NqtAnx1HCHwDj7sYxOSB0wopZSnOzxQOcExmxrVTF2BkOthVpGfuhaGECfCJpJKpjnihY+xOT2QJxN61+9K6QSqtv2Shr82I3jgJrqBg0wELFZPjvHpvzTtaJnLK6Vb97Yn933koO/saN7fsjwNKzp4l2lJVx2orjCGzC/4ZL4zCver6aQYtC5sdoychuFE6ufOiog+VWi5UDkbmvmtah/3aArEBIi39s5ILUnlFLgilcGuz9CQshEY7fw2ouoILAYPVT/gyAIq3TFAIwVsl+ktkRz/qGfnCDGrm5gsl/l9QdvCWGsjPz3dU7XuqKfdUrr/6XIgjp4rey6AJBmCmUJMjITHVdFb5m1p+dLMCL8t55zD42cmftmLEJC0Da04YiRCVUBLLa8D071/N5UBNBXDh0LFsmhV/5B5ExOB4j3WVG/S3lfK5o+V6ELHvy6RR9n4ac+VsK4VE4yphPvV+kG9FegTBH4ZRXL2HytUHCduJazB/KykjfetYxOXTLws267aGOd+I+JhKP//+VnXmS90OD/jvLcVu0asyqcuYN1mSb6XTlCkqv1vigZPIYwNF/zpWcT1GR/6aEIRjkh0yhg4LXJfaGobYJTY4JI58KiAKgmmgAKWdl5nYCeLqavRJGQNuYuZtZFGx+IkI4w4NS2xwbetNMunOjBu/hmKCI/w7tfiiyUd//4rbTeWt4izBY8YvGIN6vyKYmP/8X8wHKCeN+WRcKM70+tXKNGyevU9H2Dg5BsljnTf8YbsJ1TmMs74Ce2XlHisleguhyeg44rQOHZuw/6HTkhnnurK2d62q6yS7210SsAIaR+jXMQA+svkrLpsUY+F30Uw89uOdGAR6vo4FIME0EfVVeHTu6eKicfhSqOeXJhbftcd08sWEnNUL1C9fnprTgd83IMut8onVUF0hvqzZfHduPjbjwEXIcoYmy+P6tcJZHmeOv6VrvEdkHDJecjHuHeWANe79VG662qTjA/HCvumVv3qL+LrOcpqGps2ZGwQdFJ7PU4iuyRlBrwfO+xnPyr47s2cXVbWzAyznDiBGjCM3ksxjjqM62GE9C8f5U38kB3VjtabKp/nRdvMESPGDG90bWRLAt1Qk5DyLuazRR1YzdC1c+hZXvAWV8xA72S4A8B67vjVhbba3MMop293FeEXpe7zItMWrJG/LOH9ByOXmYnNJfjmfuX9KbrpgLOba4nZ+fl8Gbdv/ihv+6wFGKHCYrVwmhFC0J3V2bn2tIB1wCc1CST3d3X2OyxhguXcs4sm679UngzofuSeBewMFJboIQHbUh/m2JhW2hG9DIvG2t7yZIzKBTz9wBtnNC+2pCRYhSIuQ1j8xsz5VvqnyUIthvuoyyu7fNIrg/KQUVmGQaqkqZk/Vx5b33/gsEs8yX7SC1J+NV4icz6bvIE7C5G6McBaI8rVg56q5QBJWxn/87Q1sPK4+sQa8fLU5gXo4paaq4cOcQ4wR0VBHPGjKh+UlPCbA1nLXyEUX45qZ8J7/Ln4FPJE2TdzD0Z8MLSNQiykMMmSyOCiFfy84Rq60emYB2vD09KjYwsoIpeDcBDTElBbXxND72yhd9pC/1CMid/5HUMvAL27OtcIJDzNKpRPNqPOpyt2aPGz9QWIs9hQ9LiX5s8m9hjTUu/f7MyIatjjd+tSfQ3ufZxPpmJhTaBtZtKLUcfOCUqADuO+QoH8B9v6U+P0HV1GLQmtoNFTb3s74ivZgjES0qfK+8RdGgBbcCMSy8eBvh98+et1KIFqSe1KQPyXULBMTsIYnysIwiZBJYdI20vseV+wuJkcqGemehKjaAb9L57xZm3g2zX0bZ2xk/fU+bCo7TlnbW7JuF1YdURo/2Gw7VclDG1W7LOtas2LX4upifZ/23rzpsnY/ALfRgrcWP5hYmV9VxVOQA1fZvp9F2UNU+7d7xRyVm5wiLp3/0dlV7vdw1PMiZrbDAYzIVqEjRY2YU03sJhPnlwIPcZUG5ltL6S8XCxU1eYS5cjr34veBmXAvy7yN4ZjArIG0dfD/5UpBNlX1ZPoxJOwyqRi3wQWtOzd4oNKh0LkoTm8cwqgIfKhqqGOhwo71I+zXnMemTv2B2AUzABWyFztGgGULjDDzWYwJUVBTjKCn5K2QGMK1CQT7SzziOjo+BhAmqBjzuc3xYym2eedGeOIRJVyTwDw37iCMe4g5Vbnsb5ZBdxOAnMT7HU4DHpxWGuQ7GeiY30Cpbvzss55+5Km1YsbD5ea3NI9QNYIXol5apgSu9dZ8f8xS5dtHpido5BclDuLWY4lhik0tbJa07yJhH0BOyEut/GRbYTS6RfiTYWGMCkNpfSHi7HvdiTglEVHKZXaVhezH4kkXiIvKopYAlPusftpE4a5IZwvw1x/eLvoDIh/zpo9FiQInsTb2SAkKHV42XYBjpJDg4374XiVb3ws4qM0s9eSQ5HzsMU4OZJKuopFjBM+dAZEl8RUMx5uU2N486Kr141tVsGQfGjORYMCJAMsxELeNT4RmWjRcpdTGBwcx6XN9drWqPmJzcrGrH4+DRc7+n1w3kPZwu0BkNr6hQrqgo7JTB9A5kdJ/H7P4cWBMwsmuixAzJB3yrQpnGIq90lxAXLzDCdn1LPibsRt7rHNjgQBklRgPZ8vTbjXdgXrTWQsK5MdrXXQVPp0Rinq3frzZKJ0qD6Qhc40VzAraUXlob1gvkhK3vpmHgI6FRlQZNx6eRqkp0zy4AQlX813fAPtL3jMRaitGFFjo0zmErloC+h+YYdVQ6k4F/epxAoF0BmqEoKNTt6j4vQZNQ2BoqF9Vj53TOIoNmDiu9Xp15RkIgQIGcoLpfoIbenzpGUAtqFJp5W+LLnx38jHeECTJ/navKY1NWfN0sY1T8/pB8kIH3DU3DX+u6W3YwpypBMYOhbSxGjq84RZ84fWJow8pyHqn4S/9J15EcCMsXqrfwyd9mhiu3+rEo9pPpoJkdZqHjra4NvzFwuThNKy6hao/SlLw3ZADUcUp3w3SRVfW2rhl80zOgTYnKE0Hs2qp1J6H3xqPqIkvUDRMFDYyRbsFI3M9MEyovPk8rlw7/0a81cDVLmBsR2ze2pBuKb23fbeZC0uXoIvDppfTwIDxk1Oq2dGesGc+oJXWJLGkOha3CX+DUnzgAp9HGH9RsPZN63Hn4RMA5eSVhPHO+9RcRb/IOgtW31V1Q5IPGtoxPjC+MEJbVlIMYADd9aHYWUIQKopuPOHmoqSkubnAKnzgKHqgIOfW5RdAgotN6BN+O2ZYHkuemLnvQ8U9THVrS1RtLmKbcC7PeeDsYznvqzeg6VCNwmr0Yyx1wnLjyT84BZz3EJyCptD3yeueAyDWIs0L2qs/VQ3HUyqfrja0V1LdDzqAikeWuV4sc7RLIB69jEIBjCkyZedoUHqCrOvShVzyd73OdrJW0hPOuQv2qOoHDc9xVb6Yu6uq3Xqp2ZaH46A7lzevbxQEmfrzvAYSJuZ4WDk1Hz3QX1LVdiUK0EvlAGAYlG3Md30r7dcPN63yqBCIj25prpvZP0nI4+EgWoFG95V596CurXpKRBGRjQlHCvy5Ib/iW8nZJWwrET3mgd6mEhfP4KCuaLjopWs7h+MdXFdIv8dHQJgg1xi1eYqB0uDYjxwVmri0Sv5XKut/onqapC+FQiC2C1lvYJ9MVco6yDYsS3AANUfMtvtbYI2hfwZatiSsnoUeMZd34GVjkMMKA+XnjJpXgRW2SHTZplVowPmJsvXy6w3cfO1AK2dvtZEKTkC/TY9LFiKHCG0DnrMQdGm2lzlBHM9iEYynH2UcVMhUEjsc0oDBTgo2ZSQ1gzkAHeWeBXYFjYLuuf8yzTCy7/RFR81WDjXMbq2BOH5dURnxo6oivmxL3cKzKInlZkD31nvpHB9Kk7GfcfE1t+1V64b9LtgeJGlpRFxQCAqWJ5DoY77ski8gsOEOr2uywZaoO/NGa0X0y1pNQHBi3b2SUGNpcZxDT7rLbBf1FSnQ8guxGW3W+36BW0gBje4DOz6Ba6SVk0xiKgt+q2JOFyr4SYfnu+Ic1QZYIuwHBrgzr6UvOcSCzPTOo7D6IC4ISeS7zkl4h+2VoeHpnG/uWR3+ysNgPcOIXQbv0n4mr3BwQcdKJxgPSeyuP/z1Jjg4e9nUvoXegqQVIE30EHx5GHv+FAVUNTowYDJgyFhf5IvlYmEqRif6+WN1MkEJmDcQITx9FX23a4mxy1AQRsOHO/+eImX9l8EMJI3oPWzVXxSOeHU1dUWYr2uAA7AMb+vAEZSbU3qob9ibCyXeypEMpZ6863o6QPqlqGHZkuWABSTVNd4cOh9hv3qEpSx2Zy/DJMP6cItEmiBJ5PFqQnDEIt3NrA3COlOSgz43D7gpNFNJ5MBh4oFzhDPiglC2ypsNU4ISywY2erkyb1NC3Qh/IfWj0eDgZI4/ln8WPfBsT3meTjq1Uqt1E7Zl/qftqkx6aM9KueMCekSnMrcHj1CqTWWzEzPsZGcDe3Ue4Ws+XFYVxNbOFF8ezkvQGR6ZOtOLU2lQEnMBStx47vE6Pb7AYMBRj2OOfZXfisjJnpTfSNjo6sZ6qSvNxZNmDeS7Gk3yYyCk1HtKN2UnhMIjOXUzAqDv90lx9O/q/AT1ZMnit5XQe9wmQxnE/WSH0CqZ9/2Hy+Sfmpeg8RwsHI5Z8kC8H293m/LHVVM/BA7HaTJYg5Enk7M/xWpq0192ACfBai2LA/qrCjCr6Dh1BIMzMXINBmX96MJ5Hn2nxln/RXPFhwHxUmSV0EV2V0jm86/dxxuYSU1W7sVkEbN9EzkG0QFwPhyHKyb3t+Fj5WoUUTErcazE/N6EW6Lvp0d//SDPj7EV9UdJN+Amnf3Wwk3A0SlJ9Z00yvXZ7n3z70G47Hfsow8Wq1JXcfwnA+Yxa5mFsgV464KKP4T31wqIgzFPd3eCe3j5ory5fBF2hgCFyVFrLzI9eetNXvM7oQqyFgDo4CTp/hDV9NMX9JDHQ/nyHTLvZLNLF6ftn2OxjGm8+PqOwhxnPHWipkE/8wbtyri80Sr7pMNkQGMfo4ZYK9OcCC4ESVFFbLMIvlxSoRqWie0wxqnLfcLSXMSpMMQEJYDVObYsXIQNv4TGNwjq1kvT1UOkicTrG3IaBZ3XdScS3u8sgeZPVpOLkbiF940FjbCeNRINNvDbd01EPBrTCPpm12m43ze1bBB59Ia6Ovhnur/Nvx3IxwSWol+3H2qfCJR8df6aQf4v6WiONxkK+IqT4pKQrZK/LplgDI/PJZbOep8dtbV7oCr6CgfpWa8NczOkPx81iSHbsNhVSJBOtrLIMrL31LK9TqHqAbAHe0RLmmV806kRLDLNEhUEJfm9u0sxpkL93Zgd6rw+tqBfTMi59xqXHLXSHwSbSBl0EK0+loECOPtrl+/nsaFe197di4yUgoe4jKoAJDXc6DGDjrQOoFDWZJ9HXwt8xDrQP+7aRwWKWI1GF8s8O4KzxWBBcwnl3vnl1Oez3oh6Ea1vjR7/z7DDTrFtqU2W/KAEzAuXDNZ7MY73MF216dzdSbWmUp4lcm7keJfWaMHgut9x5C9mj66Z0lJ+yhsjVvyiWrfk1lzPOTdhG15Y7gQlXtacvI7qv/XNSscDwqkgwHT/gUsD5yB7LdRRvJxQGYINn9hTpodKFVSTPrtGvyQw+HlRFXIkodErAGu9Iy1YpfSPc3jkFh5CX3lPxv7aqjE/JAfTIpEjGb/H7MO0e2vsViSW1qa/Lmi4/n4DEI3g7lYrcanspDfEpKkdV1OjSLOy0BCUqVoECaB55vs06rXl4jqmLsPsFM/7vYJ0vrBhDCm/00A/H81l1uekJ/6Lml3Hb9+NKiLqATJmDpyzfYZFHumEjC662L0Bwkxi7E9U4cQA0XMVDuMYAIeLMPgQaMVOd8fmt5SflFIfuBoszeAw7ow5gXPE2Y/yBc/7jExARUf/BxIHQBF5Sn3i61w4z5xJdCyO1F1X3+3ax+JSvMeZ7S6QSKp1Fp/sjYz6Z+VgCZzibGeEoujryfMulH7Rai5kAft9ebcW50DyJr2uo2z97mTWIu45YsSnNSMrrNUuG1XsYBtD9TDYzQffKB87vWbkM4EbPAFgoBV4GQS+vtFDUqOFAoi1nTtmIOvg38N4hT2Sn8r8clmBCXspBlMBYTnrqFJGBT3wZOzAyJDre9dHH7+x7qaaKDOB4UQALD5ecS0DE4obubQEiuJZ0EpBVpLuYcce8Aa4PYd/V4DLDAJBYKQPCWTcrEaZ5HYbJi11Gd6hjGom1ii18VHYnG28NKpkz2UKVPxlhYSp8uZr367iOmoy7zsxehW9wzcy2zG0a80PBMCRQMb32hnaHeOR8fnNDzZhaNYhkOdDsBUZ3loDMa1YP0uS0cjUP3b/6DBlqmZOeNABDsLl5BI5QJups8uxAuWJdkUB/pO6Zax6tsg7fN5mjjDgMGngO+DPcKqiHIDbFIGudxtPTIyDi9SFMKBDcfdGQRv41q1AqmxgkVfJMnP8w/Bc7N9/TR6C7mGObFqFkIEom8sKi2xYqJLTCHK7cxzaZvqODo22c3wisBCP4HeAgcRbNPAsBkNRhSmD48dHupdBRw4mIvtS5oeF6zeT1KMCyhMnmhpkFAGWnGscoNkwvQ8ZM5lE/vgTHFYL99OuNxdFBxTEDd5v2qLR8y9WkXsWgG6kZNndFG+pO/UAkOCipqIhL3hq7cRSdrCq7YhUsTocEcnaFa6nVkhnSeRYUA1YO0z5itF9Sly3VlxYDw239TJJH6f3EUfYO5lb7bcFcz8Bp7Oo8QmnsUHOz/fagVUBtKEw1iT88j+aKkv8cscKNkMxjYr8344D1kFoZ7/td1W6LCNYN594301tUGRmFjAzeRg5vyoM1F6+bJZ/Q54jN/k8SFd3DxPTYaAUsivsBfgTn7Mx8H2SpPt4GOdYRnEJOH6jHM2p6SgB0gzIRq6fHxGMmSmqaPCmlfwxiuloaVIitLGN8wie2CDWhkzLoCJcODh7KIOAqbHEvXdUxaS4TTTs07Clzj/6GmVs9kiZDerMxEnhUB6QQPlcfqkG9882RqHoLiHGBoHfQuXIsAG8GTAtao2KVwRnvvam8jo1e312GQAKWEa4sUVEAMG4G6ckcONDwRcg1e2D3+ohXgY4UAWF8wHKQMrSnzCgfFpsxh+aHXMGtPQroQasRY4U6UdG0rz1Vjbka0MekOGRZQEvqQFlxseFor8zWFgHek3v29+WqN6gaK5gZOTOMZzpQIC1201LkMCXild3vWXSc5UX9xcFYfbRPzGFa1FDcPfPB/jUEq/FeGt419CI3YmBlVoHsa4KdcwQP5ZSwHHhFJ7/Ph/Rap/4vmG91eDwPP0lDfCDRCLszTqfzM71xpmiKi2HwS4WlqvGNwtvwF5Dqpn6KTq8ax00UMPkxDcZrEEEsIvHiUXXEphdb4GB4FymlPwBz4Gperqq5pW7TQ6/yNRhW8VT5NhuP0udlxo4gILq5ZxAZk8ZGh3g4CqxJlPKY7AQxupfUcVpWT5VItp1+30UqoyP4wWsRo3olRRgkWZZ2ZN6VC3OZFeXB8NbnUrSdikNptD1QiGuKkr8EmSR/AK9Rw+FF3s5uwuPbvHGiPeFOViltMK7AUaOsq9+x9cndk3iJEE5LKZRlWJbKOZweROzmPNVPkjE3K/TyA57Rs68TkZ3MR8akKpm7cFjnjPd/DdkWjgYoKHSr5Wu5ssoBYU4acRs5g2DHxUmdq8VXOXRbunD8QN0LhgkssgahcdoYsNvuXGUK/KXD/7oFb+VGdhqIn02veuM5bLudJOc2Ky0GMaG4W/xWBxIJcL7yliJOXOpx0AkBqUgzlDczmLT4iILXDxxtRR1oZa2JWFgiAb43obrJnG/TZC2KSK2wqOzRZTXavZZFMb1f3bXvVaNaK828w9TO610gk8JNf3gMfETzXXsbcvRGCG9JWQZ6+cDPqc4466Yo2RcKH+PILeKOqtnlbInR3MmBeGG3FH10yzkybuqEC2HSQwpA0An7d9+73BkDUTm30bZmoP/RGbgFN+GrCOfADgqr0WbI1a1okpFms8iHYw9hm0zUvlEMivBRxModrbJJ+9/p3jUdQQ9BCtQdxnOGrT5dzRUmw0593/mbRSdBg0nRvRZM5/E16m7ZHmDEtWhwvfdZCZ8J8M12W0yRMszXamWfQTwIZ4ayYktrnscQuWr8idp3PjT2eF/jmtdhIfcpMnb+IfZY2FebW6UY/AK3jP4u3Tu4zE4qlnQgLFbM19EBIsNf7KhjdbqQ/D6yiDb+NlEi2SKD+ivXVUK8ib0oBo366gXkR8ZxGjpJIDcEgZPa9TcYe0TIbiPl/rPUQDu3XBJ9X/GNq3FAUsKsll57DzaGMrjcT+gctp+9MLYXCq+sqP81eVQ0r9lt+gcQfZbACRbEjvlMskztZG8gbC8Qn9tt26Q7y7nDrbZq/LEz7kR6Jc6pg3N9rVX8Y5MJrGlML9p9lU4jbTkKqCveeZUJjHB03m2KRKR2TytoFkTXOLg7keU1s1lrPMQJpoOKLuAAC+y1HlJucU6ysB5hsXhvSPPLq5J7JtnqHKZ4vYjC4Vy8153QY+6780xDuGARsGbOs1WqzH0QS765rnSKEbbKlkO8oI/VDwUd0is13tKpqILu1mDJFNy/iJAWcvDgjxvusIT+PGz3ST/J9r9Mtfd0jpaGeiLYIqXc7DiHSS8TcjFVksi66PEkxW1z6ujbLLUGNNYnzOWpH8BZGK4bCK7iR+MbIv8ncDAz1u4StN3vTTzewr9IQjk9wxFxn+6N1ddKs0vffJiS08N3a4G1SVrlZ97Q/M+8G9fe5AP6d9/Qq4WRnORVhofPIKEdCr3llspUfE0oKIIYoByBRPh+bX1HLS3JWGJRhIvE1aW4NTd8ePi4Z+kXb+Z8snYfSNcqijhAgVsx4RCM54cXUiYkjeBmmC4ajOHrChoELscJJC7+9jjMjw5BagZKlgRMiSNYz7h7vvZIoQqbtQmspc0cUk1G/73iXtSpROl5wtLgQi0mW2Ex8i3WULhcggx6E1LMVHUsdc9GHI1PH3U2Ko0PyGdn9KdVOLm7FPBui0i9a0HpA60MsewVE4z8CAt5d401Gv6zXlIT5Ybit1VIA0FCs7wtvYreru1fUyW3oLAZ/+aTnZrOcYRNVA8spoRtlRoWflsRClFcgzkqiHOrf0/SVw+EpVaFlJ0g4Kxq1MMOmiQdpMNpte8lMMQqm6cIFXlnGbfJllysKDi+0JJMotkqgIxOSQgU9dn/lWkeVf8nUm3iwX2Nl3WDw9i6AUK3vBAbZZrcJpDQ/N64AVwjT07Jef30GSSmtNu2WlW7YoyW2FlWfZFQUwk867EdLYKk9VG6JgEnBiBxkY7LMo4YLQJJlAo9l/oTvJkSARDF/XtyAzM8O2t3eT/iXa6wDN3WewNmQHdPfsxChU/KtLG2Mn8i4ZqKdSlIaBZadxJmRzVS/o4yA65RTSViq60oa395Lqw0pzY4SipwE0SXXsKV+GZraGSkr/RW08wPRvqvSUkYBMA9lPx4m24az+IHmCbXA+0faxTRE9wuGeO06DIXa6QlKJ3puIyiuAVfPr736vzo2pBirS+Vxel3TMm3JKhz9o2ZoRvaFVpIkykb0Hcm4oHFBMcNSNj7/4GJt43ogonY2Vg4nsDQIWxAcorpXACzgBqQPjYsE/VUpXpwNManEru4NwMCFPkXvMoqvoeLN3qyu/N1eWEHttMD65v19l/0kH2mR35iv/FI+yjoHJ9gPMz67af3Mq/BoWXqu3rphiWMXVkmnPSEkpGpUI2h1MThideGFEOK6YZHPwYzMBvpNC7+ZHxPb7epfefGyIB4JzO9DTNEYnDLVVHdQyvOEVefrk6Uv5kTQYVYWWdqrdcIl7yljwwIWdfQ/y+2QB3eR/qxYObuYyB4gTbo2in4PzarU1sO9nETkmj9/AoxDA+JM3GMqQtJR4jtduHtnoCLxd1gQUscHRB/MoRYIEsP2pDZ9KvHgtlk1iTbWWbHhohwFEYX7y51fUV2nuUmnoUcqnWIQAAgl9LTVX+Bc0QGNEhChxHR4YjfE51PUdGfsSFE6ck7BL3/hTf9jLq4G1IafINxOLKeAtO7quulYvH5YOBc+zX7CrMgWnW47/jfRsWnJjYYoE7xMfWV2HN2iyIqLI";const S5=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]),_5=4;function wz(n){let e=0;function t(){return n[e++]<<8|n[e++]}let r=t(),i=1,s=[0,1];for(let N=1;N<r;N++)s.push(i+=t());let c=t(),l=e;e+=c;let f=0,h=0;function p(){return f==0&&(h=h<<8|n[e++],f=8),h>>--f&1}const g=31,m=2**g,b=m>>>1,w=b>>1,x=m-1;let S=0;for(let N=0;N<g;N++)S=S<<1|p();let O=[],T=0,_=m;for(;;){let N=Math.floor(((S-T+1)*i-1)/_),U=0,z=r;for(;z-U>1;){let F=U+z>>>1;N<s[F]?z=F:U=F}if(U==0)break;O.push(U);let M=T+Math.floor(_*s[U]/i),L=T+Math.floor(_*s[U+1]/i)-1;for(;((M^L)&b)==0;)S=S<<1&x|p(),M=M<<1&x,L=L<<1&x|1;for(;M&~L&w;)S=S&b|S<<1&x>>>1|p(),M=M<<1^b,L=(L^b)<<1|b|1;T=M,_=1+L-M}let I=r-4;return O.map(N=>{switch(N-I){case 3:return I+65792+(n[l++]<<16|n[l++]<<8|n[l++]);case 2:return I+256+(n[l++]<<8|n[l++]);case 1:return I+n[l++];default:return N-1}})}function vz(n){let e=0;return()=>n[e++]}function qT(n){return vz(wz(xz(n)))}function xz(n){let e=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach((i,s)=>e[i.charCodeAt(0)]=s);let t=n.length,r=new Uint8Array(6*t>>3);for(let i=0,s=0,c=0,l=0;i<t;i++)l=l<<6|e[n.charCodeAt(i)],c+=6,c>=8&&(r[s++]=l>>(c-=8));return r}function Ez(n){return n&1?~n>>1:n>>1}function Az(n,e){let t=Array(n);for(let r=0,i=0;r<n;r++)t[r]=i+=Ez(e());return t}function Vp(n,e=0){let t=[];for(;;){let r=n(),i=n();if(!i)break;e+=r;for(let s=0;s<i;s++)t.push(e+s);e+=i+1}return t}function VT(n){return Gp(()=>{let e=Vp(n);if(e.length)return e})}function GT(n){let e=[];for(;;){let t=n();if(t==0)break;e.push(Sz(t,n))}for(;;){let t=n()-1;if(t<0)break;e.push(_z(t,n))}return e.flat()}function Gp(n){let e=[];for(;;){let t=n(e.length);if(!t)break;e.push(t)}return e}function KT(n,e,t){let r=Array(n).fill().map(()=>[]);for(let i=0;i<e;i++)Az(n,t).forEach((s,c)=>r[c].push(s));return r}function Sz(n,e){let t=1+e(),r=e(),i=Gp(e);return KT(i.length,1+n,e).flatMap((c,l)=>{let[f,...h]=c;return Array(i[l]).fill().map((p,g)=>{let m=g*r;return[f+g*t,h.map(b=>b+m)]})})}function _z(n,e){let t=1+e();return KT(t,1+n,e).map(i=>[i[0],i.slice(1)])}function Oz(n){let e=[],t=Vp(n);return i(r([]),[]),e;function r(s){let c=n(),l=Gp(()=>{let f=Vp(n).map(h=>t[h]);if(f.length)return r(f)});return{S:c,B:l,Q:s}}function i({S:s,B:c},l,f){if(!(s&4&&f===l[l.length-1])){s&2&&(f=l[l.length-1]),s&1&&e.push(l);for(let h of c)for(let p of h.Q)i(h,[...l,p],f)}}}function Cz(n){return n.toString(16).toUpperCase().padStart(2,"0")}function QT(n){return`{${Cz(n)}}`}function Nz(n){let e=[];for(let t=0,r=n.length;t<r;){let i=n.codePointAt(t);t+=i<65536?1:2,e.push(i)}return e}function Dh(n){let t=n.length;if(t<4096)return String.fromCodePoint(...n);let r=[];for(let i=0;i<t;)r.push(String.fromCodePoint(...n.slice(i,i+=4096)));return r.join("")}function Iz(n,e){let t=n.length,r=t-e.length;for(let i=0;r==0&&i<t;i++)r=n[i]-e[i];return r}var Tz="AEUDTAHBCFQATQDRADAAcgAgADQAFAAsABQAHwAOACQADQARAAoAFwAHABIACAAPAAUACwAFAAwABAAQAAMABwAEAAoABQAIAAIACgABAAQAFAALAAIACwABAAIAAQAHAAMAAwAEAAsADAAMAAwACgANAA0AAwAKAAkABAAdAAYAZwDSAdsDJgC0CkMB8xhZAqfoC190UGcThgBurwf7PT09Pb09AjgJum8OjDllxHYUKXAPxzq6tABAxgK8ysUvWAgMPT09PT09PSs6LT2HcgWXWwFLoSMEEEl5RFVMKvO0XQ8ExDdJMnIgsj26PTQyy8FfEQ8AY8IPAGcEbwRwBHEEcgRzBHQEdQR2BHcEeAR6BHsEfAR+BIAEgfndBQoBYgULAWIFDAFiBNcE2ATZBRAFEQUvBdALFAsVDPcNBw13DYcOMA4xDjMB4BllHI0B2grbAMDpHLkQ7QHVAPRNQQFnGRUEg0yEB2uaJF8AJpIBpob5AERSMAKNoAXqaQLUBMCzEiACnwRZEkkVsS7tANAsBG0RuAQLEPABv9HICTUBXigPZwRBApMDOwAamhtaABqEAY8KvKx3LQ4ArAB8UhwEBAVSagD8AEFZADkBIadVj2UMUgx5Il4ANQC9AxIB1BlbEPMAs30CGxlXAhwZKQIECBc6EbsCoxngzv7UzRQA8M0BawL6ZwkN7wABAD33OQRcsgLJCjMCjqUChtw/km+NAsXPAoP2BT84PwURAK0RAvptb6cApQS/OMMey5HJS84UdxpxTPkCogVFITaTOwERAK5pAvkNBOVyA7q3BKlOJSALAgUIBRcEdASpBXqzABXFSWZOawLCOqw//AolCZdvv3dSBkEQGyelEPcMMwG1ATsN7UvYBPEGOwTJH30ZGQ/NlZwIpS3dDO0m4y6hgFoj9SqDBe1L9DzdC01RaA9ZC2UJ4zpjgU4DIQENIosK3Q05CG0Q8wrJaw3lEUUHOQPVSZoApQcBCxEdNRW1JhBirAsJOXcG+xr2C48mrxMpevwF0xohBk0BKRr/AM8u54WwWjFcHE9fBgMLJSPHFKhQIA0lQLd4SBobBxUlqQKRQ3BKh1E2HpMh9jw9DWYuE1F8B/U8BRlPC4E8nkarRQ4R0j6NPUgiSUwsBDV/LC8niwnPD4UMuXxyAVkJIQmxDHETMREXN8UIOQcZLZckJxUIIUaVYJoE958D8xPRAwsFPwlBBxMDtRwtEy4VKQUNgSTXAvM21S6zAo9WgAEXBcsPJR/fEFBH4A7pCJsCZQODJesALRUhABcimwhDYwBfj9hTBS7LCMdqbCN0A2cU52ERcweRDlcHpxwzFb8c4XDIXguGCCijrwlbAXUJmQFfBOMICTVbjKAgQWdTi1gYmyBhQT9d/AIxDGUVn0S9h3gCiw9rEhsBNQFzBzkNAQJ3Ee0RaxCVCOuGBDW1M/g6JQRPIYMgEQonA09szgsnJvkM+GkBoxJiAww0PXfuZ6tgtiQX/QcZMsVBYCHxC5JPzQycGsEYQlQuGeQHvwPzGvMn6kFXBf8DowMTOk0z7gS9C2kIiwk/AEkOoxcH1xhqCnGM0AExiwG3mQNXkYMCb48GNwcLAGcLhwV55QAdAqcIowAFAM8DVwA5Aq0HnQAZAIVBAT0DJy8BIeUCjwOTCDHLAZUvAfMpBBvDDBUA9zduSgLDsQKAamaiBd1YAo4CSTUBTSUEBU5HUQOvceEA2wBLBhPfRwEVq0rLGuNDAd9vKwDHAPsABTUHBUEBzQHzbQC3AV8LMQmis7UBTekpAIMAFWsB1wKJAN0ANQB/8QFTAE0FWfkF0wJPSQERMRgrV2EBuwMfATMBDQB5BsuNpckHHwRtB9MCEBsV4QLvLge1AQMi3xPNQsUCvd5VoWACZIECYkJbTa9bNyACofcCaJgCZgkCn4Q4GwsCZjsCZiYEbgR/A38TA36SOQY5dxc5gjojIwJsHQIyNjgKAm3HAm2u74ozZ0UrAWcA3gDhAEoFB5gMjQD+C8IADbUCdy8CdqI/AnlLQwJ4uh1c20WuRtcCfD8CesgCfQkCfPAFWQUgSABIfWMkAoFtAoAAAoAFAn+uSVhKWxUXSswC0QEC0MxLJwOITwOH5kTFkTIC8qFdAwMDrkvOTC0lA89NTE2vAos/AorYwRsHHUNnBbcCjjcCjlxAl4ECjtkCjlx4UbRTNQpS1FSFApP7ApMMAOkAHFUeVa9V0AYsGymVhjLheGZFOzkCl58C77JYIagAWSUClo8ClnycAKlZrFoJgU0AOwKWtQKWTlxEXNECmcsCmWRcyl0HGQKcmznCOp0CnBYCn5sCnriKAB0PMSoPAp3xAp6SALU9YTRh7wKe0wKgbgGpAp6fHwKeTqVjyGQnJSsCJ68CJn4CoPsCoEwCot0CocQCpi8Cpc4Cp/8AfQKn8mh8aLEAA0lqHGrRAqzjAqyuAq1nAq0CAlcdAlXcArHh1wMfTmyXArK9DQKy6Bds4G1jbUhfAyXNArZcOz9ukAMpRQK4XgK5RxUCuSp3cDZw4QK9GQK72nCWAzIRAr6IcgIDM3ECvhpzInNPAsPLAsMEc4J0SzVFdOADPKcDPJoDPb8CxXwCxkcCxhCJAshpUQLIRALJTwLJLgJknQLd0nh5YXiueSVL0AMYo2cCAmH0GfOVJHsLXpJeuxECz2sCz2wvS1PS8xOfAMatAs9zASnqA04SfksFAtwnAtuKAtJPA1JcA1NfAQEDVYyAiT8AyxbtYEWCHILTgs6DjQLaxwLZ3oQQhEmnPAOGpQAvA2QOhnFZ+QBVAt9lAt64c3cC4i/tFAHzMCcB9JsB8tKHAuvzAulweQLq+QLq5AD5RwG5Au6JAuuclqqXAwLuPwOF4Jh5cOBxoQLzAwBpA44WmZMC9xMDkW4DkocC95gC+dkC+GaaHJqruzebHgOdgwL++gEbADmfHJ+zAwWNA6ZqA6bZANHFAwZqoYiiBQkDDEkCwAA/AwDhQRdTARHzA2sHl2cFAJMtK7evvdsBiZkUfxEEOQH7KQUhDp0JnwCS/SlXxQL3AZ0AtwW5AG8LbUEuFCaNLgFDAYD8AbUmAHUDDgRtACwCFgyhAAAKAj0CagPdA34EkQEgRQUhfAoABQBEABMANhICdwEABdUDa+8KxQIA9wqfJ7+xt+UBkSFBQgHpFH8RNMCJAAQAGwBaAkUChIsABjpTOpSNbQC4Oo860ACNOME63AClAOgAywE6gTo7Ofw5+Tt2iTpbO56JOm85GAFWATMBbAUvNV01njWtNWY1dTW2NcU1gjWRNdI14TWeNa017jX9NbI1wTYCNhE1xjXVNhY2JzXeNe02LjY9Ni41LSE2OjY9Njw2yTcIBJA8VzY4Nt03IDcPNsogN4k3MAoEsDxnNiQ3GTdsOo03IULUQwdC4EMLHA8PCZsobShRVQYA6X8A6bABFCnXAukBowC9BbcAbwNzBL8MDAMMAQgDAAkKCwsLCQoGBAVVBI/DvwDz9b29kaUCb0QtsRTNLt4eGBcSHAMZFhYZEhYEARAEBUEcQRxBHEEcQRxBHEEaQRxBHEFCSTxBPElISUhBNkM2QTYbNklISVmBVIgBFLWZAu0BhQCjBcEAbykBvwGJAaQcEZ0ePCklMAAhMvAIMAL54gC7Bm8EescjzQMpARQpKgDUABavAj626xQAJP0A3etzuf4NNRA7efy2Z9NQrCnC0OSyANz5BBIbJ5IFDR6miIavYS6tprjjmuKebxm5C74Q225X1pkaYYPb6f1DK4k3xMEBb9S2WMjEibTNWhsRJIA+vwNVEiXTE5iXs/wezV66oFLfp9NZGYW+Gk19J2+bCT6Ye2w6LDYdgzKMUabk595eLBCXANz9HUpWbATq9vqXVx9XDg+Pc9Xp4+bsS005SVM/BJBM4687WUuf+Uj9dEi8aDNaPxtpbDxcG1THTImUMZq4UCaaNYpsVqraNyKLJXDYsFZ/5jl7bLRtO88t7P3xZaAxhb5OdPMXqsSkp1WCieG8jXm1U99+blvLlXzPCS+M93VnJCiK+09LfaSaBAVBomyDgJua8dfUzR7ga34IvR2Nvj+A9heJ6lsl1KG4NkI1032Cnff1m1wof2B9oHJK4bi6JkEdSqeNeiuo6QoZZincoc73/TH9SXF8sCE7XyuYyW8WSgbGFCjPV0ihLKhdPs08Tx82fYAkLLc4I2wdl4apY7GU5lHRFzRWJep7Ww3wbeA3qmd59/86P4xuNaqDpygXt6M85glSBHOCGgJDnt+pN9bK7HApMguX6+06RZNjzVmcZJ+wcUrJ9//bpRNxNuKpNl9uFds+S9tdx7LaM5ZkIrPj6nIU9mnbFtVbs9s/uLgl8MVczAwet+iOEzzBlYW7RCMgE6gyNLeq6+1tIx4dpgZnd0DksJS5f+JNDpwwcPNXaaVspq1fbQajOrJgK0ofKtJ1Ne90L6VO4MOl5S886p7u6xo7OLjG8TGL+HU1JXGJgppg4nNbNJ5nlzSpuPYy21JUEcUA94PoFiZfjZue+QnyQ80ekOuZVkxx4g+cvhJfHgNl4hy1/a6+RKcKlar/J29y//EztlbVPHVUeQ1zX86eQVAjR/M3dA9w4W8LfaXp4EgM85wOWasli837PzVMOnsLzR+k3o75/lRPAJSE1xAKQzEi5v10ke+VBvRt1cwQRMd+U5mLCTGVd6XiZtgBG5cDi0w22GKcVNvHiu5LQbZEDVtz0onn7k5+heuKXVsZtSzilkLRAUmjMXEMB3J9YC50XBxPiz53SC+EhnPl9WsKCv92SM/OFFIMJZYfl0WW8tIO3UxYcwdMAj7FSmgrsZ2aAZO03BOhP1bNNZItyXYQFTpC3SG1VuPDqH9GkiCDmE+JwxyIVSO5siDErAOpEXFgjy6PQtOVDj+s6e1r8heWVvmZnTciuf4EiNZzCAd7SOMhXERIOlsHIMG399i9aLTy3m2hRLZjJVDNLS53iGIK11dPqQt0zBDyg6qc7YqkDm2M5Ve6dCWCaCbTXX2rToaIgz6+zh4lYUi/+6nqcFMAkQJKHYLK0wYk5N9szV6xihDbDDFr45lN1K4aCXBq/FitPSud9gLt5ZVn+ZqGX7cwm2z5EGMgfFpIFyhGGuDPmso6TItTMwny+7uPnLCf4W6goFQFV0oQSsc9VfMmVLcLr6ZetDZbaSFTLqnSO/bIPjA3/zAUoqgGFAEQS4IhuMzEp2I3jJzbzkk/IEmyax+rhZTwd6f+CGtwPixu8IvzACquPWPREu9ZvGkUzpRwvRRuaNN6cr0W1wWits9ICdYJ7ltbgMiSL3sTPeufgNcVqMVWFkCPDH4jG2jA0XcVgQj62Cb29v9f/z/+2KbYvIv/zzjpQAPkliaVDzNrW57TZ/ZOyZD0nlfMmAIBIAGAI0D3k/mdN4xr9v85ZbZbbqfH2jGd5hUqNZWwl5SPfoGmfElmazUIeNL1j/mkF7VNAzTq4jNt8JoQ11NQOcmhprXoxSxfRGJ9LDEOAQ+dmxAQH90iti9e2u/MoeuaGcDTHoC+xsmEeWmxEKefQuIzHbpw5Tc5cEocboAD09oipWQhtTO1wivf/O+DRe2rpl/E9wlrzBorjJsOeG1B/XPW4EaJEFdNlECEZga5ZoGRHXgYouGRuVkm8tDESiEyFNo+3s5M5puSdTyUL2llnINVHEt91XUNW4ewdMgJ4boJfEyt/iY5WXqbA+A2Fkt5Z0lutiWhe9nZIyIUjyXDC3UsaG1t+eNx6z4W/OYoTB7A6x+dNSTOi9AInctbESqm5gvOLww7OWXPrmHwVZasrl4eD113pm+JtT7JVOvnCXqdzzdTRHgJ0PiGTFYW5Gvt9R9LD6Lzfs0v/TZZHSmyVNq7viIHE6DBK7Qp07Iz55EM8SYtQvZf/obBniTWi5C2/ovHfw4VndkE5XYdjOhCMRjDeOEfXeN/CwfGduiUIfsoFeUxXeQXba7c7972XNv8w+dTjjUM0QeNAReW+J014dKAD/McQYXT7c0GQPIkn3Ll6R7gGjuiQoZD0TEeEqQpKoZ15g/0OPQI17QiSv9AUROa/V/TQN3dvLArec3RrsYlvBm1b8LWzltdugsC50lNKYLEp2a+ZZYqPejULRlOJh5zj/LVMyTDvwKhMxxwuDkxJ1QpoNI0OTWLom4Z71SNzI9TV1iXJrIu9Wcnd+MCaAw8o1jSXd94YU/1gnkrC9BUEOtQvEIQ7g0i6h+KL2JKk8Ydl7HruvgWMSAmNe+LshGhV4qnWHhO9/RIPQzY1tHRj2VqOyNsDpK0cww+56AdDC4gsWwY0XxoucIWIqs/GcwnWqlaT0KPr8mbK5U94/301i1WLt4YINTVvCFBrFZbIbY8eycOdeJ2teD5IfPLCRg7jjcFTwlMFNl9zdh/o3E/hHPwj7BWg0MU09pPrBLbrCgm54A6H+I6v27+jL5gkjWg/iYdks9jbfVP5y/n0dlgWEMlKasl7JvFZd56LfybW1eeaVO0gxTfXZwD8G4SI116yx7UKVRgui6Ya1YpixqXeNLc8IxtAwCU5IhwQgn+NqHnRaDv61CxKhOq4pOX7M6pkA+Pmpd4j1vn6ACUALoLLc4vpXci8VidLxzm7qFBe7s+quuJs6ETYmnpgS3LwSZxPIltgBDXz8M1k/W2ySNv2f9/NPhxLGK2D21dkHeSGmenRT3Yqcdl0m/h3OYr8V+lXNYGf8aCCpd4bWjE4QIPj7vUKN4Nrfs7ML6Y2OyS830JCnofg/k7lpFpt4SqZc5HGg1HCOrHvOdC8bP6FGDbE/VV0mX4IakzbdS/op+Kt3G24/8QbBV7y86sGSQ/vZzU8FXs7u6jIvwchsEP2BpIhW3G8uWNwa3HmjfH/ZjhhCWvluAcF+nMf14ClKg5hGgtPLJ98ueNAkc5Hs2WZlk2QHvfreCK1CCGO6nMZVSb99VM/ajr8WHTte9JSmkXq/i/U943HEbdzW6Re/S88dKgg8pGOLlAeNiqrcLkUR3/aClFpMXcOUP3rmETcWSfMXZE3TUOi8i+fqRnTYLflVx/Vb/6GJ7eIRZUA6k3RYR3iFSK9c4iDdNwJuZL2FKz/IK5VimcNWEqdXjSoxSgmF0UPlDoUlNrPcM7ftmA8Y9gKiqKEHuWN+AZRIwtVSxye2Kf8rM3lhJ5XcBXU9n4v0Oy1RU2M+4qM8AQPVwse8ErNSob5oFPWxuqZnVzo1qB/IBxkM3EVUKFUUlO3e51259GgNcJbCmlvrdjtoTW7rChm1wyCKzpCTwozUUEOIcWLneRLgMXh+SjGSFkAllzbGS5HK7LlfCMRNRDSvbQPjcXaenNYxCvu2Qyznz6StuxVj66SgI0T8B6/sfHAJYZaZ78thjOSIFumNWLQbeZixDCCC+v0YBtkxiBB3jefHqZ/dFHU+crbj6OvS1x/JDD7vlm7zOVPwpUC01nhxZuY/63E7g";const Kp=44032,Ay=4352,Sy=4449,_y=4519,YT=19,ZT=21,Rh=28,Oy=ZT*Rh,Dz=YT*Oy,Rz=Kp+Dz,Bz=Ay+YT,kz=Sy+ZT,Pz=_y+Rh;function Sp(n){return n>>24&255}function WT(n){return n&16777215}let _x,O5,Ox,Wm;function Uz(){let n=qT(Tz);_x=new Map(VT(n).flatMap((e,t)=>e.map(r=>[r,t+1<<24]))),O5=new Set(Vp(n)),Ox=new Map,Wm=new Map;for(let[e,t]of GT(n)){if(!O5.has(e)&&t.length==2){let[r,i]=t,s=Wm.get(r);s||(s=new Map,Wm.set(r,s)),s.set(i,e)}Ox.set(e,t.reverse())}}function JT(n){return n>=Kp&&n<Rz}function Mz(n,e){if(n>=Ay&&n<Bz&&e>=Sy&&e<kz)return Kp+(n-Ay)*Oy+(e-Sy)*Rh;if(JT(n)&&e>_y&&e<Pz&&(n-Kp)%Rh==0)return n+(e-_y);{let t=Wm.get(n);return t&&(t=t.get(e),t)?t:-1}}function XT(n){_x||Uz();let e=[],t=[],r=!1;function i(s){let c=_x.get(s);c&&(r=!0,s|=c),e.push(s)}for(let s of n)for(;;){if(s<128)e.push(s);else if(JT(s)){let c=s-Kp,l=c/Oy|0,f=c%Oy/Rh|0,h=c%Rh;i(Ay+l),i(Sy+f),h>0&&i(_y+h)}else{let c=Ox.get(s);c?t.push(...c):i(s)}if(!t.length)break;s=t.pop()}if(r&&e.length>1){let s=Sp(e[0]);for(let c=1;c<e.length;c++){let l=Sp(e[c]);if(l==0||s<=l){s=l;continue}let f=c-1;for(;;){let h=e[f+1];if(e[f+1]=e[f],e[f]=h,!f||(s=Sp(e[--f]),s<=l))break}s=Sp(e[c])}}return e}function Lz(n){let e=[],t=[],r=-1,i=0;for(let s of n){let c=Sp(s),l=WT(s);if(r==-1)c==0?r=l:e.push(l);else if(i>0&&i>=c)c==0?(e.push(r,...t),t.length=0,r=l):t.push(l),i=c;else{let f=Mz(r,l);f>=0?r=f:i==0&&c==0?(e.push(r),r=l):(t.push(l),i=c)}}return r>=0&&e.push(r,...t),e}function eD(n){return XT(n).map(WT)}function $z(n){return Lz(XT(n))}const C5=45,tD=".",nD=65039,rD=1,Cy=n=>Array.from(n);function Qp(n,e){return n.P.has(e)||n.Q.has(e)}class jz extends Array{get is_emoji(){return!0}}let Cx,iD,wl,Nx,sD,Rf,Dv,mf,rl,N5,Ix;function A3(){if(Cx)return;let n=qT(bz);const e=()=>Vp(n),t=()=>new Set(e()),r=(p,g)=>g.forEach(m=>p.add(m));Cx=new Map(GT(n)),iD=t(),wl=e(),Nx=new Set(e().map(p=>wl[p])),wl=new Set(wl),sD=t(),t();let i=VT(n),s=n();const c=()=>{let p=new Set;return e().forEach(g=>r(p,i[g])),r(p,e()),p};Rf=Gp(p=>{let g=Gp(n).map(m=>m+96);if(g.length){let m=p>=s;g[0]-=32,g=Dh(g),m&&(g=`Restricted[${g}]`);let b=c(),w=c(),x=!n();return{N:g,P:b,Q:w,M:x,R:m}}}),Dv=t(),mf=new Map;let l=e().concat(Cy(Dv)).sort((p,g)=>p-g);l.forEach((p,g)=>{let m=n(),b=l[g]=m?l[g-m]:{V:[],M:new Map};b.V.push(p),Dv.has(p)||mf.set(p,b)});for(let{V:p,M:g}of new Set(mf.values())){let m=[];for(let w of p){let x=Rf.filter(O=>Qp(O,w)),S=m.find(({G:O})=>x.some(T=>O.has(T)));S||(S={G:new Set,V:[]},m.push(S)),S.V.push(w),r(S.G,x)}let b=m.flatMap(w=>Cy(w.G));for(let{G:w,V:x}of m){let S=new Set(b.filter(O=>!w.has(O)));for(let O of x)g.set(O,S)}}rl=new Set;let f=new Set;const h=p=>rl.has(p)?f.add(p):rl.add(p);for(let p of Rf){for(let g of p.P)h(g);for(let g of p.Q)h(g)}for(let p of rl)!mf.has(p)&&!f.has(p)&&mf.set(p,rD);r(rl,eD(rl)),N5=Oz(n).map(p=>jz.from(p)).sort(Iz),Ix=new Map;for(let p of N5){let g=[Ix];for(let m of p){let b=g.map(w=>{let x=w.get(m);return x||(x=new Map,w.set(m,x)),x});m===nD?g.push(...b):g=b}for(let m of g)m.V=p}}function S3(n){return(aD(n)?"":`${_3(vb([n]))} `)+QT(n)}function _3(n){return`"${n}"`}function zz(n){if(n.length>=4&&n[2]==C5&&n[3]==C5)throw new Error(`invalid label extension: "${Dh(n.slice(0,4))}"`)}function Hz(n){for(let t=n.lastIndexOf(95);t>0;)if(n[--t]!==95)throw new Error("underscore allowed only at start")}function Fz(n){let e=n[0],t=S5.get(e);if(t)throw Dp(`leading ${t}`);let r=n.length,i=-1;for(let s=1;s<r;s++){e=n[s];let c=S5.get(e);if(c){if(i==s)throw Dp(`${t} + ${c}`);i=s+1,t=c}}if(i==r)throw Dp(`trailing ${t}`)}function vb(n,e=1/0,t=QT){let r=[];qz(n[0])&&r.push(""),n.length>e&&(e>>=1,n=[...n.slice(0,e),8230,...n.slice(-e)]);let i=0,s=n.length;for(let c=0;c<s;c++){let l=n[c];aD(l)&&(r.push(Dh(n.slice(i,c))),r.push(t(l)),i=c+1)}return r.push(Dh(n.slice(i,s))),r.join("")}function qz(n){return A3(),wl.has(n)}function aD(n){return A3(),sD.has(n)}function Vz(n){return Yz(Gz(n,$z,Jz))}function Gz(n,e,t){if(!n)return[];A3();let r=0;return n.split(tD).map(i=>{let s=Nz(i),c={input:s,offset:r};r+=s.length+1;try{let l=c.tokens=Wz(s,e,t),f=l.length,h;if(!f)throw new Error("empty label");let p=c.output=l.flat();if(Hz(p),!(c.emoji=f>1||l[0].is_emoji)&&p.every(m=>m<128))zz(p),h="ASCII";else{let m=l.flatMap(b=>b.is_emoji?[]:b);if(!m.length)h="Emoji";else{if(wl.has(p[0]))throw Dp("leading combining mark");for(let x=1;x<f;x++){let S=l[x];if(!S.is_emoji&&wl.has(S[0]))throw Dp(`emoji + combining mark: "${Dh(l[x-1])} + ${vb([S[0]])}"`)}Fz(p);let b=Cy(new Set(m)),[w]=Qz(b);Zz(w,m),Kz(w,b),h=w.N}}c.type=h}catch(l){c.error=l}return c})}function Kz(n,e){let t,r=[];for(let i of e){let s=mf.get(i);if(s===rD)return;if(s){let c=s.M.get(i);if(t=t?t.filter(l=>c.has(l)):Cy(c),!t.length)return}else r.push(i)}if(t){for(let i of t)if(r.every(s=>Qp(i,s)))throw new Error(`whole-script confusable: ${n.N}/${i.N}`)}}function Qz(n){let e=Rf;for(let t of n){let r=e.filter(i=>Qp(i,t));if(!r.length)throw Rf.some(i=>Qp(i,t))?cD(e[0],t):oD(t);if(e=r,r.length==1)break}return e}function Yz(n){return n.map(({input:e,error:t,output:r})=>{if(t){let i=t.message;throw new Error(n.length==1?i:`Invalid label ${_3(vb(e,63))}: ${i}`)}return Dh(r)}).join(tD)}function oD(n){return new Error(`disallowed character: ${S3(n)}`)}function cD(n,e){let t=S3(e),r=Rf.find(i=>i.P.has(e));return r&&(t=`${r.N} ${t}`),new Error(`illegal mixture: ${n.N} + ${t}`)}function Dp(n){return new Error(`illegal placement: ${n}`)}function Zz(n,e){for(let t of e)if(!Qp(n,t))throw cD(n,t);if(n.M){let t=eD(e);for(let r=1,i=t.length;r<i;r++)if(Nx.has(t[r])){let s=r+1;for(let c;s<i&&Nx.has(c=t[s]);s++)for(let l=r;l<s;l++)if(t[l]==c)throw new Error(`duplicate non-spacing marks: ${S3(c)}`);if(s-r>_5)throw new Error(`excessive non-spacing marks: ${_3(vb(t.slice(r-1,s)))} (${s-r}/${_5})`);r=s}}}function Wz(n,e,t){let r=[],i=[];for(n=n.slice().reverse();n.length;){let s=Xz(n);if(s)i.length&&(r.push(e(i)),i=[]),r.push(t(s));else{let c=n.pop();if(rl.has(c))i.push(c);else{let l=Cx.get(c);if(l)i.push(...l);else if(!iD.has(c))throw oD(c)}}}return i.length&&r.push(e(i)),r}function Jz(n){return n.filter(e=>e!=nD)}function Xz(n,e){let t=Ix,r,i=n.length;for(;i&&(t=t.get(n[--i]),!!t);){let{V:s}=t;s&&(r=s,n.length=i)}return r}const lD=new Uint8Array(32);lD.fill(0);function I5(n){return ee(n.length!==0,"invalid ENS name; empty component","comp",n),n}function uD(n){const e=ja(eH(n)),t=[];if(n.length===0)return t;let r=0;for(let i=0;i<e.length;i++)e[i]===46&&(t.push(I5(e.slice(r,i))),r=i+1);return ee(r<e.length,"invalid ENS name; empty component","name",n),t.push(I5(e.slice(r))),t}function eH(n){try{if(n.length===0)throw new Error("empty label");return Vz(n)}catch(e){ee(!1,`invalid ENS name (${e.message})`,"name",n)}}function Tx(n){ee(typeof n=="string","invalid ENS name; not a string","name",n),ee(n.length,"invalid ENS name (empty label)","name",n);let e=lD;const t=uD(n);for(;t.length;)e=nn(Lt([e,nn(t.pop())]));return Ae(e)}function tH(n,e){const t=e;return ee(t<=255,"DNS encoded label cannot exceed 255","length",t),Ae(Lt(uD(n).map(r=>{ee(r.length<=t,`label ${JSON.stringify(n)} exceeds ${t} bytes`,"name",n);const i=new Uint8Array(r.length+1);return i.set(r,1),i[0]=i.length-1,i})))+"00"}const fD=new Uint8Array(32);fD.fill(0);const nH=BigInt(-1),hD=BigInt(0),dD=BigInt(1),rH=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function iH(n){const e=qe(n),t=e.length%32;return t?Lt([e,fD.slice(t)]):Ae(e)}const sH=wc(dD,32),aH=wc(hD,32),T5={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},Rv=["name","version","chainId","verifyingContract","salt"];function D5(n){return function(e){return ee(typeof e=="string",`invalid domain value for ${JSON.stringify(n)}`,`domain.${n}`,e),e}}const oH={name:D5("name"),version:D5("version"),chainId:function(n){const e=Oe(n,"domain.chainId");return ee(e>=0,"invalid chain ID","domain.chainId",n),Number.isSafeInteger(e)?Number(e):Yi(e)},verifyingContract:function(n){try{return ut(n).toLowerCase()}catch{}ee(!1,'invalid domain value "verifyingContract"',"domain.verifyingContract",n)},salt:function(n){const e=qe(n,"domain.salt");return ee(e.length===32,'invalid domain value "salt"',"domain.salt",n),Ae(e)}};function Bv(n){{const e=n.match(/^(u?)int(\d+)$/);if(e){const t=e[1]==="",r=parseInt(e[2]);ee(r%8===0&&r!==0&&r<=256&&e[2]===String(r),"invalid numeric width","type",n);const i=yl(rH,t?r-1:r),s=t?(i+dD)*nH:hD;return function(c){const l=Oe(c,"value");return ee(l>=s&&l<=i,`value out-of-bounds for ${n}`,"value",l),wc(t?WI(l,256):l,32)}}}{const e=n.match(/^bytes(\d+)$/);if(e){const t=parseInt(e[1]);return ee(t!==0&&t<=32&&e[1]===String(t),"invalid bytes width","type",n),function(r){const i=qe(r);return ee(i.length===t,`invalid length for ${n}`,"value",r),iH(r)}}}switch(n){case"address":return function(e){return Va(ut(e),32)};case"bool":return function(e){return e?sH:aH};case"bytes":return function(e){return nn(e)};case"string":return function(e){return Zl(e)}}return null}function R5(n,e){return`${n}(${e.map(({name:t,type:r})=>r+" "+t).join(",")})`}function ym(n){const e=n.match(/^([^\x5b]*)((\x5b\d*\x5d)*)(\x5b(\d*)\x5d)$/);return e?{base:e[1],index:e[2]+e[4],array:{base:e[1],prefix:e[1]+e[2],count:e[5]?parseInt(e[5]):-1}}:{base:n}}var gg,Na,lh,ib,pD;const bi=class bi{constructor(e){le(this,ib);ie(this,"primaryType");le(this,gg);le(this,Na);le(this,lh);V(this,Na,new Map),V(this,lh,new Map);const t=new Map,r=new Map,i=new Map,s={};Object.keys(e).forEach(f=>{s[f]=e[f].map(({name:h,type:p})=>{let{base:g,index:m}=ym(p);return g==="int"&&!e.int&&(g="int256"),g==="uint"&&!e.uint&&(g="uint256"),{name:h,type:g+(m||"")}}),t.set(f,new Set),r.set(f,[]),i.set(f,new Set)}),V(this,gg,JSON.stringify(s));for(const f in s){const h=new Set;for(const p of s[f]){ee(!h.has(p.name),`duplicate variable name ${JSON.stringify(p.name)} in ${JSON.stringify(f)}`,"types",e),h.add(p.name);const g=ym(p.type).base;ee(g!==f,`circular type reference to ${JSON.stringify(g)}`,"types",e),!Bv(g)&&(ee(r.has(g),`unknown type ${JSON.stringify(g)}`,"types",e),r.get(g).push(f),t.get(f).add(g))}}const c=Array.from(r.keys()).filter(f=>r.get(f).length===0);ee(c.length!==0,"missing primary type","types",e),ee(c.length===1,`ambiguous primary types or unused types: ${c.map(f=>JSON.stringify(f)).join(", ")}`,"types",e),Re(this,{primaryType:c[0]});function l(f,h){ee(!h.has(f),`circular type reference to ${JSON.stringify(f)}`,"types",e),h.add(f);for(const p of t.get(f))if(r.has(p)){l(p,h);for(const g of h)i.get(g).add(p)}h.delete(f)}l(this.primaryType,new Set);for(const[f,h]of i){const p=Array.from(h);p.sort(),k(this,Na).set(f,R5(f,s[f])+p.map(g=>R5(g,s[g])).join(""))}}get types(){return JSON.parse(k(this,gg))}getEncoder(e){let t=k(this,lh).get(e);return t||(t=ye(this,ib,pD).call(this,e),k(this,lh).set(e,t)),t}encodeType(e){const t=k(this,Na).get(e);return ee(t,`unknown type: ${JSON.stringify(e)}`,"name",e),t}encodeData(e,t){return this.getEncoder(e)(t)}hashStruct(e,t){return nn(this.encodeData(e,t))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,t,r){if(Bv(e))return r(e,t);const i=ym(e).array;if(i)return ee(i.count===-1||i.count===t.length,`array length mismatch; expected length ${i.count}`,"value",t),t.map(c=>this._visit(i.prefix,c,r));const s=this.types[e];if(s)return s.reduce((c,{name:l,type:f})=>(c[l]=this._visit(f,t[l],r),c),{});ee(!1,`unknown type: ${e}`,"type",e)}visit(e,t){return this._visit(this.primaryType,e,t)}static from(e){return new bi(e)}static getPrimaryType(e){return bi.from(e).primaryType}static hashStruct(e,t,r){return bi.from(t).hashStruct(e,r)}static hashDomain(e){const t=[];for(const r in e){if(e[r]==null)continue;const i=T5[r];ee(i,`invalid typed-data domain key: ${JSON.stringify(r)}`,"domain",e),t.push({name:r,type:i})}return t.sort((r,i)=>Rv.indexOf(r.name)-Rv.indexOf(i.name)),bi.hashStruct("EIP712Domain",{EIP712Domain:t},e)}static encode(e,t,r){return Lt(["0x1901",bi.hashDomain(e),bi.from(t).hash(r)])}static hash(e,t,r){return nn(bi.encode(e,t,r))}static async resolveNames(e,t,r,i){e=Object.assign({},e);for(const l in e)e[l]==null&&delete e[l];const s={};e.verifyingContract&&!Ot(e.verifyingContract,20)&&(s[e.verifyingContract]="0x");const c=bi.from(t);c.visit(r,(l,f)=>(l==="address"&&!Ot(f,20)&&(s[f]="0x"),f));for(const l in s)s[l]=await i(l);return e.verifyingContract&&s[e.verifyingContract]&&(e.verifyingContract=s[e.verifyingContract]),r=c.visit(r,(l,f)=>l==="address"&&s[f]?s[f]:f),{domain:e,value:r}}static getPayload(e,t,r){bi.hashDomain(e);const i={},s=[];Rv.forEach(f=>{const h=e[f];h!=null&&(i[f]=oH[f](h),s.push({name:f,type:T5[f]}))});const c=bi.from(t);t=c.types;const l=Object.assign({},t);return ee(l.EIP712Domain==null,"types must not contain EIP712Domain type","types.EIP712Domain",t),l.EIP712Domain=s,c.encode(r),{types:l,domain:i,primaryType:c.primaryType,message:c.visit(r,(f,h)=>{if(f.match(/^bytes(\d*)/))return Ae(qe(h));if(f.match(/^u?int/))return Oe(h).toString();switch(f){case"address":return h.toLowerCase();case"bool":return!!h;case"string":return ee(typeof h=="string","invalid string","value",h),h}ee(!1,"unsupported type","type",f)})}}};gg=new WeakMap,Na=new WeakMap,lh=new WeakMap,ib=new WeakSet,pD=function(e){{const i=Bv(e);if(i)return i}const t=ym(e).array;if(t){const i=t.prefix,s=this.getEncoder(i);return c=>{ee(t.count===-1||t.count===c.length,`array length mismatch; expected length ${t.count}`,"value",c);let l=c.map(s);return k(this,Na).has(i)&&(l=l.map(nn)),nn(Lt(l))}}const r=this.types[e];if(r){const i=Zl(k(this,Na).get(e));return s=>{const c=r.map(({name:l,type:f})=>{const h=this.getEncoder(f)(s[l]);return k(this,Na).has(f)?nn(h):h});return c.unshift(i),Lt(c)}}ee(!1,`unknown type: ${e}`,"type",e)};let Ny=bi;function cr(n){const e=new Set;return n.forEach(t=>e.add(t)),Object.freeze(e)}const cH="external public payable override",lH=cr(cH.split(" ")),gD="constant external internal payable private public pure view override",uH=cr(gD.split(" ")),mD="constructor error event fallback function receive struct",yD=cr(mD.split(" ")),bD="calldata memory storage payable indexed",fH=cr(bD.split(" ")),hH="tuple returns",dH=[mD,bD,hH,gD].join(" "),pH=cr(dH.split(" ")),gH={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"},mH=new RegExp("^(\\s*)"),yH=new RegExp("^([0-9]+)"),bH=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)"),wD=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)$"),vD=new RegExp("^(address|bool|bytes([0-9]*)|string|u?int([0-9]*))$");var Dn,Ki,mg,Dx;const sb=class sb{constructor(e){le(this,mg);le(this,Dn);le(this,Ki);V(this,Dn,0),V(this,Ki,e.slice())}get offset(){return k(this,Dn)}get length(){return k(this,Ki).length-k(this,Dn)}clone(){return new sb(k(this,Ki))}reset(){V(this,Dn,0)}popKeyword(e){const t=this.peek();if(t.type!=="KEYWORD"||!e.has(t.text))throw new Error(`expected keyword ${t.text}`);return this.pop().text}popType(e){if(this.peek().type!==e){const t=this.peek();throw new Error(`expected ${e}; got ${t.type} ${JSON.stringify(t.text)}`)}return this.pop().text}popParen(){const e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");const t=ye(this,mg,Dx).call(this,k(this,Dn)+1,e.match+1);return V(this,Dn,e.match+1),t}popParams(){const e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");const t=[];for(;k(this,Dn)<e.match-1;){const r=this.peek().linkNext;t.push(ye(this,mg,Dx).call(this,k(this,Dn)+1,r)),V(this,Dn,r)}return V(this,Dn,e.match+1),t}peek(){if(k(this,Dn)>=k(this,Ki).length)throw new Error("out-of-bounds");return k(this,Ki)[k(this,Dn)]}peekKeyword(e){const t=this.peekType("KEYWORD");return t!=null&&e.has(t)?t:null}peekType(e){if(this.length===0)return null;const t=this.peek();return t.type===e?t.text:null}pop(){const e=this.peek();return Qd(this,Dn)._++,e}toString(){const e=[];for(let t=k(this,Dn);t<k(this,Ki).length;t++){const r=k(this,Ki)[t];e.push(`${r.type}:${r.text}`)}return`<TokenString ${e.join(" ")}>`}};Dn=new WeakMap,Ki=new WeakMap,mg=new WeakSet,Dx=function(e=0,t=0){return new sb(k(this,Ki).slice(e,t).map(r=>Object.freeze(Object.assign({},r,{match:r.match-e,linkBack:r.linkBack-e,linkNext:r.linkNext-e}))))};let Xi=sb;function _c(n){const e=[],t=c=>{const l=s<n.length?JSON.stringify(n[s]):"$EOI";throw new Error(`invalid token ${l} at ${s}: ${c}`)};let r=[],i=[],s=0;for(;s<n.length;){let c=n.substring(s),l=c.match(mH);l&&(s+=l[1].length,c=n.substring(s));const f={depth:r.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:s,value:-1};e.push(f);let h=gH[c[0]]||"";if(h){if(f.type=h,f.text=c[0],s++,h==="OPEN_PAREN")r.push(e.length-1),i.push(e.length-1);else if(h=="CLOSE_PAREN")r.length===0&&t("no matching open bracket"),f.match=r.pop(),e[f.match].match=e.length-1,f.depth--,f.linkBack=i.pop(),e[f.linkBack].linkNext=e.length-1;else if(h==="COMMA")f.linkBack=i.pop(),e[f.linkBack].linkNext=e.length-1,i.push(e.length-1);else if(h==="OPEN_BRACKET")f.type="BRACKET";else if(h==="CLOSE_BRACKET"){let p=e.pop().text;if(e.length>0&&e[e.length-1].type==="NUMBER"){const g=e.pop().text;p=g+p,e[e.length-1].value=$e(g)}if(e.length===0||e[e.length-1].type!=="BRACKET")throw new Error("missing opening bracket");e[e.length-1].text+=p}continue}if(l=c.match(bH),l){if(f.text=l[1],s+=f.text.length,pH.has(f.text)){f.type="KEYWORD";continue}if(f.text.match(vD)){f.type="TYPE";continue}f.type="ID";continue}if(l=c.match(yH),l){f.text=l[1],f.type="NUMBER",s+=f.text.length;continue}throw new Error(`unexpected token ${JSON.stringify(c[0])} at position ${s}`)}return new Xi(e.map(c=>Object.freeze(c)))}function B5(n,e){let t=[];for(const r in e.keys())n.has(r)&&t.push(r);if(t.length>1)throw new Error(`conflicting types: ${t.join(", ")}`)}function xb(n,e){if(e.peekKeyword(yD)){const t=e.pop().text;if(t!==n)throw new Error(`expected ${n}, got ${t}`)}return e.popType("ID")}function Ga(n,e){const t=new Set;for(;;){const r=n.peekType("KEYWORD");if(r==null||e&&!e.has(r))break;if(n.pop(),t.has(r))throw new Error(`duplicate keywords: ${JSON.stringify(r)}`);t.add(r)}return Object.freeze(t)}function xD(n){let e=Ga(n,uH);return B5(e,cr("constant payable nonpayable".split(" "))),B5(e,cr("pure view payable nonpayable".split(" "))),e.has("view")?"view":e.has("pure")?"pure":e.has("payable")?"payable":e.has("nonpayable")?"nonpayable":e.has("constant")?"view":"nonpayable"}function za(n,e){return n.popParams().map(t=>Pn.from(t,e))}function ED(n){if(n.peekType("AT")){if(n.pop(),n.peekType("NUMBER"))return Oe(n.pop().text);throw new Error("invalid gas")}return null}function Wl(n){if(n.length)throw new Error(`unexpected tokens at offset ${n.offset}: ${n.toString()}`)}const wH=new RegExp(/^(.*)\[([0-9]*)\]$/);function k5(n){const e=n.match(vD);if(ee(e,"invalid type","type",n),n==="uint")return"uint256";if(n==="int")return"int256";if(e[2]){const t=parseInt(e[2]);ee(t!==0&&t<=32,"invalid bytes length","type",n)}else if(e[3]){const t=parseInt(e[3]);ee(t!==0&&t<=256&&t%8===0,"invalid numeric width","type",n)}return n}const Bt={},Rr=Symbol.for("_ethers_internal"),P5="_ParamTypeInternal",U5="_ErrorInternal",M5="_EventInternal",L5="_ConstructorInternal",$5="_FallbackInternal",j5="_FunctionInternal",z5="_StructInternal";var uh,Jm;const wi=class wi{constructor(e,t,r,i,s,c,l,f){le(this,uh);ie(this,"name");ie(this,"type");ie(this,"baseType");ie(this,"indexed");ie(this,"components");ie(this,"arrayLength");ie(this,"arrayChildren");if(_g(e,Bt,"ParamType"),Object.defineProperty(this,Rr,{value:P5}),c&&(c=Object.freeze(c.slice())),i==="array"){if(l==null||f==null)throw new Error("")}else if(l!=null||f!=null)throw new Error("");if(i==="tuple"){if(c==null)throw new Error("")}else if(c!=null)throw new Error("");Re(this,{name:t,type:r,baseType:i,indexed:s,components:c,arrayLength:l,arrayChildren:f})}format(e){if(e==null&&(e="sighash"),e==="json"){const r=this.name||"";if(this.isArray()){const s=JSON.parse(this.arrayChildren.format("json"));return s.name=r,s.type+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`,JSON.stringify(s)}const i={type:this.baseType==="tuple"?"tuple":this.type,name:r};return typeof this.indexed=="boolean"&&(i.indexed=this.indexed),this.isTuple()&&(i.components=this.components.map(s=>JSON.parse(s.format(e)))),JSON.stringify(i)}let t="";return this.isArray()?(t+=this.arrayChildren.format(e),t+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`):this.isTuple()?t+="("+this.components.map(r=>r.format(e)).join(e==="full"?", ":",")+")":t+=this.type,e!=="sighash"&&(this.indexed===!0&&(t+=" indexed"),e==="full"&&this.name&&(t+=" "+this.name)),t}isArray(){return this.baseType==="array"}isTuple(){return this.baseType==="tuple"}isIndexable(){return this.indexed!=null}walk(e,t){if(this.isArray()){if(!Array.isArray(e))throw new Error("invalid array value");if(this.arrayLength!==-1&&e.length!==this.arrayLength)throw new Error("array is wrong length");const r=this;return e.map(i=>r.arrayChildren.walk(i,t))}if(this.isTuple()){if(!Array.isArray(e))throw new Error("invalid tuple value");if(e.length!==this.components.length)throw new Error("array is wrong length");const r=this;return e.map((i,s)=>r.components[s].walk(i,t))}return t(this.type,e)}async walkAsync(e,t){const r=[],i=[e];return ye(this,uh,Jm).call(this,r,e,t,s=>{i[0]=s}),r.length&&await Promise.all(r),i[0]}static from(e,t){if(wi.isParamType(e))return e;if(typeof e=="string")try{return wi.from(_c(e),t)}catch{ee(!1,"invalid param type","obj",e)}else if(e instanceof Xi){let l="",f="",h=null;Ga(e,cr(["tuple"])).has("tuple")||e.peekType("OPEN_PAREN")?(f="tuple",h=e.popParams().map(x=>wi.from(x)),l=`tuple(${h.map(x=>x.format()).join(",")})`):(l=k5(e.popType("TYPE")),f=l);let p=null,g=null;for(;e.length&&e.peekType("BRACKET");){const x=e.pop();p=new wi(Bt,"",l,f,null,h,g,p),g=x.value,l+=x.text,f="array",h=null}let m=null;if(Ga(e,fH).has("indexed")){if(!t)throw new Error("");m=!0}const w=e.peekType("ID")?e.pop().text:"";if(e.length)throw new Error("leftover tokens");return new wi(Bt,w,l,f,m,h,g,p)}const r=e.name;ee(!r||typeof r=="string"&&r.match(wD),"invalid name","obj.name",r);let i=e.indexed;i!=null&&(ee(t,"parameter cannot be indexed","obj.indexed",e.indexed),i=!!i);let s=e.type,c=s.match(wH);if(c){const l=parseInt(c[2]||"-1"),f=wi.from({type:c[1],components:e.components});return new wi(Bt,r||"",s,"array",i,null,l,f)}if(s==="tuple"||s.startsWith("tuple(")||s.startsWith("(")){const l=e.components!=null?e.components.map(h=>wi.from(h)):null;return new wi(Bt,r||"",s,"tuple",i,l,null,null)}return s=k5(e.type),new wi(Bt,r||"",s,s,i,null,null,null)}static isParamType(e){return e&&e[Rr]===P5}};uh=new WeakSet,Jm=function(e,t,r,i){if(this.isArray()){if(!Array.isArray(t))throw new Error("invalid array value");if(this.arrayLength!==-1&&t.length!==this.arrayLength)throw new Error("array is wrong length");const c=this.arrayChildren,l=t.slice();l.forEach((f,h)=>{var p;ye(p=c,uh,Jm).call(p,e,f,r,g=>{l[h]=g})}),i(l);return}if(this.isTuple()){const c=this.components;let l;if(Array.isArray(t))l=t.slice();else{if(t==null||typeof t!="object")throw new Error("invalid tuple value");l=c.map(f=>{if(!f.name)throw new Error("cannot use object value with unnamed components");if(!(f.name in t))throw new Error(`missing value for component ${f.name}`);return t[f.name]})}if(l.length!==this.components.length)throw new Error("array is wrong length");l.forEach((f,h)=>{var p;ye(p=c[h],uh,Jm).call(p,e,f,r,g=>{l[h]=g})}),i(l);return}const s=r(this.type,t);s.then?e.push((async function(){i(await s)})()):i(s)};let Pn=wi;class Jl{constructor(e,t,r){ie(this,"type");ie(this,"inputs");_g(e,Bt,"Fragment"),r=Object.freeze(r.slice()),Re(this,{type:t,inputs:r})}static from(e){if(typeof e=="string"){try{Jl.from(JSON.parse(e))}catch{}return Jl.from(_c(e))}if(e instanceof Xi)switch(e.peekKeyword(yD)){case"constructor":return Ma.from(e);case"error":return Cr.from(e);case"event":return Ds.from(e);case"fallback":case"receive":return wa.from(e);case"function":return Rs.from(e);case"struct":return Kl.from(e)}else if(typeof e=="object"){switch(e.type){case"constructor":return Ma.from(e);case"error":return Cr.from(e);case"event":return Ds.from(e);case"fallback":case"receive":return wa.from(e);case"function":return Rs.from(e);case"struct":return Kl.from(e)}pe(!1,`unsupported type: ${e.type}`,"UNSUPPORTED_OPERATION",{operation:"Fragment.from"})}ee(!1,"unsupported frgament object","obj",e)}static isConstructor(e){return Ma.isFragment(e)}static isError(e){return Cr.isFragment(e)}static isEvent(e){return Ds.isFragment(e)}static isFunction(e){return Rs.isFragment(e)}static isStruct(e){return Kl.isFragment(e)}}class Eb extends Jl{constructor(t,r,i,s){super(t,r,s);ie(this,"name");ee(typeof i=="string"&&i.match(wD),"invalid identifier","name",i),s=Object.freeze(s.slice()),Re(this,{name:i})}}function Yp(n,e){return"("+e.map(t=>t.format(n)).join(n==="full"?", ":",")+")"}class Cr extends Eb{constructor(e,t,r){super(e,"error",t,r),Object.defineProperty(this,Rr,{value:U5})}get selector(){return Zl(this.format("sighash")).substring(0,10)}format(e){if(e==null&&(e="sighash"),e==="json")return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(r=>JSON.parse(r.format(e)))});const t=[];return e!=="sighash"&&t.push("error"),t.push(this.name+Yp(e,this.inputs)),t.join(" ")}static from(e){if(Cr.isFragment(e))return e;if(typeof e=="string")return Cr.from(_c(e));if(e instanceof Xi){const t=xb("error",e),r=za(e);return Wl(e),new Cr(Bt,t,r)}return new Cr(Bt,e.name,e.inputs?e.inputs.map(Pn.from):[])}static isFragment(e){return e&&e[Rr]===U5}}class Ds extends Eb{constructor(t,r,i,s){super(t,"event",r,i);ie(this,"anonymous");Object.defineProperty(this,Rr,{value:M5}),Re(this,{anonymous:s})}get topicHash(){return Zl(this.format("sighash"))}format(t){if(t==null&&(t="sighash"),t==="json")return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(i=>JSON.parse(i.format(t)))});const r=[];return t!=="sighash"&&r.push("event"),r.push(this.name+Yp(t,this.inputs)),t!=="sighash"&&this.anonymous&&r.push("anonymous"),r.join(" ")}static getTopicHash(t,r){return r=(r||[]).map(s=>Pn.from(s)),new Ds(Bt,t,r,!1).topicHash}static from(t){if(Ds.isFragment(t))return t;if(typeof t=="string")try{return Ds.from(_c(t))}catch{ee(!1,"invalid event fragment","obj",t)}else if(t instanceof Xi){const r=xb("event",t),i=za(t,!0),s=!!Ga(t,cr(["anonymous"])).has("anonymous");return Wl(t),new Ds(Bt,r,i,s)}return new Ds(Bt,t.name,t.inputs?t.inputs.map(r=>Pn.from(r,!0)):[],!!t.anonymous)}static isFragment(t){return t&&t[Rr]===M5}}class Ma extends Jl{constructor(t,r,i,s,c){super(t,r,i);ie(this,"payable");ie(this,"gas");Object.defineProperty(this,Rr,{value:L5}),Re(this,{payable:s,gas:c})}format(t){if(pe(t!=null&&t!=="sighash","cannot format a constructor for sighash","UNSUPPORTED_OPERATION",{operation:"format(sighash)"}),t==="json")return JSON.stringify({type:"constructor",stateMutability:this.payable?"payable":"undefined",payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(i=>JSON.parse(i.format(t)))});const r=[`constructor${Yp(t,this.inputs)}`];return this.payable&&r.push("payable"),this.gas!=null&&r.push(`@${this.gas.toString()}`),r.join(" ")}static from(t){if(Ma.isFragment(t))return t;if(typeof t=="string")try{return Ma.from(_c(t))}catch{ee(!1,"invalid constuctor fragment","obj",t)}else if(t instanceof Xi){Ga(t,cr(["constructor"]));const r=za(t),i=!!Ga(t,lH).has("payable"),s=ED(t);return Wl(t),new Ma(Bt,"constructor",r,i,s)}return new Ma(Bt,"constructor",t.inputs?t.inputs.map(Pn.from):[],!!t.payable,t.gas!=null?t.gas:null)}static isFragment(t){return t&&t[Rr]===L5}}class wa extends Jl{constructor(t,r,i){super(t,"fallback",r);ie(this,"payable");Object.defineProperty(this,Rr,{value:$5}),Re(this,{payable:i})}format(t){const r=this.inputs.length===0?"receive":"fallback";if(t==="json"){const i=this.payable?"payable":"nonpayable";return JSON.stringify({type:r,stateMutability:i})}return`${r}()${this.payable?" payable":""}`}static from(t){if(wa.isFragment(t))return t;if(typeof t=="string")try{return wa.from(_c(t))}catch{ee(!1,"invalid fallback fragment","obj",t)}else if(t instanceof Xi){const r=t.toString(),i=t.peekKeyword(cr(["fallback","receive"]));if(ee(i,"type must be fallback or receive","obj",r),t.popKeyword(cr(["fallback","receive"]))==="receive"){const f=za(t);return ee(f.length===0,"receive cannot have arguments","obj.inputs",f),Ga(t,cr(["payable"])),Wl(t),new wa(Bt,[],!0)}let c=za(t);c.length?ee(c.length===1&&c[0].type==="bytes","invalid fallback inputs","obj.inputs",c.map(f=>f.format("minimal")).join(", ")):c=[Pn.from("bytes")];const l=xD(t);if(ee(l==="nonpayable"||l==="payable","fallback cannot be constants","obj.stateMutability",l),Ga(t,cr(["returns"])).has("returns")){const f=za(t);ee(f.length===1&&f[0].type==="bytes","invalid fallback outputs","obj.outputs",f.map(h=>h.format("minimal")).join(", "))}return Wl(t),new wa(Bt,c,l==="payable")}if(t.type==="receive")return new wa(Bt,[],!0);if(t.type==="fallback"){const r=[Pn.from("bytes")],i=t.stateMutability==="payable";return new wa(Bt,r,i)}ee(!1,"invalid fallback description","obj",t)}static isFragment(t){return t&&t[Rr]===$5}}class Rs extends Eb{constructor(t,r,i,s,c,l){super(t,"function",r,s);ie(this,"constant");ie(this,"outputs");ie(this,"stateMutability");ie(this,"payable");ie(this,"gas");Object.defineProperty(this,Rr,{value:j5}),c=Object.freeze(c.slice()),Re(this,{constant:i==="view"||i==="pure",gas:l,outputs:c,payable:i==="payable",stateMutability:i})}get selector(){return Zl(this.format("sighash")).substring(0,10)}format(t){if(t==null&&(t="sighash"),t==="json")return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(i=>JSON.parse(i.format(t))),outputs:this.outputs.map(i=>JSON.parse(i.format(t)))});const r=[];return t!=="sighash"&&r.push("function"),r.push(this.name+Yp(t,this.inputs)),t!=="sighash"&&(this.stateMutability!=="nonpayable"&&r.push(this.stateMutability),this.outputs&&this.outputs.length&&(r.push("returns"),r.push(Yp(t,this.outputs))),this.gas!=null&&r.push(`@${this.gas.toString()}`)),r.join(" ")}static getSelector(t,r){return r=(r||[]).map(s=>Pn.from(s)),new Rs(Bt,t,"view",r,[],null).selector}static from(t){if(Rs.isFragment(t))return t;if(typeof t=="string")try{return Rs.from(_c(t))}catch{ee(!1,"invalid function fragment","obj",t)}else if(t instanceof Xi){const i=xb("function",t),s=za(t),c=xD(t);let l=[];Ga(t,cr(["returns"])).has("returns")&&(l=za(t));const f=ED(t);return Wl(t),new Rs(Bt,i,c,s,l,f)}let r=t.stateMutability;return r==null&&(r="payable",typeof t.constant=="boolean"?(r="view",t.constant||(r="payable",typeof t.payable=="boolean"&&!t.payable&&(r="nonpayable"))):typeof t.payable=="boolean"&&!t.payable&&(r="nonpayable")),new Rs(Bt,t.name,r,t.inputs?t.inputs.map(Pn.from):[],t.outputs?t.outputs.map(Pn.from):[],t.gas!=null?t.gas:null)}static isFragment(t){return t&&t[Rr]===j5}}class Kl extends Eb{constructor(e,t,r){super(e,"struct",t,r),Object.defineProperty(this,Rr,{value:z5})}format(){throw new Error("@TODO")}static from(e){if(typeof e=="string")try{return Kl.from(_c(e))}catch{ee(!1,"invalid struct fragment","obj",e)}else if(e instanceof Xi){const t=xb("struct",e),r=za(e);return Wl(e),new Kl(Bt,t,r)}return new Kl(Bt,e.name,e.inputs?e.inputs.map(Pn.from):[])}static isFragment(e){return e&&e[Rr]===z5}}const ts=new Map;ts.set(0,"GENERIC_PANIC");ts.set(1,"ASSERT_FALSE");ts.set(17,"OVERFLOW");ts.set(18,"DIVIDE_BY_ZERO");ts.set(33,"ENUM_RANGE_ERROR");ts.set(34,"BAD_STORAGE_DATA");ts.set(49,"STACK_UNDERFLOW");ts.set(50,"ARRAY_RANGE_ERROR");ts.set(65,"OUT_OF_MEMORY");ts.set(81,"UNINITIALIZED_FUNCTION_CALL");const vH=new RegExp(/^bytes([0-9]*)$/),xH=new RegExp(/^(u?int)([0-9]*)$/);let kv=null,H5=1024;function EH(n,e,t,r){let i="missing revert data",s=null;const c=null;let l=null;if(t){i="execution reverted";const h=qe(t);if(t=Ae(t),h.length===0)i+=" (no data present; likely require(false) occurred",s="require(false)";else if(h.length%32!==4)i+=" (could not decode reason; invalid data length)";else if(Ae(h.slice(0,4))==="0x08c379a0")try{s=r.decode(["string"],h.slice(4))[0],l={signature:"Error(string)",name:"Error",args:[s]},i+=`: ${JSON.stringify(s)}`}catch{i+=" (could not decode reason; invalid string data)"}else if(Ae(h.slice(0,4))==="0x4e487b71")try{const p=Number(r.decode(["uint256"],h.slice(4))[0]);l={signature:"Panic(uint256)",name:"Panic",args:[p]},s=`Panic due to ${ts.get(p)||"UNKNOWN"}(${p})`,i+=`: ${s}`}catch{i+=" (could not decode panic code)"}else i+=" (unknown custom error)"}const f={to:e.to?ut(e.to):null,data:e.data||"0x"};return e.from&&(f.from=ut(e.from)),Dt(i,"CALL_EXCEPTION",{action:n,data:t,reason:s,transaction:f,invocation:c,revert:l})}var rc,yf;const ab=class ab{constructor(){le(this,rc)}getDefaultValue(e){const t=e.map(i=>ye(this,rc,yf).call(this,Pn.from(i)));return new mm(t,"_").defaultValue()}encode(e,t){QI(t.length,e.length,"types/values length mismatch");const r=e.map(c=>ye(this,rc,yf).call(this,Pn.from(c))),i=new mm(r,"_"),s=new yx;return i.encode(s,t),s.data}decode(e,t,r){const i=e.map(c=>ye(this,rc,yf).call(this,Pn.from(c)));return new mm(i,"_").decode(new bx(t,r,H5))}static _setDefaultMaxInflation(e){ee(typeof e=="number"&&Number.isInteger(e),"invalid defaultMaxInflation factor","value",e),H5=e}static defaultAbiCoder(){return kv==null&&(kv=new ab),kv}static getBuiltinCallException(e,t,r){return EH(e,t,r,ab.defaultAbiCoder())}};rc=new WeakSet,yf=function(e){if(e.isArray())return new jj(ye(this,rc,yf).call(this,e.arrayChildren),e.arrayLength,e.name);if(e.isTuple())return new mm(e.components.map(r=>ye(this,rc,yf).call(this,r)),e.name);switch(e.baseType){case"address":return new Lj(e.name);case"bool":return new zj(e.name);case"string":return new Zj(e.name);case"bytes":return new Hj(e.name);case"":return new Vj(e.name)}let t=e.type.match(xH);if(t){let r=parseInt(t[2]||"256");return ee(r!==0&&r<=256&&r%8===0,"invalid "+t[1]+" bit length","param",e),new Yj(r/8,t[1]==="int",e.name)}if(t=e.type.match(vH),t){let r=parseInt(t[1]);return ee(r!==0&&r<=32,"invalid bytes length","param",e),new Fj(r,e.name)}ee(!1,"invalid type","type",e.type)};let Zp=ab;class AH{constructor(e,t,r){ie(this,"fragment");ie(this,"name");ie(this,"signature");ie(this,"topic");ie(this,"args");const i=e.name,s=e.format();Re(this,{fragment:e,name:i,signature:s,topic:t,args:r})}}class SH{constructor(e,t,r,i){ie(this,"fragment");ie(this,"name");ie(this,"args");ie(this,"signature");ie(this,"selector");ie(this,"value");const s=e.name,c=e.format();Re(this,{fragment:e,name:s,args:r,signature:c,selector:t,value:i})}}class _H{constructor(e,t,r){ie(this,"fragment");ie(this,"name");ie(this,"args");ie(this,"signature");ie(this,"selector");const i=e.name,s=e.format();Re(this,{fragment:e,name:i,args:r,signature:s,selector:t})}}class F5{constructor(e){ie(this,"hash");ie(this,"_isIndexed");Re(this,{hash:e,_isIndexed:!0})}static isIndexed(e){return!!(e&&e._isIndexed)}}const q5={0:"generic panic",1:"assert(false)",17:"arithmetic overflow",18:"division or modulo by zero",33:"enum overflow",34:"invalid encoded storage byte array accessed",49:"out-of-bounds array access; popping on an empty array",50:"out-of-bounds access of an array or bytesN",65:"out of memory",81:"uninitialized function"},V5={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:n=>`reverted with reason string ${JSON.stringify(n)}`},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"],reason:n=>{let e="unknown panic code";return n>=0&&n<=255&&q5[n.toString()]&&(e=q5[n.toString()]),`reverted with panic code 0x${n.toString(16)} (${e})`}}};var As,Ss,_s,Qn,Ls,Xm,ey;const gl=class gl{constructor(e){le(this,Ls);ie(this,"fragments");ie(this,"deploy");ie(this,"fallback");ie(this,"receive");le(this,As);le(this,Ss);le(this,_s);le(this,Qn);let t=[];typeof e=="string"?t=JSON.parse(e):t=e,V(this,_s,new Map),V(this,As,new Map),V(this,Ss,new Map);const r=[];for(const c of t)try{r.push(Jl.from(c))}catch(l){console.log(`[Warning] Invalid Fragment ${JSON.stringify(c)}:`,l.message)}Re(this,{fragments:Object.freeze(r)});let i=null,s=!1;V(this,Qn,this.getAbiCoder()),this.fragments.forEach((c,l)=>{let f;switch(c.type){case"constructor":if(this.deploy){console.log("duplicate definition - constructor");return}Re(this,{deploy:c});return;case"fallback":c.inputs.length===0?s=!0:(ee(!i||c.payable!==i.payable,"conflicting fallback fragments",`fragments[${l}]`,c),i=c,s=i.payable);return;case"function":f=k(this,_s);break;case"event":f=k(this,Ss);break;case"error":f=k(this,As);break;default:return}const h=c.format();f.has(h)||f.set(h,c)}),this.deploy||Re(this,{deploy:Ma.from("constructor()")}),Re(this,{fallback:i,receive:s})}format(e){const t=e?"minimal":"full";return this.fragments.map(i=>i.format(t))}formatJson(){const e=this.fragments.map(t=>t.format("json"));return JSON.stringify(e.map(t=>JSON.parse(t)))}getAbiCoder(){return Zp.defaultAbiCoder()}getFunctionName(e){const t=ye(this,Ls,Xm).call(this,e,null,!1);return ee(t,"no matching function","key",e),t.name}hasFunction(e){return!!ye(this,Ls,Xm).call(this,e,null,!1)}getFunction(e,t){return ye(this,Ls,Xm).call(this,e,t||null,!0)}forEachFunction(e){const t=Array.from(k(this,_s).keys());t.sort((r,i)=>r.localeCompare(i));for(let r=0;r<t.length;r++){const i=t[r];e(k(this,_s).get(i),r)}}getEventName(e){const t=ye(this,Ls,ey).call(this,e,null,!1);return ee(t,"no matching event","key",e),t.name}hasEvent(e){return!!ye(this,Ls,ey).call(this,e,null,!1)}getEvent(e,t){return ye(this,Ls,ey).call(this,e,t||null,!0)}forEachEvent(e){const t=Array.from(k(this,Ss).keys());t.sort((r,i)=>r.localeCompare(i));for(let r=0;r<t.length;r++){const i=t[r];e(k(this,Ss).get(i),r)}}getError(e,t){if(Ot(e)){const i=e.toLowerCase();if(V5[i])return Cr.from(V5[i].signature);for(const s of k(this,As).values())if(i===s.selector)return s;return null}if(e.indexOf("(")===-1){const i=[];for(const[s,c]of k(this,As))s.split("(")[0]===e&&i.push(c);if(i.length===0)return e==="Error"?Cr.from("error Error(string)"):e==="Panic"?Cr.from("error Panic(uint256)"):null;if(i.length>1){const s=i.map(c=>JSON.stringify(c.format())).join(", ");ee(!1,`ambiguous error description (i.e. ${s})`,"name",e)}return i[0]}if(e=Cr.from(e).format(),e==="Error(string)")return Cr.from("error Error(string)");if(e==="Panic(uint256)")return Cr.from("error Panic(uint256)");const r=k(this,As).get(e);return r||null}forEachError(e){const t=Array.from(k(this,As).keys());t.sort((r,i)=>r.localeCompare(i));for(let r=0;r<t.length;r++){const i=t[r];e(k(this,As).get(i),r)}}_decodeParams(e,t){return k(this,Qn).decode(e,t)}_encodeParams(e,t){return k(this,Qn).encode(e,t)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,t){if(typeof e=="string"){const r=this.getError(e);ee(r,"unknown error","fragment",e),e=r}return ee(Mt(t,0,4)===e.selector,`data signature does not match error ${e.name}.`,"data",t),this._decodeParams(e.inputs,Mt(t,4))}encodeErrorResult(e,t){if(typeof e=="string"){const r=this.getError(e);ee(r,"unknown error","fragment",e),e=r}return Lt([e.selector,this._encodeParams(e.inputs,t||[])])}decodeFunctionData(e,t){if(typeof e=="string"){const r=this.getFunction(e);ee(r,"unknown function","fragment",e),e=r}return ee(Mt(t,0,4)===e.selector,`data signature does not match function ${e.name}.`,"data",t),this._decodeParams(e.inputs,Mt(t,4))}encodeFunctionData(e,t){if(typeof e=="string"){const r=this.getFunction(e);ee(r,"unknown function","fragment",e),e=r}return Lt([e.selector,this._encodeParams(e.inputs,t||[])])}decodeFunctionResult(e,t){if(typeof e=="string"){const s=this.getFunction(e);ee(s,"unknown function","fragment",e),e=s}let r="invalid length for result data";const i=sr(t);if(i.length%32===0)try{return k(this,Qn).decode(e.outputs,i)}catch{r="could not decode result data"}pe(!1,r,"BAD_DATA",{value:Ae(i),info:{method:e.name,signature:e.format()}})}makeError(e,t){const r=qe(e,"data"),i=Zp.getBuiltinCallException("call",t,r);if(i.message.startsWith("execution reverted (unknown custom error)")){const l=Ae(r.slice(0,4)),f=this.getError(l);if(f)try{const h=k(this,Qn).decode(f.inputs,r.slice(4));i.revert={name:f.name,signature:f.format(),args:h},i.reason=i.revert.signature,i.message=`execution reverted: ${i.reason}`}catch{i.message="execution reverted (coult not decode custom error)"}}const c=this.parseTransaction(t);return c&&(i.invocation={method:c.name,signature:c.signature,args:c.args}),i}encodeFunctionResult(e,t){if(typeof e=="string"){const r=this.getFunction(e);ee(r,"unknown function","fragment",e),e=r}return Ae(k(this,Qn).encode(e.outputs,t||[]))}encodeFilterTopics(e,t){if(typeof e=="string"){const s=this.getEvent(e);ee(s,"unknown event","eventFragment",e),e=s}pe(t.length<=e.inputs.length,`too many arguments for ${e.format()}`,"UNEXPECTED_ARGUMENT",{count:t.length,expectedCount:e.inputs.length});const r=[];e.anonymous||r.push(e.topicHash);const i=(s,c)=>s.type==="string"?Zl(c):s.type==="bytes"?nn(Ae(c)):(s.type==="bool"&&typeof c=="boolean"?c=c?"0x01":"0x00":s.type.match(/^u?int/)?c=wc(c):s.type.match(/^bytes/)?c=jL(c,32):s.type==="address"&&k(this,Qn).encode(["address"],[c]),Va(Ae(c),32));for(t.forEach((s,c)=>{const l=e.inputs[c];if(!l.indexed){ee(s==null,"cannot filter non-indexed parameters; must be null","contract."+l.name,s);return}s==null?r.push(null):l.baseType==="array"||l.baseType==="tuple"?ee(!1,"filtering with tuples or arrays not supported","contract."+l.name,s):Array.isArray(s)?r.push(s.map(f=>i(l,f))):r.push(i(l,s))});r.length&&r[r.length-1]===null;)r.pop();return r}encodeEventLog(e,t){if(typeof e=="string"){const c=this.getEvent(e);ee(c,"unknown event","eventFragment",e),e=c}const r=[],i=[],s=[];return e.anonymous||r.push(e.topicHash),ee(t.length===e.inputs.length,"event arguments/values mismatch","values",t),e.inputs.forEach((c,l)=>{const f=t[l];if(c.indexed)if(c.type==="string")r.push(Zl(f));else if(c.type==="bytes")r.push(nn(f));else{if(c.baseType==="tuple"||c.baseType==="array")throw new Error("not implemented");r.push(k(this,Qn).encode([c.type],[f]))}else i.push(c),s.push(f)}),{data:k(this,Qn).encode(i,s),topics:r}}decodeEventLog(e,t,r){if(typeof e=="string"){const b=this.getEvent(e);ee(b,"unknown event","eventFragment",e),e=b}if(r!=null&&!e.anonymous){const b=e.topicHash;ee(Ot(r[0],32)&&r[0].toLowerCase()===b,"fragment/topic mismatch","topics[0]",r[0]),r=r.slice(1)}const i=[],s=[],c=[];e.inputs.forEach((b,w)=>{b.indexed?b.type==="string"||b.type==="bytes"||b.baseType==="tuple"||b.baseType==="array"?(i.push(Pn.from({type:"bytes32",name:b.name})),c.push(!0)):(i.push(b),c.push(!1)):(s.push(b),c.push(!1))});const l=r!=null?k(this,Qn).decode(i,Lt(r)):null,f=k(this,Qn).decode(s,t,!0),h=[],p=[];let g=0,m=0;return e.inputs.forEach((b,w)=>{let x=null;if(b.indexed)if(l==null)x=new F5(null);else if(c[w])x=new F5(l[m++]);else try{x=l[m++]}catch(S){x=S}else try{x=f[g++]}catch(S){x=S}h.push(x),p.push(b.name||null)}),Oh.fromItems(h,p)}parseTransaction(e){const t=qe(e.data,"tx.data"),r=Oe(e.value!=null?e.value:0,"tx.value"),i=this.getFunction(Ae(t.slice(0,4)));if(!i)return null;const s=k(this,Qn).decode(i.inputs,t.slice(4));return new SH(i,i.selector,s,r)}parseCallResult(e){throw new Error("@TODO")}parseLog(e){const t=this.getEvent(e.topics[0]);return!t||t.anonymous?null:new AH(t,t.topicHash,this.decodeEventLog(t,e.data,e.topics))}parseError(e){const t=Ae(e),r=this.getError(Mt(t,0,4));if(!r)return null;const i=k(this,Qn).decode(r.inputs,Mt(t,4));return new _H(r,r.selector,i)}static from(e){return e instanceof gl?e:typeof e=="string"?new gl(JSON.parse(e)):typeof e.formatJson=="function"?new gl(e.formatJson()):typeof e.format=="function"?new gl(e.format("json")):new gl(e)}};As=new WeakMap,Ss=new WeakMap,_s=new WeakMap,Qn=new WeakMap,Ls=new WeakSet,Xm=function(e,t,r){if(Ot(e)){const s=e.toLowerCase();for(const c of k(this,_s).values())if(s===c.selector)return c;return null}if(e.indexOf("(")===-1){const s=[];for(const[c,l]of k(this,_s))c.split("(")[0]===e&&s.push(l);if(t){const c=t.length>0?t[t.length-1]:null;let l=t.length,f=!0;Jn.isTyped(c)&&c.type==="overrides"&&(f=!1,l--);for(let h=s.length-1;h>=0;h--){const p=s[h].inputs.length;p!==l&&(!f||p!==l-1)&&s.splice(h,1)}for(let h=s.length-1;h>=0;h--){const p=s[h].inputs;for(let g=0;g<t.length;g++)if(Jn.isTyped(t[g])){if(g>=p.length){if(t[g].type==="overrides")continue;s.splice(h,1);break}if(t[g].type!==p[g].baseType){s.splice(h,1);break}}}}if(s.length===1&&t&&t.length!==s[0].inputs.length){const c=t[t.length-1];(c==null||Array.isArray(c)||typeof c!="object")&&s.splice(0,1)}if(s.length===0)return null;if(s.length>1&&r){const c=s.map(l=>JSON.stringify(l.format())).join(", ");ee(!1,`ambiguous function description (i.e. matches ${c})`,"key",e)}return s[0]}const i=k(this,_s).get(Rs.from(e).format());return i||null},ey=function(e,t,r){if(Ot(e)){const s=e.toLowerCase();for(const c of k(this,Ss).values())if(s===c.topicHash)return c;return null}if(e.indexOf("(")===-1){const s=[];for(const[c,l]of k(this,Ss))c.split("(")[0]===e&&s.push(l);if(t){for(let c=s.length-1;c>=0;c--)s[c].inputs.length<t.length&&s.splice(c,1);for(let c=s.length-1;c>=0;c--){const l=s[c].inputs;for(let f=0;f<t.length;f++)if(Jn.isTyped(t[f])&&t[f].type!==l[f].baseType){s.splice(c,1);break}}}if(s.length===0)return null;if(s.length>1&&r){const c=s.map(l=>JSON.stringify(l.format())).join(", ");ee(!1,`ambiguous event description (i.e. matches ${c})`,"key",e)}return s[0]}const i=k(this,Ss).get(Ds.from(e).format());return i||null};let Rx=gl;const AD=BigInt(0);function Bf(n){return n??null}function qt(n){return n==null?null:n.toString()}class G5{constructor(e,t,r){ie(this,"gasPrice");ie(this,"maxFeePerGas");ie(this,"maxPriorityFeePerGas");Re(this,{gasPrice:Bf(e),maxFeePerGas:Bf(t),maxPriorityFeePerGas:Bf(r)})}toJSON(){const{gasPrice:e,maxFeePerGas:t,maxPriorityFeePerGas:r}=this;return{_type:"FeeData",gasPrice:qt(e),maxFeePerGas:qt(t),maxPriorityFeePerGas:qt(r)}}}function Iy(n){const e={};n.to&&(e.to=n.to),n.from&&(e.from=n.from),n.data&&(e.data=Ae(n.data));const t="chainId,gasLimit,gasPrice,maxFeePerBlobGas,maxFeePerGas,maxPriorityFeePerGas,value".split(/,/);for(const i of t)!(i in n)||n[i]==null||(e[i]=Oe(n[i],`request.${i}`));const r="type,nonce".split(/,/);for(const i of r)!(i in n)||n[i]==null||(e[i]=$e(n[i],`request.${i}`));return n.accessList&&(e.accessList=su(n.accessList)),n.authorizationList&&(e.authorizationList=n.authorizationList.slice()),"blockTag"in n&&(e.blockTag=n.blockTag),"enableCcipRead"in n&&(e.enableCcipRead=!!n.enableCcipRead),"customData"in n&&(e.customData=n.customData),"blobVersionedHashes"in n&&n.blobVersionedHashes&&(e.blobVersionedHashes=n.blobVersionedHashes.slice()),"kzg"in n&&(e.kzg=n.kzg),"blobs"in n&&n.blobs&&(e.blobs=n.blobs.map(i=>p3(i)?Ae(i):Object.assign({},i))),e}var Ia;class OH{constructor(e,t){ie(this,"provider");ie(this,"number");ie(this,"hash");ie(this,"timestamp");ie(this,"parentHash");ie(this,"parentBeaconBlockRoot");ie(this,"nonce");ie(this,"difficulty");ie(this,"gasLimit");ie(this,"gasUsed");ie(this,"stateRoot");ie(this,"receiptsRoot");ie(this,"blobGasUsed");ie(this,"excessBlobGas");ie(this,"miner");ie(this,"prevRandao");ie(this,"extraData");ie(this,"baseFeePerGas");le(this,Ia);V(this,Ia,e.transactions.map(r=>typeof r!="string"?new Wp(r,t):r)),Re(this,{provider:t,hash:Bf(e.hash),number:e.number,timestamp:e.timestamp,parentHash:e.parentHash,parentBeaconBlockRoot:e.parentBeaconBlockRoot,nonce:e.nonce,difficulty:e.difficulty,gasLimit:e.gasLimit,gasUsed:e.gasUsed,blobGasUsed:e.blobGasUsed,excessBlobGas:e.excessBlobGas,miner:e.miner,prevRandao:Bf(e.prevRandao),extraData:e.extraData,baseFeePerGas:Bf(e.baseFeePerGas),stateRoot:e.stateRoot,receiptsRoot:e.receiptsRoot})}get transactions(){return k(this,Ia).map(e=>typeof e=="string"?e:e.hash)}get prefetchedTransactions(){const e=k(this,Ia).slice();return e.length===0?[]:(pe(typeof e[0]=="object","transactions were not prefetched with block request","UNSUPPORTED_OPERATION",{operation:"transactionResponses()"}),e)}toJSON(){const{baseFeePerGas:e,difficulty:t,extraData:r,gasLimit:i,gasUsed:s,hash:c,miner:l,prevRandao:f,nonce:h,number:p,parentHash:g,parentBeaconBlockRoot:m,stateRoot:b,receiptsRoot:w,timestamp:x,transactions:S}=this;return{_type:"Block",baseFeePerGas:qt(e),difficulty:qt(t),extraData:r,gasLimit:qt(i),gasUsed:qt(s),blobGasUsed:qt(this.blobGasUsed),excessBlobGas:qt(this.excessBlobGas),hash:c,miner:l,prevRandao:f,nonce:h,number:p,parentHash:g,timestamp:x,parentBeaconBlockRoot:m,stateRoot:b,receiptsRoot:w,transactions:S}}[Symbol.iterator](){let e=0;const t=this.transactions;return{next:()=>e<this.length?{value:t[e++],done:!1}:{value:void 0,done:!0}}}get length(){return k(this,Ia).length}get date(){return this.timestamp==null?null:new Date(this.timestamp*1e3)}async getTransaction(e){let t;if(typeof e=="number")t=k(this,Ia)[e];else{const r=e.toLowerCase();for(const i of k(this,Ia))if(typeof i=="string"){if(i!==r)continue;t=i;break}else{if(i.hash!==r)continue;t=i;break}}if(t==null)throw new Error("no such tx");return typeof t=="string"?await this.provider.getTransaction(t):t}getPrefetchedTransaction(e){const t=this.prefetchedTransactions;if(typeof e=="number")return t[e];e=e.toLowerCase();for(const r of t)if(r.hash===e)return r;ee(!1,"no matching transaction","indexOrHash",e)}isMined(){return!!this.hash}isLondon(){return!!this.baseFeePerGas}orphanedEvent(){if(!this.isMined())throw new Error("");return CH(this)}}Ia=new WeakMap;class Ng{constructor(e,t){ie(this,"provider");ie(this,"transactionHash");ie(this,"blockHash");ie(this,"blockNumber");ie(this,"removed");ie(this,"address");ie(this,"data");ie(this,"topics");ie(this,"index");ie(this,"transactionIndex");this.provider=t;const r=Object.freeze(e.topics.slice());Re(this,{transactionHash:e.transactionHash,blockHash:e.blockHash,blockNumber:e.blockNumber,removed:e.removed,address:e.address,data:e.data,topics:r,index:e.index,transactionIndex:e.transactionIndex})}toJSON(){const{address:e,blockHash:t,blockNumber:r,data:i,index:s,removed:c,topics:l,transactionHash:f,transactionIndex:h}=this;return{_type:"log",address:e,blockHash:t,blockNumber:r,data:i,index:s,removed:c,topics:l,transactionHash:f,transactionIndex:h}}async getBlock(){const e=await this.provider.getBlock(this.blockHash);return pe(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransaction(){const e=await this.provider.getTransaction(this.transactionHash);return pe(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransactionReceipt(){const e=await this.provider.getTransactionReceipt(this.transactionHash);return pe(!!e,"failed to find transaction receipt","UNKNOWN_ERROR",{}),e}removedEvent(){return NH(this)}}var yg;class SD{constructor(e,t){ie(this,"provider");ie(this,"to");ie(this,"from");ie(this,"contractAddress");ie(this,"hash");ie(this,"index");ie(this,"blockHash");ie(this,"blockNumber");ie(this,"logsBloom");ie(this,"gasUsed");ie(this,"blobGasUsed");ie(this,"cumulativeGasUsed");ie(this,"gasPrice");ie(this,"blobGasPrice");ie(this,"type");ie(this,"status");ie(this,"root");le(this,yg);V(this,yg,Object.freeze(e.logs.map(i=>new Ng(i,t))));let r=AD;e.effectiveGasPrice!=null?r=e.effectiveGasPrice:e.gasPrice!=null&&(r=e.gasPrice),Re(this,{provider:t,to:e.to,from:e.from,contractAddress:e.contractAddress,hash:e.hash,index:e.index,blockHash:e.blockHash,blockNumber:e.blockNumber,logsBloom:e.logsBloom,gasUsed:e.gasUsed,cumulativeGasUsed:e.cumulativeGasUsed,blobGasUsed:e.blobGasUsed,gasPrice:r,blobGasPrice:e.blobGasPrice,type:e.type,status:e.status,root:e.root})}get logs(){return k(this,yg)}toJSON(){const{to:e,from:t,contractAddress:r,hash:i,index:s,blockHash:c,blockNumber:l,logsBloom:f,logs:h,status:p,root:g}=this;return{_type:"TransactionReceipt",blockHash:c,blockNumber:l,contractAddress:r,cumulativeGasUsed:qt(this.cumulativeGasUsed),from:t,gasPrice:qt(this.gasPrice),blobGasUsed:qt(this.blobGasUsed),blobGasPrice:qt(this.blobGasPrice),gasUsed:qt(this.gasUsed),hash:i,index:s,logs:h,logsBloom:f,root:g,status:p,to:e}}get length(){return this.logs.length}[Symbol.iterator](){let e=0;return{next:()=>e<this.length?{value:this.logs[e++],done:!1}:{value:void 0,done:!0}}}get fee(){return this.gasUsed*this.gasPrice}async getBlock(){const e=await this.provider.getBlock(this.blockHash);if(e==null)throw new Error("TODO");return e}async getTransaction(){const e=await this.provider.getTransaction(this.hash);if(e==null)throw new Error("TODO");return e}async getResult(){return await this.provider.getTransactionResult(this.hash)}async confirmations(){return await this.provider.getBlockNumber()-this.blockNumber+1}removedEvent(){return OD(this)}reorderedEvent(e){return pe(!e||e.isMined(),"unmined 'other' transction cannot be orphaned","UNSUPPORTED_OPERATION",{operation:"reorderedEvent(other)"}),_D(this,e)}}yg=new WeakMap;var ic;const UA=class UA{constructor(e,t){ie(this,"provider");ie(this,"blockNumber");ie(this,"blockHash");ie(this,"index");ie(this,"hash");ie(this,"type");ie(this,"to");ie(this,"from");ie(this,"nonce");ie(this,"gasLimit");ie(this,"gasPrice");ie(this,"maxPriorityFeePerGas");ie(this,"maxFeePerGas");ie(this,"maxFeePerBlobGas");ie(this,"data");ie(this,"value");ie(this,"chainId");ie(this,"signature");ie(this,"accessList");ie(this,"blobVersionedHashes");ie(this,"authorizationList");le(this,ic);this.provider=t,this.blockNumber=e.blockNumber!=null?e.blockNumber:null,this.blockHash=e.blockHash!=null?e.blockHash:null,this.hash=e.hash,this.index=e.index,this.type=e.type,this.from=e.from,this.to=e.to||null,this.gasLimit=e.gasLimit,this.nonce=e.nonce,this.data=e.data,this.value=e.value,this.gasPrice=e.gasPrice,this.maxPriorityFeePerGas=e.maxPriorityFeePerGas!=null?e.maxPriorityFeePerGas:null,this.maxFeePerGas=e.maxFeePerGas!=null?e.maxFeePerGas:null,this.maxFeePerBlobGas=e.maxFeePerBlobGas!=null?e.maxFeePerBlobGas:null,this.chainId=e.chainId,this.signature=e.signature,this.accessList=e.accessList!=null?e.accessList:null,this.blobVersionedHashes=e.blobVersionedHashes!=null?e.blobVersionedHashes:null,this.authorizationList=e.authorizationList!=null?e.authorizationList:null,V(this,ic,-1)}toJSON(){const{blockNumber:e,blockHash:t,index:r,hash:i,type:s,to:c,from:l,nonce:f,data:h,signature:p,accessList:g,blobVersionedHashes:m}=this;return{_type:"TransactionResponse",accessList:g,blockNumber:e,blockHash:t,blobVersionedHashes:m,chainId:qt(this.chainId),data:h,from:l,gasLimit:qt(this.gasLimit),gasPrice:qt(this.gasPrice),hash:i,maxFeePerGas:qt(this.maxFeePerGas),maxPriorityFeePerGas:qt(this.maxPriorityFeePerGas),maxFeePerBlobGas:qt(this.maxFeePerBlobGas),nonce:f,signature:p,to:c,index:r,type:s,value:qt(this.value)}}async getBlock(){let e=this.blockNumber;if(e==null){const r=await this.getTransaction();r&&(e=r.blockNumber)}if(e==null)return null;const t=this.provider.getBlock(e);if(t==null)throw new Error("TODO");return t}async getTransaction(){return this.provider.getTransaction(this.hash)}async confirmations(){if(this.blockNumber==null){const{tx:t,blockNumber:r}=await ir({tx:this.getTransaction(),blockNumber:this.provider.getBlockNumber()});return t==null||t.blockNumber==null?0:r-t.blockNumber+1}return await this.provider.getBlockNumber()-this.blockNumber+1}async wait(e,t){const r=e??1,i=t??0;let s=k(this,ic),c=-1,l=s===-1;const f=async()=>{if(l)return null;const{blockNumber:m,nonce:b}=await ir({blockNumber:this.provider.getBlockNumber(),nonce:this.provider.getTransactionCount(this.from)});if(b<this.nonce){s=m;return}if(l)return null;const w=await this.getTransaction();if(!(w&&w.blockNumber!=null))for(c===-1&&(c=s-3,c<k(this,ic)&&(c=k(this,ic)));c<=m;){if(l)return null;const x=await this.provider.getBlock(c,!0);if(x==null)return;for(const S of x)if(S===this.hash)return;for(let S=0;S<x.length;S++){const O=await x.getTransaction(S);if(O.from===this.from&&O.nonce===this.nonce){if(l)return null;const T=await this.provider.getTransactionReceipt(O.hash);if(T==null||m-T.blockNumber+1<r)return;let _="replaced";O.data===this.data&&O.to===this.to&&O.value===this.value?_="repriced":O.data==="0x"&&O.from===O.to&&O.value===AD&&(_="cancelled"),pe(!1,"transaction was replaced","TRANSACTION_REPLACED",{cancelled:_==="replaced"||_==="cancelled",reason:_,replacement:O.replaceableTransaction(s),hash:O.hash,receipt:T})}}c++}},h=m=>{if(m==null||m.status!==0)return m;pe(!1,"transaction execution reverted","CALL_EXCEPTION",{action:"sendTransaction",data:null,reason:null,invocation:null,revert:null,transaction:{to:m.to,from:m.from,data:""},receipt:m})},p=await this.provider.getTransactionReceipt(this.hash);if(r===0)return h(p);if(p){if(r===1||await p.confirmations()>=r)return h(p)}else if(await f(),r===0)return null;return await new Promise((m,b)=>{const w=[],x=()=>{w.forEach(O=>O())};if(w.push(()=>{l=!0}),i>0){const O=setTimeout(()=>{x(),b(Dt("wait for transaction timeout","TIMEOUT"))},i);w.push(()=>{clearTimeout(O)})}const S=async O=>{if(await O.confirmations()>=r){x();try{m(h(O))}catch(T){b(T)}}};if(w.push(()=>{this.provider.off(this.hash,S)}),this.provider.on(this.hash,S),s>=0){const O=async()=>{try{await f()}catch(T){if(kn(T,"TRANSACTION_REPLACED")){x(),b(T);return}}l||this.provider.once("block",O)};w.push(()=>{this.provider.off("block",O)}),this.provider.once("block",O)}})}isMined(){return this.blockHash!=null}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}removedEvent(){return pe(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),OD(this)}reorderedEvent(e){return pe(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),pe(!e||e.isMined(),"unmined 'other' transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),_D(this,e)}replaceableTransaction(e){ee(Number.isInteger(e)&&e>=0,"invalid startBlock","startBlock",e);const t=new UA(this,this.provider);return V(t,ic,e),t}};ic=new WeakMap;let Wp=UA;function CH(n){return{orphan:"drop-block",hash:n.hash,number:n.number}}function _D(n,e){return{orphan:"reorder-transaction",tx:n,other:e}}function OD(n){return{orphan:"drop-transaction",tx:n}}function NH(n){return{orphan:"drop-log",log:{transactionHash:n.transactionHash,blockHash:n.blockHash,blockNumber:n.blockNumber,address:n.address,data:n.data,topics:Object.freeze(n.topics.slice()),index:n.index}}}class O3 extends Ng{constructor(t,r,i){super(t,t.provider);ie(this,"interface");ie(this,"fragment");ie(this,"args");const s=r.decodeEventLog(i,t.data,t.topics);Re(this,{args:s,fragment:i,interface:r})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}class CD extends Ng{constructor(t,r){super(t,t.provider);ie(this,"error");Re(this,{error:r})}}var fh;class IH extends SD{constructor(t,r,i){super(i,r);le(this,fh);V(this,fh,t)}get logs(){return super.logs.map(t=>{const r=t.topics.length?k(this,fh).getEvent(t.topics[0]):null;if(r)try{return new O3(t,k(this,fh),r)}catch(i){return new CD(t,i)}return t})}}fh=new WeakMap;var bg;class C3 extends Wp{constructor(t,r,i){super(i,r);le(this,bg);V(this,bg,t)}async wait(t,r){const i=await super.wait(t,r);return i==null?null:new IH(k(this,bg),this.provider,i)}}bg=new WeakMap;class ND extends JI{constructor(t,r,i,s){super(t,r,i);ie(this,"log");Re(this,{log:s})}async getBlock(){return await this.log.getBlock()}async getTransaction(){return await this.log.getTransaction()}async getTransactionReceipt(){return await this.log.getTransactionReceipt()}}class TH extends ND{constructor(e,t,r,i,s){super(e,t,r,new O3(s,e.interface,i));const c=e.interface.decodeEventLog(i,this.log.data,this.log.topics);Re(this,{args:c,fragment:i})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}const K5=BigInt(0);function ID(n){return n&&typeof n.call=="function"}function TD(n){return n&&typeof n.estimateGas=="function"}function Ab(n){return n&&typeof n.resolveName=="function"}function DD(n){return n&&typeof n.sendTransaction=="function"}function RD(n){if(n!=null){if(Ab(n))return n;if(n.provider)return n.provider}}var wg;class DH{constructor(e,t,r){le(this,wg);ie(this,"fragment");if(Re(this,{fragment:t}),t.inputs.length<r.length)throw new Error("too many arguments");const i=Xl(e.runner,"resolveName"),s=Ab(i)?i:null;V(this,wg,(async function(){const c=await Promise.all(t.inputs.map((l,f)=>r[f]==null?null:l.walkAsync(r[f],(p,g)=>p==="address"?Array.isArray(g)?Promise.all(g.map(m=>or(m,s))):or(g,s):g)));return e.interface.encodeFilterTopics(t,c)})())}getTopicFilter(){return k(this,wg)}}wg=new WeakMap;function Xl(n,e){return n==null?null:typeof n[e]=="function"?n:n.provider&&typeof n.provider[e]=="function"?n.provider:null}function vl(n){return n==null?null:n.provider||null}async function BD(n,e){const t=Jn.dereference(n,"overrides");ee(typeof t=="object","invalid overrides parameter","overrides",n);const r=Iy(t);return ee(r.to==null||(e||[]).indexOf("to")>=0,"cannot override to","overrides.to",r.to),ee(r.data==null||(e||[]).indexOf("data")>=0,"cannot override data","overrides.data",r.data),r.from&&(r.from=r.from),r}async function RH(n,e,t){const r=Xl(n,"resolveName"),i=Ab(r)?r:null;return await Promise.all(e.map((s,c)=>s.walkAsync(t[c],(l,f)=>(f=Jn.dereference(f,l),l==="address"?or(f,i):f))))}function BH(n){const e=async function(c){const l=await BD(c,["data"]);l.to=await n.getAddress(),l.from&&(l.from=await or(l.from,RD(n.runner)));const f=n.interface,h=Oe(l.value||K5,"overrides.value")===K5,p=(l.data||"0x")==="0x";f.fallback&&!f.fallback.payable&&f.receive&&!p&&!h&&ee(!1,"cannot send data to receive or send value to non-payable fallback","overrides",c),ee(f.fallback||p,"cannot send data to receive-only contract","overrides.data",l.data);const g=f.receive||f.fallback&&f.fallback.payable;return ee(g||h,"cannot send value to non-payable fallback","overrides.value",l.value),ee(f.fallback||p,"cannot send data to receive-only contract","overrides.data",l.data),l},t=async function(c){const l=Xl(n.runner,"call");pe(ID(l),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const f=await e(c);try{return await l.call(f)}catch(h){throw d3(h)&&h.data?n.interface.makeError(h.data,f):h}},r=async function(c){const l=n.runner;pe(DD(l),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const f=await l.sendTransaction(await e(c)),h=vl(n.runner);return new C3(n.interface,h,f)},i=async function(c){const l=Xl(n.runner,"estimateGas");return pe(TD(l),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await l.estimateGas(await e(c))},s=async c=>await r(c);return Re(s,{_contract:n,estimateGas:i,populateTransaction:e,send:r,staticCall:t}),s}function kH(n,e){const t=function(...h){const p=n.interface.getFunction(e,h);return pe(p,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:h}}),p},r=async function(...h){const p=t(...h);let g={};if(p.inputs.length+1===h.length&&(g=await BD(h.pop()),g.from&&(g.from=await or(g.from,RD(n.runner)))),p.inputs.length!==h.length)throw new Error("internal error: fragment inputs doesn't match arguments; should not happen");const m=await RH(n.runner,p.inputs,h);return Object.assign({},g,await ir({to:n.getAddress(),data:n.interface.encodeFunctionData(p,m)}))},i=async function(...h){const p=await l(...h);return p.length===1?p[0]:p},s=async function(...h){const p=n.runner;pe(DD(p),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const g=await p.sendTransaction(await r(...h)),m=vl(n.runner);return new C3(n.interface,m,g)},c=async function(...h){const p=Xl(n.runner,"estimateGas");return pe(TD(p),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await p.estimateGas(await r(...h))},l=async function(...h){const p=Xl(n.runner,"call");pe(ID(p),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const g=await r(...h);let m="0x";try{m=await p.call(g)}catch(w){throw d3(w)&&w.data?n.interface.makeError(w.data,g):w}const b=t(...h);return n.interface.decodeFunctionResult(b,m)},f=async(...h)=>t(...h).constant?await i(...h):await s(...h);return Re(f,{name:n.interface.getFunctionName(e),_contract:n,_key:e,getFragment:t,estimateGas:c,populateTransaction:r,send:s,staticCall:i,staticCallResult:l}),Object.defineProperty(f,"fragment",{configurable:!1,enumerable:!0,get:()=>{const h=n.interface.getFunction(e);return pe(h,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),h}}),f}function PH(n,e){const t=function(...i){const s=n.interface.getEvent(e,i);return pe(s,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:i}}),s},r=function(...i){return new DH(n,t(...i),i)};return Re(r,{name:n.interface.getEventName(e),_contract:n,_key:e,getFragment:t}),Object.defineProperty(r,"fragment",{configurable:!1,enumerable:!0,get:()=>{const i=n.interface.getEvent(e);return pe(i,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),i}}),r}const Ty=Symbol.for("_ethersInternal_contract"),kD=new WeakMap;function UH(n,e){kD.set(n[Ty],e)}function Vr(n){return kD.get(n[Ty])}function MH(n){return n&&typeof n=="object"&&"getTopicFilter"in n&&typeof n.getTopicFilter=="function"&&n.fragment}async function N3(n,e){let t,r=null;if(Array.isArray(e)){const s=function(c){if(Ot(c,32))return c;const l=n.interface.getEvent(c);return ee(l,"unknown fragment","name",c),l.topicHash};t=e.map(c=>c==null?null:Array.isArray(c)?c.map(s):s(c))}else e==="*"?t=[null]:typeof e=="string"?Ot(e,32)?t=[e]:(r=n.interface.getEvent(e),ee(r,"unknown fragment","event",e),t=[r.topicHash]):MH(e)?t=await e.getTopicFilter():"fragment"in e?(r=e.fragment,t=[r.topicHash]):ee(!1,"unknown event name","event",e);t=t.map(s=>{if(s==null)return null;if(Array.isArray(s)){const c=Array.from(new Set(s.map(l=>l.toLowerCase())).values());return c.length===1?c[0]:(c.sort(),c)}return s.toLowerCase()});const i=t.map(s=>s==null?"null":Array.isArray(s)?s.join("|"):s).join("&");return{fragment:r,tag:i,topics:t}}async function _p(n,e){const{subs:t}=Vr(n);return t.get((await N3(n,e)).tag)||null}async function Q5(n,e,t){const r=vl(n.runner);pe(r,"contract runner does not support subscribing","UNSUPPORTED_OPERATION",{operation:e});const{fragment:i,tag:s,topics:c}=await N3(n,t),{addr:l,subs:f}=Vr(n);let h=f.get(s);if(!h){const g={address:l||n,topics:c},m=S=>{let O=i;if(O==null)try{O=n.interface.getEvent(S.topics[0])}catch{}if(O){const T=O,_=i?n.interface.decodeEventLog(i,S.data,S.topics):[];kx(n,t,_,I=>new TH(n,I,t,T,S))}else kx(n,t,[],T=>new ND(n,T,t,S))};let b=[];h={tag:s,listeners:[],start:()=>{b.length||b.push(r.on(g,m))},stop:async()=>{if(b.length==0)return;let S=b;b=[],await Promise.all(S),r.off(g,m)}},f.set(s,h)}return h}let Bx=Promise.resolve();async function LH(n,e,t,r){await Bx;const i=await _p(n,e);if(!i)return!1;const s=i.listeners.length;return i.listeners=i.listeners.filter(({listener:c,once:l})=>{const f=Array.from(t);r&&f.push(r(l?null:c));try{c.call(n,...f)}catch{}return!l}),i.listeners.length===0&&(i.stop(),Vr(n).subs.delete(i.tag)),s>0}async function kx(n,e,t,r){try{await Bx}catch{}const i=LH(n,e,t,r);return Bx=i,await i}const bm=["then"];var RI;RI=Ty;const zp=class zp{constructor(e,t,r,i){ie(this,"target");ie(this,"interface");ie(this,"runner");ie(this,"filters");ie(this,RI);ie(this,"fallback");ee(typeof e=="string"||$T(e),"invalid value for Contract target","target",e),r==null&&(r=null);const s=Rx.from(t);Re(this,{target:e,runner:r,interface:s}),Object.defineProperty(this,Ty,{value:{}});let c,l=null,f=null;if(i){const g=vl(r);f=new C3(this.interface,g,i)}let h=new Map;if(typeof e=="string")if(Ot(e))l=e,c=Promise.resolve(e);else{const g=Xl(r,"resolveName");if(!Ab(g))throw Dt("contract runner does not support name resolution","UNSUPPORTED_OPERATION",{operation:"resolveName"});c=g.resolveName(e).then(m=>{if(m==null)throw Dt("an ENS name used for a contract target must be correctly configured","UNCONFIGURED_NAME",{value:e});return Vr(this).addr=m,m})}else c=e.getAddress().then(g=>{if(g==null)throw new Error("TODO");return Vr(this).addr=g,g});UH(this,{addrPromise:c,addr:l,deployTx:f,subs:h});const p=new Proxy({},{get:(g,m,b)=>{if(typeof m=="symbol"||bm.indexOf(m)>=0)return Reflect.get(g,m,b);try{return this.getEvent(m)}catch(w){if(!kn(w,"INVALID_ARGUMENT")||w.argument!=="key")throw w}},has:(g,m)=>bm.indexOf(m)>=0?Reflect.has(g,m):Reflect.has(g,m)||this.interface.hasEvent(String(m))});return Re(this,{filters:p}),Re(this,{fallback:s.receive||s.fallback?BH(this):null}),new Proxy(this,{get:(g,m,b)=>{if(typeof m=="symbol"||m in g||bm.indexOf(m)>=0)return Reflect.get(g,m,b);try{return g.getFunction(m)}catch(w){if(!kn(w,"INVALID_ARGUMENT")||w.argument!=="key")throw w}},has:(g,m)=>typeof m=="symbol"||m in g||bm.indexOf(m)>=0?Reflect.has(g,m):g.interface.hasFunction(m)})}connect(e){return new zp(this.target,this.interface,e)}attach(e){return new zp(e,this.interface,this.runner)}async getAddress(){return await Vr(this).addrPromise}async getDeployedCode(){const e=vl(this.runner);pe(e,"runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"getDeployedCode"});const t=await e.getCode(await this.getAddress());return t==="0x"?null:t}async waitForDeployment(){const e=this.deploymentTransaction();if(e)return await e.wait(),this;if(await this.getDeployedCode()!=null)return this;const r=vl(this.runner);return pe(r!=null,"contract runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"waitForDeployment"}),new Promise((i,s)=>{const c=async()=>{try{if(await this.getDeployedCode()!=null)return i(this);r.once("block",c)}catch(l){s(l)}};c()})}deploymentTransaction(){return Vr(this).deployTx}getFunction(e){return typeof e!="string"&&(e=e.format()),kH(this,e)}getEvent(e){return typeof e!="string"&&(e=e.format()),PH(this,e)}async queryTransaction(e){throw new Error("@TODO")}async queryFilter(e,t,r){t==null&&(t=0),r==null&&(r="latest");const{addr:i,addrPromise:s}=Vr(this),c=i||await s,{fragment:l,topics:f}=await N3(this,e),h={address:c,topics:f,fromBlock:t,toBlock:r},p=vl(this.runner);return pe(p,"contract runner does not have a provider","UNSUPPORTED_OPERATION",{operation:"queryFilter"}),(await p.getLogs(h)).map(g=>{let m=l;if(m==null)try{m=this.interface.getEvent(g.topics[0])}catch{}if(m)try{return new O3(g,this.interface,m)}catch(b){return new CD(g,b)}return new Ng(g,p)})}async on(e,t){const r=await Q5(this,"on",e);return r.listeners.push({listener:t,once:!1}),r.start(),this}async once(e,t){const r=await Q5(this,"once",e);return r.listeners.push({listener:t,once:!0}),r.start(),this}async emit(e,...t){return await kx(this,e,t,null)}async listenerCount(e){if(e){const i=await _p(this,e);return i?i.listeners.length:0}const{subs:t}=Vr(this);let r=0;for(const{listeners:i}of t.values())r+=i.length;return r}async listeners(e){if(e){const i=await _p(this,e);return i?i.listeners.map(({listener:s})=>s):[]}const{subs:t}=Vr(this);let r=[];for(const{listeners:i}of t.values())r=r.concat(i.map(({listener:s})=>s));return r}async off(e,t){const r=await _p(this,e);if(!r)return this;if(t){const i=r.listeners.map(({listener:s})=>s).indexOf(t);i>=0&&r.listeners.splice(i,1)}return(t==null||r.listeners.length===0)&&(r.stop(),Vr(this).subs.delete(r.tag)),this}async removeAllListeners(e){if(e){const t=await _p(this,e);if(!t)return this;t.stop(),Vr(this).subs.delete(t.tag)}else{const{subs:t}=Vr(this);for(const{tag:r,stop:i}of t.values())i(),t.delete(r)}return this}async addListener(e,t){return await this.on(e,t)}async removeListener(e,t){return await this.off(e,t)}static buildClass(e){class t extends zp{constructor(i,s=null){super(i,e,s)}}return t}static from(e,t,r){return r==null&&(r=null),new this(e,t,r)}};let Px=zp;function $H(){return Px}class Ql extends $H(){}function Pv(n){return n.match(/^ipfs:\/\/ipfs\//i)?n=n.substring(12):n.match(/^ipfs:\/\//i)?n=n.substring(7):ee(!1,"unsupported IPFS format","link",n),`https://gateway.ipfs.io/ipfs/${n}`}class jH{constructor(e){ie(this,"name");Re(this,{name:e})}connect(e){return this}supportsCoinType(e){return!1}async encodeAddress(e,t){throw new Error("unsupported coin")}async decodeAddress(e,t){throw new Error("unsupported coin")}}const PD=new RegExp("^(ipfs)://(.*)$","i"),Y5=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),PD,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];var sc,Ll,ac,bf,ob,UD;const Nf=class Nf{constructor(e,t,r){le(this,ac);ie(this,"provider");ie(this,"address");ie(this,"name");le(this,sc);le(this,Ll);Re(this,{provider:e,address:t,name:r}),V(this,sc,null),V(this,Ll,new Ql(t,["function supportsInterface(bytes4) view returns (bool)","function resolve(bytes, bytes) view returns (bytes)","function addr(bytes32) view returns (address)","function addr(bytes32, uint) view returns (bytes)","function text(bytes32, string) view returns (string)","function contenthash(bytes32) view returns (bytes)"],e))}async supportsWildcard(){return k(this,sc)==null&&V(this,sc,(async()=>{try{return await k(this,Ll).supportsInterface("0x9061b923")}catch(e){if(kn(e,"CALL_EXCEPTION"))return!1;throw V(this,sc,null),e}})()),await k(this,sc)}async getAddress(e){if(e==null&&(e=60),e===60)try{const s=await ye(this,ac,bf).call(this,"addr(bytes32)");return s==null||s===Fp?null:s}catch(s){if(kn(s,"CALL_EXCEPTION"))return null;throw s}if(e>=0&&e<2147483648){let s=e+2147483648;const c=await ye(this,ac,bf).call(this,"addr(bytes32,uint)",[s]);if(Ot(c,20))return ut(c)}let t=null;for(const s of this.provider.plugins)if(s instanceof jH&&s.supportsCoinType(e)){t=s;break}if(t==null)return null;const r=await ye(this,ac,bf).call(this,"addr(bytes32,uint)",[e]);if(r==null||r==="0x")return null;const i=await t.decodeAddress(e,r);if(i!=null)return i;pe(!1,"invalid coin data","UNSUPPORTED_OPERATION",{operation:`getAddress(${e})`,info:{coinType:e,data:r}})}async getText(e){const t=await ye(this,ac,bf).call(this,"text(bytes32,string)",[e]);return t==null||t==="0x"?null:t}async getContentHash(){const e=await ye(this,ac,bf).call(this,"contenthash(bytes32)");if(e==null||e==="0x")return null;const t=e.match(/^0x(e3010170|e5010172)(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(t){const i=t[1]==="e3010170"?"ipfs":"ipns",s=parseInt(t[4],16);if(t[5].length===s*2)return`${i}://${HL("0x"+t[2])}`}const r=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(r&&r[1].length===64)return`bzz://${r[1]}`;pe(!1,"invalid or unsupported content hash data","UNSUPPORTED_OPERATION",{operation:"getContentHash()",info:{data:e}})}async getAvatar(){return(await this._getAvatar()).url}async _getAvatar(){const e=[{type:"name",value:this.name}];try{const t=await this.getText("avatar");if(t==null)return e.push({type:"!avatar",value:""}),{url:null,linkage:e};e.push({type:"avatar",value:t});for(let r=0;r<Y5.length;r++){const i=t.match(Y5[r]);if(i==null)continue;const s=i[1].toLowerCase();switch(s){case"https":case"data":return e.push({type:"url",value:t}),{linkage:e,url:t};case"ipfs":{const c=Pv(t);return e.push({type:"ipfs",value:t}),e.push({type:"url",value:c}),{linkage:e,url:c}}case"erc721":case"erc1155":{const c=s==="erc721"?"tokenURI(uint256)":"uri(uint256)";e.push({type:s,value:t});const l=await this.getAddress();if(l==null)return e.push({type:"!owner",value:""}),{url:null,linkage:e};const f=(i[2]||"").split("/");if(f.length!==2)return e.push({type:`!${s}caip`,value:i[2]||""}),{url:null,linkage:e};const h=f[1],p=new Ql(f[0],["function tokenURI(uint) view returns (string)","function ownerOf(uint) view returns (address)","function uri(uint) view returns (string)","function balanceOf(address, uint256) view returns (uint)"],this.provider);if(s==="erc721"){const x=await p.ownerOf(h);if(l!==x)return e.push({type:"!owner",value:x}),{url:null,linkage:e};e.push({type:"owner",value:x})}else if(s==="erc1155"){const x=await p.balanceOf(l,h);if(!x)return e.push({type:"!balance",value:"0"}),{url:null,linkage:e};e.push({type:"balance",value:x.toString()})}let g=await p[c](h);if(g==null||g==="0x")return e.push({type:"!metadata-url",value:""}),{url:null,linkage:e};e.push({type:"metadata-url-base",value:g}),s==="erc1155"&&(g=g.replace("{id}",wc(h,32).substring(2)),e.push({type:"metadata-url-expanded",value:g})),g.match(/^ipfs:/i)&&(g=Pv(g)),e.push({type:"metadata-url",value:g});let m={};const b=await new vc(g).send();b.assertOk();try{m=b.bodyJson}catch{try{e.push({type:"!metadata",value:b.bodyText})}catch{const O=b.body;return O&&e.push({type:"!metadata",value:Ae(O)}),{url:null,linkage:e}}return{url:null,linkage:e}}if(!m)return e.push({type:"!metadata",value:""}),{url:null,linkage:e};e.push({type:"metadata",value:JSON.stringify(m)});let w=m.image;if(typeof w!="string")return e.push({type:"!imageUrl",value:""}),{url:null,linkage:e};if(!w.match(/^(https:\/\/|data:)/i)){if(w.match(PD)==null)return e.push({type:"!imageUrl-ipfs",value:w}),{url:null,linkage:e};e.push({type:"imageUrl-ipfs",value:w}),w=Pv(w)}return e.push({type:"url",value:w}),{linkage:e,url:w}}}}}catch{}return{linkage:e,url:null}}static async getEnsAddress(e){const t=await e.getNetwork(),r=t.getPlugin("org.ethers.plugins.network.Ens");return pe(r,"network does not support ENS","UNSUPPORTED_OPERATION",{operation:"getEnsAddress",info:{network:t}}),r.address}static async fromName(e,t){var i;let r=t;for(;;){if(r===""||r==="."||t!=="eth"&&r==="eth")return null;const s=await ye(i=Nf,ob,UD).call(i,e,r);if(s!=null){const c=new Nf(e,s,t);return r!==t&&!await c.supportsWildcard()?null:c}r=r.split(".").slice(1).join(".")}}};sc=new WeakMap,Ll=new WeakMap,ac=new WeakSet,bf=async function(e,t){t=(t||[]).slice();const r=k(this,Ll).interface;t.unshift(Tx(this.name));let i=null;await this.supportsWildcard()&&(i=r.getFunction(e),pe(i,"missing fragment","UNKNOWN_ERROR",{info:{funcName:e}}),t=[tH(this.name,255),r.encodeFunctionData(i,t)],e="resolve(bytes,bytes)"),t.push({enableCcipRead:!0});try{const s=await k(this,Ll)[e](...t);return i?r.decodeFunctionResult(i,s)[0]:s}catch(s){if(!kn(s,"CALL_EXCEPTION"))throw s}return null},ob=new WeakSet,UD=async function(e,t){const r=await Nf.getEnsAddress(e);try{const s=await new Ql(r,["function resolver(bytes32) view returns (address)"],e).resolver(Tx(t),{enableCcipRead:!0});return s===Fp?null:s}catch(i){throw i}return null},le(Nf,ob);let Dy=Nf;const Z5=BigInt(0);function Xe(n,e){return(function(t){return t==null?e:n(t)})}function Jp(n,e){return(t=>{if(e&&t==null)return null;if(!Array.isArray(t))throw new Error("not an array");return t.map(r=>n(r))})}function Ig(n,e){return(t=>{const r={};for(const i in n){let s=i;if(e&&i in e&&!(s in t)){for(const c of e[i])if(c in t){s=c;break}}try{const c=n[i](t[s]);c!==void 0&&(r[i]=c)}catch(c){const l=c instanceof Error?c.message:"not-an-error";pe(!1,`invalid value for value.${i} (${l})`,"BAD_DATA",{value:t})}}return r})}function zH(n){switch(n){case!0:case"true":return!0;case!1:case"false":return!1}ee(!1,`invalid boolean; ${JSON.stringify(n)}`,"value",n)}function Bh(n){return ee(Ot(n,!0),"invalid data","value",n),n}function Bn(n){return ee(Ot(n,32),"invalid hash","value",n),n}const HH=Ig({address:ut,blockHash:Bn,blockNumber:$e,data:Bh,index:$e,removed:Xe(zH,!1),topics:Jp(Bn),transactionHash:Bn,transactionIndex:$e},{index:["logIndex"]});function FH(n){return HH(n)}const qH=Ig({hash:Xe(Bn),parentHash:Bn,parentBeaconBlockRoot:Xe(Bn,null),number:$e,timestamp:$e,nonce:Xe(Bh),difficulty:Oe,gasLimit:Oe,gasUsed:Oe,stateRoot:Xe(Bn,null),receiptsRoot:Xe(Bn,null),blobGasUsed:Xe(Oe,null),excessBlobGas:Xe(Oe,null),miner:Xe(ut),prevRandao:Xe(Bn,null),extraData:Bh,baseFeePerGas:Xe(Oe)},{prevRandao:["mixHash"]});function VH(n){const e=qH(n);return e.transactions=n.transactions.map(t=>typeof t=="string"?t:MD(t)),e}const GH=Ig({transactionIndex:$e,blockNumber:$e,transactionHash:Bn,address:ut,topics:Jp(Bn),data:Bh,index:$e,blockHash:Bn},{index:["logIndex"]});function KH(n){return GH(n)}const QH=Ig({to:Xe(ut,null),from:Xe(ut,null),contractAddress:Xe(ut,null),index:$e,root:Xe(Ae),gasUsed:Oe,blobGasUsed:Xe(Oe,null),logsBloom:Xe(Bh),blockHash:Bn,hash:Bn,logs:Jp(KH),blockNumber:$e,cumulativeGasUsed:Oe,effectiveGasPrice:Xe(Oe),blobGasPrice:Xe(Oe,null),status:Xe($e),type:Xe($e,0)},{effectiveGasPrice:["gasPrice"],hash:["transactionHash"],index:["transactionIndex"]});function YH(n){return QH(n)}function MD(n){n.to&&Oe(n.to)===Z5&&(n.to="0x0000000000000000000000000000000000000000");const e=Ig({hash:Bn,index:Xe($e,void 0),type:t=>t==="0x"||t==null?0:$e(t),accessList:Xe(su,null),blobVersionedHashes:Xe(Jp(Bn,!0),null),authorizationList:Xe(Jp(t=>{let r;if(t.signature)r=t.signature;else{let i=t.yParity;i==="0x1b"?i=0:i==="0x1c"&&(i=1),r=Object.assign({},t,{yParity:i})}return{address:ut(t.address),chainId:Oe(t.chainId),nonce:Oe(t.nonce),signature:Tr.from(r)}},!1),null),blockHash:Xe(Bn,null),blockNumber:Xe($e,null),transactionIndex:Xe($e,null),from:ut,gasPrice:Xe(Oe),maxPriorityFeePerGas:Xe(Oe),maxFeePerGas:Xe(Oe),maxFeePerBlobGas:Xe(Oe,null),gasLimit:Oe,to:Xe(ut,null),value:Oe,nonce:$e,data:Bh,creates:Xe(ut,null),chainId:Xe(Oe,null)},{data:["input"],gasLimit:["gas"],index:["transactionIndex"]})(n);if(e.to==null&&e.creates==null&&(e.creates=Mj(e)),(n.type===1||n.type===2)&&n.accessList==null&&(e.accessList=[]),n.signature?e.signature=Tr.from(n.signature):e.signature=Tr.from(n),e.chainId==null){const t=e.signature.legacyChainId;t!=null&&(e.chainId=t)}return e.blockHash&&Oe(e.blockHash)===Z5&&(e.blockHash=null),e}const ZH="0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e";class Tg{constructor(e){ie(this,"name");Re(this,{name:e})}clone(){return new Tg(this.name)}}class Sb extends Tg{constructor(t,r){t==null&&(t=0);super(`org.ethers.network.plugins.GasCost#${t||0}`);ie(this,"effectiveBlock");ie(this,"txBase");ie(this,"txCreate");ie(this,"txDataZero");ie(this,"txDataNonzero");ie(this,"txAccessListStorageKey");ie(this,"txAccessListAddress");const i={effectiveBlock:t};function s(c,l){let f=(r||{})[c];f==null&&(f=l),ee(typeof f=="number",`invalud value for ${c}`,"costs",r),i[c]=f}s("txBase",21e3),s("txCreate",32e3),s("txDataZero",4),s("txDataNonzero",16),s("txAccessListStorageKey",1900),s("txAccessListAddress",2400),Re(this,i)}clone(){return new Sb(this.effectiveBlock,this)}}class _b extends Tg{constructor(t,r){super("org.ethers.plugins.network.Ens");ie(this,"address");ie(this,"targetNetwork");Re(this,{address:t||ZH,targetNetwork:r??1})}clone(){return new _b(this.address,this.targetNetwork)}}var vg,xg;class WH extends Tg{constructor(t,r){super("org.ethers.plugins.network.FetchUrlFeeDataPlugin");le(this,vg);le(this,xg);V(this,vg,t),V(this,xg,r)}get url(){return k(this,vg)}get processFunc(){return k(this,xg)}clone(){return this}}vg=new WeakMap,xg=new WeakMap;const Uv=new Map;var hh,dh,oc;const If=class If{constructor(e,t){le(this,hh);le(this,dh);le(this,oc);V(this,hh,e),V(this,dh,Oe(t)),V(this,oc,new Map)}toJSON(){return{name:this.name,chainId:String(this.chainId)}}get name(){return k(this,hh)}set name(e){V(this,hh,e)}get chainId(){return k(this,dh)}set chainId(e){V(this,dh,Oe(e,"chainId"))}matches(e){if(e==null)return!1;if(typeof e=="string"){try{return this.chainId===Oe(e)}catch{}return this.name===e}if(typeof e=="number"||typeof e=="bigint"){try{return this.chainId===Oe(e)}catch{}return!1}if(typeof e=="object"){if(e.chainId!=null){try{return this.chainId===Oe(e.chainId)}catch{}return!1}return e.name!=null?this.name===e.name:!1}return!1}get plugins(){return Array.from(k(this,oc).values())}attachPlugin(e){if(k(this,oc).get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return k(this,oc).set(e.name,e.clone()),this}getPlugin(e){return k(this,oc).get(e)||null}getPlugins(e){return this.plugins.filter(t=>t.name.split("#")[0]===e)}clone(){const e=new If(this.name,this.chainId);return this.plugins.forEach(t=>{e.attachPlugin(t.clone())}),e}computeIntrinsicGas(e){const t=this.getPlugin("org.ethers.plugins.network.GasCost")||new Sb;let r=t.txBase;if(e.to==null&&(r+=t.txCreate),e.data)for(let i=2;i<e.data.length;i+=2)e.data.substring(i,i+2)==="00"?r+=t.txDataZero:r+=t.txDataNonzero;if(e.accessList){const i=su(e.accessList);for(const s in i)r+=t.txAccessListAddress+t.txAccessListStorageKey*i[s].storageKeys.length}return r}static from(e){if(JH(),e==null)return If.from("mainnet");if(typeof e=="number"&&(e=BigInt(e)),typeof e=="string"||typeof e=="bigint"){const t=Uv.get(e);if(t)return t();if(typeof e=="bigint")return new If("unknown",e);ee(!1,"unknown network","network",e)}if(typeof e.clone=="function")return e.clone();if(typeof e=="object"){ee(typeof e.name=="string"&&typeof e.chainId=="number","invalid network object name or chainId","network",e);const t=new If(e.name,e.chainId);return(e.ensAddress||e.ensNetwork!=null)&&t.attachPlugin(new _b(e.ensAddress,e.ensNetwork)),t}ee(!1,"invalid network","network",e)}static register(e,t){typeof e=="number"&&(e=BigInt(e));const r=Uv.get(e);r&&ee(!1,`conflicting network for ${JSON.stringify(r.name)}`,"nameOrChainId",e),Uv.set(e,t)}};hh=new WeakMap,dh=new WeakMap,oc=new WeakMap;let Bs=If;function W5(n,e){const t=String(n);if(!t.match(/^[0-9.]+$/))throw new Error(`invalid gwei value: ${n}`);const r=t.split(".");if(r.length===1&&r.push(""),r.length!==2)throw new Error(`invalid gwei value: ${n}`);for(;r[1].length<e;)r[1]+="0";if(r[1].length>9){let i=BigInt(r[1].substring(0,9));r[1].substring(9).match(/^0+$/)||i++,r[1]=i.toString()}return BigInt(r[0]+r[1])}function J5(n){return new WH(n,async(e,t,r)=>{r.setHeader("User-Agent","ethers");let i;try{const[s,c]=await Promise.all([r.send(),e()]);i=s;const l=i.bodyJson.standard;return{gasPrice:c.gasPrice,maxFeePerGas:W5(l.maxFee,9),maxPriorityFeePerGas:W5(l.maxPriorityFee,9)}}catch(s){pe(!1,`error encountered with polygon gas station (${JSON.stringify(r.url)})`,"SERVER_ERROR",{request:r,response:i,error:s})}})}let X5=!1;function JH(){if(X5)return;X5=!0;function n(e,t,r){const i=function(){const s=new Bs(e,t);return r.ensNetwork!=null&&s.attachPlugin(new _b(null,r.ensNetwork)),s.attachPlugin(new Sb),(r.plugins||[]).forEach(c=>{s.attachPlugin(c)}),s};Bs.register(e,i),Bs.register(t,i),r.altNames&&r.altNames.forEach(s=>{Bs.register(s,i)})}n("mainnet",1,{ensNetwork:1,altNames:["homestead"]}),n("ropsten",3,{ensNetwork:3}),n("rinkeby",4,{ensNetwork:4}),n("goerli",5,{ensNetwork:5}),n("kovan",42,{ensNetwork:42}),n("sepolia",11155111,{ensNetwork:11155111}),n("holesky",17e3,{ensNetwork:17e3}),n("classic",61,{}),n("classicKotti",6,{}),n("arbitrum",42161,{ensNetwork:1}),n("arbitrum-goerli",421613,{}),n("arbitrum-sepolia",421614,{}),n("base",8453,{ensNetwork:1}),n("base-goerli",84531,{}),n("base-sepolia",84532,{}),n("bnb",56,{ensNetwork:1}),n("bnbt",97,{}),n("linea",59144,{ensNetwork:1}),n("linea-goerli",59140,{}),n("linea-sepolia",59141,{}),n("matic",137,{ensNetwork:1,plugins:[J5("https://gasstation.polygon.technology/v2")]}),n("matic-amoy",80002,{}),n("matic-mumbai",80001,{altNames:["maticMumbai","maticmum"],plugins:[J5("https://gasstation-testnet.polygon.technology/v2")]}),n("optimism",10,{ensNetwork:1,plugins:[]}),n("optimism-goerli",420,{}),n("optimism-sepolia",11155420,{}),n("xdai",100,{ensNetwork:1})}function Ux(n){return JSON.parse(JSON.stringify(n))}var Ta,xi,cc,Os,ph,ty;class XH{constructor(e){le(this,ph);le(this,Ta);le(this,xi);le(this,cc);le(this,Os);V(this,Ta,e),V(this,xi,null),V(this,cc,4e3),V(this,Os,-2)}get pollingInterval(){return k(this,cc)}set pollingInterval(e){V(this,cc,e)}start(){k(this,xi)||(V(this,xi,k(this,Ta)._setTimeout(ye(this,ph,ty).bind(this),k(this,cc))),ye(this,ph,ty).call(this))}stop(){k(this,xi)&&(k(this,Ta)._clearTimeout(k(this,xi)),V(this,xi,null))}pause(e){this.stop(),e&&V(this,Os,-2)}resume(){this.start()}}Ta=new WeakMap,xi=new WeakMap,cc=new WeakMap,Os=new WeakMap,ph=new WeakSet,ty=async function(){try{const e=await k(this,Ta).getBlockNumber();if(k(this,Os)===-2){V(this,Os,e);return}if(e!==k(this,Os)){for(let t=k(this,Os)+1;t<=e;t++){if(k(this,xi)==null)return;await k(this,Ta).emit("block",t)}V(this,Os,e)}}catch{}k(this,xi)!=null&&V(this,xi,k(this,Ta)._setTimeout(ye(this,ph,ty).bind(this),k(this,cc)))};var $l,jl,lc;class I3{constructor(e){le(this,$l);le(this,jl);le(this,lc);V(this,$l,e),V(this,lc,!1),V(this,jl,t=>{this._poll(t,k(this,$l))})}async _poll(e,t){throw new Error("sub-classes must override this")}start(){k(this,lc)||(V(this,lc,!0),k(this,jl).call(this,-2),k(this,$l).on("block",k(this,jl)))}stop(){k(this,lc)&&(V(this,lc,!1),k(this,$l).off("block",k(this,jl)))}pause(e){this.stop()}resume(){this.start()}}$l=new WeakMap,jl=new WeakMap,lc=new WeakMap;var gh,Da;class eF extends I3{constructor(t,r){super(t);le(this,gh);le(this,Da);V(this,gh,r),V(this,Da,-2)}pause(t){t&&V(this,Da,-2),super.pause(t)}async _poll(t,r){const i=await r.getBlock(k(this,gh));i!=null&&(k(this,Da)===-2?V(this,Da,i.number):i.number>k(this,Da)&&(r.emit(k(this,gh),i.number),V(this,Da,i.number)))}}gh=new WeakMap,Da=new WeakMap;var cb;class tF extends I3{constructor(t,r){super(t);le(this,cb);V(this,cb,Ux(r))}async _poll(t,r){throw new Error("@TODO")}}cb=new WeakMap;var mh;class nF extends I3{constructor(t,r){super(t);le(this,mh);V(this,mh,r)}async _poll(t,r){const i=await r.getTransactionReceipt(k(this,mh));i&&r.emit(k(this,mh),i)}}mh=new WeakMap;var Ra,yh,bh,uc,Ei,lb,LD;class T3{constructor(e,t){le(this,lb);le(this,Ra);le(this,yh);le(this,bh);le(this,uc);le(this,Ei);V(this,Ra,e),V(this,yh,Ux(t)),V(this,bh,ye(this,lb,LD).bind(this)),V(this,uc,!1),V(this,Ei,-2)}start(){k(this,uc)||(V(this,uc,!0),k(this,Ei)===-2&&k(this,Ra).getBlockNumber().then(e=>{V(this,Ei,e)}),k(this,Ra).on("block",k(this,bh)))}stop(){k(this,uc)&&(V(this,uc,!1),k(this,Ra).off("block",k(this,bh)))}pause(e){this.stop(),e&&V(this,Ei,-2)}resume(){this.start()}}Ra=new WeakMap,yh=new WeakMap,bh=new WeakMap,uc=new WeakMap,Ei=new WeakMap,lb=new WeakSet,LD=async function(e){if(k(this,Ei)===-2)return;const t=Ux(k(this,yh));t.fromBlock=k(this,Ei)+1,t.toBlock=e;const r=await k(this,Ra).getLogs(t);if(r.length===0){k(this,Ei)<e-60&&V(this,Ei,e-60);return}for(const i of r)k(this,Ra).emit(k(this,yh),i),V(this,Ei,i.blockNumber)};const rF=BigInt(2),iF=10;function wm(n){return n&&typeof n.then=="function"}function ny(n,e){return n+":"+JSON.stringify(e,(t,r)=>{if(r==null)return"null";if(typeof r=="bigint")return`bigint:${r.toString()}`;if(typeof r=="string")return r.toLowerCase();if(typeof r=="object"&&!Array.isArray(r)){const i=Object.keys(r);return i.sort(),i.reduce((s,c)=>(s[c]=r[c],s),{})}return r})}class $D{constructor(e){ie(this,"name");Re(this,{name:e})}start(){}stop(){}pause(e){}resume(){}}function sF(n){return JSON.parse(JSON.stringify(n))}function Mx(n){return n=Array.from(new Set(n).values()),n.sort(),n}async function Mv(n,e){if(n==null)throw new Error("invalid event");if(Array.isArray(n)&&(n={topics:n}),typeof n=="string")switch(n){case"block":case"debug":case"error":case"finalized":case"network":case"pending":case"safe":return{type:n,tag:n}}if(Ot(n,32)){const t=n.toLowerCase();return{type:"transaction",tag:ny("tx",{hash:t}),hash:t}}if(n.orphan){const t=n;return{type:"orphan",tag:ny("orphan",t),filter:sF(t)}}if(n.address||n.topics){const t=n,r={topics:(t.topics||[]).map(i=>i==null?null:Array.isArray(i)?Mx(i.map(s=>s.toLowerCase())):i.toLowerCase())};if(t.address){const i=[],s=[],c=l=>{Ot(l)?i.push(l):s.push((async()=>{i.push(await or(l,e))})())};Array.isArray(t.address)?t.address.forEach(c):c(t.address),s.length&&await Promise.all(s),r.address=Mx(i.map(l=>l.toLowerCase()))}return{filter:r,tag:ny("event",r),type:"event"}}ee(!1,"unknown ProviderEvent","event",n)}function Lv(){return new Date().getTime()}const aF={cacheTimeout:250,pollingInterval:4e3};var Yn,fc,Zn,wh,Yr,zl,hc,Ba,Eg,Ai,vh,xh,Ke,Fr,Lx,$x,Op,jx,Cp,ry;class oF{constructor(e,t){le(this,Ke);le(this,Yn);le(this,fc);le(this,Zn);le(this,wh);le(this,Yr);le(this,zl);le(this,hc);le(this,Ba);le(this,Eg);le(this,Ai);le(this,vh);le(this,xh);if(V(this,xh,Object.assign({},aF,t||{})),e==="any")V(this,zl,!0),V(this,Yr,null);else if(e){const r=Bs.from(e);V(this,zl,!1),V(this,Yr,Promise.resolve(r)),setTimeout(()=>{this.emit("network",r,null)},0)}else V(this,zl,!1),V(this,Yr,null);V(this,Ba,-1),V(this,hc,new Map),V(this,Yn,new Map),V(this,fc,new Map),V(this,Zn,null),V(this,wh,!1),V(this,Eg,1),V(this,Ai,new Map),V(this,vh,!1)}get pollingInterval(){return k(this,xh).pollingInterval}get provider(){return this}get plugins(){return Array.from(k(this,fc).values())}attachPlugin(e){if(k(this,fc).get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return k(this,fc).set(e.name,e.connect(this)),this}getPlugin(e){return k(this,fc).get(e)||null}get disableCcipRead(){return k(this,vh)}set disableCcipRead(e){V(this,vh,!!e)}async ccipReadFetch(e,t,r){if(this.disableCcipRead||r.length===0||e.to==null)return null;const i=e.to.toLowerCase(),s=t.toLowerCase(),c=[];for(let l=0;l<r.length;l++){const f=r[l],h=f.replace("{sender}",i).replace("{data}",s),p=new vc(h);f.indexOf("{data}")===-1&&(p.body={data:s,sender:i}),this.emit("debug",{action:"sendCcipReadFetchRequest",request:p,index:l,urls:r});let g="unknown error",m;try{m=await p.send()}catch(b){c.push(b.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:p,result:{error:b}});continue}try{const b=m.bodyJson;if(b.data)return this.emit("debug",{action:"receiveCcipReadFetchResult",request:p,result:b}),b.data;b.message&&(g=b.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:p,result:b})}catch{}pe(m.statusCode<400||m.statusCode>=500,`response not found during CCIP fetch: ${g}`,"OFFCHAIN_FAULT",{reason:"404_MISSING_RESOURCE",transaction:e,info:{url:f,errorMessage:g}}),c.push(g)}pe(!1,`error encountered during CCIP fetch: ${c.map(l=>JSON.stringify(l)).join(", ")}`,"OFFCHAIN_FAULT",{reason:"500_SERVER_ERROR",transaction:e,info:{urls:r,errorMessages:c}})}_wrapBlock(e,t){return new OH(VH(e),this)}_wrapLog(e,t){return new Ng(FH(e),this)}_wrapTransactionReceipt(e,t){return new SD(YH(e),this)}_wrapTransactionResponse(e,t){return new Wp(MD(e),this)}_detectNetwork(){pe(!1,"sub-classes must implement this","UNSUPPORTED_OPERATION",{operation:"_detectNetwork"})}async _perform(e){pe(!1,`unsupported method: ${e.method}`,"UNSUPPORTED_OPERATION",{operation:e.method,info:e})}async getBlockNumber(){const e=$e(await ye(this,Ke,Fr).call(this,{method:"getBlockNumber"}),"%response");return k(this,Ba)>=0&&V(this,Ba,e),e}_getAddress(e){return or(e,this)}_getBlockTag(e){if(e==null)return"latest";switch(e){case"earliest":return"0x0";case"finalized":case"latest":case"pending":case"safe":return e}if(Ot(e))return Ot(e,32)?e:Yi(e);if(typeof e=="bigint"&&(e=$e(e,"blockTag")),typeof e=="number")return e>=0?Yi(e):k(this,Ba)>=0?Yi(k(this,Ba)+e):this.getBlockNumber().then(t=>Yi(t+e));ee(!1,"invalid blockTag","blockTag",e)}_getFilter(e){const t=(e.topics||[]).map(f=>f==null?null:Array.isArray(f)?Mx(f.map(h=>h.toLowerCase())):f.toLowerCase()),r="blockHash"in e?e.blockHash:void 0,i=(f,h,p)=>{let g;switch(f.length){case 0:break;case 1:g=f[0];break;default:f.sort(),g=f}if(r&&(h!=null||p!=null))throw new Error("invalid filter");const m={};return g&&(m.address=g),t.length&&(m.topics=t),h&&(m.fromBlock=h),p&&(m.toBlock=p),r&&(m.blockHash=r),m};let s=[];if(e.address)if(Array.isArray(e.address))for(const f of e.address)s.push(this._getAddress(f));else s.push(this._getAddress(e.address));let c;"fromBlock"in e&&(c=this._getBlockTag(e.fromBlock));let l;return"toBlock"in e&&(l=this._getBlockTag(e.toBlock)),s.filter(f=>typeof f!="string").length||c!=null&&typeof c!="string"||l!=null&&typeof l!="string"?Promise.all([Promise.all(s),c,l]).then(f=>i(f[0],f[1],f[2])):i(s,c,l)}_getTransactionRequest(e){const t=Iy(e),r=[];if(["to","from"].forEach(i=>{if(t[i]==null)return;const s=or(t[i],this);wm(s)?r.push((async function(){t[i]=await s})()):t[i]=s}),t.blockTag!=null){const i=this._getBlockTag(t.blockTag);wm(i)?r.push((async function(){t.blockTag=await i})()):t.blockTag=i}return r.length?(async function(){return await Promise.all(r),t})():t}async getNetwork(){if(k(this,Yr)==null){const i=(async()=>{try{const s=await this._detectNetwork();return this.emit("network",s,null),s}catch(s){throw k(this,Yr)===i&&V(this,Yr,null),s}})();return V(this,Yr,i),(await i).clone()}const e=k(this,Yr),[t,r]=await Promise.all([e,this._detectNetwork()]);return t.chainId!==r.chainId&&(k(this,zl)?(this.emit("network",r,t),k(this,Yr)===e&&V(this,Yr,Promise.resolve(r))):pe(!1,`network changed: ${t.chainId} => ${r.chainId} `,"NETWORK_ERROR",{event:"changed"})),t.clone()}async getFeeData(){const e=await this.getNetwork(),t=async()=>{const{_block:i,gasPrice:s,priorityFee:c}=await ir({_block:ye(this,Ke,jx).call(this,"latest",!1),gasPrice:(async()=>{try{const p=await ye(this,Ke,Fr).call(this,{method:"getGasPrice"});return Oe(p,"%response")}catch{}return null})(),priorityFee:(async()=>{try{const p=await ye(this,Ke,Fr).call(this,{method:"getPriorityFee"});return Oe(p,"%response")}catch{}return null})()});let l=null,f=null;const h=this._wrapBlock(i,e);return h&&h.baseFeePerGas&&(f=c??BigInt("1000000000"),l=h.baseFeePerGas*rF+f),new G5(s,l,f)},r=e.getPlugin("org.ethers.plugins.network.FetchUrlFeeDataPlugin");if(r){const i=new vc(r.url),s=await r.processFunc(t,this,i);return new G5(s.gasPrice,s.maxFeePerGas,s.maxPriorityFeePerGas)}return await t()}async estimateGas(e){let t=this._getTransactionRequest(e);return wm(t)&&(t=await t),Oe(await ye(this,Ke,Fr).call(this,{method:"estimateGas",transaction:t}),"%response")}async call(e){const{tx:t,blockTag:r}=await ir({tx:this._getTransactionRequest(e),blockTag:this._getBlockTag(e.blockTag)});return await ye(this,Ke,$x).call(this,ye(this,Ke,Lx).call(this,t,r,e.enableCcipRead?0:-1))}async getBalance(e,t){return Oe(await ye(this,Ke,Op).call(this,{method:"getBalance"},e,t),"%response")}async getTransactionCount(e,t){return $e(await ye(this,Ke,Op).call(this,{method:"getTransactionCount"},e,t),"%response")}async getCode(e,t){return Ae(await ye(this,Ke,Op).call(this,{method:"getCode"},e,t))}async getStorage(e,t,r){const i=Oe(t,"position");return Ae(await ye(this,Ke,Op).call(this,{method:"getStorage",position:i},e,r))}async broadcastTransaction(e){const{blockNumber:t,hash:r,network:i}=await ir({blockNumber:this.getBlockNumber(),hash:this._perform({method:"broadcastTransaction",signedTransaction:e}),network:this.getNetwork()}),s=Ey.from(e);if(s.hash!==r)throw new Error("@TODO: the returned hash did not match");return this._wrapTransactionResponse(s,i).replaceableTransaction(t)}async getBlock(e,t){const{network:r,params:i}=await ir({network:this.getNetwork(),params:ye(this,Ke,jx).call(this,e,!!t)});return i==null?null:this._wrapBlock(i,r)}async getTransaction(e){const{network:t,params:r}=await ir({network:this.getNetwork(),params:ye(this,Ke,Fr).call(this,{method:"getTransaction",hash:e})});return r==null?null:this._wrapTransactionResponse(r,t)}async getTransactionReceipt(e){const{network:t,params:r}=await ir({network:this.getNetwork(),params:ye(this,Ke,Fr).call(this,{method:"getTransactionReceipt",hash:e})});if(r==null)return null;if(r.gasPrice==null&&r.effectiveGasPrice==null){const i=await ye(this,Ke,Fr).call(this,{method:"getTransaction",hash:e});if(i==null)throw new Error("report this; could not find tx or effectiveGasPrice");r.effectiveGasPrice=i.gasPrice}return this._wrapTransactionReceipt(r,t)}async getTransactionResult(e){const{result:t}=await ir({network:this.getNetwork(),result:ye(this,Ke,Fr).call(this,{method:"getTransactionResult",hash:e})});return t==null?null:Ae(t)}async getLogs(e){let t=this._getFilter(e);wm(t)&&(t=await t);const{network:r,params:i}=await ir({network:this.getNetwork(),params:ye(this,Ke,Fr).call(this,{method:"getLogs",filter:t})});return i.map(s=>this._wrapLog(s,r))}_getProvider(e){pe(!1,"provider cannot connect to target network","UNSUPPORTED_OPERATION",{operation:"_getProvider()"})}async getResolver(e){return await Dy.fromName(this,e)}async getAvatar(e){const t=await this.getResolver(e);return t?await t.getAvatar():null}async resolveName(e){const t=await this.getResolver(e);return t?await t.getAddress():null}async lookupAddress(e){e=ut(e);const t=Tx(e.substring(2).toLowerCase()+".addr.reverse");try{const r=await Dy.getEnsAddress(this),s=await new Ql(r,["function resolver(bytes32) view returns (address)"],this).resolver(t);if(s==null||s===Fp)return null;const l=await new Ql(s,["function name(bytes32) view returns (string)"],this).name(t);return await this.resolveName(l)!==e?null:l}catch(r){if(kn(r,"BAD_DATA")&&r.value==="0x"||kn(r,"CALL_EXCEPTION"))return null;throw r}return null}async waitForTransaction(e,t,r){const i=t??1;return i===0?this.getTransactionReceipt(e):new Promise(async(s,c)=>{let l=null;const f=(async h=>{try{const p=await this.getTransactionReceipt(e);if(p!=null&&h-p.blockNumber+1>=i){s(p),l&&(clearTimeout(l),l=null);return}}catch(p){console.log("EEE",p)}this.once("block",f)});r!=null&&(l=setTimeout(()=>{l!=null&&(l=null,this.off("block",f),c(Dt("timeout","TIMEOUT",{reason:"timeout"})))},r)),f(await this.getBlockNumber())})}async waitForBlock(e){pe(!1,"not implemented yet","NOT_IMPLEMENTED",{operation:"waitForBlock"})}_clearTimeout(e){const t=k(this,Ai).get(e);t&&(t.timer&&clearTimeout(t.timer),k(this,Ai).delete(e))}_setTimeout(e,t){t==null&&(t=0);const r=Qd(this,Eg)._++,i=()=>{k(this,Ai).delete(r),e()};if(this.paused)k(this,Ai).set(r,{timer:null,func:i,time:t});else{const s=setTimeout(i,t);k(this,Ai).set(r,{timer:s,func:i,time:Lv()})}return r}_forEachSubscriber(e){for(const t of k(this,Yn).values())e(t.subscriber)}_getSubscriber(e){switch(e.type){case"debug":case"error":case"network":return new $D(e.type);case"block":{const t=new XH(this);return t.pollingInterval=this.pollingInterval,t}case"safe":case"finalized":return new eF(this,e.type);case"event":return new T3(this,e.filter);case"transaction":return new nF(this,e.hash);case"orphan":return new tF(this,e.filter)}throw new Error(`unsupported event: ${e.type}`)}_recoverSubscriber(e,t){for(const r of k(this,Yn).values())if(r.subscriber===e){r.started&&r.subscriber.stop(),r.subscriber=t,r.started&&t.start(),k(this,Zn)!=null&&t.pause(k(this,Zn));break}}async on(e,t){const r=await ye(this,Ke,ry).call(this,e);return r.listeners.push({listener:t,once:!1}),r.started||(r.subscriber.start(),r.started=!0,k(this,Zn)!=null&&r.subscriber.pause(k(this,Zn))),this}async once(e,t){const r=await ye(this,Ke,ry).call(this,e);return r.listeners.push({listener:t,once:!0}),r.started||(r.subscriber.start(),r.started=!0,k(this,Zn)!=null&&r.subscriber.pause(k(this,Zn))),this}async emit(e,...t){const r=await ye(this,Ke,Cp).call(this,e,t);if(!r||r.listeners.length===0)return!1;const i=r.listeners.length;return r.listeners=r.listeners.filter(({listener:s,once:c})=>{const l=new JI(this,c?null:s,e);try{s.call(this,...t,l)}catch{}return!c}),r.listeners.length===0&&(r.started&&r.subscriber.stop(),k(this,Yn).delete(r.tag)),i>0}async listenerCount(e){if(e){const r=await ye(this,Ke,Cp).call(this,e);return r?r.listeners.length:0}let t=0;for(const{listeners:r}of k(this,Yn).values())t+=r.length;return t}async listeners(e){if(e){const r=await ye(this,Ke,Cp).call(this,e);return r?r.listeners.map(({listener:i})=>i):[]}let t=[];for(const{listeners:r}of k(this,Yn).values())t=t.concat(r.map(({listener:i})=>i));return t}async off(e,t){const r=await ye(this,Ke,Cp).call(this,e);if(!r)return this;if(t){const i=r.listeners.map(({listener:s})=>s).indexOf(t);i>=0&&r.listeners.splice(i,1)}return(!t||r.listeners.length===0)&&(r.started&&r.subscriber.stop(),k(this,Yn).delete(r.tag)),this}async removeAllListeners(e){if(e){const{tag:t,started:r,subscriber:i}=await ye(this,Ke,ry).call(this,e);r&&i.stop(),k(this,Yn).delete(t)}else for(const[t,{started:r,subscriber:i}]of k(this,Yn))r&&i.stop(),k(this,Yn).delete(t);return this}async addListener(e,t){return await this.on(e,t)}async removeListener(e,t){return this.off(e,t)}get destroyed(){return k(this,wh)}destroy(){this.removeAllListeners();for(const e of k(this,Ai).keys())this._clearTimeout(e);V(this,wh,!0)}get paused(){return k(this,Zn)!=null}set paused(e){!!e!==this.paused&&(this.paused?this.resume():this.pause(!1))}pause(e){if(V(this,Ba,-1),k(this,Zn)!=null){if(k(this,Zn)==!!e)return;pe(!1,"cannot change pause type; resume first","UNSUPPORTED_OPERATION",{operation:"pause"})}this._forEachSubscriber(t=>t.pause(e)),V(this,Zn,!!e);for(const t of k(this,Ai).values())t.timer&&clearTimeout(t.timer),t.time=Lv()-t.time}resume(){if(k(this,Zn)!=null){this._forEachSubscriber(e=>e.resume()),V(this,Zn,null);for(const e of k(this,Ai).values()){let t=e.time;t<0&&(t=0),e.time=Lv(),setTimeout(e.func,t)}}}}Yn=new WeakMap,fc=new WeakMap,Zn=new WeakMap,wh=new WeakMap,Yr=new WeakMap,zl=new WeakMap,hc=new WeakMap,Ba=new WeakMap,Eg=new WeakMap,Ai=new WeakMap,vh=new WeakMap,xh=new WeakMap,Ke=new WeakSet,Fr=async function(e){const t=k(this,xh).cacheTimeout;if(t<0)return await this._perform(e);const r=ny(e.method,e);let i=k(this,hc).get(r);return i||(i=this._perform(e),k(this,hc).set(r,i),setTimeout(()=>{k(this,hc).get(r)===i&&k(this,hc).delete(r)},t)),await i},Lx=async function(e,t,r){pe(r<iF,"CCIP read exceeded maximum redirections","OFFCHAIN_FAULT",{reason:"TOO_MANY_REDIRECTS",transaction:Object.assign({},e,{blockTag:t,enableCcipRead:!0})});const i=Iy(e);try{return Ae(await this._perform({method:"call",transaction:i,blockTag:t}))}catch(s){if(!this.disableCcipRead&&d3(s)&&s.data&&r>=0&&t==="latest"&&i.to!=null&&Mt(s.data,0,4)==="0x556f1830"){const c=s.data,l=await or(i.to,this);let f;try{f=hF(Mt(s.data,4))}catch(g){pe(!1,g.message,"OFFCHAIN_FAULT",{reason:"BAD_DATA",transaction:i,info:{data:c}})}pe(f.sender.toLowerCase()===l.toLowerCase(),"CCIP Read sender mismatch","CALL_EXCEPTION",{action:"call",data:c,reason:"OffchainLookup",transaction:i,invocation:null,revert:{signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",name:"OffchainLookup",args:f.errorArgs}});const h=await this.ccipReadFetch(i,f.calldata,f.urls);pe(h!=null,"CCIP Read failed to fetch data","OFFCHAIN_FAULT",{reason:"FETCH_FAILED",transaction:i,info:{data:s.data,errorArgs:f.errorArgs}});const p={to:l,data:Lt([f.selector,fF([h,f.extraData])])};this.emit("debug",{action:"sendCcipReadCall",transaction:p});try{const g=await ye(this,Ke,Lx).call(this,p,t,r+1);return this.emit("debug",{action:"receiveCcipReadCallResult",transaction:Object.assign({},p),result:g}),g}catch(g){throw this.emit("debug",{action:"receiveCcipReadCallError",transaction:Object.assign({},p),error:g}),g}}throw s}},$x=async function(e){const{value:t}=await ir({network:this.getNetwork(),value:e});return t},Op=async function(e,t,r){let i=this._getAddress(t),s=this._getBlockTag(r);return(typeof i!="string"||typeof s!="string")&&([i,s]=await Promise.all([i,s])),await ye(this,Ke,$x).call(this,ye(this,Ke,Fr).call(this,Object.assign(e,{address:i,blockTag:s})))},jx=async function(e,t){if(Ot(e,32))return await ye(this,Ke,Fr).call(this,{method:"getBlock",blockHash:e,includeTransactions:t});let r=this._getBlockTag(e);return typeof r!="string"&&(r=await r),await ye(this,Ke,Fr).call(this,{method:"getBlock",blockTag:r,includeTransactions:t})},Cp=async function(e,t){let r=await Mv(e,this);return r.type==="event"&&t&&t.length>0&&t[0].removed===!0&&(r=await Mv({orphan:"drop-log",log:t[0]},this)),k(this,Yn).get(r.tag)||null},ry=async function(e){const t=await Mv(e,this),r=t.tag;let i=k(this,Yn).get(r);return i||(i={subscriber:this._getSubscriber(t),tag:r,addressableMap:new WeakMap,nameMap:new Map,started:!1,listeners:[]},k(this,Yn).set(r,i)),i};function cF(n,e){try{const t=zx(n,e);if(t)return wy(t)}catch{}return null}function zx(n,e){if(n==="0x")return null;try{const t=$e(Mt(n,e,e+32)),r=$e(Mt(n,t,t+32));return Mt(n,t+32,t+32+r)}catch{}return null}function e6(n){const e=un(n);if(e.length>32)throw new Error("internal; should not happen");const t=new Uint8Array(32);return t.set(e,32-e.length),t}function lF(n){if(n.length%32===0)return n;const e=new Uint8Array(Math.ceil(n.length/32)*32);return e.set(n),e}const uF=new Uint8Array([]);function fF(n){const e=[];let t=0;for(let r=0;r<n.length;r++)e.push(uF),t+=32;for(let r=0;r<n.length;r++){const i=qe(n[r]);e[r]=e6(t),e.push(e6(i.length)),e.push(lF(i)),t+=32+Math.ceil(i.length/32)*32}return Lt(e)}const t6="0x0000000000000000000000000000000000000000000000000000000000000000";function hF(n){const e={sender:"",urls:[],calldata:"",selector:"",extraData:"",errorArgs:[]};pe(Tf(n)>=160,"insufficient OffchainLookup data","OFFCHAIN_FAULT",{reason:"insufficient OffchainLookup data"});const t=Mt(n,0,32);pe(Mt(t,0,12)===Mt(t6,0,12),"corrupt OffchainLookup sender","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup sender"}),e.sender=Mt(t,12);try{const r=[],i=$e(Mt(n,32,64)),s=$e(Mt(n,i,i+32)),c=Mt(n,i+32);for(let l=0;l<s;l++){const f=cF(c,l*32);if(f==null)throw new Error("abort");r.push(f)}e.urls=r}catch{pe(!1,"corrupt OffchainLookup urls","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup urls"})}try{const r=zx(n,64);if(r==null)throw new Error("abort");e.calldata=r}catch{pe(!1,"corrupt OffchainLookup calldata","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup calldata"})}pe(Mt(n,100,128)===Mt(t6,0,28),"corrupt OffchainLookup callbaackSelector","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup callbaackSelector"}),e.selector=Mt(n,96,100);try{const r=zx(n,128);if(r==null)throw new Error("abort");e.extraData=r}catch{pe(!1,"corrupt OffchainLookup extraData","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup extraData"})}return e.errorArgs="sender,urls,calldata,selector,extraData".split(/,/).map(r=>e[r]),e}function Qc(n,e){if(n.provider)return n.provider;pe(!1,"missing provider","UNSUPPORTED_OPERATION",{operation:e})}async function n6(n,e){let t=Iy(e);if(t.to!=null&&(t.to=or(t.to,n)),t.from!=null){const r=t.from;t.from=Promise.all([n.getAddress(),or(r,n)]).then(([i,s])=>(ee(i.toLowerCase()===s.toLowerCase(),"transaction from mismatch","tx.from",s),i))}else t.from=n.getAddress();return await ir(t)}class dF{constructor(e){ie(this,"provider");Re(this,{provider:e||null})}async getNonce(e){return Qc(this,"getTransactionCount").getTransactionCount(await this.getAddress(),e)}async populateCall(e){return await n6(this,e)}async populateTransaction(e){const t=Qc(this,"populateTransaction"),r=await n6(this,e);r.nonce==null&&(r.nonce=await this.getNonce("pending")),r.gasLimit==null&&(r.gasLimit=await this.estimateGas(r));const i=await this.provider.getNetwork();if(r.chainId!=null){const c=Oe(r.chainId);ee(c===i.chainId,"transaction chainId mismatch","tx.chainId",e.chainId)}else r.chainId=i.chainId;const s=r.maxFeePerGas!=null||r.maxPriorityFeePerGas!=null;if(r.gasPrice!=null&&(r.type===2||s)?ee(!1,"eip-1559 transaction do not support gasPrice","tx",e):(r.type===0||r.type===1)&&s&&ee(!1,"pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","tx",e),(r.type===2||r.type==null)&&r.maxFeePerGas!=null&&r.maxPriorityFeePerGas!=null)r.type=2;else if(r.type===0||r.type===1){const c=await t.getFeeData();pe(c.gasPrice!=null,"network does not support gasPrice","UNSUPPORTED_OPERATION",{operation:"getGasPrice"}),r.gasPrice==null&&(r.gasPrice=c.gasPrice)}else{const c=await t.getFeeData();if(r.type==null)if(c.maxFeePerGas!=null&&c.maxPriorityFeePerGas!=null)if(r.authorizationList&&r.authorizationList.length?r.type=4:r.type=2,r.gasPrice!=null){const l=r.gasPrice;delete r.gasPrice,r.maxFeePerGas=l,r.maxPriorityFeePerGas=l}else r.maxFeePerGas==null&&(r.maxFeePerGas=c.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=c.maxPriorityFeePerGas);else c.gasPrice!=null?(pe(!s,"network does not support EIP-1559","UNSUPPORTED_OPERATION",{operation:"populateTransaction"}),r.gasPrice==null&&(r.gasPrice=c.gasPrice),r.type=0):pe(!1,"failed to get consistent fee data","UNSUPPORTED_OPERATION",{operation:"signer.getFeeData"});else(r.type===2||r.type===3||r.type===4)&&(r.maxFeePerGas==null&&(r.maxFeePerGas=c.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=c.maxPriorityFeePerGas))}return await ir(r)}async populateAuthorization(e){const t=Object.assign({},e);return t.chainId==null&&(t.chainId=(await Qc(this,"getNetwork").getNetwork()).chainId),t.nonce==null&&(t.nonce=await this.getNonce()),t}async estimateGas(e){return Qc(this,"estimateGas").estimateGas(await this.populateCall(e))}async call(e){return Qc(this,"call").call(await this.populateCall(e))}async resolveName(e){return await Qc(this,"resolveName").resolveName(e)}async sendTransaction(e){const t=Qc(this,"sendTransaction"),r=await this.populateTransaction(e);delete r.from;const i=Ey.from(r);return await t.broadcastTransaction(await this.signTransaction(i))}authorize(e){pe(!1,"authorization not implemented for this signer","UNSUPPORTED_OPERATION",{operation:"authorize"})}}function pF(n){return JSON.parse(JSON.stringify(n))}var rr,Cs,Hl,dc,Fl,Eh,Sc,Hx,Fx;class jD{constructor(e){le(this,Sc);le(this,rr);le(this,Cs);le(this,Hl);le(this,dc);le(this,Fl);le(this,Eh);V(this,rr,e),V(this,Cs,null),V(this,Hl,ye(this,Sc,Hx).bind(this)),V(this,dc,!1),V(this,Fl,null),V(this,Eh,!1)}_subscribe(e){throw new Error("subclasses must override this")}_emitResults(e,t){throw new Error("subclasses must override this")}_recover(e){throw new Error("subclasses must override this")}start(){k(this,dc)||(V(this,dc,!0),ye(this,Sc,Hx).call(this,-2))}stop(){k(this,dc)&&(V(this,dc,!1),V(this,Eh,!0),ye(this,Sc,Fx).call(this),k(this,rr).off("block",k(this,Hl)))}pause(e){e&&ye(this,Sc,Fx).call(this),k(this,rr).off("block",k(this,Hl))}resume(){this.start()}}rr=new WeakMap,Cs=new WeakMap,Hl=new WeakMap,dc=new WeakMap,Fl=new WeakMap,Eh=new WeakMap,Sc=new WeakSet,Hx=async function(e){try{k(this,Cs)==null&&V(this,Cs,this._subscribe(k(this,rr)));let t=null;try{t=await k(this,Cs)}catch(s){if(!kn(s,"UNSUPPORTED_OPERATION")||s.operation!=="eth_newFilter")throw s}if(t==null){V(this,Cs,null),k(this,rr)._recoverSubscriber(this,this._recover(k(this,rr)));return}const r=await k(this,rr).getNetwork();if(k(this,Fl)||V(this,Fl,r),k(this,Fl).chainId!==r.chainId)throw new Error("chaid changed");if(k(this,Eh))return;const i=await k(this,rr).send("eth_getFilterChanges",[t]);await this._emitResults(k(this,rr),i)}catch(t){console.log("@TODO",t)}k(this,rr).once("block",k(this,Hl))},Fx=function(){const e=k(this,Cs);e&&(V(this,Cs,null),e.then(t=>{k(this,rr).destroyed||k(this,rr).send("eth_uninstallFilter",[t])}))};var ql;class gF extends jD{constructor(t,r){super(t);le(this,ql);V(this,ql,pF(r))}_recover(t){return new T3(t,k(this,ql))}async _subscribe(t){return await t.send("eth_newFilter",[k(this,ql)])}async _emitResults(t,r){for(const i of r)t.emit(k(this,ql),t._wrapLog(i,t._network))}}ql=new WeakMap;class mF extends jD{async _subscribe(e){return await e.send("eth_newPendingTransactionFilter",[])}async _emitResults(e,t){for(const r of t)e.emit("pending",r)}}const yF="bigint,boolean,function,number,string,symbol".split(/,/g);function iy(n){if(n==null||yF.indexOf(typeof n)>=0||typeof n.getAddress=="function")return n;if(Array.isArray(n))return n.map(iy);if(typeof n=="object")return Object.keys(n).reduce((e,t)=>(e[t]=n[t],e),{});throw new Error(`should not happen: ${n} (${typeof n})`)}function bF(n){return new Promise(e=>{setTimeout(e,n)})}function nf(n){return n&&n.toLowerCase()}function r6(n){return n&&typeof n.pollingInterval=="number"}const zD={polling:!1,staticNetwork:null,batchStallTime:10,batchMaxSize:1<<20,batchMaxCount:100,cacheTimeout:250,pollingInterval:4e3};class $v extends dF{constructor(t,r){super(t);ie(this,"address");r=ut(r),Re(this,{address:r})}connect(t){pe(!1,"cannot reconnect JsonRpcSigner","UNSUPPORTED_OPERATION",{operation:"signer.connect"})}async getAddress(){return this.address}async populateTransaction(t){return await this.populateCall(t)}async sendUncheckedTransaction(t){const r=iy(t),i=[];if(r.from){const c=r.from;i.push((async()=>{const l=await or(c,this.provider);ee(l!=null&&l.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",t),r.from=l})())}else r.from=this.address;if(r.gasLimit==null&&i.push((async()=>{r.gasLimit=await this.provider.estimateGas({...r,from:this.address})})()),r.to!=null){const c=r.to;i.push((async()=>{r.to=await or(c,this.provider)})())}i.length&&await Promise.all(i);const s=this.provider.getRpcTransaction(r);return this.provider.send("eth_sendTransaction",[s])}async sendTransaction(t){const r=await this.provider.getBlockNumber(),i=await this.sendUncheckedTransaction(t);return await new Promise((s,c)=>{const l=[1e3,100];let f=0;const h=async()=>{try{const p=await this.provider.getTransaction(i);if(p!=null){s(p.replaceableTransaction(r));return}}catch(p){if(kn(p,"CANCELLED")||kn(p,"BAD_DATA")||kn(p,"NETWORK_ERROR")||kn(p,"UNSUPPORTED_OPERATION")){p.info==null&&(p.info={}),p.info.sendTransactionHash=i,c(p);return}if(kn(p,"INVALID_ARGUMENT")&&(f++,p.info==null&&(p.info={}),p.info.sendTransactionHash=i,f>10)){c(p);return}this.provider.emit("error",Dt("failed to fetch transation after sending (will try again)","UNKNOWN_ERROR",{error:p}))}this.provider._setTimeout(()=>{h()},l.pop()||4e3)};h()})}async signTransaction(t){const r=iy(t);if(r.from){const s=await or(r.from,this.provider);ee(s!=null&&s.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",t),r.from=s}else r.from=this.address;const i=this.provider.getRpcTransaction(r);return await this.provider.send("eth_signTransaction",[i])}async signMessage(t){const r=typeof t=="string"?ja(t):t;return await this.provider.send("personal_sign",[Ae(r),this.address.toLowerCase()])}async signTypedData(t,r,i){const s=iy(i),c=await Ny.resolveNames(t,r,s,async l=>{const f=await or(l);return ee(f!=null,"TypedData does not support null address","value",l),f});return await this.provider.send("eth_signTypedData_v4",[this.address.toLowerCase(),JSON.stringify(Ny.getPayload(c.domain,r,c.value))])}async unlock(t){return this.provider.send("personal_unlockAccount",[this.address.toLowerCase(),t,null])}async _legacySignMessage(t){const r=typeof t=="string"?ja(t):t;return await this.provider.send("eth_sign",[this.address.toLowerCase(),Ae(r)])}}var Vl,Ah,ka,Ns,Qi,Si,Er,Ag,qx;class wF extends oF{constructor(t,r){super(t,r);le(this,Ag);le(this,Vl);le(this,Ah);le(this,ka);le(this,Ns);le(this,Qi);le(this,Si);le(this,Er);V(this,Ah,1),V(this,Vl,Object.assign({},zD,r||{})),V(this,ka,[]),V(this,Ns,null),V(this,Si,null),V(this,Er,null);{let s=null;const c=new Promise(l=>{s=l});V(this,Qi,{promise:c,resolve:s})}const i=this._getOption("staticNetwork");typeof i=="boolean"?(ee(!i||t!=="any","staticNetwork cannot be used on special network 'any'","options",r),i&&t!=null&&V(this,Si,Bs.from(t))):i&&(ee(t==null||i.matches(t),"staticNetwork MUST match network object","options",r),V(this,Si,i))}_getOption(t){return k(this,Vl)[t]}get _network(){return pe(k(this,Si),"network is not available yet","NETWORK_ERROR"),k(this,Si)}async _perform(t){if(t.method==="call"||t.method==="estimateGas"){let i=t.transaction;if(i&&i.type!=null&&Oe(i.type)&&i.maxFeePerGas==null&&i.maxPriorityFeePerGas==null){const s=await this.getFeeData();s.maxFeePerGas==null&&s.maxPriorityFeePerGas==null&&(t=Object.assign({},t,{transaction:Object.assign({},i,{type:void 0})}))}}const r=this.getRpcRequest(t);return r!=null?await this.send(r.method,r.args):super._perform(t)}async _detectNetwork(){const t=this._getOption("staticNetwork");if(t)if(t===!0){if(k(this,Si))return k(this,Si)}else return t;return k(this,Er)?await k(this,Er):this.ready?(V(this,Er,(async()=>{try{const r=Bs.from(Oe(await this.send("eth_chainId",[])));return V(this,Er,null),r}catch(r){throw V(this,Er,null),r}})()),await k(this,Er)):(V(this,Er,(async()=>{const r={id:Qd(this,Ah)._++,method:"eth_chainId",params:[],jsonrpc:"2.0"};this.emit("debug",{action:"sendRpcPayload",payload:r});let i;try{i=(await this._send(r))[0],V(this,Er,null)}catch(s){throw V(this,Er,null),this.emit("debug",{action:"receiveRpcError",error:s}),s}if(this.emit("debug",{action:"receiveRpcResult",result:i}),"result"in i)return Bs.from(Oe(i.result));throw this.getRpcError(r,i)})()),await k(this,Er))}_start(){k(this,Qi)==null||k(this,Qi).resolve==null||(k(this,Qi).resolve(),V(this,Qi,null),(async()=>{for(;k(this,Si)==null&&!this.destroyed;)try{V(this,Si,await this._detectNetwork())}catch(t){if(this.destroyed)break;console.log("JsonRpcProvider failed to detect network and cannot start up; retry in 1s (perhaps the URL is wrong or the node is not started)"),this.emit("error",Dt("failed to bootstrap network detection","NETWORK_ERROR",{event:"initial-network-discovery",info:{error:t}})),await bF(1e3)}ye(this,Ag,qx).call(this)})())}async _waitUntilReady(){if(k(this,Qi)!=null)return await k(this,Qi).promise}_getSubscriber(t){return t.type==="pending"?new mF(this):t.type==="event"?this._getOption("polling")?new T3(this,t.filter):new gF(this,t.filter):t.type==="orphan"&&t.filter.orphan==="drop-log"?new $D("orphan"):super._getSubscriber(t)}get ready(){return k(this,Qi)==null}getRpcTransaction(t){const r={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(i=>{if(t[i]==null)return;let s=i;i==="gasLimit"&&(s="gas"),r[s]=Yi(Oe(t[i],`tx.${i}`))}),["from","to","data"].forEach(i=>{t[i]!=null&&(r[i]=Ae(t[i]))}),t.accessList&&(r.accessList=su(t.accessList)),t.blobVersionedHashes&&(r.blobVersionedHashes=t.blobVersionedHashes.map(i=>i.toLowerCase())),t.authorizationList&&(r.authorizationList=t.authorizationList.map(i=>{const s=FT(i);return{address:s.address,nonce:Yi(s.nonce),chainId:Yi(s.chainId),yParity:Yi(s.signature.yParity),r:Yi(s.signature.r),s:Yi(s.signature.s)}})),r}getRpcRequest(t){switch(t.method){case"chainId":return{method:"eth_chainId",args:[]};case"getBlockNumber":return{method:"eth_blockNumber",args:[]};case"getGasPrice":return{method:"eth_gasPrice",args:[]};case"getPriorityFee":return{method:"eth_maxPriorityFeePerGas",args:[]};case"getBalance":return{method:"eth_getBalance",args:[nf(t.address),t.blockTag]};case"getTransactionCount":return{method:"eth_getTransactionCount",args:[nf(t.address),t.blockTag]};case"getCode":return{method:"eth_getCode",args:[nf(t.address),t.blockTag]};case"getStorage":return{method:"eth_getStorageAt",args:[nf(t.address),"0x"+t.position.toString(16),t.blockTag]};case"broadcastTransaction":return{method:"eth_sendRawTransaction",args:[t.signedTransaction]};case"getBlock":if("blockTag"in t)return{method:"eth_getBlockByNumber",args:[t.blockTag,!!t.includeTransactions]};if("blockHash"in t)return{method:"eth_getBlockByHash",args:[t.blockHash,!!t.includeTransactions]};break;case"getTransaction":return{method:"eth_getTransactionByHash",args:[t.hash]};case"getTransactionReceipt":return{method:"eth_getTransactionReceipt",args:[t.hash]};case"call":return{method:"eth_call",args:[this.getRpcTransaction(t.transaction),t.blockTag]};case"estimateGas":return{method:"eth_estimateGas",args:[this.getRpcTransaction(t.transaction)]};case"getLogs":return t.filter&&t.filter.address!=null&&(Array.isArray(t.filter.address)?t.filter.address=t.filter.address.map(nf):t.filter.address=nf(t.filter.address)),{method:"eth_getLogs",args:[t.filter]}}return null}getRpcError(t,r){const{method:i}=t,{error:s}=r;if(i==="eth_estimateGas"&&s.message){const f=s.message;if(!f.match(/revert/i)&&f.match(/insufficient funds/i))return Dt("insufficient funds","INSUFFICIENT_FUNDS",{transaction:t.params[0],info:{payload:t,error:s}});if(f.match(/nonce/i)&&f.match(/too low/i))return Dt("nonce has already been used","NONCE_EXPIRED",{transaction:t.params[0],info:{payload:t,error:s}})}if(i==="eth_call"||i==="eth_estimateGas"){const f=Vx(s),h=Zp.getBuiltinCallException(i==="eth_call"?"call":"estimateGas",t.params[0],f?f.data:null);return h.info={error:s,payload:t},h}const c=JSON.stringify(xF(s));if(typeof s.message=="string"&&s.message.match(/user denied|ethers-user-denied/i))return Dt("user rejected action","ACTION_REJECTED",{action:{eth_sign:"signMessage",personal_sign:"signMessage",eth_signTypedData_v4:"signTypedData",eth_signTransaction:"signTransaction",eth_sendTransaction:"sendTransaction",eth_requestAccounts:"requestAccess",wallet_requestAccounts:"requestAccess"}[i]||"unknown",reason:"rejected",info:{payload:t,error:s}});if(i==="eth_sendRawTransaction"||i==="eth_sendTransaction"){const f=t.params[0];if(c.match(/insufficient funds|base fee exceeds gas limit/i))return Dt("insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:f,info:{error:s}});if(c.match(/nonce/i)&&c.match(/too low/i))return Dt("nonce has already been used","NONCE_EXPIRED",{transaction:f,info:{error:s}});if(c.match(/replacement transaction/i)&&c.match(/underpriced/i))return Dt("replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:f,info:{error:s}});if(c.match(/only replay-protected/i))return Dt("legacy pre-eip-155 transactions not supported","UNSUPPORTED_OPERATION",{operation:i,info:{transaction:f,info:{error:s}}})}let l=!!c.match(/the method .* does not exist/i);return l||s&&s.details&&s.details.startsWith("Unauthorized method:")&&(l=!0),l?Dt("unsupported operation","UNSUPPORTED_OPERATION",{operation:t.method,info:{error:s,payload:t}}):Dt("could not coalesce error","UNKNOWN_ERROR",{error:s,payload:t})}send(t,r){if(this.destroyed)return Promise.reject(Dt("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:t}));const i=Qd(this,Ah)._++,s=new Promise((c,l)=>{k(this,ka).push({resolve:c,reject:l,payload:{method:t,params:r,id:i,jsonrpc:"2.0"}})});return ye(this,Ag,qx).call(this),s}async getSigner(t){t==null&&(t=0);const r=this.send("eth_accounts",[]);if(typeof t=="number"){const s=await r;if(t>=s.length)throw new Error("no such account");return new $v(this,s[t])}const{accounts:i}=await ir({network:this.getNetwork(),accounts:r});t=ut(t);for(const s of i)if(ut(s)===t)return new $v(this,t);throw new Error("invalid account")}async listAccounts(){return(await this.send("eth_accounts",[])).map(r=>new $v(this,r))}destroy(){k(this,Ns)&&(clearTimeout(k(this,Ns)),V(this,Ns,null));for(const{payload:t,reject:r}of k(this,ka))r(Dt("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:t.method}));V(this,ka,[]),super.destroy()}}Vl=new WeakMap,Ah=new WeakMap,ka=new WeakMap,Ns=new WeakMap,Qi=new WeakMap,Si=new WeakMap,Er=new WeakMap,Ag=new WeakSet,qx=function(){if(k(this,Ns))return;const t=this._getOption("batchMaxCount")===1?0:this._getOption("batchStallTime");V(this,Ns,setTimeout(()=>{V(this,Ns,null);const r=k(this,ka);for(V(this,ka,[]);r.length;){const i=[r.shift()];for(;r.length&&i.length!==k(this,Vl).batchMaxCount;)if(i.push(r.shift()),JSON.stringify(i.map(c=>c.payload)).length>k(this,Vl).batchMaxSize){r.unshift(i.pop());break}(async()=>{const s=i.length===1?i[0].payload:i.map(c=>c.payload);this.emit("debug",{action:"sendRpcPayload",payload:s});try{const c=await this._send(s);this.emit("debug",{action:"receiveRpcResult",result:c});for(const{resolve:l,reject:f,payload:h}of i){if(this.destroyed){f(Dt("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:h.method}));continue}const p=c.filter(g=>g.id===h.id)[0];if(p==null){const g=Dt("missing response for request","BAD_DATA",{value:c,info:{payload:h}});this.emit("error",g),f(g);continue}if("error"in p){f(this.getRpcError(h,p));continue}l(p.result)}}catch(c){this.emit("debug",{action:"receiveRpcError",error:c});for(const{reject:l}of i)l(c)}})()}},t))};var pc;class vF extends wF{constructor(t,r){super(t,r);le(this,pc);let i=this._getOption("pollingInterval");i==null&&(i=zD.pollingInterval),V(this,pc,i)}_getSubscriber(t){const r=super._getSubscriber(t);return r6(r)&&(r.pollingInterval=k(this,pc)),r}get pollingInterval(){return k(this,pc)}set pollingInterval(t){if(!Number.isInteger(t)||t<0)throw new Error("invalid interval");V(this,pc,t),this._forEachSubscriber(r=>{r6(r)&&(r.pollingInterval=k(this,pc))})}}pc=new WeakMap;function Vx(n){if(n==null)return null;if(typeof n.message=="string"&&n.message.match(/revert/i)&&Ot(n.data))return{message:n.message,data:n.data};if(typeof n=="object"){for(const e in n){const t=Vx(n[e]);if(t)return t}return null}if(typeof n=="string")try{return Vx(JSON.parse(n))}catch{}return null}function Gx(n,e){if(n!=null){if(typeof n.message=="string"&&e.push(n.message),typeof n=="object")for(const t in n)Gx(n[t],e);if(typeof n=="string")try{return Gx(JSON.parse(n),e)}catch{}}}function xF(n){const e=[];return Gx(n,e),e}var Sh,_h;const ml=class ml extends vF{constructor(t,r,i){const s=Object.assign({},i??{},{batchMaxCount:1});ee(t&&t.request,"invalid EIP-1193 provider","ethereum",t);super(r,s);le(this,Sh);le(this,_h);V(this,_h,null),i&&i.providerInfo&&V(this,_h,i.providerInfo),V(this,Sh,async(c,l)=>{const f={method:c,params:l};this.emit("debug",{action:"sendEip1193Request",payload:f});try{const h=await t.request(f);return this.emit("debug",{action:"receiveEip1193Result",result:h}),h}catch(h){const p=new Error(h.message);throw p.code=h.code,p.data=h.data,p.payload=f,this.emit("debug",{action:"receiveEip1193Error",error:p}),p}})}get providerInfo(){return k(this,_h)}async send(t,r){return await this._start(),await super.send(t,r)}async _send(t){ee(!Array.isArray(t),"EIP-1193 does not support batch request","payload",t);try{const r=await k(this,Sh).call(this,t.method,t.params||[]);return[{id:t.id,result:r}]}catch(r){return[{id:t.id,error:{code:r.code,data:r.data,message:r.message}}]}}getRpcError(t,r){switch(r=JSON.parse(JSON.stringify(r)),r.error.code||-1){case 4001:r.error.message=`ethers-user-denied: ${r.error.message}`;break;case 4200:r.error.message=`ethers-unsupported: ${r.error.message}`;break}return super.getRpcError(t,r)}async hasSigner(t){t==null&&(t=0);const r=await this.send("eth_accounts",[]);return typeof t=="number"?r.length>t:(t=t.toLowerCase(),r.filter(i=>i.toLowerCase()===t).length!==0)}async getSigner(t){if(t==null&&(t=0),!await this.hasSigner(t))try{await k(this,Sh).call(this,"eth_requestAccounts",[])}catch(r){const i=r.payload;throw this.getRpcError(i,{id:i.id,error:r})}return await super.getSigner(t)}static async discover(t){if(t==null&&(t={}),t.provider)return new ml(t.provider);const r=t.window?t.window:typeof window<"u"?window:null;if(r==null)return null;const i=t.anyProvider;if(i&&r.ethereum)return new ml(r.ethereum);if(!("addEventListener"in r&&"dispatchEvent"in r&&"removeEventListener"in r))return null;const s=t.timeout?t.timeout:300;return s===0?null:await new Promise((c,l)=>{let f=[];const h=m=>{f.push(m.detail),i&&p()},p=()=>{if(clearTimeout(g),f.length)if(t&&t.filter){const m=t.filter(f.map(b=>Object.assign({},b.info)));if(m==null)c(null);else if(m instanceof ml)c(m);else{let b=null;if(m.uuid&&(b=f.filter(x=>m.uuid===x.info.uuid)[0]),b){const{provider:w,info:x}=b;c(new ml(w,void 0,{providerInfo:x}))}else l(Dt("filter returned unknown info","UNSUPPORTED_OPERATION",{value:m}))}}else{const{provider:m,info:b}=f[0];c(new ml(m,void 0,{providerInfo:b}))}else c(null);r.removeEventListener("eip6963:announceProvider",h)},g=setTimeout(()=>{p()},s);r.addEventListener("eip6963:announceProvider",h),r.dispatchEvent(new Event("eip6963:requestProvider"))})}};Sh=new WeakMap,_h=new WeakMap;let cl=ml;const EF="modulepreload",AF=function(n){return"/"+n},i6={},SF=function(e,t,r){let i=Promise.resolve();if(t&&t.length>0){let c=function(h){return Promise.all(h.map(p=>Promise.resolve(p).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),f=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));i=c(t.map(h=>{if(h=AF(h),h in i6)return;i6[h]=!0;const p=h.endsWith(".css"),g=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${g}`))return;const m=document.createElement("link");if(m.rel=p?"stylesheet":EF,p||(m.as="script"),m.crossOrigin="",m.href=h,f&&m.setAttribute("nonce",f),document.head.appendChild(m),p)return new Promise((b,w)=>{m.addEventListener("load",b),m.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${h}`)))})}))}function s(c){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=c,window.dispatchEvent(l),!l.defaultPrevented)throw c}return i.then(c=>{for(const l of c||[])l.status==="rejected"&&s(l.reason);return e().catch(s)})};var vm={exports:{}},s6;function _F(){if(s6)return vm.exports;s6=1;var n=typeof Reflect=="object"?Reflect:null,e=n&&typeof n.apply=="function"?n.apply:function(N,U,z){return Function.prototype.apply.call(N,U,z)},t;n&&typeof n.ownKeys=="function"?t=n.ownKeys:Object.getOwnPropertySymbols?t=function(N){return Object.getOwnPropertyNames(N).concat(Object.getOwnPropertySymbols(N))}:t=function(N){return Object.getOwnPropertyNames(N)};function r(I){console&&console.warn&&console.warn(I)}var i=Number.isNaN||function(N){return N!==N};function s(){s.init.call(this)}vm.exports=s,vm.exports.once=O,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var c=10;function l(I){if(typeof I!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof I)}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(I){if(typeof I!="number"||I<0||i(I))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+I+".");c=I}}),s.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(N){if(typeof N!="number"||N<0||i(N))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+N+".");return this._maxListeners=N,this};function f(I){return I._maxListeners===void 0?s.defaultMaxListeners:I._maxListeners}s.prototype.getMaxListeners=function(){return f(this)},s.prototype.emit=function(N){for(var U=[],z=1;z<arguments.length;z++)U.push(arguments[z]);var M=N==="error",L=this._events;if(L!==void 0)M=M&&L.error===void 0;else if(!M)return!1;if(M){var F;if(U.length>0&&(F=U[0]),F instanceof Error)throw F;var q=new Error("Unhandled error."+(F?" ("+F.message+")":""));throw q.context=F,q}var Q=L[N];if(Q===void 0)return!1;if(typeof Q=="function")e(Q,this,U);else for(var G=Q.length,W=w(Q,G),z=0;z<G;++z)e(W[z],this,U);return!0};function h(I,N,U,z){var M,L,F;if(l(U),L=I._events,L===void 0?(L=I._events=Object.create(null),I._eventsCount=0):(L.newListener!==void 0&&(I.emit("newListener",N,U.listener?U.listener:U),L=I._events),F=L[N]),F===void 0)F=L[N]=U,++I._eventsCount;else if(typeof F=="function"?F=L[N]=z?[U,F]:[F,U]:z?F.unshift(U):F.push(U),M=f(I),M>0&&F.length>M&&!F.warned){F.warned=!0;var q=new Error("Possible EventEmitter memory leak detected. "+F.length+" "+String(N)+" listeners added. Use emitter.setMaxListeners() to increase limit");q.name="MaxListenersExceededWarning",q.emitter=I,q.type=N,q.count=F.length,r(q)}return I}s.prototype.addListener=function(N,U){return h(this,N,U,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(N,U){return h(this,N,U,!0)};function p(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function g(I,N,U){var z={fired:!1,wrapFn:void 0,target:I,type:N,listener:U},M=p.bind(z);return M.listener=U,z.wrapFn=M,M}s.prototype.once=function(N,U){return l(U),this.on(N,g(this,N,U)),this},s.prototype.prependOnceListener=function(N,U){return l(U),this.prependListener(N,g(this,N,U)),this},s.prototype.removeListener=function(N,U){var z,M,L,F,q;if(l(U),M=this._events,M===void 0)return this;if(z=M[N],z===void 0)return this;if(z===U||z.listener===U)--this._eventsCount===0?this._events=Object.create(null):(delete M[N],M.removeListener&&this.emit("removeListener",N,z.listener||U));else if(typeof z!="function"){for(L=-1,F=z.length-1;F>=0;F--)if(z[F]===U||z[F].listener===U){q=z[F].listener,L=F;break}if(L<0)return this;L===0?z.shift():x(z,L),z.length===1&&(M[N]=z[0]),M.removeListener!==void 0&&this.emit("removeListener",N,q||U)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(N){var U,z,M;if(z=this._events,z===void 0)return this;if(z.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):z[N]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete z[N]),this;if(arguments.length===0){var L=Object.keys(z),F;for(M=0;M<L.length;++M)F=L[M],F!=="removeListener"&&this.removeAllListeners(F);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(U=z[N],typeof U=="function")this.removeListener(N,U);else if(U!==void 0)for(M=U.length-1;M>=0;M--)this.removeListener(N,U[M]);return this};function m(I,N,U){var z=I._events;if(z===void 0)return[];var M=z[N];return M===void 0?[]:typeof M=="function"?U?[M.listener||M]:[M]:U?S(M):w(M,M.length)}s.prototype.listeners=function(N){return m(this,N,!0)},s.prototype.rawListeners=function(N){return m(this,N,!1)},s.listenerCount=function(I,N){return typeof I.listenerCount=="function"?I.listenerCount(N):b.call(I,N)},s.prototype.listenerCount=b;function b(I){var N=this._events;if(N!==void 0){var U=N[I];if(typeof U=="function")return 1;if(U!==void 0)return U.length}return 0}s.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]};function w(I,N){for(var U=new Array(N),z=0;z<N;++z)U[z]=I[z];return U}function x(I,N){for(;N+1<I.length;N++)I[N]=I[N+1];I.pop()}function S(I){for(var N=new Array(I.length),U=0;U<N.length;++U)N[U]=I[U].listener||I[U];return N}function O(I,N){return new Promise(function(U,z){function M(F){I.removeListener(N,L),z(F)}function L(){typeof I.removeListener=="function"&&I.removeListener("error",M),U([].slice.call(arguments))}_(I,N,L,{once:!0}),N!=="error"&&T(I,M,{once:!0})})}function T(I,N,U){typeof I.on=="function"&&_(I,"error",N,U)}function _(I,N,U,z){if(typeof I.on=="function")z.once?I.once(N,U):I.on(N,U);else if(typeof I.addEventListener=="function")I.addEventListener(N,function M(L){z.once&&I.removeEventListener(N,M),U(L)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof I)}return vm.exports}var ei=_F();const D3=Sg(ei);var a6=function(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return n.concat(s||Array.prototype.slice.call(e))},OF=(function(){function n(e,t,r){this.name=e,this.version=t,this.os=r,this.type="browser"}return n})(),CF=(function(){function n(e){this.version=e,this.type="node",this.name="node",this.os=process.platform}return n})(),NF=(function(){function n(e,t,r,i){this.name=e,this.version=t,this.os=r,this.bot=i,this.type="bot-device"}return n})(),IF=(function(){function n(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return n})(),TF=(function(){function n(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return n})(),DF=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,RF=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,o6=3,BF=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",DF]],c6=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function kF(n){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new TF:typeof navigator<"u"?UF(navigator.userAgent):LF()}function PF(n){return n!==""&&BF.reduce(function(e,t){var r=t[0],i=t[1];if(e)return e;var s=i.exec(n);return!!s&&[r,s]},!1)}function UF(n){var e=PF(n);if(!e)return null;var t=e[0],r=e[1];if(t==="searchbot")return new IF;var i=r[1]&&r[1].split(".").join("_").split("_").slice(0,3);i?i.length<o6&&(i=a6(a6([],i,!0),$F(o6-i.length),!0)):i=[];var s=i.join("."),c=MF(n),l=RF.exec(n);return l&&l[1]?new NF(t,s,c,l[1]):new OF(t,s,c)}function MF(n){for(var e=0,t=c6.length;e<t;e++){var r=c6[e],i=r[0],s=r[1],c=s.exec(n);if(c)return i}return null}function LF(){var n=typeof process<"u"&&process.version;return n?new CF(process.version.slice(1)):null}function $F(n){for(var e=[],t=0;t<n;t++)e.push("0");return e}var jv={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Kx=function(n,e){return Kx=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)r.hasOwnProperty(i)&&(t[i]=r[i])},Kx(n,e)};function jF(n,e){Kx(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var Qx=function(){return Qx=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Qx.apply(this,arguments)};function zF(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function HF(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var l=n.length-1;l>=0;l--)(c=n[l])&&(s=(i<3?c(s):i>3?c(e,t,s):c(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s}function FF(n,e){return function(t,r){e(t,r,n)}}function qF(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)}function VF(n,e,t,r){function i(s){return s instanceof t?s:new t(function(c){c(s)})}return new(t||(t=Promise))(function(s,c){function l(p){try{h(r.next(p))}catch(g){c(g)}}function f(p){try{h(r.throw(p))}catch(g){c(g)}}function h(p){p.done?s(p.value):i(p.value).then(l,f)}h((r=r.apply(n,e||[])).next())})}function GF(n,e){var t={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,c;return c={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function l(h){return function(p){return f([h,p])}}function f(h){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,i&&(s=h[0]&2?i.return:h[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,h[1])).done)return s;switch(i=0,s&&(h=[h[0]&2,s.value]),h[0]){case 0:case 1:s=h;break;case 4:return t.label++,{value:h[1],done:!1};case 5:t.label++,i=h[1],h=[0];continue;case 7:h=t.ops.pop(),t.trys.pop();continue;default:if(s=t.trys,!(s=s.length>0&&s[s.length-1])&&(h[0]===6||h[0]===2)){t=0;continue}if(h[0]===3&&(!s||h[1]>s[0]&&h[1]<s[3])){t.label=h[1];break}if(h[0]===6&&t.label<s[1]){t.label=s[1],s=h;break}if(s&&t.label<s[2]){t.label=s[2],t.ops.push(h);break}s[2]&&t.ops.pop(),t.trys.pop();continue}h=e.call(n,t)}catch(p){h=[6,p],i=0}finally{r=s=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}}function KF(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}function QF(n,e){for(var t in n)t!=="default"&&!e.hasOwnProperty(t)&&(e[t]=n[t])}function Yx(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function HD(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,s=[],c;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(l){c={error:l}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(c)throw c.error}}return s}function YF(){for(var n=[],e=0;e<arguments.length;e++)n=n.concat(HD(arguments[e]));return n}function ZF(){for(var n=0,e=0,t=arguments.length;e<t;e++)n+=arguments[e].length;for(var r=Array(n),i=0,e=0;e<t;e++)for(var s=arguments[e],c=0,l=s.length;c<l;c++,i++)r[i]=s[c];return r}function Xp(n){return this instanceof Xp?(this.v=n,this):new Xp(n)}function WF(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,s=[];return i={},c("next"),c("throw"),c("return"),i[Symbol.asyncIterator]=function(){return this},i;function c(m){r[m]&&(i[m]=function(b){return new Promise(function(w,x){s.push([m,b,w,x])>1||l(m,b)})})}function l(m,b){try{f(r[m](b))}catch(w){g(s[0][3],w)}}function f(m){m.value instanceof Xp?Promise.resolve(m.value.v).then(h,p):g(s[0][2],m)}function h(m){l("next",m)}function p(m){l("throw",m)}function g(m,b){m(b),s.shift(),s.length&&l(s[0][0],s[0][1])}}function JF(n){var e,t;return e={},r("next"),r("throw",function(i){throw i}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(i,s){e[i]=n[i]?function(c){return(t=!t)?{value:Xp(n[i](c)),done:i==="return"}:s?s(c):c}:s}}function XF(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof Yx=="function"?Yx(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(s){t[s]=n[s]&&function(c){return new Promise(function(l,f){c=n[s](c),i(l,f,c.done,c.value)})}}function i(s,c,l,f){Promise.resolve(f).then(function(h){s({value:h,done:l})},c)}}function eq(n,e){return Object.defineProperty?Object.defineProperty(n,"raw",{value:e}):n.raw=e,n}function tq(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)Object.hasOwnProperty.call(n,t)&&(e[t]=n[t]);return e.default=n,e}function nq(n){return n&&n.__esModule?n:{default:n}}function rq(n,e){if(!e.has(n))throw new TypeError("attempted to get private field on non-instance");return e.get(n)}function iq(n,e,t){if(!e.has(n))throw new TypeError("attempted to set private field on non-instance");return e.set(n,t),t}const sq=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return Qx},__asyncDelegator:JF,__asyncGenerator:WF,__asyncValues:XF,__await:Xp,__awaiter:VF,__classPrivateFieldGet:rq,__classPrivateFieldSet:iq,__createBinding:KF,__decorate:HF,__exportStar:QF,__extends:jF,__generator:GF,__importDefault:nq,__importStar:tq,__makeTemplateObject:eq,__metadata:qF,__param:FF,__read:HD,__rest:zF,__spread:YF,__spreadArrays:ZF,__values:Yx},Symbol.toStringTag,{value:"Module"})),Ob=BI(sq);var zv={},tp={},l6;function aq(){if(l6)return tp;l6=1,Object.defineProperty(tp,"__esModule",{value:!0}),tp.delay=void 0;function n(e){return new Promise(t=>{setTimeout(()=>{t(!0)},e)})}return tp.delay=n,tp}var Yc={},Hv={},Zc={},u6;function oq(){return u6||(u6=1,Object.defineProperty(Zc,"__esModule",{value:!0}),Zc.ONE_THOUSAND=Zc.ONE_HUNDRED=void 0,Zc.ONE_HUNDRED=100,Zc.ONE_THOUSAND=1e3),Zc}var Fv={},f6;function cq(){return f6||(f6=1,(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.ONE_YEAR=n.FOUR_WEEKS=n.THREE_WEEKS=n.TWO_WEEKS=n.ONE_WEEK=n.THIRTY_DAYS=n.SEVEN_DAYS=n.FIVE_DAYS=n.THREE_DAYS=n.ONE_DAY=n.TWENTY_FOUR_HOURS=n.TWELVE_HOURS=n.SIX_HOURS=n.THREE_HOURS=n.ONE_HOUR=n.SIXTY_MINUTES=n.THIRTY_MINUTES=n.TEN_MINUTES=n.FIVE_MINUTES=n.ONE_MINUTE=n.SIXTY_SECONDS=n.THIRTY_SECONDS=n.TEN_SECONDS=n.FIVE_SECONDS=n.ONE_SECOND=void 0,n.ONE_SECOND=1,n.FIVE_SECONDS=5,n.TEN_SECONDS=10,n.THIRTY_SECONDS=30,n.SIXTY_SECONDS=60,n.ONE_MINUTE=n.SIXTY_SECONDS,n.FIVE_MINUTES=n.ONE_MINUTE*5,n.TEN_MINUTES=n.ONE_MINUTE*10,n.THIRTY_MINUTES=n.ONE_MINUTE*30,n.SIXTY_MINUTES=n.ONE_MINUTE*60,n.ONE_HOUR=n.SIXTY_MINUTES,n.THREE_HOURS=n.ONE_HOUR*3,n.SIX_HOURS=n.ONE_HOUR*6,n.TWELVE_HOURS=n.ONE_HOUR*12,n.TWENTY_FOUR_HOURS=n.ONE_HOUR*24,n.ONE_DAY=n.TWENTY_FOUR_HOURS,n.THREE_DAYS=n.ONE_DAY*3,n.FIVE_DAYS=n.ONE_DAY*5,n.SEVEN_DAYS=n.ONE_DAY*7,n.THIRTY_DAYS=n.ONE_DAY*30,n.ONE_WEEK=n.SEVEN_DAYS,n.TWO_WEEKS=n.ONE_WEEK*2,n.THREE_WEEKS=n.ONE_WEEK*3,n.FOUR_WEEKS=n.ONE_WEEK*4,n.ONE_YEAR=n.ONE_DAY*365})(Fv)),Fv}var h6;function FD(){return h6||(h6=1,(function(n){Object.defineProperty(n,"__esModule",{value:!0});const e=Ob;e.__exportStar(oq(),n),e.__exportStar(cq(),n)})(Hv)),Hv}var d6;function lq(){if(d6)return Yc;d6=1,Object.defineProperty(Yc,"__esModule",{value:!0}),Yc.fromMiliseconds=Yc.toMiliseconds=void 0;const n=FD();function e(r){return r*n.ONE_THOUSAND}Yc.toMiliseconds=e;function t(r){return Math.floor(r/n.ONE_THOUSAND)}return Yc.fromMiliseconds=t,Yc}var p6;function uq(){return p6||(p6=1,(function(n){Object.defineProperty(n,"__esModule",{value:!0});const e=Ob;e.__exportStar(aq(),n),e.__exportStar(lq(),n)})(zv)),zv}var rf={},g6;function fq(){if(g6)return rf;g6=1,Object.defineProperty(rf,"__esModule",{value:!0}),rf.Watch=void 0;class n{constructor(){this.timestamps=new Map}start(t){if(this.timestamps.has(t))throw new Error(`Watch already started for label: ${t}`);this.timestamps.set(t,{started:Date.now()})}stop(t){const r=this.get(t);if(typeof r.elapsed<"u")throw new Error(`Watch already stopped for label: ${t}`);const i=Date.now()-r.started;this.timestamps.set(t,{started:r.started,elapsed:i})}get(t){const r=this.timestamps.get(t);if(typeof r>"u")throw new Error(`No timestamp found for label: ${t}`);return r}elapsed(t){const r=this.get(t);return r.elapsed||Date.now()-r.started}}return rf.Watch=n,rf.default=n,rf}var qv={},np={},m6;function hq(){if(m6)return np;m6=1,Object.defineProperty(np,"__esModule",{value:!0}),np.IWatch=void 0;class n{}return np.IWatch=n,np}var y6;function dq(){return y6||(y6=1,(function(n){Object.defineProperty(n,"__esModule",{value:!0}),Ob.__exportStar(hq(),n)})(qv)),qv}var b6;function pq(){return b6||(b6=1,(function(n){Object.defineProperty(n,"__esModule",{value:!0});const e=Ob;e.__exportStar(uq(),n),e.__exportStar(fq(),n),e.__exportStar(dq(),n),e.__exportStar(FD(),n)})(jv)),jv}var ve=pq(),xt={},w6;function qD(){if(w6)return xt;w6=1,Object.defineProperty(xt,"__esModule",{value:!0}),xt.getLocalStorage=xt.getLocalStorageOrThrow=xt.getCrypto=xt.getCryptoOrThrow=xt.getLocation=xt.getLocationOrThrow=xt.getNavigator=xt.getNavigatorOrThrow=xt.getDocument=xt.getDocumentOrThrow=xt.getFromWindowOrThrow=xt.getFromWindow=void 0;function n(m){let b;return typeof window<"u"&&typeof window[m]<"u"&&(b=window[m]),b}xt.getFromWindow=n;function e(m){const b=n(m);if(!b)throw new Error(`${m} is not defined in Window`);return b}xt.getFromWindowOrThrow=e;function t(){return e("document")}xt.getDocumentOrThrow=t;function r(){return n("document")}xt.getDocument=r;function i(){return e("navigator")}xt.getNavigatorOrThrow=i;function s(){return n("navigator")}xt.getNavigator=s;function c(){return e("location")}xt.getLocationOrThrow=c;function l(){return n("location")}xt.getLocation=l;function f(){return e("crypto")}xt.getCryptoOrThrow=f;function h(){return n("crypto")}xt.getCrypto=h;function p(){return e("localStorage")}xt.getLocalStorageOrThrow=p;function g(){return n("localStorage")}return xt.getLocalStorage=g,xt}var Ka=qD(),rp={},v6;function gq(){if(v6)return rp;v6=1,Object.defineProperty(rp,"__esModule",{value:!0}),rp.getWindowMetadata=void 0;const n=qD();function e(){let t,r;try{t=n.getDocumentOrThrow(),r=n.getLocationOrThrow()}catch{return null}function i(){const b=t.getElementsByTagName("link"),w=[];for(let x=0;x<b.length;x++){const S=b[x],O=S.getAttribute("rel");if(O&&O.toLowerCase().indexOf("icon")>-1){const T=S.getAttribute("href");if(T)if(T.toLowerCase().indexOf("https:")===-1&&T.toLowerCase().indexOf("http:")===-1&&T.indexOf("//")!==0){let _=r.protocol+"//"+r.host;if(T.indexOf("/")===0)_+=T;else{const I=r.pathname.split("/");I.pop();const N=I.join("/");_+=N+"/"+T}w.push(_)}else if(T.indexOf("//")===0){const _=r.protocol+T;w.push(_)}else w.push(T)}}return w}function s(...b){const w=t.getElementsByTagName("meta");for(let x=0;x<w.length;x++){const S=w[x],O=["itemprop","property","name"].map(T=>S.getAttribute(T)).filter(T=>T?b.includes(T):!1);if(O.length&&O){const T=S.getAttribute("content");if(T)return T}}return""}function c(){let b=s("name","og:site_name","og:title","twitter:title");return b||(b=t.title),b}function l(){return s("description","og:description","twitter:description","keywords")}const f=c(),h=l(),p=r.origin,g=i();return{description:h,url:p,icons:g,name:f}}return rp.getWindowMetadata=e,rp}var mq=gq();const yq="0.1.1";function bq(){return yq}let Qt=class Zx extends Error{constructor(e,t={}){const r=(()=>{var f;if(t.cause instanceof Zx){if(t.cause.details)return t.cause.details;if(t.cause.shortMessage)return t.cause.shortMessage}return t.cause&&"details"in t.cause&&typeof t.cause.details=="string"?t.cause.details:(f=t.cause)!=null&&f.message?t.cause.message:t.details})(),i=t.cause instanceof Zx&&t.cause.docsPath||t.docsPath,c=`https://oxlib.sh${i??""}`,l=[e||"An error occurred.",...t.metaMessages?["",...t.metaMessages]:[],...r||i?["",r?`Details: ${r}`:void 0,i?`See: ${c}`:void 0]:[]].filter(f=>typeof f=="string").join(`
`);super(l,t.cause?{cause:t.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:`ox@${bq()}`}),this.cause=t.cause,this.details=r,this.docs=c,this.docsPath=i,this.shortMessage=e}walk(e){return VD(this,e)}};function VD(n,e){return e!=null&&e(n)?n:n&&typeof n=="object"&&"cause"in n&&n.cause?VD(n.cause,e):e?null:n}const sf=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function wq(n){return n instanceof Uint8Array||ArrayBuffer.isView(n)&&n.constructor.name==="Uint8Array"}function eg(n){if(!Number.isSafeInteger(n)||n<0)throw new Error("positive integer expected, got "+n)}function eu(n,...e){if(!wq(n))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(n.length))throw new Error("Uint8Array expected of length "+e+", got length="+n.length)}function vq(n){if(typeof n!="function"||typeof n.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");eg(n.outputLen),eg(n.blockLen)}function kh(n,e=!0){if(n.destroyed)throw new Error("Hash instance has been destroyed");if(e&&n.finished)throw new Error("Hash#digest() has already been called")}function GD(n,e){eu(n);const t=e.outputLen;if(n.length<t)throw new Error("digestInto() expects output buffer of length at least "+t)}function xq(n){return new Uint32Array(n.buffer,n.byteOffset,Math.floor(n.byteLength/4))}function Ph(...n){for(let e=0;e<n.length;e++)n[e].fill(0)}function Vv(n){return new DataView(n.buffer,n.byteOffset,n.byteLength)}function ls(n,e){return n<<32-e|n>>>e}const Eq=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function Aq(n){return n<<24&4278190080|n<<8&16711680|n>>>8&65280|n>>>24&255}function Sq(n){for(let e=0;e<n.length;e++)n[e]=Aq(n[e]);return n}const x6=Eq?n=>n:Sq;function _q(n){if(typeof n!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(n))}function Cb(n){return typeof n=="string"&&(n=_q(n)),eu(n),n}function Oq(...n){let e=0;for(let r=0;r<n.length;r++){const i=n[r];eu(i),e+=i.length}const t=new Uint8Array(e);for(let r=0,i=0;r<n.length;r++){const s=n[r];t.set(s,i),i+=s.length}return t}let R3=class{};function KD(n){const e=r=>n().update(Cb(r)).digest(),t=n();return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=()=>n(),e}function Cq(n=32){if(sf&&typeof sf.getRandomValues=="function")return sf.getRandomValues(new Uint8Array(n));if(sf&&typeof sf.randomBytes=="function")return Uint8Array.from(sf.randomBytes(n));throw new Error("crypto.getRandomValues must be defined")}function Nq(n,e,t,r){if(typeof n.setBigUint64=="function")return n.setBigUint64(e,t,r);const i=BigInt(32),s=BigInt(4294967295),c=Number(t>>i&s),l=Number(t&s),f=r?4:0,h=r?0:4;n.setUint32(e+f,c,r),n.setUint32(e+h,l,r)}function Iq(n,e,t){return n&e^~n&t}function Tq(n,e,t){return n&e^n&t^e&t}let Dq=class extends R3{constructor(e,t,r,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=i,this.buffer=new Uint8Array(e),this.view=Vv(this.buffer)}update(e){kh(this),e=Cb(e),eu(e);const{view:t,buffer:r,blockLen:i}=this,s=e.length;for(let c=0;c<s;){const l=Math.min(i-this.pos,s-c);if(l===i){const f=Vv(e);for(;i<=s-c;c+=i)this.process(f,c);continue}r.set(e.subarray(c,c+l),this.pos),this.pos+=l,c+=l,this.pos===i&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){kh(this),GD(e,this),this.finished=!0;const{buffer:t,view:r,blockLen:i,isLE:s}=this;let{pos:c}=this;t[c++]=128,Ph(this.buffer.subarray(c)),this.padOffset>i-c&&(this.process(r,0),c=0);for(let g=c;g<i;g++)t[g]=0;Nq(r,i-8,BigInt(this.length*8),s),this.process(r,0);const l=Vv(e),f=this.outputLen;if(f%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const h=f/4,p=this.get();if(h>p.length)throw new Error("_sha2: outputLen bigger than state");for(let g=0;g<h;g++)l.setUint32(4*g,p[g],s)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:r,length:i,finished:s,destroyed:c,pos:l}=this;return e.destroyed=c,e.finished=s,e.length=i,e.pos=l,i%t&&e.buffer.set(r),e}clone(){return this._cloneInto()}};const Do=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),xm=BigInt(2**32-1),E6=BigInt(32);function Rq(n,e=!1){return e?{h:Number(n&xm),l:Number(n>>E6&xm)}:{h:Number(n>>E6&xm)|0,l:Number(n&xm)|0}}function Bq(n,e=!1){const t=n.length;let r=new Uint32Array(t),i=new Uint32Array(t);for(let s=0;s<t;s++){const{h:c,l}=Rq(n[s],e);[r[s],i[s]]=[c,l]}return[r,i]}const kq=(n,e,t)=>n<<t|e>>>32-t,Pq=(n,e,t)=>e<<t|n>>>32-t,Uq=(n,e,t)=>e<<t-32|n>>>64-t,Mq=(n,e,t)=>n<<t-32|e>>>64-t,Lq=BigInt(0),ip=BigInt(1),$q=BigInt(2),jq=BigInt(7),zq=BigInt(256),Hq=BigInt(113),QD=[],YD=[],ZD=[];for(let n=0,e=ip,t=1,r=0;n<24;n++){[t,r]=[r,(2*t+3*r)%5],QD.push(2*(5*r+t)),YD.push((n+1)*(n+2)/2%64);let i=Lq;for(let s=0;s<7;s++)e=(e<<ip^(e>>jq)*Hq)%zq,e&$q&&(i^=ip<<(ip<<BigInt(s))-ip);ZD.push(i)}const WD=Bq(ZD,!0),Fq=WD[0],qq=WD[1],A6=(n,e,t)=>t>32?Uq(n,e,t):kq(n,e,t),S6=(n,e,t)=>t>32?Mq(n,e,t):Pq(n,e,t);function Vq(n,e=24){const t=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let c=0;c<10;c++)t[c]=n[c]^n[c+10]^n[c+20]^n[c+30]^n[c+40];for(let c=0;c<10;c+=2){const l=(c+8)%10,f=(c+2)%10,h=t[f],p=t[f+1],g=A6(h,p,1)^t[l],m=S6(h,p,1)^t[l+1];for(let b=0;b<50;b+=10)n[c+b]^=g,n[c+b+1]^=m}let i=n[2],s=n[3];for(let c=0;c<24;c++){const l=YD[c],f=A6(i,s,l),h=S6(i,s,l),p=QD[c];i=n[p],s=n[p+1],n[p]=f,n[p+1]=h}for(let c=0;c<50;c+=10){for(let l=0;l<10;l++)t[l]=n[c+l];for(let l=0;l<10;l++)n[c+l]^=~t[(l+2)%10]&t[(l+4)%10]}n[0]^=Fq[r],n[1]^=qq[r]}Ph(t)}let Gq=class JD extends R3{constructor(e,t,r,i=!1,s=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=i,this.rounds=s,eg(r),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=xq(this.state)}clone(){return this._cloneInto()}keccak(){x6(this.state32),Vq(this.state32,this.rounds),x6(this.state32),this.posOut=0,this.pos=0}update(e){kh(this),e=Cb(e),eu(e);const{blockLen:t,state:r}=this,i=e.length;for(let s=0;s<i;){const c=Math.min(t-this.pos,i-s);for(let l=0;l<c;l++)r[this.pos++]^=e[s++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:r,blockLen:i}=this;e[r]^=t,(t&128)!==0&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){kh(this,!1),eu(e),this.finish();const t=this.state,{blockLen:r}=this;for(let i=0,s=e.length;i<s;){this.posOut>=r&&this.keccak();const c=Math.min(r-this.posOut,s-i);e.set(t.subarray(this.posOut,this.posOut+c),i),this.posOut+=c,i+=c}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return eg(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(GD(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,Ph(this.state)}_cloneInto(e){const{blockLen:t,suffix:r,outputLen:i,rounds:s,enableXOF:c}=this;return e||(e=new JD(t,r,i,c,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=r,e.outputLen=i,e.enableXOF=c,e.destroyed=this.destroyed,e}};const Kq=(n,e,t)=>KD(()=>new Gq(e,n,t)),Qq=Kq(1,136,256/8),Yq=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Ro=new Uint32Array(64);let Zq=class extends Dq{constructor(e=32){super(64,e,8,!1),this.A=Do[0]|0,this.B=Do[1]|0,this.C=Do[2]|0,this.D=Do[3]|0,this.E=Do[4]|0,this.F=Do[5]|0,this.G=Do[6]|0,this.H=Do[7]|0}get(){const{A:e,B:t,C:r,D:i,E:s,F:c,G:l,H:f}=this;return[e,t,r,i,s,c,l,f]}set(e,t,r,i,s,c,l,f){this.A=e|0,this.B=t|0,this.C=r|0,this.D=i|0,this.E=s|0,this.F=c|0,this.G=l|0,this.H=f|0}process(e,t){for(let g=0;g<16;g++,t+=4)Ro[g]=e.getUint32(t,!1);for(let g=16;g<64;g++){const m=Ro[g-15],b=Ro[g-2],w=ls(m,7)^ls(m,18)^m>>>3,x=ls(b,17)^ls(b,19)^b>>>10;Ro[g]=x+Ro[g-7]+w+Ro[g-16]|0}let{A:r,B:i,C:s,D:c,E:l,F:f,G:h,H:p}=this;for(let g=0;g<64;g++){const m=ls(l,6)^ls(l,11)^ls(l,25),b=p+m+Iq(l,f,h)+Yq[g]+Ro[g]|0,x=(ls(r,2)^ls(r,13)^ls(r,22))+Tq(r,i,s)|0;p=h,h=f,f=l,l=c+b|0,c=s,s=i,i=r,r=b+x|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,c=c+this.D|0,l=l+this.E|0,f=f+this.F|0,h=h+this.G|0,p=p+this.H|0,this.set(r,i,s,c,l,f,h,p)}roundClean(){Ph(Ro)}destroy(){this.set(0,0,0,0,0,0,0,0),Ph(this.buffer)}};const Wq=KD(()=>new Zq);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const B3=BigInt(0),Wx=BigInt(1);function Dg(n){return n instanceof Uint8Array||ArrayBuffer.isView(n)&&n.constructor.name==="Uint8Array"}function k3(n){if(!Dg(n))throw new Error("Uint8Array expected")}function tg(n,e){if(typeof e!="boolean")throw new Error(n+" boolean expected, got "+e)}function Em(n){const e=n.toString(16);return e.length&1?"0"+e:e}function XD(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);return n===""?B3:BigInt("0x"+n)}const eR=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",Jq=Array.from({length:256},(n,e)=>e.toString(16).padStart(2,"0"));function ng(n){if(k3(n),eR)return n.toHex();let e="";for(let t=0;t<n.length;t++)e+=Jq[n[t]];return e}const sa={_0:48,_9:57,A:65,F:70,a:97,f:102};function _6(n){if(n>=sa._0&&n<=sa._9)return n-sa._0;if(n>=sa.A&&n<=sa.F)return n-(sa.A-10);if(n>=sa.a&&n<=sa.f)return n-(sa.a-10)}function Ry(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);if(eR)return Uint8Array.fromHex(n);const e=n.length,t=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(t);for(let i=0,s=0;i<t;i++,s+=2){const c=_6(n.charCodeAt(s)),l=_6(n.charCodeAt(s+1));if(c===void 0||l===void 0){const f=n[s]+n[s+1];throw new Error('hex string expected, got non-hex character "'+f+'" at index '+s)}r[i]=c*16+l}return r}function Yl(n){return XD(ng(n))}function tR(n){return k3(n),XD(ng(Uint8Array.from(n).reverse()))}function Rg(n,e){return Ry(n.toString(16).padStart(e*2,"0"))}function nR(n,e){return Rg(n,e).reverse()}function vi(n,e,t){let r;if(typeof e=="string")try{r=Ry(e)}catch(s){throw new Error(n+" must be hex string or Uint8Array, cause: "+s)}else if(Dg(e))r=Uint8Array.from(e);else throw new Error(n+" must be hex string or Uint8Array");const i=r.length;if(typeof t=="number"&&i!==t)throw new Error(n+" of length "+t+" expected, got "+i);return r}function By(...n){let e=0;for(let r=0;r<n.length;r++){const i=n[r];k3(i),e+=i.length}const t=new Uint8Array(e);for(let r=0,i=0;r<n.length;r++){const s=n[r];t.set(s,i),i+=s.length}return t}const Gv=n=>typeof n=="bigint"&&B3<=n;function P3(n,e,t){return Gv(n)&&Gv(e)&&Gv(t)&&e<=n&&n<t}function kf(n,e,t,r){if(!P3(e,t,r))throw new Error("expected valid "+n+": "+t+" <= n < "+r+", got "+e)}function Xq(n){let e;for(e=0;n>B3;n>>=Wx,e+=1);return e}const Nb=n=>(Wx<<BigInt(n))-Wx,Kv=n=>new Uint8Array(n),O6=n=>Uint8Array.from(n);function eV(n,e,t){if(typeof n!="number"||n<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof t!="function")throw new Error("hmacFn must be a function");let r=Kv(n),i=Kv(n),s=0;const c=()=>{r.fill(1),i.fill(0),s=0},l=(...g)=>t(i,r,...g),f=(g=Kv(0))=>{i=l(O6([0]),g),r=l(),g.length!==0&&(i=l(O6([1]),g),r=l())},h=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let g=0;const m=[];for(;g<e;){r=l();const b=r.slice();m.push(b),g+=r.length}return By(...m)};return(g,m)=>{c(),f(g);let b;for(;!(b=m(h()));)f();return c(),b}}const tV={bigint:n=>typeof n=="bigint",function:n=>typeof n=="function",boolean:n=>typeof n=="boolean",string:n=>typeof n=="string",stringOrUint8Array:n=>typeof n=="string"||Dg(n),isSafeInteger:n=>Number.isSafeInteger(n),array:n=>Array.isArray(n),field:(n,e)=>e.Fp.isValid(n),hash:n=>typeof n=="function"&&Number.isSafeInteger(n.outputLen)};function Ib(n,e,t={}){const r=(i,s,c)=>{const l=tV[s];if(typeof l!="function")throw new Error("invalid validator function");const f=n[i];if(!(c&&f===void 0)&&!l(f,n))throw new Error("param "+String(i)+" is invalid. Expected "+s+", got "+f)};for(const[i,s]of Object.entries(e))r(i,s,!1);for(const[i,s]of Object.entries(t))r(i,s,!0);return n}function C6(n){const e=new WeakMap;return(t,...r)=>{const i=e.get(t);if(i!==void 0)return i;const s=n(t,...r);return e.set(t,s),s}}function nV(n,e){if(D6(n)>e)throw new AV({givenSize:D6(n),maxSize:e})}const aa={zero:48,nine:57,A:65,F:70,a:97,f:102};function N6(n){if(n>=aa.zero&&n<=aa.nine)return n-aa.zero;if(n>=aa.A&&n<=aa.F)return n-(aa.A-10);if(n>=aa.a&&n<=aa.f)return n-(aa.a-10)}function rV(n,e={}){const{dir:t,size:r=32}=e;if(r===0)return n;if(n.length>r)throw new SV({size:n.length,targetSize:r,type:"Bytes"});const i=new Uint8Array(r);for(let s=0;s<r;s++){const c=t==="right";i[c?s:r-s-1]=n[c?s:n.length-s-1]}return i}function rR(n,e){if(Ec(n)>e)throw new dV({givenSize:Ec(n),maxSize:e})}function iV(n,e){if(typeof e=="number"&&e>0&&e>Ec(n)-1)throw new aR({offset:e,position:"start",size:Ec(n)})}function sV(n,e,t){if(typeof e=="number"&&typeof t=="number"&&Ec(n)!==t-e)throw new aR({offset:t,position:"end",size:Ec(n)})}function iR(n,e={}){const{dir:t,size:r=32}=e;if(r===0)return n;const i=n.replace("0x","");if(i.length>r*2)throw new pV({size:Math.ceil(i.length/2),targetSize:r,type:"Hex"});return`0x${i[t==="right"?"padEnd":"padStart"](r*2,"0")}`}const aV="#__bigint";function U3(n,e,t){return JSON.stringify(n,(r,i)=>typeof i=="bigint"?i.toString()+aV:i,t)}const oV=Array.from({length:256},(n,e)=>e.toString(16).padStart(2,"0"));function cV(n,e={}){const{strict:t=!1}=e;if(!n)throw new I6(n);if(typeof n!="string")throw new I6(n);if(t&&!/^0x[0-9a-fA-F]*$/.test(n))throw new T6(n);if(!n.startsWith("0x"))throw new T6(n)}function lV(...n){return`0x${n.reduce((e,t)=>e+t.replace("0x",""),"")}`}function M3(n){return n instanceof Uint8Array?ky(n):Array.isArray(n)?ky(new Uint8Array(n)):n}function ky(n,e={}){let t="";for(let i=0;i<n.length;i++)t+=oV[n[i]];const r=`0x${t}`;return typeof e.size=="number"?(rR(r,e.size),sR(r,e.size)):r}function Qv(n,e={}){const{signed:t,size:r}=e,i=BigInt(n);let s;r?t?s=(1n<<BigInt(r)*8n-1n)-1n:s=2n**(BigInt(r)*8n)-1n:typeof n=="number"&&(s=BigInt(Number.MAX_SAFE_INTEGER));const c=typeof s=="bigint"&&t?-s-1n:0;if(s&&i>s||i<c){const h=typeof n=="bigint"?"n":"";throw new hV({max:s?`${s}${h}`:void 0,min:`${c}${h}`,signed:t,size:r,value:`${n}${h}`})}const f=`0x${(t&&i<0?(1n<<BigInt(r*8))+BigInt(i):i).toString(16)}`;return r?uV(f,r):f}function uV(n,e){return iR(n,{dir:"left",size:e})}function sR(n,e){return iR(n,{dir:"right",size:e})}function ya(n,e,t,r={}){const{strict:i}=r;iV(n,e);const s=`0x${n.replace("0x","").slice((e??0)*2,(t??n.length)*2)}`;return i&&sV(s,e,t),s}function Ec(n){return Math.ceil((n.length-2)/2)}function fV(n,e={}){const{strict:t=!1}=e;try{return cV(n,{strict:t}),!0}catch{return!1}}let hV=class extends Qt{constructor({max:e,min:t,signed:r,size:i,value:s}){super(`Number \`${s}\` is not in safe${i?` ${i*8}-bit`:""}${r?" signed":" unsigned"} integer range ${e?`(\`${t}\` to \`${e}\`)`:`(above \`${t}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}};class I6 extends Qt{constructor(e){super(`Value \`${typeof e=="object"?U3(e):e}\` of type \`${typeof e}\` is an invalid hex type.`,{metaMessages:['Hex types must be represented as `"0x${string}"`.']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexTypeError"})}}class T6 extends Qt{constructor(e){super(`Value \`${e}\` is an invalid hex value.`,{metaMessages:['Hex values must start with `"0x"` and contain only hexadecimal characters (0-9, a-f, A-F).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexValueError"})}}let dV=class extends Qt{constructor({givenSize:e,maxSize:t}){super(`Size cannot exceed \`${t}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}},aR=class extends Qt{constructor({offset:e,position:t,size:r}){super(`Slice ${t==="start"?"starting":"ending"} at offset \`${e}\` is out-of-bounds (size: \`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SliceOffsetOutOfBoundsError"})}},pV=class extends Qt{constructor({size:e,targetSize:t,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}};const gV=new TextEncoder;function mV(n){if(!(n instanceof Uint8Array)){if(!n)throw new Am(n);if(typeof n!="object")throw new Am(n);if(!("BYTES_PER_ELEMENT"in n))throw new Am(n);if(n.BYTES_PER_ELEMENT!==1||n.constructor.name!=="Uint8Array")throw new Am(n)}}function yV(n){return n instanceof Uint8Array?n:typeof n=="string"?wV(n):bV(n)}function bV(n){return n instanceof Uint8Array?n:new Uint8Array(n)}function wV(n,e={}){const{size:t}=e;let r=n;t&&(rR(n,t),r=sR(n,t));let i=r.slice(2);i.length%2&&(i=`0${i}`);const s=i.length/2,c=new Uint8Array(s);for(let l=0,f=0;l<s;l++){const h=N6(i.charCodeAt(f++)),p=N6(i.charCodeAt(f++));if(h===void 0||p===void 0)throw new Qt(`Invalid byte sequence ("${i[f-2]}${i[f-1]}" in "${i}").`);c[l]=h*16+p}return c}function vV(n,e={}){const{size:t}=e,r=gV.encode(n);return typeof t=="number"?(nV(r,t),xV(r,t)):r}function xV(n,e){return rV(n,{dir:"right",size:e})}function D6(n){return n.length}function EV(n){try{return mV(n),!0}catch{return!1}}class Am extends Qt{constructor(e){super(`Value \`${typeof e=="object"?U3(e):e}\` of type \`${typeof e}\` is an invalid Bytes value.`,{metaMessages:["Bytes values must be of type `Bytes`."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.InvalidBytesTypeError"})}}let AV=class extends Qt{constructor({givenSize:e,maxSize:t}){super(`Size cannot exceed \`${t}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}},SV=class extends Qt{constructor({size:e,targetSize:t,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}};function oR(n,e={}){const{as:t=typeof n=="string"?"Hex":"Bytes"}=e,r=Qq(yV(n));return t==="Bytes"?r:ky(r)}let _V=class extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const t=super.get(e);return super.has(e)&&t!==void 0&&(this.delete(e),super.set(e,t)),t}set(e,t){if(super.set(e,t),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}};const OV={checksum:new _V(8192)},Yv=OV.checksum;function cR(n,e={}){const{compressed:t}=e,{prefix:r,x:i,y:s}=n;if(t===!1||typeof i=="bigint"&&typeof s=="bigint"){if(r!==4)throw new R6({prefix:r,cause:new RV});return}if(t===!0||typeof i=="bigint"&&typeof s>"u"){if(r!==3&&r!==2)throw new R6({prefix:r,cause:new DV});return}throw new TV({publicKey:n})}function CV(n){const e=(()=>{if(fV(n))return lR(n);if(EV(n))return NV(n);const{prefix:t,x:r,y:i}=n;return typeof r=="bigint"&&typeof i=="bigint"?{prefix:t??4,x:r,y:i}:{prefix:t,x:r}})();return cR(e),e}function NV(n){return lR(ky(n))}function lR(n){if(n.length!==132&&n.length!==130&&n.length!==68)throw new BV({publicKey:n});if(n.length===130){const r=BigInt(ya(n,0,32)),i=BigInt(ya(n,32,64));return{prefix:4,x:r,y:i}}if(n.length===132){const r=Number(ya(n,0,1)),i=BigInt(ya(n,1,33)),s=BigInt(ya(n,33,65));return{prefix:r,x:i,y:s}}const e=Number(ya(n,0,1)),t=BigInt(ya(n,1,33));return{prefix:e,x:t}}function IV(n,e={}){cR(n);const{prefix:t,x:r,y:i}=n,{includePrefix:s=!0}=e;return lV(s?Qv(t,{size:1}):"0x",Qv(r,{size:32}),typeof i=="bigint"?Qv(i,{size:32}):"0x")}class TV extends Qt{constructor({publicKey:e}){super(`Value \`${U3(e)}\` is not a valid public key.`,{metaMessages:["Public key must contain:","- an `x` and `prefix` value (compressed)","- an `x`, `y`, and `prefix` value (uncompressed)"]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidError"})}}class R6 extends Qt{constructor({prefix:e,cause:t}){super(`Prefix "${e}" is invalid.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidPrefixError"})}}class DV extends Qt{constructor(){super("Prefix must be 2 or 3 for compressed public keys."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidCompressedPrefixError"})}}class RV extends Qt{constructor(){super("Prefix must be 4 for uncompressed public keys."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidUncompressedPrefixError"})}}let BV=class extends Qt{constructor({publicKey:e}){super(`Value \`${e}\` is an invalid public key size.`,{metaMessages:["Expected: 33 bytes (compressed + prefix), 64 bytes (uncompressed) or 65 bytes (uncompressed + prefix).",`Received ${Ec(M3(e))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidSerializedSizeError"})}};const kV=/^0x[a-fA-F0-9]{40}$/;function uR(n,e={}){const{strict:t=!0}=e;if(!kV.test(n))throw new B6({address:n,cause:new MV});if(t){if(n.toLowerCase()===n)return;if(fR(n)!==n)throw new B6({address:n,cause:new LV})}}function fR(n){if(Yv.has(n))return Yv.get(n);uR(n,{strict:!1});const e=n.substring(2).toLowerCase(),t=oR(vV(e),{as:"Bytes"}),r=e.split("");for(let s=0;s<40;s+=2)t[s>>1]>>4>=8&&r[s]&&(r[s]=r[s].toUpperCase()),(t[s>>1]&15)>=8&&r[s+1]&&(r[s+1]=r[s+1].toUpperCase());const i=`0x${r.join("")}`;return Yv.set(n,i),i}function PV(n,e={}){const{checksum:t=!1}=e;return uR(n),t?fR(n):n}function UV(n,e={}){const t=oR(`0x${IV(n).slice(4)}`).substring(26);return PV(`0x${t}`,e)}let B6=class extends Qt{constructor({address:e,cause:t}){super(`Address "${e}" is invalid.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}};class MV extends Qt{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}}class LV extends Qt{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}}class hR extends R3{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,vq(e);const r=Cb(t);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(r.length>i?e.create().update(r).digest():r);for(let c=0;c<s.length;c++)s[c]^=54;this.iHash.update(s),this.oHash=e.create();for(let c=0;c<s.length;c++)s[c]^=106;this.oHash.update(s),Ph(s)}update(e){return kh(this),this.iHash.update(e),this}digestInto(e){kh(this),eu(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:r,finished:i,destroyed:s,blockLen:c,outputLen:l}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=c,e.outputLen=l,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const dR=(n,e,t)=>new hR(n,e).update(t).digest();dR.create=(n,e)=>new hR(n,e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Nr=BigInt(0),lr=BigInt(1),xl=BigInt(2),$V=BigInt(3),pR=BigInt(4),gR=BigInt(5),mR=BigInt(8);function Sr(n,e){const t=n%e;return t>=Nr?t:e+t}function hi(n,e,t){let r=n;for(;e-- >Nr;)r*=r,r%=t;return r}function Jx(n,e){if(n===Nr)throw new Error("invert: expected non-zero number");if(e<=Nr)throw new Error("invert: expected positive modulus, got "+e);let t=Sr(n,e),r=e,i=Nr,s=lr;for(;t!==Nr;){const l=r/t,f=r%t,h=i-s*l;r=t,t=f,i=s,s=h}if(r!==lr)throw new Error("invert: does not exist");return Sr(i,e)}function yR(n,e){const t=(n.ORDER+lr)/pR,r=n.pow(e,t);if(!n.eql(n.sqr(r),e))throw new Error("Cannot find square root");return r}function jV(n,e){const t=(n.ORDER-gR)/mR,r=n.mul(e,xl),i=n.pow(r,t),s=n.mul(e,i),c=n.mul(n.mul(s,xl),i),l=n.mul(s,n.sub(c,n.ONE));if(!n.eql(n.sqr(l),e))throw new Error("Cannot find square root");return l}function zV(n){if(n<BigInt(3))throw new Error("sqrt is not defined for small field");let e=n-lr,t=0;for(;e%xl===Nr;)e/=xl,t++;let r=xl;const i=L3(n);for(;k6(i,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(t===1)return yR;let s=i.pow(r,e);const c=(e+lr)/xl;return function(f,h){if(f.is0(h))return h;if(k6(f,h)!==1)throw new Error("Cannot find square root");let p=t,g=f.mul(f.ONE,s),m=f.pow(h,e),b=f.pow(h,c);for(;!f.eql(m,f.ONE);){if(f.is0(m))return f.ZERO;let w=1,x=f.sqr(m);for(;!f.eql(x,f.ONE);)if(w++,x=f.sqr(x),w===p)throw new Error("Cannot find square root");const S=lr<<BigInt(p-w-1),O=f.pow(g,S);p=w,g=f.sqr(O),m=f.mul(m,g),b=f.mul(b,O)}return b}}function HV(n){return n%pR===$V?yR:n%mR===gR?jV:zV(n)}const FV=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function qV(n){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},t=FV.reduce((r,i)=>(r[i]="function",r),e);return Ib(n,t)}function VV(n,e,t){if(t<Nr)throw new Error("invalid exponent, negatives unsupported");if(t===Nr)return n.ONE;if(t===lr)return e;let r=n.ONE,i=e;for(;t>Nr;)t&lr&&(r=n.mul(r,i)),i=n.sqr(i),t>>=lr;return r}function bR(n,e,t=!1){const r=new Array(e.length).fill(t?n.ZERO:void 0),i=e.reduce((c,l,f)=>n.is0(l)?c:(r[f]=c,n.mul(c,l)),n.ONE),s=n.inv(i);return e.reduceRight((c,l,f)=>n.is0(l)?c:(r[f]=n.mul(c,r[f]),n.mul(c,l)),s),r}function k6(n,e){const t=(n.ORDER-lr)/xl,r=n.pow(e,t),i=n.eql(r,n.ONE),s=n.eql(r,n.ZERO),c=n.eql(r,n.neg(n.ONE));if(!i&&!s&&!c)throw new Error("invalid Legendre symbol result");return i?1:s?0:-1}function wR(n,e){e!==void 0&&eg(e);const t=e!==void 0?e:n.toString(2).length,r=Math.ceil(t/8);return{nBitLength:t,nByteLength:r}}function L3(n,e,t=!1,r={}){if(n<=Nr)throw new Error("invalid field: expected ORDER > 0, got "+n);const{nBitLength:i,nByteLength:s}=wR(n,e);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let c;const l=Object.freeze({ORDER:n,isLE:t,BITS:i,BYTES:s,MASK:Nb(i),ZERO:Nr,ONE:lr,create:f=>Sr(f,n),isValid:f=>{if(typeof f!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof f);return Nr<=f&&f<n},is0:f=>f===Nr,isOdd:f=>(f&lr)===lr,neg:f=>Sr(-f,n),eql:(f,h)=>f===h,sqr:f=>Sr(f*f,n),add:(f,h)=>Sr(f+h,n),sub:(f,h)=>Sr(f-h,n),mul:(f,h)=>Sr(f*h,n),pow:(f,h)=>VV(l,f,h),div:(f,h)=>Sr(f*Jx(h,n),n),sqrN:f=>f*f,addN:(f,h)=>f+h,subN:(f,h)=>f-h,mulN:(f,h)=>f*h,inv:f=>Jx(f,n),sqrt:r.sqrt||(f=>(c||(c=HV(n)),c(l,f))),toBytes:f=>t?nR(f,s):Rg(f,s),fromBytes:f=>{if(f.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+f.length);return t?tR(f):Yl(f)},invertBatch:f=>bR(l,f),cmov:(f,h,p)=>p?h:f});return Object.freeze(l)}function vR(n){if(typeof n!="bigint")throw new Error("field order must be bigint");const e=n.toString(2).length;return Math.ceil(e/8)}function xR(n){const e=vR(n);return e+Math.ceil(e/2)}function GV(n,e,t=!1){const r=n.length,i=vR(e),s=xR(e);if(r<16||r<s||r>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+r);const c=t?tR(n):Yl(n),l=Sr(c,e-lr)+lr;return t?nR(l,i):Rg(l,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const P6=BigInt(0),Xx=BigInt(1);function Zv(n,e){const t=e.negate();return n?t:e}function ER(n,e){if(!Number.isSafeInteger(n)||n<=0||n>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+n)}function Wv(n,e){ER(n,e);const t=Math.ceil(e/n)+1,r=2**(n-1),i=2**n,s=Nb(n),c=BigInt(n);return{windows:t,windowSize:r,mask:s,maxNumber:i,shiftBy:c}}function U6(n,e,t){const{windowSize:r,mask:i,maxNumber:s,shiftBy:c}=t;let l=Number(n&i),f=n>>c;l>r&&(l-=s,f+=Xx);const h=e*r,p=h+Math.abs(l)-1,g=l===0,m=l<0,b=e%2!==0;return{nextN:f,offset:p,isZero:g,isNeg:m,isNegF:b,offsetF:h}}function KV(n,e){if(!Array.isArray(n))throw new Error("array expected");n.forEach((t,r)=>{if(!(t instanceof e))throw new Error("invalid point at index "+r)})}function QV(n,e){if(!Array.isArray(n))throw new Error("array of scalars expected");n.forEach((t,r)=>{if(!e.isValid(t))throw new Error("invalid scalar at index "+r)})}const Jv=new WeakMap,AR=new WeakMap;function Xv(n){return AR.get(n)||1}function YV(n,e){return{constTimeNegate:Zv,hasPrecomputes(t){return Xv(t)!==1},unsafeLadder(t,r,i=n.ZERO){let s=t;for(;r>P6;)r&Xx&&(i=i.add(s)),s=s.double(),r>>=Xx;return i},precomputeWindow(t,r){const{windows:i,windowSize:s}=Wv(r,e),c=[];let l=t,f=l;for(let h=0;h<i;h++){f=l,c.push(f);for(let p=1;p<s;p++)f=f.add(l),c.push(f);l=f.double()}return c},wNAF(t,r,i){let s=n.ZERO,c=n.BASE;const l=Wv(t,e);for(let f=0;f<l.windows;f++){const{nextN:h,offset:p,isZero:g,isNeg:m,isNegF:b,offsetF:w}=U6(i,f,l);i=h,g?c=c.add(Zv(b,r[w])):s=s.add(Zv(m,r[p]))}return{p:s,f:c}},wNAFUnsafe(t,r,i,s=n.ZERO){const c=Wv(t,e);for(let l=0;l<c.windows&&i!==P6;l++){const{nextN:f,offset:h,isZero:p,isNeg:g}=U6(i,l,c);if(i=f,!p){const m=r[h];s=s.add(g?m.negate():m)}}return s},getPrecomputes(t,r,i){let s=Jv.get(r);return s||(s=this.precomputeWindow(r,t),t!==1&&Jv.set(r,i(s))),s},wNAFCached(t,r,i){const s=Xv(t);return this.wNAF(s,this.getPrecomputes(s,t,i),r)},wNAFCachedUnsafe(t,r,i,s){const c=Xv(t);return c===1?this.unsafeLadder(t,r,s):this.wNAFUnsafe(c,this.getPrecomputes(c,t,i),r,s)},setWindowSize(t,r){ER(r,e),AR.set(t,r),Jv.delete(t)}}}function ZV(n,e,t,r){KV(t,n),QV(r,e);const i=t.length,s=r.length;if(i!==s)throw new Error("arrays of points and scalars must have equal length");const c=n.ZERO,l=Xq(BigInt(i));let f=1;l>12?f=l-3:l>4?f=l-2:l>0&&(f=2);const h=Nb(f),p=new Array(Number(h)+1).fill(c),g=Math.floor((e.BITS-1)/f)*f;let m=c;for(let b=g;b>=0;b-=f){p.fill(c);for(let x=0;x<s;x++){const S=r[x],O=Number(S>>BigInt(b)&h);p[O]=p[O].add(t[x])}let w=c;for(let x=p.length-1,S=c;x>0;x--)S=S.add(p[x]),w=w.add(S);if(m=m.add(w),b!==0)for(let x=0;x<f;x++)m=m.double()}return m}function SR(n){return qV(n.Fp),Ib(n,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...wR(n.n,n.nBitLength),...n,p:n.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function M6(n){n.lowS!==void 0&&tg("lowS",n.lowS),n.prehash!==void 0&&tg("prehash",n.prehash)}function WV(n){const e=SR(n);Ib(e,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});const{endo:t,Fp:r,a:i}=e;if(t){if(!r.eql(i,r.ZERO))throw new Error("invalid endo: CURVE.a must be 0");if(typeof t!="object"||typeof t.beta!="bigint"||typeof t.splitScalar!="function")throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze({...e})}class JV extends Error{constructor(e=""){super(e)}}const va={Err:JV,_tlv:{encode:(n,e)=>{const{Err:t}=va;if(n<0||n>256)throw new t("tlv.encode: wrong tag");if(e.length&1)throw new t("tlv.encode: unpadded data");const r=e.length/2,i=Em(r);if(i.length/2&128)throw new t("tlv.encode: long form length too big");const s=r>127?Em(i.length/2|128):"";return Em(n)+s+i+e},decode(n,e){const{Err:t}=va;let r=0;if(n<0||n>256)throw new t("tlv.encode: wrong tag");if(e.length<2||e[r++]!==n)throw new t("tlv.decode: wrong tlv");const i=e[r++],s=!!(i&128);let c=0;if(!s)c=i;else{const f=i&127;if(!f)throw new t("tlv.decode(long): indefinite length not supported");if(f>4)throw new t("tlv.decode(long): byte length is too big");const h=e.subarray(r,r+f);if(h.length!==f)throw new t("tlv.decode: length bytes not complete");if(h[0]===0)throw new t("tlv.decode(long): zero leftmost byte");for(const p of h)c=c<<8|p;if(r+=f,c<128)throw new t("tlv.decode(long): not minimal encoding")}const l=e.subarray(r,r+c);if(l.length!==c)throw new t("tlv.decode: wrong value length");return{v:l,l:e.subarray(r+c)}}},_int:{encode(n){const{Err:e}=va;if(n<Ua)throw new e("integer: negative integers are not allowed");let t=Em(n);if(Number.parseInt(t[0],16)&8&&(t="00"+t),t.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return t},decode(n){const{Err:e}=va;if(n[0]&128)throw new e("invalid signature integer: negative");if(n[0]===0&&!(n[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return Yl(n)}},toSig(n){const{Err:e,_int:t,_tlv:r}=va,i=vi("signature",n),{v:s,l:c}=r.decode(48,i);if(c.length)throw new e("invalid signature: left bytes after parsing");const{v:l,l:f}=r.decode(2,s),{v:h,l:p}=r.decode(2,f);if(p.length)throw new e("invalid signature: left bytes after parsing");return{r:t.decode(l),s:t.decode(h)}},hexFromSig(n){const{_tlv:e,_int:t}=va,r=e.encode(2,t.encode(n.r)),i=e.encode(2,t.encode(n.s)),s=r+i;return e.encode(48,s)}};function e2(n,e){return ng(Rg(n,e))}const Ua=BigInt(0),vn=BigInt(1);BigInt(2);const t2=BigInt(3),XV=BigInt(4);function eG(n){const e=WV(n),{Fp:t}=e,r=L3(e.n,e.nBitLength),i=e.toBytes||((_,I,N)=>{const U=I.toAffine();return By(Uint8Array.from([4]),t.toBytes(U.x),t.toBytes(U.y))}),s=e.fromBytes||(_=>{const I=_.subarray(1),N=t.fromBytes(I.subarray(0,t.BYTES)),U=t.fromBytes(I.subarray(t.BYTES,2*t.BYTES));return{x:N,y:U}});function c(_){const{a:I,b:N}=e,U=t.sqr(_),z=t.mul(U,_);return t.add(t.add(z,t.mul(_,I)),N)}function l(_,I){const N=t.sqr(I),U=c(_);return t.eql(N,U)}if(!l(e.Gx,e.Gy))throw new Error("bad curve params: generator point");const f=t.mul(t.pow(e.a,t2),XV),h=t.mul(t.sqr(e.b),BigInt(27));if(t.is0(t.add(f,h)))throw new Error("bad curve params: a or b");function p(_){return P3(_,vn,e.n)}function g(_){const{allowedPrivateKeyLengths:I,nByteLength:N,wrapPrivateKey:U,n:z}=e;if(I&&typeof _!="bigint"){if(Dg(_)&&(_=ng(_)),typeof _!="string"||!I.includes(_.length))throw new Error("invalid private key");_=_.padStart(N*2,"0")}let M;try{M=typeof _=="bigint"?_:Yl(vi("private key",_,N))}catch{throw new Error("invalid private key, expected hex or "+N+" bytes, got "+typeof _)}return U&&(M=Sr(M,z)),kf("private key",M,vn,z),M}function m(_){if(!(_ instanceof x))throw new Error("ProjectivePoint expected")}const b=C6((_,I)=>{const{px:N,py:U,pz:z}=_;if(t.eql(z,t.ONE))return{x:N,y:U};const M=_.is0();I==null&&(I=M?t.ONE:t.inv(z));const L=t.mul(N,I),F=t.mul(U,I),q=t.mul(z,I);if(M)return{x:t.ZERO,y:t.ZERO};if(!t.eql(q,t.ONE))throw new Error("invZ was invalid");return{x:L,y:F}}),w=C6(_=>{if(_.is0()){if(e.allowInfinityPoint&&!t.is0(_.py))return;throw new Error("bad point: ZERO")}const{x:I,y:N}=_.toAffine();if(!t.isValid(I)||!t.isValid(N))throw new Error("bad point: x or y not FE");if(!l(I,N))throw new Error("bad point: equation left != right");if(!_.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class x{constructor(I,N,U){if(I==null||!t.isValid(I))throw new Error("x required");if(N==null||!t.isValid(N)||t.is0(N))throw new Error("y required");if(U==null||!t.isValid(U))throw new Error("z required");this.px=I,this.py=N,this.pz=U,Object.freeze(this)}static fromAffine(I){const{x:N,y:U}=I||{};if(!I||!t.isValid(N)||!t.isValid(U))throw new Error("invalid affine point");if(I instanceof x)throw new Error("projective point not allowed");const z=M=>t.eql(M,t.ZERO);return z(N)&&z(U)?x.ZERO:new x(N,U,t.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(I){const N=bR(t,I.map(U=>U.pz));return I.map((U,z)=>U.toAffine(N[z])).map(x.fromAffine)}static fromHex(I){const N=x.fromAffine(s(vi("pointHex",I)));return N.assertValidity(),N}static fromPrivateKey(I){return x.BASE.multiply(g(I))}static msm(I,N){return ZV(x,r,I,N)}_setWindowSize(I){T.setWindowSize(this,I)}assertValidity(){w(this)}hasEvenY(){const{y:I}=this.toAffine();if(t.isOdd)return!t.isOdd(I);throw new Error("Field doesn't support isOdd")}equals(I){m(I);const{px:N,py:U,pz:z}=this,{px:M,py:L,pz:F}=I,q=t.eql(t.mul(N,F),t.mul(M,z)),Q=t.eql(t.mul(U,F),t.mul(L,z));return q&&Q}negate(){return new x(this.px,t.neg(this.py),this.pz)}double(){const{a:I,b:N}=e,U=t.mul(N,t2),{px:z,py:M,pz:L}=this;let F=t.ZERO,q=t.ZERO,Q=t.ZERO,G=t.mul(z,z),W=t.mul(M,M),A=t.mul(L,L),E=t.mul(z,M);return E=t.add(E,E),Q=t.mul(z,L),Q=t.add(Q,Q),F=t.mul(I,Q),q=t.mul(U,A),q=t.add(F,q),F=t.sub(W,q),q=t.add(W,q),q=t.mul(F,q),F=t.mul(E,F),Q=t.mul(U,Q),A=t.mul(I,A),E=t.sub(G,A),E=t.mul(I,E),E=t.add(E,Q),Q=t.add(G,G),G=t.add(Q,G),G=t.add(G,A),G=t.mul(G,E),q=t.add(q,G),A=t.mul(M,L),A=t.add(A,A),G=t.mul(A,E),F=t.sub(F,G),Q=t.mul(A,W),Q=t.add(Q,Q),Q=t.add(Q,Q),new x(F,q,Q)}add(I){m(I);const{px:N,py:U,pz:z}=this,{px:M,py:L,pz:F}=I;let q=t.ZERO,Q=t.ZERO,G=t.ZERO;const W=e.a,A=t.mul(e.b,t2);let E=t.mul(N,M),P=t.mul(U,L),$=t.mul(z,F),R=t.add(N,U),C=t.add(M,L);R=t.mul(R,C),C=t.add(E,P),R=t.sub(R,C),C=t.add(N,z);let H=t.add(M,F);return C=t.mul(C,H),H=t.add(E,$),C=t.sub(C,H),H=t.add(U,z),q=t.add(L,F),H=t.mul(H,q),q=t.add(P,$),H=t.sub(H,q),G=t.mul(W,C),q=t.mul(A,$),G=t.add(q,G),q=t.sub(P,G),G=t.add(P,G),Q=t.mul(q,G),P=t.add(E,E),P=t.add(P,E),$=t.mul(W,$),C=t.mul(A,C),P=t.add(P,$),$=t.sub(E,$),$=t.mul(W,$),C=t.add(C,$),E=t.mul(P,C),Q=t.add(Q,E),E=t.mul(H,C),q=t.mul(R,q),q=t.sub(q,E),E=t.mul(R,P),G=t.mul(H,G),G=t.add(G,E),new x(q,Q,G)}subtract(I){return this.add(I.negate())}is0(){return this.equals(x.ZERO)}wNAF(I){return T.wNAFCached(this,I,x.normalizeZ)}multiplyUnsafe(I){const{endo:N,n:U}=e;kf("scalar",I,Ua,U);const z=x.ZERO;if(I===Ua)return z;if(this.is0()||I===vn)return this;if(!N||T.hasPrecomputes(this))return T.wNAFCachedUnsafe(this,I,x.normalizeZ);let{k1neg:M,k1:L,k2neg:F,k2:q}=N.splitScalar(I),Q=z,G=z,W=this;for(;L>Ua||q>Ua;)L&vn&&(Q=Q.add(W)),q&vn&&(G=G.add(W)),W=W.double(),L>>=vn,q>>=vn;return M&&(Q=Q.negate()),F&&(G=G.negate()),G=new x(t.mul(G.px,N.beta),G.py,G.pz),Q.add(G)}multiply(I){const{endo:N,n:U}=e;kf("scalar",I,vn,U);let z,M;if(N){const{k1neg:L,k1:F,k2neg:q,k2:Q}=N.splitScalar(I);let{p:G,f:W}=this.wNAF(F),{p:A,f:E}=this.wNAF(Q);G=T.constTimeNegate(L,G),A=T.constTimeNegate(q,A),A=new x(t.mul(A.px,N.beta),A.py,A.pz),z=G.add(A),M=W.add(E)}else{const{p:L,f:F}=this.wNAF(I);z=L,M=F}return x.normalizeZ([z,M])[0]}multiplyAndAddUnsafe(I,N,U){const z=x.BASE,M=(F,q)=>q===Ua||q===vn||!F.equals(z)?F.multiplyUnsafe(q):F.multiply(q),L=M(this,N).add(M(I,U));return L.is0()?void 0:L}toAffine(I){return b(this,I)}isTorsionFree(){const{h:I,isTorsionFree:N}=e;if(I===vn)return!0;if(N)return N(x,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:I,clearCofactor:N}=e;return I===vn?this:N?N(x,this):this.multiplyUnsafe(e.h)}toRawBytes(I=!0){return tg("isCompressed",I),this.assertValidity(),i(x,this,I)}toHex(I=!0){return tg("isCompressed",I),ng(this.toRawBytes(I))}}x.BASE=new x(e.Gx,e.Gy,t.ONE),x.ZERO=new x(t.ZERO,t.ONE,t.ZERO);const{endo:S,nBitLength:O}=e,T=YV(x,S?Math.ceil(O/2):O);return{CURVE:e,ProjectivePoint:x,normPrivateKeyToScalar:g,weierstrassEquation:c,isWithinCurveOrder:p}}function tG(n){const e=SR(n);return Ib(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function nG(n){const e=tG(n),{Fp:t,n:r,nByteLength:i,nBitLength:s}=e,c=t.BYTES+1,l=2*t.BYTES+1;function f(A){return Sr(A,r)}function h(A){return Jx(A,r)}const{ProjectivePoint:p,normPrivateKeyToScalar:g,weierstrassEquation:m,isWithinCurveOrder:b}=eG({...e,toBytes(A,E,P){const $=E.toAffine(),R=t.toBytes($.x),C=By;return tg("isCompressed",P),P?C(Uint8Array.from([E.hasEvenY()?2:3]),R):C(Uint8Array.from([4]),R,t.toBytes($.y))},fromBytes(A){const E=A.length,P=A[0],$=A.subarray(1);if(E===c&&(P===2||P===3)){const R=Yl($);if(!P3(R,vn,t.ORDER))throw new Error("Point is not on curve");const C=m(R);let H;try{H=t.sqrt(C)}catch(Y){const se=Y instanceof Error?": "+Y.message:"";throw new Error("Point is not on curve"+se)}const K=(H&vn)===vn;return(P&1)===1!==K&&(H=t.neg(H)),{x:R,y:H}}else if(E===l&&P===4){const R=t.fromBytes($.subarray(0,t.BYTES)),C=t.fromBytes($.subarray(t.BYTES,2*t.BYTES));return{x:R,y:C}}else{const R=c,C=l;throw new Error("invalid Point, expected length of "+R+", or uncompressed "+C+", got "+E)}}});function w(A){const E=r>>vn;return A>E}function x(A){return w(A)?f(-A):A}const S=(A,E,P)=>Yl(A.slice(E,P));class O{constructor(E,P,$){kf("r",E,vn,r),kf("s",P,vn,r),this.r=E,this.s=P,$!=null&&(this.recovery=$),Object.freeze(this)}static fromCompact(E){const P=i;return E=vi("compactSignature",E,P*2),new O(S(E,0,P),S(E,P,2*P))}static fromDER(E){const{r:P,s:$}=va.toSig(vi("DER",E));return new O(P,$)}assertValidity(){}addRecoveryBit(E){return new O(this.r,this.s,E)}recoverPublicKey(E){const{r:P,s:$,recovery:R}=this,C=z(vi("msgHash",E));if(R==null||![0,1,2,3].includes(R))throw new Error("recovery id invalid");const H=R===2||R===3?P+e.n:P;if(H>=t.ORDER)throw new Error("recovery id 2 or 3 invalid");const K=(R&1)===0?"02":"03",J=p.fromHex(K+e2(H,t.BYTES)),Y=h(H),se=f(-C*Y),ue=f($*Y),ge=p.BASE.multiplyAndAddUnsafe(J,se,ue);if(!ge)throw new Error("point at infinify");return ge.assertValidity(),ge}hasHighS(){return w(this.s)}normalizeS(){return this.hasHighS()?new O(this.r,f(-this.s),this.recovery):this}toDERRawBytes(){return Ry(this.toDERHex())}toDERHex(){return va.hexFromSig(this)}toCompactRawBytes(){return Ry(this.toCompactHex())}toCompactHex(){const E=i;return e2(this.r,E)+e2(this.s,E)}}const T={isValidPrivateKey(A){try{return g(A),!0}catch{return!1}},normPrivateKeyToScalar:g,randomPrivateKey:()=>{const A=xR(e.n);return GV(e.randomBytes(A),e.n)},precompute(A=8,E=p.BASE){return E._setWindowSize(A),E.multiply(BigInt(3)),E}};function _(A,E=!0){return p.fromPrivateKey(A).toRawBytes(E)}function I(A){if(typeof A=="bigint")return!1;if(A instanceof p)return!0;const P=vi("key",A).length,$=t.BYTES,R=$+1,C=2*$+1;if(!(e.allowedPrivateKeyLengths||i===R))return P===R||P===C}function N(A,E,P=!0){if(I(A)===!0)throw new Error("first arg must be private key");if(I(E)===!1)throw new Error("second arg must be public key");return p.fromHex(E).multiply(g(A)).toRawBytes(P)}const U=e.bits2int||function(A){if(A.length>8192)throw new Error("input is too large");const E=Yl(A),P=A.length*8-s;return P>0?E>>BigInt(P):E},z=e.bits2int_modN||function(A){return f(U(A))},M=Nb(s);function L(A){return kf("num < 2^"+s,A,Ua,M),Rg(A,i)}function F(A,E,P=q){if(["recovered","canonical"].some(be=>be in P))throw new Error("sign() legacy options not supported");const{hash:$,randomBytes:R}=e;let{lowS:C,prehash:H,extraEntropy:K}=P;C==null&&(C=!0),A=vi("msgHash",A),M6(P),H&&(A=vi("prehashed msgHash",$(A)));const J=z(A),Y=g(E),se=[L(Y),L(J)];if(K!=null&&K!==!1){const be=K===!0?R(t.BYTES):K;se.push(vi("extraEntropy",be))}const ue=By(...se),ge=J;function xe(be){const Se=U(be);if(!b(Se))return;const Pe=h(Se),Me=p.BASE.multiply(Se).toAffine(),Qe=f(Me.x);if(Qe===Ua)return;const at=f(Pe*f(ge+Qe*Y));if(at===Ua)return;let Sn=(Me.x===Qe?0:2)|Number(Me.y&vn),$n=at;return C&&w(at)&&($n=x(at),Sn^=1),new O(Qe,$n,Sn)}return{seed:ue,k2sig:xe}}const q={lowS:e.lowS,prehash:!1},Q={lowS:e.lowS,prehash:!1};function G(A,E,P=q){const{seed:$,k2sig:R}=F(A,E,P),C=e;return eV(C.hash.outputLen,C.nByteLength,C.hmac)($,R)}p.BASE._setWindowSize(8);function W(A,E,P,$=Q){var Sn;const R=A;E=vi("msgHash",E),P=vi("publicKey",P);const{lowS:C,prehash:H,format:K}=$;if(M6($),"strict"in $)throw new Error("options.strict was renamed to lowS");if(K!==void 0&&K!=="compact"&&K!=="der")throw new Error("format must be compact or der");const J=typeof R=="string"||Dg(R),Y=!J&&!K&&typeof R=="object"&&R!==null&&typeof R.r=="bigint"&&typeof R.s=="bigint";if(!J&&!Y)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let se,ue;try{if(Y&&(se=new O(R.r,R.s)),J){try{K!=="compact"&&(se=O.fromDER(R))}catch($n){if(!($n instanceof va.Err))throw $n}!se&&K!=="der"&&(se=O.fromCompact(R))}ue=p.fromHex(P)}catch{return!1}if(!se||C&&se.hasHighS())return!1;H&&(E=e.hash(E));const{r:ge,s:xe}=se,be=z(E),Se=h(xe),Pe=f(be*Se),Me=f(ge*Se),Qe=(Sn=p.BASE.multiplyAndAddUnsafe(ue,Pe,Me))==null?void 0:Sn.toAffine();return Qe?f(Qe.x)===ge:!1}return{CURVE:e,getPublicKey:_,getSharedSecret:N,sign:G,verify:W,ProjectivePoint:p,Signature:O,utils:T}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function rG(n){return{hash:n,hmac:(e,...t)=>dR(n,e,Oq(...t)),randomBytes:Cq}}function iG(n,e){const t=r=>nG({...n,...rG(r)});return{...t(e),create:t}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _R=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),L6=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),sG=BigInt(0),aG=BigInt(1),eE=BigInt(2),$6=(n,e)=>(n+e/eE)/e;function oG(n){const e=_R,t=BigInt(3),r=BigInt(6),i=BigInt(11),s=BigInt(22),c=BigInt(23),l=BigInt(44),f=BigInt(88),h=n*n*n%e,p=h*h*n%e,g=hi(p,t,e)*p%e,m=hi(g,t,e)*p%e,b=hi(m,eE,e)*h%e,w=hi(b,i,e)*b%e,x=hi(w,s,e)*w%e,S=hi(x,l,e)*x%e,O=hi(S,f,e)*S%e,T=hi(O,l,e)*x%e,_=hi(T,t,e)*p%e,I=hi(_,c,e)*w%e,N=hi(I,r,e)*h%e,U=hi(N,eE,e);if(!tE.eql(tE.sqr(U),n))throw new Error("Cannot find square root");return U}const tE=L3(_R,void 0,void 0,{sqrt:oG}),cG=iG({a:sG,b:BigInt(7),Fp:tE,n:L6,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:n=>{const e=L6,t=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-aG*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=t,c=BigInt("0x100000000000000000000000000000000"),l=$6(s*n,e),f=$6(-r*n,e);let h=Sr(n-l*t-f*i,e),p=Sr(-l*r-f*s,e);const g=h>c,m=p>c;if(g&&(h=e-h),m&&(p=e-p),h>c||p>c)throw new Error("splitScalar: Endomorphism failed, k="+n);return{k1neg:g,k1:h,k2neg:m,k2:p}}}},Wq);function lG(n){if(n.length!==130&&n.length!==132)throw new fG({signature:n});const e=BigInt(ya(n,0,32)),t=BigInt(ya(n,32,64)),r=(()=>{const i=+`0x${n.slice(130)}`;if(!Number.isNaN(i))try{return uG(i)}catch{throw new hG({value:i})}})();return typeof r>"u"?{r:e,s:t}:{r:e,s:t,yParity:r}}function uG(n){if(n===0||n===27)return 0;if(n===1||n===28)return 1;if(n>=35)return n%2===0?1:0;throw new dG({value:n})}class fG extends Qt{constructor({signature:e}){super(`Value \`${e}\` is an invalid signature size.`,{metaMessages:["Expected: 64 bytes or 65 bytes.",`Received ${Ec(M3(e))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSerializedSizeError"})}}class hG extends Qt{constructor({value:e}){super(`Value \`${e}\` is an invalid y-parity value. Y-parity must be 0 or 1.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidYParityError"})}}class dG extends Qt{constructor({value:e}){super(`Value \`${e}\` is an invalid v value. v must be 27, 28 or >=35.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidVError"})}}/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */function pG(n){return n instanceof Uint8Array||ArrayBuffer.isView(n)&&n.constructor.name==="Uint8Array"}function OR(n,e){return Array.isArray(e)?e.length===0?!0:n?e.every(t=>typeof t=="string"):e.every(t=>Number.isSafeInteger(t)):!1}function Py(n,e){if(typeof e!="string")throw new Error(`${n}: string expected`);return!0}function $3(n){if(!Number.isSafeInteger(n))throw new Error(`invalid integer: ${n}`)}function nE(n){if(!Array.isArray(n))throw new Error("array expected")}function Uy(n,e){if(!OR(!0,e))throw new Error(`${n}: array of strings expected`)}function gG(n,e){if(!OR(!1,e))throw new Error(`${n}: array of numbers expected`)}function mG(...n){const e=s=>s,t=(s,c)=>l=>s(c(l)),r=n.map(s=>s.encode).reduceRight(t,e),i=n.map(s=>s.decode).reduce(t,e);return{encode:r,decode:i}}function yG(n){const e=typeof n=="string"?n.split(""):n,t=e.length;Uy("alphabet",e);const r=new Map(e.map((i,s)=>[i,s]));return{encode:i=>(nE(i),i.map(s=>{if(!Number.isSafeInteger(s)||s<0||s>=t)throw new Error(`alphabet.encode: digit index outside alphabet "${s}". Allowed: ${n}`);return e[s]})),decode:i=>(nE(i),i.map(s=>{Py("alphabet.decode",s);const c=r.get(s);if(c===void 0)throw new Error(`Unknown letter: "${s}". Allowed: ${n}`);return c}))}}function bG(n=""){return Py("join",n),{encode:e=>(Uy("join.decode",e),e.join(n)),decode:e=>(Py("join.decode",e),e.split(n))}}function wG(n,e="="){return $3(n),Py("padding",e),{encode(t){for(Uy("padding.encode",t);t.length*n%8;)t.push(e);return t},decode(t){Uy("padding.decode",t);let r=t.length;if(r*n%8)throw new Error("padding: invalid, string should have whole number of bytes");for(;r>0&&t[r-1]===e;r--)if((r-1)*n%8===0)throw new Error("padding: invalid, string has too much padding");return t.slice(0,r)}}}const CR=(n,e)=>e===0?n:CR(e,n%e),My=(n,e)=>n+(e-CR(n,e)),n2=(()=>{let n=[];for(let e=0;e<40;e++)n.push(2**e);return n})();function j6(n,e,t,r){if(nE(n),e<=0||e>32)throw new Error(`convertRadix2: wrong from=${e}`);if(t<=0||t>32)throw new Error(`convertRadix2: wrong to=${t}`);if(My(e,t)>32)throw new Error(`convertRadix2: carry overflow from=${e} to=${t} carryBits=${My(e,t)}`);let i=0,s=0;const c=n2[e],l=n2[t]-1,f=[];for(const h of n){if($3(h),h>=c)throw new Error(`convertRadix2: invalid data word=${h} from=${e}`);if(i=i<<e|h,s+e>32)throw new Error(`convertRadix2: carry overflow pos=${s} from=${e}`);for(s+=e;s>=t;s-=t)f.push((i>>s-t&l)>>>0);const p=n2[s];if(p===void 0)throw new Error("invalid carry");i&=p-1}if(i=i<<t-s&l,!r&&s>=e)throw new Error("Excess padding");if(!r&&i>0)throw new Error(`Non-zero padding: ${i}`);return r&&s>0&&f.push(i>>>0),f}function vG(n,e=!1){if($3(n),n<=0||n>32)throw new Error("radix2: bits should be in (0..32]");if(My(8,n)>32||My(n,8)>32)throw new Error("radix2: carry overflow");return{encode:t=>{if(!pG(t))throw new Error("radix2.encode input should be Uint8Array");return j6(Array.from(t),8,n,!e)},decode:t=>(gG("radix2.decode",t),Uint8Array.from(j6(t,n,8,e)))}}const xG=mG(vG(5),yG("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),wG(5),bG(""));function EG(n){return UV(AG(n))}function AG(n){const{payload:e,signature:t}=n,{r,s:i,yParity:s}=t,l=new cG.Signature(BigInt(r),BigInt(i)).addRecoveryBit(s).recoverPublicKey(M3(e).substring(2));return CV(l)}function SG(n){if(n.length>=255)throw new TypeError("Alphabet too long");const e=new Uint8Array(256);for(let h=0;h<e.length;h++)e[h]=255;for(let h=0;h<n.length;h++){const p=n.charAt(h),g=p.charCodeAt(0);if(e[g]!==255)throw new TypeError(p+" is ambiguous");e[g]=h}const t=n.length,r=n.charAt(0),i=Math.log(t)/Math.log(256),s=Math.log(256)/Math.log(t);function c(h){if(h instanceof Uint8Array||(ArrayBuffer.isView(h)?h=new Uint8Array(h.buffer,h.byteOffset,h.byteLength):Array.isArray(h)&&(h=Uint8Array.from(h))),!(h instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(h.length===0)return"";let p=0,g=0,m=0;const b=h.length;for(;m!==b&&h[m]===0;)m++,p++;const w=(b-m)*s+1>>>0,x=new Uint8Array(w);for(;m!==b;){let T=h[m],_=0;for(let I=w-1;(T!==0||_<g)&&I!==-1;I--,_++)T+=256*x[I]>>>0,x[I]=T%t>>>0,T=T/t>>>0;if(T!==0)throw new Error("Non-zero carry");g=_,m++}let S=w-g;for(;S!==w&&x[S]===0;)S++;let O=r.repeat(p);for(;S<w;++S)O+=n.charAt(x[S]);return O}function l(h){if(typeof h!="string")throw new TypeError("Expected String");if(h.length===0)return new Uint8Array;let p=0,g=0,m=0;for(;h[p]===r;)g++,p++;const b=(h.length-p)*i+1>>>0,w=new Uint8Array(b);for(;p<h.length;){const T=h.charCodeAt(p);if(T>255)return;let _=e[T];if(_===255)return;let I=0;for(let N=b-1;(_!==0||I<m)&&N!==-1;N--,I++)_+=t*w[N]>>>0,w[N]=_%256>>>0,_=_/256>>>0;if(_!==0)throw new Error("Non-zero carry");m=I,p++}let x=b-m;for(;x!==b&&w[x]===0;)x++;const S=new Uint8Array(g+(b-x));let O=g;for(;x!==b;)S[O++]=w[x++];return S}function f(h){const p=l(h);if(p)return p;throw new Error("Non-base"+t+" character")}return{encode:c,decodeUnsafe:l,decode:f}}var _G="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";const Bg=SG(_G);function OG(n){const e=n.length;let t=0,r=0;for(;r<e;){let i=n.charCodeAt(r++);if((i&4294967168)===0){t++;continue}else if((i&4294965248)===0)t+=2;else{if(i>=55296&&i<=56319&&r<e){const s=n.charCodeAt(r);(s&64512)===56320&&(++r,i=((i&1023)<<10)+(s&1023)+65536)}(i&4294901760)===0?t+=3:t+=4}}return t}function CG(n,e,t){const r=n.length;let i=t,s=0;for(;s<r;){let c=n.charCodeAt(s++);if((c&4294967168)===0){e[i++]=c;continue}else if((c&4294965248)===0)e[i++]=c>>6&31|192;else{if(c>=55296&&c<=56319&&s<r){const l=n.charCodeAt(s);(l&64512)===56320&&(++s,c=((c&1023)<<10)+(l&1023)+65536)}(c&4294901760)===0?(e[i++]=c>>12&15|224,e[i++]=c>>6&63|128):(e[i++]=c>>18&7|240,e[i++]=c>>12&63|128,e[i++]=c>>6&63|128)}e[i++]=c&63|128}}const NG=new TextEncoder,IG=50;function TG(n,e,t){NG.encodeInto(n,e.subarray(t))}function DG(n,e,t){n.length>IG?TG(n,e,t):CG(n,e,t)}const RG=4096;function NR(n,e,t){let r=e;const i=r+t,s=[];let c="";for(;r<i;){const l=n[r++];if((l&128)===0)s.push(l);else if((l&224)===192){const f=n[r++]&63;s.push((l&31)<<6|f)}else if((l&240)===224){const f=n[r++]&63,h=n[r++]&63;s.push((l&31)<<12|f<<6|h)}else if((l&248)===240){const f=n[r++]&63,h=n[r++]&63,p=n[r++]&63;let g=(l&7)<<18|f<<12|h<<6|p;g>65535&&(g-=65536,s.push(g>>>10&1023|55296),g=56320|g&1023),s.push(g)}else s.push(l);s.length>=RG&&(c+=String.fromCharCode(...s),s.length=0)}return s.length>0&&(c+=String.fromCharCode(...s)),c}const BG=new TextDecoder,kG=200;function PG(n,e,t){const r=n.subarray(e,e+t);return BG.decode(r)}function UG(n,e,t){return t>kG?PG(n,e,t):NR(n,e,t)}class Sm{constructor(e,t){this.type=e,this.data=t}}class Zr extends Error{constructor(e){super(e);const t=Object.create(Zr.prototype);Object.setPrototypeOf(this,t),Object.defineProperty(this,"name",{configurable:!0,enumerable:!1,value:Zr.name})}}const sp=4294967295;function MG(n,e,t){const r=t/4294967296,i=t;n.setUint32(e,r),n.setUint32(e+4,i)}function IR(n,e,t){const r=Math.floor(t/4294967296),i=t;n.setUint32(e,r),n.setUint32(e+4,i)}function TR(n,e){const t=n.getInt32(e),r=n.getUint32(e+4);return t*4294967296+r}function LG(n,e){const t=n.getUint32(e),r=n.getUint32(e+4);return t*4294967296+r}const $G=-1,jG=4294967296-1,zG=17179869184-1;function HG({sec:n,nsec:e}){if(n>=0&&e>=0&&n<=zG)if(e===0&&n<=jG){const t=new Uint8Array(4);return new DataView(t.buffer).setUint32(0,n),t}else{const t=n/4294967296,r=n&4294967295,i=new Uint8Array(8),s=new DataView(i.buffer);return s.setUint32(0,e<<2|t&3),s.setUint32(4,r),i}else{const t=new Uint8Array(12),r=new DataView(t.buffer);return r.setUint32(0,e),IR(r,4,n),t}}function FG(n){const e=n.getTime(),t=Math.floor(e/1e3),r=(e-t*1e3)*1e6,i=Math.floor(r/1e9);return{sec:t+i,nsec:r-i*1e9}}function qG(n){if(n instanceof Date){const e=FG(n);return HG(e)}else return null}function VG(n){const e=new DataView(n.buffer,n.byteOffset,n.byteLength);switch(n.byteLength){case 4:return{sec:e.getUint32(0),nsec:0};case 8:{const t=e.getUint32(0),r=e.getUint32(4),i=(t&3)*4294967296+r,s=t>>>2;return{sec:i,nsec:s}}case 12:{const t=TR(e,4),r=e.getUint32(0);return{sec:t,nsec:r}}default:throw new Zr(`Unrecognized data size for timestamp (expected 4, 8, or 12): ${n.length}`)}}function GG(n){const e=VG(n);return new Date(e.sec*1e3+e.nsec/1e6)}const KG={type:$G,encode:qG,decode:GG};class Ly{constructor(){this.builtInEncoders=[],this.builtInDecoders=[],this.encoders=[],this.decoders=[],this.register(KG)}register({type:e,encode:t,decode:r}){if(e>=0)this.encoders[e]=t,this.decoders[e]=r;else{const i=-1-e;this.builtInEncoders[i]=t,this.builtInDecoders[i]=r}}tryToEncode(e,t){for(let r=0;r<this.builtInEncoders.length;r++){const i=this.builtInEncoders[r];if(i!=null){const s=i(e,t);if(s!=null){const c=-1-r;return new Sm(c,s)}}}for(let r=0;r<this.encoders.length;r++){const i=this.encoders[r];if(i!=null){const s=i(e,t);if(s!=null){const c=r;return new Sm(c,s)}}}return e instanceof Sm?e:null}decode(e,t,r){const i=t<0?this.builtInDecoders[-1-t]:this.decoders[t];return i?i(e,t,r):new Sm(t,e)}}Ly.defaultCodec=new Ly;function QG(n){return n instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&n instanceof SharedArrayBuffer}function rE(n){return n instanceof Uint8Array?n:ArrayBuffer.isView(n)?new Uint8Array(n.buffer,n.byteOffset,n.byteLength):QG(n)?new Uint8Array(n):Uint8Array.from(n)}const YG=100,ZG=2048;let WG=class DR{constructor(e){this.entered=!1,this.extensionCodec=(e==null?void 0:e.extensionCodec)??Ly.defaultCodec,this.context=e==null?void 0:e.context,this.useBigInt64=(e==null?void 0:e.useBigInt64)??!1,this.maxDepth=(e==null?void 0:e.maxDepth)??YG,this.initialBufferSize=(e==null?void 0:e.initialBufferSize)??ZG,this.sortKeys=(e==null?void 0:e.sortKeys)??!1,this.forceFloat32=(e==null?void 0:e.forceFloat32)??!1,this.ignoreUndefined=(e==null?void 0:e.ignoreUndefined)??!1,this.forceIntegerToFloat=(e==null?void 0:e.forceIntegerToFloat)??!1,this.pos=0,this.view=new DataView(new ArrayBuffer(this.initialBufferSize)),this.bytes=new Uint8Array(this.view.buffer)}clone(){return new DR({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,maxDepth:this.maxDepth,initialBufferSize:this.initialBufferSize,sortKeys:this.sortKeys,forceFloat32:this.forceFloat32,ignoreUndefined:this.ignoreUndefined,forceIntegerToFloat:this.forceIntegerToFloat})}reinitializeState(){this.pos=0}encodeSharedRef(e){if(this.entered)return this.clone().encodeSharedRef(e);try{return this.entered=!0,this.reinitializeState(),this.doEncode(e,1),this.bytes.subarray(0,this.pos)}finally{this.entered=!1}}encode(e){if(this.entered)return this.clone().encode(e);try{return this.entered=!0,this.reinitializeState(),this.doEncode(e,1),this.bytes.slice(0,this.pos)}finally{this.entered=!1}}doEncode(e,t){if(t>this.maxDepth)throw new Error(`Too deep objects in depth ${t}`);e==null?this.encodeNil():typeof e=="boolean"?this.encodeBoolean(e):typeof e=="number"?this.forceIntegerToFloat?this.encodeNumberAsFloat(e):this.encodeNumber(e):typeof e=="string"?this.encodeString(e):this.useBigInt64&&typeof e=="bigint"?this.encodeBigInt64(e):this.encodeObject(e,t)}ensureBufferSizeToWrite(e){const t=this.pos+e;this.view.byteLength<t&&this.resizeBuffer(t*2)}resizeBuffer(e){const t=new ArrayBuffer(e),r=new Uint8Array(t),i=new DataView(t);r.set(this.bytes),this.view=i,this.bytes=r}encodeNil(){this.writeU8(192)}encodeBoolean(e){e===!1?this.writeU8(194):this.writeU8(195)}encodeNumber(e){!this.forceIntegerToFloat&&Number.isSafeInteger(e)?e>=0?e<128?this.writeU8(e):e<256?(this.writeU8(204),this.writeU8(e)):e<65536?(this.writeU8(205),this.writeU16(e)):e<4294967296?(this.writeU8(206),this.writeU32(e)):this.useBigInt64?this.encodeNumberAsFloat(e):(this.writeU8(207),this.writeU64(e)):e>=-32?this.writeU8(224|e+32):e>=-128?(this.writeU8(208),this.writeI8(e)):e>=-32768?(this.writeU8(209),this.writeI16(e)):e>=-2147483648?(this.writeU8(210),this.writeI32(e)):this.useBigInt64?this.encodeNumberAsFloat(e):(this.writeU8(211),this.writeI64(e)):this.encodeNumberAsFloat(e)}encodeNumberAsFloat(e){this.forceFloat32?(this.writeU8(202),this.writeF32(e)):(this.writeU8(203),this.writeF64(e))}encodeBigInt64(e){e>=BigInt(0)?(this.writeU8(207),this.writeBigUint64(e)):(this.writeU8(211),this.writeBigInt64(e))}writeStringHeader(e){if(e<32)this.writeU8(160+e);else if(e<256)this.writeU8(217),this.writeU8(e);else if(e<65536)this.writeU8(218),this.writeU16(e);else if(e<4294967296)this.writeU8(219),this.writeU32(e);else throw new Error(`Too long string: ${e} bytes in UTF-8`)}encodeString(e){const r=OG(e);this.ensureBufferSizeToWrite(5+r),this.writeStringHeader(r),DG(e,this.bytes,this.pos),this.pos+=r}encodeObject(e,t){const r=this.extensionCodec.tryToEncode(e,this.context);if(r!=null)this.encodeExtension(r);else if(Array.isArray(e))this.encodeArray(e,t);else if(ArrayBuffer.isView(e))this.encodeBinary(e);else if(typeof e=="object")this.encodeMap(e,t);else throw new Error(`Unrecognized object: ${Object.prototype.toString.apply(e)}`)}encodeBinary(e){const t=e.byteLength;if(t<256)this.writeU8(196),this.writeU8(t);else if(t<65536)this.writeU8(197),this.writeU16(t);else if(t<4294967296)this.writeU8(198),this.writeU32(t);else throw new Error(`Too large binary: ${t}`);const r=rE(e);this.writeU8a(r)}encodeArray(e,t){const r=e.length;if(r<16)this.writeU8(144+r);else if(r<65536)this.writeU8(220),this.writeU16(r);else if(r<4294967296)this.writeU8(221),this.writeU32(r);else throw new Error(`Too large array: ${r}`);for(const i of e)this.doEncode(i,t+1)}countWithoutUndefined(e,t){let r=0;for(const i of t)e[i]!==void 0&&r++;return r}encodeMap(e,t){const r=Object.keys(e);this.sortKeys&&r.sort();const i=this.ignoreUndefined?this.countWithoutUndefined(e,r):r.length;if(i<16)this.writeU8(128+i);else if(i<65536)this.writeU8(222),this.writeU16(i);else if(i<4294967296)this.writeU8(223),this.writeU32(i);else throw new Error(`Too large map object: ${i}`);for(const s of r){const c=e[s];this.ignoreUndefined&&c===void 0||(this.encodeString(s),this.doEncode(c,t+1))}}encodeExtension(e){if(typeof e.data=="function"){const r=e.data(this.pos+6),i=r.length;if(i>=4294967296)throw new Error(`Too large extension object: ${i}`);this.writeU8(201),this.writeU32(i),this.writeI8(e.type),this.writeU8a(r);return}const t=e.data.length;if(t===1)this.writeU8(212);else if(t===2)this.writeU8(213);else if(t===4)this.writeU8(214);else if(t===8)this.writeU8(215);else if(t===16)this.writeU8(216);else if(t<256)this.writeU8(199),this.writeU8(t);else if(t<65536)this.writeU8(200),this.writeU16(t);else if(t<4294967296)this.writeU8(201),this.writeU32(t);else throw new Error(`Too large extension object: ${t}`);this.writeI8(e.type),this.writeU8a(e.data)}writeU8(e){this.ensureBufferSizeToWrite(1),this.view.setUint8(this.pos,e),this.pos++}writeU8a(e){const t=e.length;this.ensureBufferSizeToWrite(t),this.bytes.set(e,this.pos),this.pos+=t}writeI8(e){this.ensureBufferSizeToWrite(1),this.view.setInt8(this.pos,e),this.pos++}writeU16(e){this.ensureBufferSizeToWrite(2),this.view.setUint16(this.pos,e),this.pos+=2}writeI16(e){this.ensureBufferSizeToWrite(2),this.view.setInt16(this.pos,e),this.pos+=2}writeU32(e){this.ensureBufferSizeToWrite(4),this.view.setUint32(this.pos,e),this.pos+=4}writeI32(e){this.ensureBufferSizeToWrite(4),this.view.setInt32(this.pos,e),this.pos+=4}writeF32(e){this.ensureBufferSizeToWrite(4),this.view.setFloat32(this.pos,e),this.pos+=4}writeF64(e){this.ensureBufferSizeToWrite(8),this.view.setFloat64(this.pos,e),this.pos+=8}writeU64(e){this.ensureBufferSizeToWrite(8),MG(this.view,this.pos,e),this.pos+=8}writeI64(e){this.ensureBufferSizeToWrite(8),IR(this.view,this.pos,e),this.pos+=8}writeBigUint64(e){this.ensureBufferSizeToWrite(8),this.view.setBigUint64(this.pos,e),this.pos+=8}writeBigInt64(e){this.ensureBufferSizeToWrite(8),this.view.setBigInt64(this.pos,e),this.pos+=8}};function JG(n,e){return new WG(e).encodeSharedRef(n)}function r2(n){return`${n<0?"-":""}0x${Math.abs(n).toString(16).padStart(2,"0")}`}const XG=16,eK=16;class tK{constructor(e=XG,t=eK){this.hit=0,this.miss=0,this.maxKeyLength=e,this.maxLengthPerKey=t,this.caches=[];for(let r=0;r<this.maxKeyLength;r++)this.caches.push([])}canBeCached(e){return e>0&&e<=this.maxKeyLength}find(e,t,r){const i=this.caches[r-1];e:for(const s of i){const c=s.bytes;for(let l=0;l<r;l++)if(c[l]!==e[t+l])continue e;return s.str}return null}store(e,t){const r=this.caches[e.length-1],i={bytes:e,str:t};r.length>=this.maxLengthPerKey?r[Math.random()*r.length|0]=i:r.push(i)}decode(e,t,r){const i=this.find(e,t,r);if(i!=null)return this.hit++,i;this.miss++;const s=NR(e,t,r),c=Uint8Array.prototype.slice.call(e,t,t+r);return this.store(c,s),s}}const iE="array",Rp="map_key",RR="map_value",nK=n=>{if(typeof n=="string"||typeof n=="number")return n;throw new Zr("The type of key must be string or number but "+typeof n)};class rK{constructor(){this.stack=[],this.stackHeadPosition=-1}get length(){return this.stackHeadPosition+1}top(){return this.stack[this.stackHeadPosition]}pushArrayState(e){const t=this.getUninitializedStateFromPool();t.type=iE,t.position=0,t.size=e,t.array=new Array(e)}pushMapState(e){const t=this.getUninitializedStateFromPool();t.type=Rp,t.readCount=0,t.size=e,t.map={}}getUninitializedStateFromPool(){if(this.stackHeadPosition++,this.stackHeadPosition===this.stack.length){const e={type:void 0,size:0,array:void 0,position:0,readCount:0,map:void 0,key:null};this.stack.push(e)}return this.stack[this.stackHeadPosition]}release(e){if(this.stack[this.stackHeadPosition]!==e)throw new Error("Invalid stack state. Released state is not on top of the stack.");if(e.type===iE){const r=e;r.size=0,r.array=void 0,r.position=0,r.type=void 0}if(e.type===Rp||e.type===RR){const r=e;r.size=0,r.map=void 0,r.readCount=0,r.type=void 0}this.stackHeadPosition--}reset(){this.stack.length=0,this.stackHeadPosition=-1}}const ap=-1,j3=new DataView(new ArrayBuffer(0)),iK=new Uint8Array(j3.buffer);try{j3.getInt8(0)}catch(n){if(!(n instanceof RangeError))throw new Error("This module is not supported in the current JavaScript engine because DataView does not throw RangeError on out-of-bounds access")}const z6=new RangeError("Insufficient data"),sK=new tK;let aK=class BR{constructor(e){this.totalPos=0,this.pos=0,this.view=j3,this.bytes=iK,this.headByte=ap,this.stack=new rK,this.entered=!1,this.extensionCodec=(e==null?void 0:e.extensionCodec)??Ly.defaultCodec,this.context=e==null?void 0:e.context,this.useBigInt64=(e==null?void 0:e.useBigInt64)??!1,this.rawStrings=(e==null?void 0:e.rawStrings)??!1,this.maxStrLength=(e==null?void 0:e.maxStrLength)??sp,this.maxBinLength=(e==null?void 0:e.maxBinLength)??sp,this.maxArrayLength=(e==null?void 0:e.maxArrayLength)??sp,this.maxMapLength=(e==null?void 0:e.maxMapLength)??sp,this.maxExtLength=(e==null?void 0:e.maxExtLength)??sp,this.keyDecoder=(e==null?void 0:e.keyDecoder)!==void 0?e.keyDecoder:sK,this.mapKeyConverter=(e==null?void 0:e.mapKeyConverter)??nK}clone(){return new BR({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,rawStrings:this.rawStrings,maxStrLength:this.maxStrLength,maxBinLength:this.maxBinLength,maxArrayLength:this.maxArrayLength,maxMapLength:this.maxMapLength,maxExtLength:this.maxExtLength,keyDecoder:this.keyDecoder})}reinitializeState(){this.totalPos=0,this.headByte=ap,this.stack.reset()}setBuffer(e){const t=rE(e);this.bytes=t,this.view=new DataView(t.buffer,t.byteOffset,t.byteLength),this.pos=0}appendBuffer(e){if(this.headByte===ap&&!this.hasRemaining(1))this.setBuffer(e);else{const t=this.bytes.subarray(this.pos),r=rE(e),i=new Uint8Array(t.length+r.length);i.set(t),i.set(r,t.length),this.setBuffer(i)}}hasRemaining(e){return this.view.byteLength-this.pos>=e}createExtraByteError(e){const{view:t,pos:r}=this;return new RangeError(`Extra ${t.byteLength-r} of ${t.byteLength} byte(s) found at buffer[${e}]`)}decode(e){if(this.entered)return this.clone().decode(e);try{this.entered=!0,this.reinitializeState(),this.setBuffer(e);const t=this.doDecodeSync();if(this.hasRemaining(1))throw this.createExtraByteError(this.pos);return t}finally{this.entered=!1}}*decodeMulti(e){if(this.entered){yield*this.clone().decodeMulti(e);return}try{for(this.entered=!0,this.reinitializeState(),this.setBuffer(e);this.hasRemaining(1);)yield this.doDecodeSync()}finally{this.entered=!1}}async decodeAsync(e){if(this.entered)return this.clone().decodeAsync(e);try{this.entered=!0;let t=!1,r;for await(const l of e){if(t)throw this.entered=!1,this.createExtraByteError(this.totalPos);this.appendBuffer(l);try{r=this.doDecodeSync(),t=!0}catch(f){if(!(f instanceof RangeError))throw f}this.totalPos+=this.pos}if(t){if(this.hasRemaining(1))throw this.createExtraByteError(this.totalPos);return r}const{headByte:i,pos:s,totalPos:c}=this;throw new RangeError(`Insufficient data in parsing ${r2(i)} at ${c} (${s} in the current buffer)`)}finally{this.entered=!1}}decodeArrayStream(e){return this.decodeMultiAsync(e,!0)}decodeStream(e){return this.decodeMultiAsync(e,!1)}async*decodeMultiAsync(e,t){if(this.entered){yield*this.clone().decodeMultiAsync(e,t);return}try{this.entered=!0;let r=t,i=-1;for await(const s of e){if(t&&i===0)throw this.createExtraByteError(this.totalPos);this.appendBuffer(s),r&&(i=this.readArraySize(),r=!1,this.complete());try{for(;yield this.doDecodeSync(),--i!==0;);}catch(c){if(!(c instanceof RangeError))throw c}this.totalPos+=this.pos}}finally{this.entered=!1}}doDecodeSync(){e:for(;;){const e=this.readHeadByte();let t;if(e>=224)t=e-256;else if(e<192)if(e<128)t=e;else if(e<144){const i=e-128;if(i!==0){this.pushMapState(i),this.complete();continue e}else t={}}else if(e<160){const i=e-144;if(i!==0){this.pushArrayState(i),this.complete();continue e}else t=[]}else{const i=e-160;t=this.decodeString(i,0)}else if(e===192)t=null;else if(e===194)t=!1;else if(e===195)t=!0;else if(e===202)t=this.readF32();else if(e===203)t=this.readF64();else if(e===204)t=this.readU8();else if(e===205)t=this.readU16();else if(e===206)t=this.readU32();else if(e===207)this.useBigInt64?t=this.readU64AsBigInt():t=this.readU64();else if(e===208)t=this.readI8();else if(e===209)t=this.readI16();else if(e===210)t=this.readI32();else if(e===211)this.useBigInt64?t=this.readI64AsBigInt():t=this.readI64();else if(e===217){const i=this.lookU8();t=this.decodeString(i,1)}else if(e===218){const i=this.lookU16();t=this.decodeString(i,2)}else if(e===219){const i=this.lookU32();t=this.decodeString(i,4)}else if(e===220){const i=this.readU16();if(i!==0){this.pushArrayState(i),this.complete();continue e}else t=[]}else if(e===221){const i=this.readU32();if(i!==0){this.pushArrayState(i),this.complete();continue e}else t=[]}else if(e===222){const i=this.readU16();if(i!==0){this.pushMapState(i),this.complete();continue e}else t={}}else if(e===223){const i=this.readU32();if(i!==0){this.pushMapState(i),this.complete();continue e}else t={}}else if(e===196){const i=this.lookU8();t=this.decodeBinary(i,1)}else if(e===197){const i=this.lookU16();t=this.decodeBinary(i,2)}else if(e===198){const i=this.lookU32();t=this.decodeBinary(i,4)}else if(e===212)t=this.decodeExtension(1,0);else if(e===213)t=this.decodeExtension(2,0);else if(e===214)t=this.decodeExtension(4,0);else if(e===215)t=this.decodeExtension(8,0);else if(e===216)t=this.decodeExtension(16,0);else if(e===199){const i=this.lookU8();t=this.decodeExtension(i,1)}else if(e===200){const i=this.lookU16();t=this.decodeExtension(i,2)}else if(e===201){const i=this.lookU32();t=this.decodeExtension(i,4)}else throw new Zr(`Unrecognized type byte: ${r2(e)}`);this.complete();const r=this.stack;for(;r.length>0;){const i=r.top();if(i.type===iE)if(i.array[i.position]=t,i.position++,i.position===i.size)t=i.array,r.release(i);else continue e;else if(i.type===Rp){if(t==="__proto__")throw new Zr("The key __proto__ is not allowed");i.key=this.mapKeyConverter(t),i.type=RR;continue e}else if(i.map[i.key]=t,i.readCount++,i.readCount===i.size)t=i.map,r.release(i);else{i.key=null,i.type=Rp;continue e}}return t}}readHeadByte(){return this.headByte===ap&&(this.headByte=this.readU8()),this.headByte}complete(){this.headByte=ap}readArraySize(){const e=this.readHeadByte();switch(e){case 220:return this.readU16();case 221:return this.readU32();default:{if(e<160)return e-144;throw new Zr(`Unrecognized array type byte: ${r2(e)}`)}}}pushMapState(e){if(e>this.maxMapLength)throw new Zr(`Max length exceeded: map length (${e}) > maxMapLengthLength (${this.maxMapLength})`);this.stack.pushMapState(e)}pushArrayState(e){if(e>this.maxArrayLength)throw new Zr(`Max length exceeded: array length (${e}) > maxArrayLength (${this.maxArrayLength})`);this.stack.pushArrayState(e)}decodeString(e,t){return!this.rawStrings||this.stateIsMapKey()?this.decodeUtf8String(e,t):this.decodeBinary(e,t)}decodeUtf8String(e,t){var s;if(e>this.maxStrLength)throw new Zr(`Max length exceeded: UTF-8 byte length (${e}) > maxStrLength (${this.maxStrLength})`);if(this.bytes.byteLength<this.pos+t+e)throw z6;const r=this.pos+t;let i;return this.stateIsMapKey()&&((s=this.keyDecoder)!=null&&s.canBeCached(e))?i=this.keyDecoder.decode(this.bytes,r,e):i=UG(this.bytes,r,e),this.pos+=t+e,i}stateIsMapKey(){return this.stack.length>0?this.stack.top().type===Rp:!1}decodeBinary(e,t){if(e>this.maxBinLength)throw new Zr(`Max length exceeded: bin length (${e}) > maxBinLength (${this.maxBinLength})`);if(!this.hasRemaining(e+t))throw z6;const r=this.pos+t,i=this.bytes.subarray(r,r+e);return this.pos+=t+e,i}decodeExtension(e,t){if(e>this.maxExtLength)throw new Zr(`Max length exceeded: ext length (${e}) > maxExtLength (${this.maxExtLength})`);const r=this.view.getInt8(this.pos+t),i=this.decodeBinary(e,t+1);return this.extensionCodec.decode(i,r,this.context)}lookU8(){return this.view.getUint8(this.pos)}lookU16(){return this.view.getUint16(this.pos)}lookU32(){return this.view.getUint32(this.pos)}readU8(){const e=this.view.getUint8(this.pos);return this.pos++,e}readI8(){const e=this.view.getInt8(this.pos);return this.pos++,e}readU16(){const e=this.view.getUint16(this.pos);return this.pos+=2,e}readI16(){const e=this.view.getInt16(this.pos);return this.pos+=2,e}readU32(){const e=this.view.getUint32(this.pos);return this.pos+=4,e}readI32(){const e=this.view.getInt32(this.pos);return this.pos+=4,e}readU64(){const e=LG(this.view,this.pos);return this.pos+=8,e}readI64(){const e=TR(this.view,this.pos);return this.pos+=8,e}readU64AsBigInt(){const e=this.view.getBigUint64(this.pos);return this.pos+=8,e}readI64AsBigInt(){const e=this.view.getBigInt64(this.pos);return this.pos+=8,e}readF32(){const e=this.view.getFloat32(this.pos);return this.pos+=4,e}readF64(){const e=this.view.getFloat64(this.pos);return this.pos+=8,e}};function oK(n,e){return new aK(e).decode(n)}const cK=n=>JSON.stringify(n,(e,t)=>typeof t=="bigint"?t.toString()+"n":t),lK=n=>{const e=/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,t=n.replace(e,'$1"$2n"$3');return JSON.parse(t,(r,i)=>typeof i=="string"&&i.match(/^\d+n$/)?BigInt(i.substring(0,i.length-1)):i)};function tu(n){if(typeof n!="string")throw new Error(`Cannot safe json parse value of type ${typeof n}`);try{return lK(n)}catch{return n}}function Qa(n){return typeof n=="string"?n:cK(n)||""}function uK(n){return n instanceof Uint8Array||ArrayBuffer.isView(n)&&n.constructor.name==="Uint8Array"}function kR(n,...e){if(!uK(n))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(n.length))throw new Error("Uint8Array expected of length "+e+", got length="+n.length)}function H6(n,e=!0){if(n.destroyed)throw new Error("Hash instance has been destroyed");if(e&&n.finished)throw new Error("Hash#digest() has already been called")}function fK(n,e){kR(n);const t=e.outputLen;if(n.length<t)throw new Error("digestInto() expects output buffer of length at least "+t)}const af=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const i2=n=>new DataView(n.buffer,n.byteOffset,n.byteLength);function hK(n){if(typeof n!="string")throw new Error("utf8ToBytes expected string, got "+typeof n);return new Uint8Array(new TextEncoder().encode(n))}function PR(n){return typeof n=="string"&&(n=hK(n)),kR(n),n}let dK=class{clone(){return this._cloneInto()}};function pK(n){const e=r=>n().update(PR(r)).digest(),t=n();return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=()=>n(),e}function UR(n=32){if(af&&typeof af.getRandomValues=="function")return af.getRandomValues(new Uint8Array(n));if(af&&typeof af.randomBytes=="function")return af.randomBytes(n);throw new Error("crypto.getRandomValues must be defined")}function gK(n,e,t,r){if(typeof n.setBigUint64=="function")return n.setBigUint64(e,t,r);const i=BigInt(32),s=BigInt(4294967295),c=Number(t>>i&s),l=Number(t&s),f=r?4:0,h=r?0:4;n.setUint32(e+f,c,r),n.setUint32(e+h,l,r)}let mK=class extends dK{constructor(e,t,r,i){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=i2(this.buffer)}update(e){H6(this);const{view:t,buffer:r,blockLen:i}=this;e=PR(e);const s=e.length;for(let c=0;c<s;){const l=Math.min(i-this.pos,s-c);if(l===i){const f=i2(e);for(;i<=s-c;c+=i)this.process(f,c);continue}r.set(e.subarray(c,c+l),this.pos),this.pos+=l,c+=l,this.pos===i&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){H6(this),fK(e,this),this.finished=!0;const{buffer:t,view:r,blockLen:i,isLE:s}=this;let{pos:c}=this;t[c++]=128,this.buffer.subarray(c).fill(0),this.padOffset>i-c&&(this.process(r,0),c=0);for(let g=c;g<i;g++)t[g]=0;gK(r,i-8,BigInt(this.length*8),s),this.process(r,0);const l=i2(e),f=this.outputLen;if(f%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const h=f/4,p=this.get();if(h>p.length)throw new Error("_sha2: outputLen bigger than state");for(let g=0;g<h;g++)l.setUint32(4*g,p[g],s)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:r,length:i,finished:s,destroyed:c,pos:l}=this;return e.length=i,e.pos=l,e.finished=s,e.destroyed=c,i%t&&e.buffer.set(r),e}};const _m=BigInt(2**32-1),sE=BigInt(32);function MR(n,e=!1){return e?{h:Number(n&_m),l:Number(n>>sE&_m)}:{h:Number(n>>sE&_m)|0,l:Number(n&_m)|0}}function yK(n,e=!1){let t=new Uint32Array(n.length),r=new Uint32Array(n.length);for(let i=0;i<n.length;i++){const{h:s,l:c}=MR(n[i],e);[t[i],r[i]]=[s,c]}return[t,r]}const bK=(n,e)=>BigInt(n>>>0)<<sE|BigInt(e>>>0),wK=(n,e,t)=>n>>>t,vK=(n,e,t)=>n<<32-t|e>>>t,xK=(n,e,t)=>n>>>t|e<<32-t,EK=(n,e,t)=>n<<32-t|e>>>t,AK=(n,e,t)=>n<<64-t|e>>>t-32,SK=(n,e,t)=>n>>>t-32|e<<64-t,_K=(n,e)=>e,OK=(n,e)=>n,CK=(n,e,t)=>n<<t|e>>>32-t,NK=(n,e,t)=>e<<t|n>>>32-t,IK=(n,e,t)=>e<<t-32|n>>>64-t,TK=(n,e,t)=>n<<t-32|e>>>64-t;function DK(n,e,t,r){const i=(e>>>0)+(r>>>0);return{h:n+t+(i/2**32|0)|0,l:i|0}}const RK=(n,e,t)=>(n>>>0)+(e>>>0)+(t>>>0),BK=(n,e,t,r)=>e+t+r+(n/2**32|0)|0,kK=(n,e,t,r)=>(n>>>0)+(e>>>0)+(t>>>0)+(r>>>0),PK=(n,e,t,r,i)=>e+t+r+i+(n/2**32|0)|0,UK=(n,e,t,r,i)=>(n>>>0)+(e>>>0)+(t>>>0)+(r>>>0)+(i>>>0),MK=(n,e,t,r,i,s)=>e+t+r+i+s+(n/2**32|0)|0,ze={fromBig:MR,split:yK,toBig:bK,shrSH:wK,shrSL:vK,rotrSH:xK,rotrSL:EK,rotrBH:AK,rotrBL:SK,rotr32H:_K,rotr32L:OK,rotlSH:CK,rotlSL:NK,rotlBH:IK,rotlBL:TK,add:DK,add3L:RK,add3H:BK,add4L:kK,add4H:PK,add5H:MK,add5L:UK},[LK,$K]=ze.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(n=>BigInt(n))),Bo=new Uint32Array(80),ko=new Uint32Array(80);let jK=class extends mK{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:r,Bl:i,Ch:s,Cl:c,Dh:l,Dl:f,Eh:h,El:p,Fh:g,Fl:m,Gh:b,Gl:w,Hh:x,Hl:S}=this;return[e,t,r,i,s,c,l,f,h,p,g,m,b,w,x,S]}set(e,t,r,i,s,c,l,f,h,p,g,m,b,w,x,S){this.Ah=e|0,this.Al=t|0,this.Bh=r|0,this.Bl=i|0,this.Ch=s|0,this.Cl=c|0,this.Dh=l|0,this.Dl=f|0,this.Eh=h|0,this.El=p|0,this.Fh=g|0,this.Fl=m|0,this.Gh=b|0,this.Gl=w|0,this.Hh=x|0,this.Hl=S|0}process(e,t){for(let _=0;_<16;_++,t+=4)Bo[_]=e.getUint32(t),ko[_]=e.getUint32(t+=4);for(let _=16;_<80;_++){const I=Bo[_-15]|0,N=ko[_-15]|0,U=ze.rotrSH(I,N,1)^ze.rotrSH(I,N,8)^ze.shrSH(I,N,7),z=ze.rotrSL(I,N,1)^ze.rotrSL(I,N,8)^ze.shrSL(I,N,7),M=Bo[_-2]|0,L=ko[_-2]|0,F=ze.rotrSH(M,L,19)^ze.rotrBH(M,L,61)^ze.shrSH(M,L,6),q=ze.rotrSL(M,L,19)^ze.rotrBL(M,L,61)^ze.shrSL(M,L,6),Q=ze.add4L(z,q,ko[_-7],ko[_-16]),G=ze.add4H(Q,U,F,Bo[_-7],Bo[_-16]);Bo[_]=G|0,ko[_]=Q|0}let{Ah:r,Al:i,Bh:s,Bl:c,Ch:l,Cl:f,Dh:h,Dl:p,Eh:g,El:m,Fh:b,Fl:w,Gh:x,Gl:S,Hh:O,Hl:T}=this;for(let _=0;_<80;_++){const I=ze.rotrSH(g,m,14)^ze.rotrSH(g,m,18)^ze.rotrBH(g,m,41),N=ze.rotrSL(g,m,14)^ze.rotrSL(g,m,18)^ze.rotrBL(g,m,41),U=g&b^~g&x,z=m&w^~m&S,M=ze.add5L(T,N,z,$K[_],ko[_]),L=ze.add5H(M,O,I,U,LK[_],Bo[_]),F=M|0,q=ze.rotrSH(r,i,28)^ze.rotrBH(r,i,34)^ze.rotrBH(r,i,39),Q=ze.rotrSL(r,i,28)^ze.rotrBL(r,i,34)^ze.rotrBL(r,i,39),G=r&s^r&l^s&l,W=i&c^i&f^c&f;O=x|0,T=S|0,x=b|0,S=w|0,b=g|0,w=m|0,{h:g,l:m}=ze.add(h|0,p|0,L|0,F|0),h=l|0,p=f|0,l=s|0,f=c|0,s=r|0,c=i|0;const A=ze.add3L(F,Q,W);r=ze.add3H(A,L,q,G),i=A|0}({h:r,l:i}=ze.add(this.Ah|0,this.Al|0,r|0,i|0)),{h:s,l:c}=ze.add(this.Bh|0,this.Bl|0,s|0,c|0),{h:l,l:f}=ze.add(this.Ch|0,this.Cl|0,l|0,f|0),{h,l:p}=ze.add(this.Dh|0,this.Dl|0,h|0,p|0),{h:g,l:m}=ze.add(this.Eh|0,this.El|0,g|0,m|0),{h:b,l:w}=ze.add(this.Fh|0,this.Fl|0,b|0,w|0),{h:x,l:S}=ze.add(this.Gh|0,this.Gl|0,x|0,S|0),{h:O,l:T}=ze.add(this.Hh|0,this.Hl|0,O|0,T|0),this.set(r,i,s,c,l,f,h,p,g,m,b,w,x,S,O,T)}roundClean(){Bo.fill(0),ko.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};const zK=pK(()=>new jK);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const z3=BigInt(0),LR=BigInt(1),HK=BigInt(2);function H3(n){return n instanceof Uint8Array||ArrayBuffer.isView(n)&&n.constructor.name==="Uint8Array"}function F3(n){if(!H3(n))throw new Error("Uint8Array expected")}function s2(n,e){if(typeof e!="boolean")throw new Error(n+" boolean expected, got "+e)}const FK=Array.from({length:256},(n,e)=>e.toString(16).padStart(2,"0"));function q3(n){F3(n);let e="";for(let t=0;t<n.length;t++)e+=FK[n[t]];return e}function $R(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);return n===""?z3:BigInt("0x"+n)}const oa={_0:48,_9:57,A:65,F:70,a:97,f:102};function F6(n){if(n>=oa._0&&n<=oa._9)return n-oa._0;if(n>=oa.A&&n<=oa.F)return n-(oa.A-10);if(n>=oa.a&&n<=oa.f)return n-(oa.a-10)}function jR(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);const e=n.length,t=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(t);for(let i=0,s=0;i<t;i++,s+=2){const c=F6(n.charCodeAt(s)),l=F6(n.charCodeAt(s+1));if(c===void 0||l===void 0){const f=n[s]+n[s+1];throw new Error('hex string expected, got non-hex character "'+f+'" at index '+s)}r[i]=c*16+l}return r}function qK(n){return $R(q3(n))}function sy(n){return F3(n),$R(q3(Uint8Array.from(n).reverse()))}function zR(n,e){return jR(n.toString(16).padStart(e*2,"0"))}function aE(n,e){return zR(n,e).reverse()}function ca(n,e,t){let r;if(typeof e=="string")try{r=jR(e)}catch(s){throw new Error(n+" must be hex string or Uint8Array, cause: "+s)}else if(H3(e))r=Uint8Array.from(e);else throw new Error(n+" must be hex string or Uint8Array");const i=r.length;if(typeof t=="number"&&i!==t)throw new Error(n+" of length "+t+" expected, got "+i);return r}function q6(...n){let e=0;for(let r=0;r<n.length;r++){const i=n[r];F3(i),e+=i.length}const t=new Uint8Array(e);for(let r=0,i=0;r<n.length;r++){const s=n[r];t.set(s,i),i+=s.length}return t}const a2=n=>typeof n=="bigint"&&z3<=n;function VK(n,e,t){return a2(n)&&a2(e)&&a2(t)&&e<=n&&n<t}function op(n,e,t,r){if(!VK(e,t,r))throw new Error("expected valid "+n+": "+t+" <= n < "+r+", got "+e)}function GK(n){let e;for(e=0;n>z3;n>>=LR,e+=1);return e}const KK=n=>(HK<<BigInt(n-1))-LR,QK={bigint:n=>typeof n=="bigint",function:n=>typeof n=="function",boolean:n=>typeof n=="boolean",string:n=>typeof n=="string",stringOrUint8Array:n=>typeof n=="string"||H3(n),isSafeInteger:n=>Number.isSafeInteger(n),array:n=>Array.isArray(n),field:(n,e)=>e.Fp.isValid(n),hash:n=>typeof n=="function"&&Number.isSafeInteger(n.outputLen)};function V3(n,e,t={}){const r=(i,s,c)=>{const l=QK[s];if(typeof l!="function")throw new Error("invalid validator function");const f=n[i];if(!(c&&f===void 0)&&!l(f,n))throw new Error("param "+String(i)+" is invalid. Expected "+s+", got "+f)};for(const[i,s]of Object.entries(e))r(i,s,!1);for(const[i,s]of Object.entries(t))r(i,s,!0);return n}function V6(n){const e=new WeakMap;return(t,...r)=>{const i=e.get(t);if(i!==void 0)return i;const s=n(t,...r);return e.set(t,s),s}}const An=BigInt(0),Kt=BigInt(1),ll=BigInt(2),YK=BigInt(3),oE=BigInt(4),G6=BigInt(5),K6=BigInt(8);function cn(n,e){const t=n%e;return t>=An?t:e+t}function ZK(n,e,t){if(e<An)throw new Error("invalid exponent, negatives unsupported");if(t<=An)throw new Error("invalid modulus");if(t===Kt)return An;let r=Kt;for(;e>An;)e&Kt&&(r=r*n%t),n=n*n%t,e>>=Kt;return r}function us(n,e,t){let r=n;for(;e-- >An;)r*=r,r%=t;return r}function Q6(n,e){if(n===An)throw new Error("invert: expected non-zero number");if(e<=An)throw new Error("invert: expected positive modulus, got "+e);let t=cn(n,e),r=e,i=An,s=Kt;for(;t!==An;){const c=r/t,l=r%t,f=i-s*c;r=t,t=l,i=s,s=f}if(r!==Kt)throw new Error("invert: does not exist");return cn(i,e)}function WK(n){const e=(n-Kt)/ll;let t,r,i;for(t=n-Kt,r=0;t%ll===An;t/=ll,r++);for(i=ll;i<n&&ZK(i,e,n)!==n-Kt;i++)if(i>1e3)throw new Error("Cannot find square root: likely non-prime P");if(r===1){const c=(n+Kt)/oE;return function(l,f){const h=l.pow(f,c);if(!l.eql(l.sqr(h),f))throw new Error("Cannot find square root");return h}}const s=(t+Kt)/ll;return function(c,l){if(c.pow(l,e)===c.neg(c.ONE))throw new Error("Cannot find square root");let f=r,h=c.pow(c.mul(c.ONE,i),t),p=c.pow(l,s),g=c.pow(l,t);for(;!c.eql(g,c.ONE);){if(c.eql(g,c.ZERO))return c.ZERO;let m=1;for(let w=c.sqr(g);m<f&&!c.eql(w,c.ONE);m++)w=c.sqr(w);const b=c.pow(h,Kt<<BigInt(f-m-1));h=c.sqr(b),p=c.mul(p,b),g=c.mul(g,h),f=m}return p}}function JK(n){if(n%oE===YK){const e=(n+Kt)/oE;return function(t,r){const i=t.pow(r,e);if(!t.eql(t.sqr(i),r))throw new Error("Cannot find square root");return i}}if(n%K6===G6){const e=(n-G6)/K6;return function(t,r){const i=t.mul(r,ll),s=t.pow(i,e),c=t.mul(r,s),l=t.mul(t.mul(c,ll),s),f=t.mul(c,t.sub(l,t.ONE));if(!t.eql(t.sqr(f),r))throw new Error("Cannot find square root");return f}}return WK(n)}const XK=(n,e)=>(cn(n,e)&Kt)===Kt,eQ=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function tQ(n){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},t=eQ.reduce((r,i)=>(r[i]="function",r),e);return V3(n,t)}function nQ(n,e,t){if(t<An)throw new Error("invalid exponent, negatives unsupported");if(t===An)return n.ONE;if(t===Kt)return e;let r=n.ONE,i=e;for(;t>An;)t&Kt&&(r=n.mul(r,i)),i=n.sqr(i),t>>=Kt;return r}function rQ(n,e){const t=new Array(e.length),r=e.reduce((s,c,l)=>n.is0(c)?s:(t[l]=s,n.mul(s,c)),n.ONE),i=n.inv(r);return e.reduceRight((s,c,l)=>n.is0(c)?s:(t[l]=n.mul(s,t[l]),n.mul(s,c)),i),t}function HR(n,e){const t=e!==void 0?e:n.toString(2).length,r=Math.ceil(t/8);return{nBitLength:t,nByteLength:r}}function FR(n,e,t=!1,r={}){if(n<=An)throw new Error("invalid field: expected ORDER > 0, got "+n);const{nBitLength:i,nByteLength:s}=HR(n,e);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let c;const l=Object.freeze({ORDER:n,isLE:t,BITS:i,BYTES:s,MASK:KK(i),ZERO:An,ONE:Kt,create:f=>cn(f,n),isValid:f=>{if(typeof f!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof f);return An<=f&&f<n},is0:f=>f===An,isOdd:f=>(f&Kt)===Kt,neg:f=>cn(-f,n),eql:(f,h)=>f===h,sqr:f=>cn(f*f,n),add:(f,h)=>cn(f+h,n),sub:(f,h)=>cn(f-h,n),mul:(f,h)=>cn(f*h,n),pow:(f,h)=>nQ(l,f,h),div:(f,h)=>cn(f*Q6(h,n),n),sqrN:f=>f*f,addN:(f,h)=>f+h,subN:(f,h)=>f-h,mulN:(f,h)=>f*h,inv:f=>Q6(f,n),sqrt:r.sqrt||(f=>(c||(c=JK(n)),c(l,f))),invertBatch:f=>rQ(l,f),cmov:(f,h,p)=>p?h:f,toBytes:f=>t?aE(f,s):zR(f,s),fromBytes:f=>{if(f.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+f.length);return t?sy(f):qK(f)}});return Object.freeze(l)}const Y6=BigInt(0),Om=BigInt(1);function o2(n,e){const t=e.negate();return n?t:e}function qR(n,e){if(!Number.isSafeInteger(n)||n<=0||n>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+n)}function c2(n,e){qR(n,e);const t=Math.ceil(e/n)+1,r=2**(n-1);return{windows:t,windowSize:r}}function iQ(n,e){if(!Array.isArray(n))throw new Error("array expected");n.forEach((t,r)=>{if(!(t instanceof e))throw new Error("invalid point at index "+r)})}function sQ(n,e){if(!Array.isArray(n))throw new Error("array of scalars expected");n.forEach((t,r)=>{if(!e.isValid(t))throw new Error("invalid scalar at index "+r)})}const l2=new WeakMap,VR=new WeakMap;function u2(n){return VR.get(n)||1}function aQ(n,e){return{constTimeNegate:o2,hasPrecomputes(t){return u2(t)!==1},unsafeLadder(t,r,i=n.ZERO){let s=t;for(;r>Y6;)r&Om&&(i=i.add(s)),s=s.double(),r>>=Om;return i},precomputeWindow(t,r){const{windows:i,windowSize:s}=c2(r,e),c=[];let l=t,f=l;for(let h=0;h<i;h++){f=l,c.push(f);for(let p=1;p<s;p++)f=f.add(l),c.push(f);l=f.double()}return c},wNAF(t,r,i){const{windows:s,windowSize:c}=c2(t,e);let l=n.ZERO,f=n.BASE;const h=BigInt(2**t-1),p=2**t,g=BigInt(t);for(let m=0;m<s;m++){const b=m*c;let w=Number(i&h);i>>=g,w>c&&(w-=p,i+=Om);const x=b,S=b+Math.abs(w)-1,O=m%2!==0,T=w<0;w===0?f=f.add(o2(O,r[x])):l=l.add(o2(T,r[S]))}return{p:l,f}},wNAFUnsafe(t,r,i,s=n.ZERO){const{windows:c,windowSize:l}=c2(t,e),f=BigInt(2**t-1),h=2**t,p=BigInt(t);for(let g=0;g<c;g++){const m=g*l;if(i===Y6)break;let b=Number(i&f);if(i>>=p,b>l&&(b-=h,i+=Om),b===0)continue;let w=r[m+Math.abs(b)-1];b<0&&(w=w.negate()),s=s.add(w)}return s},getPrecomputes(t,r,i){let s=l2.get(r);return s||(s=this.precomputeWindow(r,t),t!==1&&l2.set(r,i(s))),s},wNAFCached(t,r,i){const s=u2(t);return this.wNAF(s,this.getPrecomputes(s,t,i),r)},wNAFCachedUnsafe(t,r,i,s){const c=u2(t);return c===1?this.unsafeLadder(t,r,s):this.wNAFUnsafe(c,this.getPrecomputes(c,t,i),r,s)},setWindowSize(t,r){qR(r,e),VR.set(t,r),l2.delete(t)}}}function oQ(n,e,t,r){if(iQ(t,n),sQ(r,e),t.length!==r.length)throw new Error("arrays of points and scalars must have equal length");const i=n.ZERO,s=GK(BigInt(t.length)),c=s>12?s-3:s>4?s-2:s?2:1,l=(1<<c)-1,f=new Array(l+1).fill(i),h=Math.floor((e.BITS-1)/c)*c;let p=i;for(let g=h;g>=0;g-=c){f.fill(i);for(let b=0;b<r.length;b++){const w=r[b],x=Number(w>>BigInt(g)&BigInt(l));f[x]=f[x].add(t[b])}let m=i;for(let b=f.length-1,w=i;b>0;b--)w=w.add(f[b]),m=m.add(w);if(p=p.add(m),g!==0)for(let b=0;b<c;b++)p=p.double()}return p}function cQ(n){return tQ(n.Fp),V3(n,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...HR(n.n,n.nBitLength),...n,p:n.Fp.ORDER})}const Pi=BigInt(0),yr=BigInt(1),Cm=BigInt(2),lQ=BigInt(8),uQ={zip215:!0};function fQ(n){const e=cQ(n);return V3(n,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function hQ(n){const e=fQ(n),{Fp:t,n:r,prehash:i,hash:s,randomBytes:c,nByteLength:l,h:f}=e,h=Cm<<BigInt(l*8)-yr,p=t.create,g=FR(e.n,e.nBitLength),m=e.uvRatio||((A,E)=>{try{return{isValid:!0,value:t.sqrt(A*t.inv(E))}}catch{return{isValid:!1,value:Pi}}}),b=e.adjustScalarBytes||(A=>A),w=e.domain||((A,E,P)=>{if(s2("phflag",P),E.length||P)throw new Error("Contexts/pre-hash are not supported");return A});function x(A,E){op("coordinate "+A,E,Pi,h)}function S(A){if(!(A instanceof _))throw new Error("ExtendedPoint expected")}const O=V6((A,E)=>{const{ex:P,ey:$,ez:R}=A,C=A.is0();E==null&&(E=C?lQ:t.inv(R));const H=p(P*E),K=p($*E),J=p(R*E);if(C)return{x:Pi,y:yr};if(J!==yr)throw new Error("invZ was invalid");return{x:H,y:K}}),T=V6(A=>{const{a:E,d:P}=e;if(A.is0())throw new Error("bad point: ZERO");const{ex:$,ey:R,ez:C,et:H}=A,K=p($*$),J=p(R*R),Y=p(C*C),se=p(Y*Y),ue=p(K*E),ge=p(Y*p(ue+J)),xe=p(se+p(P*p(K*J)));if(ge!==xe)throw new Error("bad point: equation left != right (1)");const be=p($*R),Se=p(C*H);if(be!==Se)throw new Error("bad point: equation left != right (2)");return!0});class _{constructor(E,P,$,R){this.ex=E,this.ey=P,this.ez=$,this.et=R,x("x",E),x("y",P),x("z",$),x("t",R),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(E){if(E instanceof _)throw new Error("extended point not allowed");const{x:P,y:$}=E||{};return x("x",P),x("y",$),new _(P,$,yr,p(P*$))}static normalizeZ(E){const P=t.invertBatch(E.map($=>$.ez));return E.map(($,R)=>$.toAffine(P[R])).map(_.fromAffine)}static msm(E,P){return oQ(_,g,E,P)}_setWindowSize(E){U.setWindowSize(this,E)}assertValidity(){T(this)}equals(E){S(E);const{ex:P,ey:$,ez:R}=this,{ex:C,ey:H,ez:K}=E,J=p(P*K),Y=p(C*R),se=p($*K),ue=p(H*R);return J===Y&&se===ue}is0(){return this.equals(_.ZERO)}negate(){return new _(p(-this.ex),this.ey,this.ez,p(-this.et))}double(){const{a:E}=e,{ex:P,ey:$,ez:R}=this,C=p(P*P),H=p($*$),K=p(Cm*p(R*R)),J=p(E*C),Y=P+$,se=p(p(Y*Y)-C-H),ue=J+H,ge=ue-K,xe=J-H,be=p(se*ge),Se=p(ue*xe),Pe=p(se*xe),Me=p(ge*ue);return new _(be,Se,Me,Pe)}add(E){S(E);const{a:P,d:$}=e,{ex:R,ey:C,ez:H,et:K}=this,{ex:J,ey:Y,ez:se,et:ue}=E;if(P===BigInt(-1)){const Yh=p((C-R)*(Y+J)),Zh=p((C+R)*(Y-J)),eo=p(Zh-Yh);if(eo===Pi)return this.double();const Kg=p(H*Cm*ue),Wh=p(K*Cm*se),Qg=Wh+Kg,Yg=Zh+Yh,to=Wh-Kg,Xn=p(Qg*eo),ns=p(Yg*to),er=p(Qg*to),tw=p(eo*Yg);return new _(Xn,ns,tw,er)}const ge=p(R*J),xe=p(C*Y),be=p(K*$*ue),Se=p(H*se),Pe=p((R+C)*(J+Y)-ge-xe),Me=Se-be,Qe=Se+be,at=p(xe-P*ge),Sn=p(Pe*Me),$n=p(Qe*at),fn=p(Pe*at),Xa=p(Me*Qe);return new _(Sn,$n,Xa,fn)}subtract(E){return this.add(E.negate())}wNAF(E){return U.wNAFCached(this,E,_.normalizeZ)}multiply(E){const P=E;op("scalar",P,yr,r);const{p:$,f:R}=this.wNAF(P);return _.normalizeZ([$,R])[0]}multiplyUnsafe(E,P=_.ZERO){const $=E;return op("scalar",$,Pi,r),$===Pi?N:this.is0()||$===yr?this:U.wNAFCachedUnsafe(this,$,_.normalizeZ,P)}isSmallOrder(){return this.multiplyUnsafe(f).is0()}isTorsionFree(){return U.unsafeLadder(this,r).is0()}toAffine(E){return O(this,E)}clearCofactor(){const{h:E}=e;return E===yr?this:this.multiplyUnsafe(E)}static fromHex(E,P=!1){const{d:$,a:R}=e,C=t.BYTES;E=ca("pointHex",E,C),s2("zip215",P);const H=E.slice(),K=E[C-1];H[C-1]=K&-129;const J=sy(H),Y=P?h:t.ORDER;op("pointHex.y",J,Pi,Y);const se=p(J*J),ue=p(se-yr),ge=p($*se-R);let{isValid:xe,value:be}=m(ue,ge);if(!xe)throw new Error("Point.fromHex: invalid y coordinate");const Se=(be&yr)===yr,Pe=(K&128)!==0;if(!P&&be===Pi&&Pe)throw new Error("Point.fromHex: x=0 and x_0=1");return Pe!==Se&&(be=p(-be)),_.fromAffine({x:be,y:J})}static fromPrivateKey(E){return L(E).point}toRawBytes(){const{x:E,y:P}=this.toAffine(),$=aE(P,t.BYTES);return $[$.length-1]|=E&yr?128:0,$}toHex(){return q3(this.toRawBytes())}}_.BASE=new _(e.Gx,e.Gy,yr,p(e.Gx*e.Gy)),_.ZERO=new _(Pi,yr,yr,Pi);const{BASE:I,ZERO:N}=_,U=aQ(_,l*8);function z(A){return cn(A,r)}function M(A){return z(sy(A))}function L(A){const E=t.BYTES;A=ca("private key",A,E);const P=ca("hashed private key",s(A),2*E),$=b(P.slice(0,E)),R=P.slice(E,2*E),C=M($),H=I.multiply(C),K=H.toRawBytes();return{head:$,prefix:R,scalar:C,point:H,pointBytes:K}}function F(A){return L(A).pointBytes}function q(A=new Uint8Array,...E){const P=q6(...E);return M(s(w(P,ca("context",A),!!i)))}function Q(A,E,P={}){A=ca("message",A),i&&(A=i(A));const{prefix:$,scalar:R,pointBytes:C}=L(E),H=q(P.context,$,A),K=I.multiply(H).toRawBytes(),J=q(P.context,K,C,A),Y=z(H+J*R);op("signature.s",Y,Pi,r);const se=q6(K,aE(Y,t.BYTES));return ca("result",se,t.BYTES*2)}const G=uQ;function W(A,E,P,$=G){const{context:R,zip215:C}=$,H=t.BYTES;A=ca("signature",A,2*H),E=ca("message",E),P=ca("publicKey",P,H),C!==void 0&&s2("zip215",C),i&&(E=i(E));const K=sy(A.slice(H,2*H));let J,Y,se;try{J=_.fromHex(P,C),Y=_.fromHex(A.slice(0,H),C),se=I.multiplyUnsafe(K)}catch{return!1}if(!C&&J.isSmallOrder())return!1;const ue=q(R,Y.toRawBytes(),J.toRawBytes(),E);return Y.add(J.multiplyUnsafe(ue)).subtract(se).clearCofactor().equals(_.ZERO)}return I._setWindowSize(8),{CURVE:e,getPublicKey:F,sign:Q,verify:W,ExtendedPoint:_,utils:{getExtendedPublicKey:L,randomPrivateKey:()=>c(t.BYTES),precompute(A=8,E=_.BASE){return E._setWindowSize(A),E.multiply(BigInt(3)),E}}}}BigInt(0),BigInt(1);const G3=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),Z6=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const dQ=BigInt(1),W6=BigInt(2);BigInt(3);const pQ=BigInt(5),gQ=BigInt(8);function mQ(n){const e=BigInt(10),t=BigInt(20),r=BigInt(40),i=BigInt(80),s=G3,c=n*n%s*n%s,l=us(c,W6,s)*c%s,f=us(l,dQ,s)*n%s,h=us(f,pQ,s)*f%s,p=us(h,e,s)*h%s,g=us(p,t,s)*p%s,m=us(g,r,s)*g%s,b=us(m,i,s)*m%s,w=us(b,i,s)*m%s,x=us(w,e,s)*h%s;return{pow_p_5_8:us(x,W6,s)*n%s,b2:c}}function yQ(n){return n[0]&=248,n[31]&=127,n[31]|=64,n}function bQ(n,e){const t=G3,r=cn(e*e*e,t),i=cn(r*r*e,t),s=mQ(n*i).pow_p_5_8;let c=cn(n*r*s,t);const l=cn(e*c*c,t),f=c,h=cn(c*Z6,t),p=l===n,g=l===cn(-n,t),m=l===cn(-n*Z6,t);return p&&(c=f),(g||m)&&(c=h),XK(c,t)&&(c=cn(-c,t)),{isValid:p||g,value:c}}const wQ=FR(G3,void 0,!0),vQ={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:wQ,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:gQ,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:zK,randomBytes:UR,adjustScalarBytes:yQ,uvRatio:bQ},GR=hQ(vQ),xQ="EdDSA",EQ="JWT",$y=".",Tb="base64url",KR="utf8",QR="utf8",AQ=":",SQ="did",_Q="key",J6="base58btc",OQ="z",CQ="K36",NQ=32;function K3(n){return globalThis.Buffer!=null?new Uint8Array(n.buffer,n.byteOffset,n.byteLength):n}function YR(n=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?K3(globalThis.Buffer.allocUnsafe(n)):new Uint8Array(n)}function ZR(n,e){e||(e=n.reduce((i,s)=>i+s.length,0));const t=YR(e);let r=0;for(const i of n)t.set(i,r),r+=i.length;return K3(t)}function IQ(n,e){if(n.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),r=0;r<t.length;r++)t[r]=255;for(var i=0;i<n.length;i++){var s=n.charAt(i),c=s.charCodeAt(0);if(t[c]!==255)throw new TypeError(s+" is ambiguous");t[c]=i}var l=n.length,f=n.charAt(0),h=Math.log(l)/Math.log(256),p=Math.log(256)/Math.log(l);function g(w){if(w instanceof Uint8Array||(ArrayBuffer.isView(w)?w=new Uint8Array(w.buffer,w.byteOffset,w.byteLength):Array.isArray(w)&&(w=Uint8Array.from(w))),!(w instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(w.length===0)return"";for(var x=0,S=0,O=0,T=w.length;O!==T&&w[O]===0;)O++,x++;for(var _=(T-O)*p+1>>>0,I=new Uint8Array(_);O!==T;){for(var N=w[O],U=0,z=_-1;(N!==0||U<S)&&z!==-1;z--,U++)N+=256*I[z]>>>0,I[z]=N%l>>>0,N=N/l>>>0;if(N!==0)throw new Error("Non-zero carry");S=U,O++}for(var M=_-S;M!==_&&I[M]===0;)M++;for(var L=f.repeat(x);M<_;++M)L+=n.charAt(I[M]);return L}function m(w){if(typeof w!="string")throw new TypeError("Expected String");if(w.length===0)return new Uint8Array;var x=0;if(w[x]!==" "){for(var S=0,O=0;w[x]===f;)S++,x++;for(var T=(w.length-x)*h+1>>>0,_=new Uint8Array(T);w[x];){var I=t[w.charCodeAt(x)];if(I===255)return;for(var N=0,U=T-1;(I!==0||N<O)&&U!==-1;U--,N++)I+=l*_[U]>>>0,_[U]=I%256>>>0,I=I/256>>>0;if(I!==0)throw new Error("Non-zero carry");O=N,x++}if(w[x]!==" "){for(var z=T-O;z!==T&&_[z]===0;)z++;for(var M=new Uint8Array(S+(T-z)),L=S;z!==T;)M[L++]=_[z++];return M}}}function b(w){var x=m(w);if(x)return x;throw new Error(`Non-${e} character`)}return{encode:g,decodeUnsafe:m,decode:b}}var TQ=IQ,DQ=TQ;const WR=n=>{if(n instanceof Uint8Array&&n.constructor.name==="Uint8Array")return n;if(n instanceof ArrayBuffer)return new Uint8Array(n);if(ArrayBuffer.isView(n))return new Uint8Array(n.buffer,n.byteOffset,n.byteLength);throw new Error("Unknown type, must be binary type")},RQ=n=>new TextEncoder().encode(n),BQ=n=>new TextDecoder().decode(n);let kQ=class{constructor(e,t,r){this.name=e,this.prefix=t,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},PQ=class{constructor(e,t,r){if(this.name=e,this.prefix=t,t.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return JR(this,e)}},UQ=class{constructor(e){this.decoders=e}or(e){return JR(this,e)}decode(e){const t=e[0],r=this.decoders[t];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const JR=(n,e)=>new UQ({...n.decoders||{[n.prefix]:n},...e.decoders||{[e.prefix]:e}});let MQ=class{constructor(e,t,r,i){this.name=e,this.prefix=t,this.baseEncode=r,this.baseDecode=i,this.encoder=new kQ(e,t,r),this.decoder=new PQ(e,t,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}};const Db=({name:n,prefix:e,encode:t,decode:r})=>new MQ(n,e,t,r),kg=({prefix:n,name:e,alphabet:t})=>{const{encode:r,decode:i}=DQ(t,e);return Db({prefix:n,name:e,encode:r,decode:s=>WR(i(s))})},LQ=(n,e,t,r)=>{const i={};for(let p=0;p<e.length;++p)i[e[p]]=p;let s=n.length;for(;n[s-1]==="=";)--s;const c=new Uint8Array(s*t/8|0);let l=0,f=0,h=0;for(let p=0;p<s;++p){const g=i[n[p]];if(g===void 0)throw new SyntaxError(`Non-${r} character`);f=f<<t|g,l+=t,l>=8&&(l-=8,c[h++]=255&f>>l)}if(l>=t||255&f<<8-l)throw new SyntaxError("Unexpected end of data");return c},$Q=(n,e,t)=>{const r=e[e.length-1]==="=",i=(1<<t)-1;let s="",c=0,l=0;for(let f=0;f<n.length;++f)for(l=l<<8|n[f],c+=8;c>t;)c-=t,s+=e[i&l>>c];if(c&&(s+=e[i&l<<t-c]),r)for(;s.length*t&7;)s+="=";return s},Un=({name:n,prefix:e,bitsPerChar:t,alphabet:r})=>Db({prefix:e,name:n,encode(i){return $Q(i,r,t)},decode(i){return LQ(i,r,t,n)}}),jQ=Db({prefix:"\0",name:"identity",encode:n=>BQ(n),decode:n=>RQ(n)});var zQ=Object.freeze({__proto__:null,identity:jQ});const HQ=Un({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var FQ=Object.freeze({__proto__:null,base2:HQ});const qQ=Un({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var VQ=Object.freeze({__proto__:null,base8:qQ});const GQ=kg({prefix:"9",name:"base10",alphabet:"0123456789"});var KQ=Object.freeze({__proto__:null,base10:GQ});const QQ=Un({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),YQ=Un({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var ZQ=Object.freeze({__proto__:null,base16:QQ,base16upper:YQ});const WQ=Un({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),JQ=Un({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),XQ=Un({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),eY=Un({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),tY=Un({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),nY=Un({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),rY=Un({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),iY=Un({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),sY=Un({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var aY=Object.freeze({__proto__:null,base32:WQ,base32upper:JQ,base32pad:XQ,base32padupper:eY,base32hex:tY,base32hexupper:nY,base32hexpad:rY,base32hexpadupper:iY,base32z:sY});const oY=kg({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),cY=kg({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var lY=Object.freeze({__proto__:null,base36:oY,base36upper:cY});const uY=kg({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),fY=kg({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var hY=Object.freeze({__proto__:null,base58btc:uY,base58flickr:fY});const dY=Un({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),pY=Un({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),gY=Un({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),mY=Un({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var yY=Object.freeze({__proto__:null,base64:dY,base64pad:pY,base64url:gY,base64urlpad:mY});const XR=Array.from(""),bY=XR.reduce((n,e,t)=>(n[t]=e,n),[]),wY=XR.reduce((n,e,t)=>(n[e.codePointAt(0)]=t,n),[]);function vY(n){return n.reduce((e,t)=>(e+=bY[t],e),"")}function xY(n){const e=[];for(const t of n){const r=wY[t.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${t}`);e.push(r)}return new Uint8Array(e)}const EY=Db({prefix:"",name:"base256emoji",encode:vY,decode:xY});var AY=Object.freeze({__proto__:null,base256emoji:EY}),SY=eB,X6=128,_Y=-128,OY=Math.pow(2,31);function eB(n,e,t){e=e||[],t=t||0;for(var r=t;n>=OY;)e[t++]=n&255|X6,n/=128;for(;n&_Y;)e[t++]=n&255|X6,n>>>=7;return e[t]=n|0,eB.bytes=t-r+1,e}var CY=cE,NY=128,eO=127;function cE(n,r){var t=0,r=r||0,i=0,s=r,c,l=n.length;do{if(s>=l)throw cE.bytes=0,new RangeError("Could not decode varint");c=n[s++],t+=i<28?(c&eO)<<i:(c&eO)*Math.pow(2,i),i+=7}while(c>=NY);return cE.bytes=s-r,t}var IY=Math.pow(2,7),TY=Math.pow(2,14),DY=Math.pow(2,21),RY=Math.pow(2,28),BY=Math.pow(2,35),kY=Math.pow(2,42),PY=Math.pow(2,49),UY=Math.pow(2,56),MY=Math.pow(2,63),LY=function(n){return n<IY?1:n<TY?2:n<DY?3:n<RY?4:n<BY?5:n<kY?6:n<PY?7:n<UY?8:n<MY?9:10},$Y={encode:SY,decode:CY,encodingLength:LY},tB=$Y;const tO=(n,e,t=0)=>(tB.encode(n,e,t),e),nO=n=>tB.encodingLength(n),lE=(n,e)=>{const t=e.byteLength,r=nO(n),i=r+nO(t),s=new Uint8Array(i+t);return tO(n,s,0),tO(t,s,r),s.set(e,i),new jY(n,t,e,s)};let jY=class{constructor(e,t,r,i){this.code=e,this.size=t,this.digest=r,this.bytes=i}};const nB=({name:n,code:e,encode:t})=>new zY(n,e,t);let zY=class{constructor(e,t,r){this.name=e,this.code=t,this.encode=r}digest(e){if(e instanceof Uint8Array){const t=this.encode(e);return t instanceof Uint8Array?lE(this.code,t):t.then(r=>lE(this.code,r))}else throw Error("Unknown type, must be binary type")}};const rB=n=>async e=>new Uint8Array(await crypto.subtle.digest(n,e)),HY=nB({name:"sha2-256",code:18,encode:rB("SHA-256")}),FY=nB({name:"sha2-512",code:19,encode:rB("SHA-512")});var qY=Object.freeze({__proto__:null,sha256:HY,sha512:FY});const iB=0,VY="identity",sB=WR,GY=n=>lE(iB,sB(n)),KY={code:iB,name:VY,encode:sB,digest:GY};var QY=Object.freeze({__proto__:null,identity:KY});new TextEncoder,new TextDecoder;const rO={...zQ,...FQ,...VQ,...KQ,...ZQ,...aY,...lY,...hY,...yY,...AY};({...qY,...QY});function aB(n,e,t,r){return{name:n,prefix:e,encoder:{name:n,prefix:e,encode:t},decoder:{decode:r}}}const iO=aB("utf8","u",n=>"u"+new TextDecoder("utf8").decode(n),n=>new TextEncoder().encode(n.substring(1))),f2=aB("ascii","a",n=>{let e="a";for(let t=0;t<n.length;t++)e+=String.fromCharCode(n[t]);return e},n=>{n=n.substring(1);const e=YR(n.length);for(let t=0;t<n.length;t++)e[t]=n.charCodeAt(t);return e}),oB={utf8:iO,"utf-8":iO,hex:rO.base16,latin1:f2,ascii:f2,binary:f2,...rO};function Rb(n,e="utf8"){const t=oB[e];if(!t)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(n.buffer,n.byteOffset,n.byteLength).toString("utf8"):t.encoder.encode(n).substring(1)}function Fh(n,e="utf8"){const t=oB[e];if(!t)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?K3(globalThis.Buffer.from(n,"utf-8")):t.decoder.decode(`${t.prefix}${n}`)}function sO(n){return tu(Rb(Fh(n,Tb),KR))}function jy(n){return Rb(Fh(Qa(n),KR),Tb)}function cB(n){const e=Fh(CQ,J6),t=OQ+Rb(ZR([e,n]),J6);return[SQ,_Q,t].join(AQ)}function YY(n){return Rb(n,Tb)}function ZY(n){return Fh(n,Tb)}function WY(n){return Fh([jy(n.header),jy(n.payload)].join($y),QR)}function JY(n){return[jy(n.header),jy(n.payload),YY(n.signature)].join($y)}function uE(n){const e=n.split($y),t=sO(e[0]),r=sO(e[1]),i=ZY(e[2]),s=Fh(e.slice(0,2).join($y),QR);return{header:t,payload:r,signature:i,data:s}}function aO(n=UR(NQ)){const e=GR.getPublicKey(n);return{secretKey:ZR([n,e]),publicKey:e}}async function XY(n,e,t,r,i=ve.fromMiliseconds(Date.now())){const s={alg:xQ,typ:EQ},c=cB(r.publicKey),l=i+t,f={iss:c,sub:n,aud:e,iat:i,exp:l},h=WY({header:s,payload:f}),p=GR.sign(h,r.secretKey.slice(0,32));return JY({header:s,payload:f,signature:p})}function Q3(n){return globalThis.Buffer!=null?new Uint8Array(n.buffer,n.byteOffset,n.byteLength):n}function lB(n=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?Q3(globalThis.Buffer.allocUnsafe(n)):new Uint8Array(n)}function Bp(n,e){e||(e=n.reduce((i,s)=>i+s.length,0));const t=lB(e);let r=0;for(const i of n)t.set(i,r),r+=i.length;return Q3(t)}function eZ(n,e){if(n.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),r=0;r<t.length;r++)t[r]=255;for(var i=0;i<n.length;i++){var s=n.charAt(i),c=s.charCodeAt(0);if(t[c]!==255)throw new TypeError(s+" is ambiguous");t[c]=i}var l=n.length,f=n.charAt(0),h=Math.log(l)/Math.log(256),p=Math.log(256)/Math.log(l);function g(w){if(w instanceof Uint8Array||(ArrayBuffer.isView(w)?w=new Uint8Array(w.buffer,w.byteOffset,w.byteLength):Array.isArray(w)&&(w=Uint8Array.from(w))),!(w instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(w.length===0)return"";for(var x=0,S=0,O=0,T=w.length;O!==T&&w[O]===0;)O++,x++;for(var _=(T-O)*p+1>>>0,I=new Uint8Array(_);O!==T;){for(var N=w[O],U=0,z=_-1;(N!==0||U<S)&&z!==-1;z--,U++)N+=256*I[z]>>>0,I[z]=N%l>>>0,N=N/l>>>0;if(N!==0)throw new Error("Non-zero carry");S=U,O++}for(var M=_-S;M!==_&&I[M]===0;)M++;for(var L=f.repeat(x);M<_;++M)L+=n.charAt(I[M]);return L}function m(w){if(typeof w!="string")throw new TypeError("Expected String");if(w.length===0)return new Uint8Array;var x=0;if(w[x]!==" "){for(var S=0,O=0;w[x]===f;)S++,x++;for(var T=(w.length-x)*h+1>>>0,_=new Uint8Array(T);w[x];){var I=t[w.charCodeAt(x)];if(I===255)return;for(var N=0,U=T-1;(I!==0||N<O)&&U!==-1;U--,N++)I+=l*_[U]>>>0,_[U]=I%256>>>0,I=I/256>>>0;if(I!==0)throw new Error("Non-zero carry");O=N,x++}if(w[x]!==" "){for(var z=T-O;z!==T&&_[z]===0;)z++;for(var M=new Uint8Array(S+(T-z)),L=S;z!==T;)M[L++]=_[z++];return M}}}function b(w){var x=m(w);if(x)return x;throw new Error(`Non-${e} character`)}return{encode:g,decodeUnsafe:m,decode:b}}var tZ=eZ,nZ=tZ;const rZ=n=>{if(n instanceof Uint8Array&&n.constructor.name==="Uint8Array")return n;if(n instanceof ArrayBuffer)return new Uint8Array(n);if(ArrayBuffer.isView(n))return new Uint8Array(n.buffer,n.byteOffset,n.byteLength);throw new Error("Unknown type, must be binary type")},iZ=n=>new TextEncoder().encode(n),sZ=n=>new TextDecoder().decode(n);class aZ{constructor(e,t,r){this.name=e,this.prefix=t,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class oZ{constructor(e,t,r){if(this.name=e,this.prefix=t,t.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return uB(this,e)}}class cZ{constructor(e){this.decoders=e}or(e){return uB(this,e)}decode(e){const t=e[0],r=this.decoders[t];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const uB=(n,e)=>new cZ({...n.decoders||{[n.prefix]:n},...e.decoders||{[e.prefix]:e}});class lZ{constructor(e,t,r,i){this.name=e,this.prefix=t,this.baseEncode=r,this.baseDecode=i,this.encoder=new aZ(e,t,r),this.decoder=new oZ(e,t,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const Bb=({name:n,prefix:e,encode:t,decode:r})=>new lZ(n,e,t,r),Pg=({prefix:n,name:e,alphabet:t})=>{const{encode:r,decode:i}=nZ(t,e);return Bb({prefix:n,name:e,encode:r,decode:s=>rZ(i(s))})},uZ=(n,e,t,r)=>{const i={};for(let p=0;p<e.length;++p)i[e[p]]=p;let s=n.length;for(;n[s-1]==="=";)--s;const c=new Uint8Array(s*t/8|0);let l=0,f=0,h=0;for(let p=0;p<s;++p){const g=i[n[p]];if(g===void 0)throw new SyntaxError(`Non-${r} character`);f=f<<t|g,l+=t,l>=8&&(l-=8,c[h++]=255&f>>l)}if(l>=t||255&f<<8-l)throw new SyntaxError("Unexpected end of data");return c},fZ=(n,e,t)=>{const r=e[e.length-1]==="=",i=(1<<t)-1;let s="",c=0,l=0;for(let f=0;f<n.length;++f)for(l=l<<8|n[f],c+=8;c>t;)c-=t,s+=e[i&l>>c];if(c&&(s+=e[i&l<<t-c]),r)for(;s.length*t&7;)s+="=";return s},Mn=({name:n,prefix:e,bitsPerChar:t,alphabet:r})=>Bb({prefix:e,name:n,encode(i){return fZ(i,r,t)},decode(i){return uZ(i,r,t,n)}}),hZ=Bb({prefix:"\0",name:"identity",encode:n=>sZ(n),decode:n=>iZ(n)}),dZ=Object.freeze(Object.defineProperty({__proto__:null,identity:hZ},Symbol.toStringTag,{value:"Module"})),pZ=Mn({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),gZ=Object.freeze(Object.defineProperty({__proto__:null,base2:pZ},Symbol.toStringTag,{value:"Module"})),mZ=Mn({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),yZ=Object.freeze(Object.defineProperty({__proto__:null,base8:mZ},Symbol.toStringTag,{value:"Module"})),bZ=Pg({prefix:"9",name:"base10",alphabet:"0123456789"}),wZ=Object.freeze(Object.defineProperty({__proto__:null,base10:bZ},Symbol.toStringTag,{value:"Module"})),vZ=Mn({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),xZ=Mn({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),EZ=Object.freeze(Object.defineProperty({__proto__:null,base16:vZ,base16upper:xZ},Symbol.toStringTag,{value:"Module"})),AZ=Mn({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),SZ=Mn({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),_Z=Mn({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),OZ=Mn({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),CZ=Mn({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),NZ=Mn({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),IZ=Mn({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),TZ=Mn({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),DZ=Mn({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),RZ=Object.freeze(Object.defineProperty({__proto__:null,base32:AZ,base32hex:CZ,base32hexpad:IZ,base32hexpadupper:TZ,base32hexupper:NZ,base32pad:_Z,base32padupper:OZ,base32upper:SZ,base32z:DZ},Symbol.toStringTag,{value:"Module"})),BZ=Pg({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),kZ=Pg({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),PZ=Object.freeze(Object.defineProperty({__proto__:null,base36:BZ,base36upper:kZ},Symbol.toStringTag,{value:"Module"})),UZ=Pg({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),MZ=Pg({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),LZ=Object.freeze(Object.defineProperty({__proto__:null,base58btc:UZ,base58flickr:MZ},Symbol.toStringTag,{value:"Module"})),$Z=Mn({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),jZ=Mn({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),zZ=Mn({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),HZ=Mn({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),FZ=Object.freeze(Object.defineProperty({__proto__:null,base64:$Z,base64pad:jZ,base64url:zZ,base64urlpad:HZ},Symbol.toStringTag,{value:"Module"})),fB=Array.from(""),qZ=fB.reduce((n,e,t)=>(n[t]=e,n),[]),VZ=fB.reduce((n,e,t)=>(n[e.codePointAt(0)]=t,n),[]);function GZ(n){return n.reduce((e,t)=>(e+=qZ[t],e),"")}function KZ(n){const e=[];for(const t of n){const r=VZ[t.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${t}`);e.push(r)}return new Uint8Array(e)}const QZ=Bb({prefix:"",name:"base256emoji",encode:GZ,decode:KZ}),YZ=Object.freeze(Object.defineProperty({__proto__:null,base256emoji:QZ},Symbol.toStringTag,{value:"Module"}));new TextEncoder;new TextDecoder;const oO={...dZ,...gZ,...yZ,...wZ,...EZ,...RZ,...PZ,...LZ,...FZ,...YZ};function hB(n,e,t,r){return{name:n,prefix:e,encoder:{name:n,prefix:e,encode:t},decoder:{decode:r}}}const cO=hB("utf8","u",n=>"u"+new TextDecoder("utf8").decode(n),n=>new TextEncoder().encode(n.substring(1))),h2=hB("ascii","a",n=>{let e="a";for(let t=0;t<n.length;t++)e+=String.fromCharCode(n[t]);return e},n=>{n=n.substring(1);const e=lB(n.length);for(let t=0;t<n.length;t++)e[t]=n.charCodeAt(t);return e}),dB={utf8:cO,"utf-8":cO,hex:oO.base16,latin1:h2,ascii:h2,binary:h2,...oO};function Ni(n,e="utf8"){const t=dB[e];if(!t)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?Q3(globalThis.Buffer.from(n,"utf-8")):t.decoder.decode(`${t.prefix}${n}`)}function Dr(n,e="utf8"){const t=dB[e];if(!t)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(n.buffer,n.byteOffset,n.byteLength).toString("utf8"):t.encoder.encode(n).substring(1)}const ZZ={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe",batchFetchMessages:"waku_batchFetchMessages"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe",batchFetchMessages:"irn_batchFetchMessages"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe",batchFetchMessages:"iridium_batchFetchMessages"}};var d2,lO;function pB(){if(lO)return d2;lO=1;const n="Input must be an string, Buffer or Uint8Array";function e(c){let l;if(c instanceof Uint8Array)l=c;else if(typeof c=="string")l=new TextEncoder().encode(c);else throw new Error(n);return l}function t(c){return Array.prototype.map.call(c,function(l){return(l<16?"0":"")+l.toString(16)}).join("")}function r(c){return(4294967296+c).toString(16).substring(1)}function i(c,l,f){let h=`
`+c+" = ";for(let p=0;p<l.length;p+=2){if(f===32)h+=r(l[p]).toUpperCase(),h+=" ",h+=r(l[p+1]).toUpperCase();else if(f===64)h+=r(l[p+1]).toUpperCase(),h+=r(l[p]).toUpperCase();else throw new Error("Invalid size "+f);p%6===4?h+=`
`+new Array(c.length+4).join(" "):p<l.length-2&&(h+=" ")}console.log(h)}function s(c,l,f){let h=new Date().getTime();const p=new Uint8Array(l);for(let m=0;m<l;m++)p[m]=m%256;const g=new Date().getTime();console.log("Generated random input in "+(g-h)+"ms"),h=g;for(let m=0;m<f;m++){const b=c(p),w=new Date().getTime(),x=w-h;h=w,console.log("Hashed in "+x+"ms: "+b.substring(0,20)+"..."),console.log(Math.round(l/(1<<20)/(x/1e3)*100)/100+" MB PER SECOND")}}return d2={normalizeInput:e,toHex:t,debugPrint:i,testSpeed:s},d2}var p2,uO;function WZ(){if(uO)return p2;uO=1;const n=pB();function e(O,T,_){const I=O[T]+O[_];let N=O[T+1]+O[_+1];I>=4294967296&&N++,O[T]=I,O[T+1]=N}function t(O,T,_,I){let N=O[T]+_;_<0&&(N+=4294967296);let U=O[T+1]+I;N>=4294967296&&U++,O[T]=N,O[T+1]=U}function r(O,T){return O[T]^O[T+1]<<8^O[T+2]<<16^O[T+3]<<24}function i(O,T,_,I,N,U){const z=h[N],M=h[N+1],L=h[U],F=h[U+1];e(f,O,T),t(f,O,z,M);let q=f[I]^f[O],Q=f[I+1]^f[O+1];f[I]=Q,f[I+1]=q,e(f,_,I),q=f[T]^f[_],Q=f[T+1]^f[_+1],f[T]=q>>>24^Q<<8,f[T+1]=Q>>>24^q<<8,e(f,O,T),t(f,O,L,F),q=f[I]^f[O],Q=f[I+1]^f[O+1],f[I]=q>>>16^Q<<16,f[I+1]=Q>>>16^q<<16,e(f,_,I),q=f[T]^f[_],Q=f[T+1]^f[_+1],f[T]=Q>>>31^q<<1,f[T+1]=q>>>31^Q<<1}const s=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),c=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3],l=new Uint8Array(c.map(function(O){return O*2})),f=new Uint32Array(32),h=new Uint32Array(32);function p(O,T){let _=0;for(_=0;_<16;_++)f[_]=O.h[_],f[_+16]=s[_];for(f[24]=f[24]^O.t,f[25]=f[25]^O.t/4294967296,T&&(f[28]=~f[28],f[29]=~f[29]),_=0;_<32;_++)h[_]=r(O.b,4*_);for(_=0;_<12;_++)i(0,8,16,24,l[_*16+0],l[_*16+1]),i(2,10,18,26,l[_*16+2],l[_*16+3]),i(4,12,20,28,l[_*16+4],l[_*16+5]),i(6,14,22,30,l[_*16+6],l[_*16+7]),i(0,10,20,30,l[_*16+8],l[_*16+9]),i(2,12,22,24,l[_*16+10],l[_*16+11]),i(4,14,16,26,l[_*16+12],l[_*16+13]),i(6,8,18,28,l[_*16+14],l[_*16+15]);for(_=0;_<16;_++)O.h[_]=O.h[_]^f[_]^f[_+16]}const g=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);function m(O,T,_,I){if(O===0||O>64)throw new Error("Illegal output length, expected 0 < length <= 64");if(T&&T.length>64)throw new Error("Illegal key, expected Uint8Array with 0 < length <= 64");if(_&&_.length!==16)throw new Error("Illegal salt, expected Uint8Array with length is 16");if(I&&I.length!==16)throw new Error("Illegal personal, expected Uint8Array with length is 16");const N={b:new Uint8Array(128),h:new Uint32Array(16),t:0,c:0,outlen:O};g.fill(0),g[0]=O,T&&(g[1]=T.length),g[2]=1,g[3]=1,_&&g.set(_,32),I&&g.set(I,48);for(let U=0;U<16;U++)N.h[U]=s[U]^r(g,U*4);return T&&(b(N,T),N.c=128),N}function b(O,T){for(let _=0;_<T.length;_++)O.c===128&&(O.t+=O.c,p(O,!1),O.c=0),O.b[O.c++]=T[_]}function w(O){for(O.t+=O.c;O.c<128;)O.b[O.c++]=0;p(O,!0);const T=new Uint8Array(O.outlen);for(let _=0;_<O.outlen;_++)T[_]=O.h[_>>2]>>8*(_&3);return T}function x(O,T,_,I,N){_=_||64,O=n.normalizeInput(O),I&&(I=n.normalizeInput(I)),N&&(N=n.normalizeInput(N));const U=m(_,T,I,N);return b(U,O),w(U)}function S(O,T,_,I,N){const U=x(O,T,_,I,N);return n.toHex(U)}return p2={blake2b:x,blake2bHex:S,blake2bInit:m,blake2bUpdate:b,blake2bFinal:w},p2}var g2,fO;function JZ(){if(fO)return g2;fO=1;const n=pB();function e(w,x){return w[x]^w[x+1]<<8^w[x+2]<<16^w[x+3]<<24}function t(w,x,S,O,T,_){c[w]=c[w]+c[x]+T,c[O]=r(c[O]^c[w],16),c[S]=c[S]+c[O],c[x]=r(c[x]^c[S],12),c[w]=c[w]+c[x]+_,c[O]=r(c[O]^c[w],8),c[S]=c[S]+c[O],c[x]=r(c[x]^c[S],7)}function r(w,x){return w>>>x^w<<32-x}const i=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),s=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0]),c=new Uint32Array(16),l=new Uint32Array(16);function f(w,x){let S=0;for(S=0;S<8;S++)c[S]=w.h[S],c[S+8]=i[S];for(c[12]^=w.t,c[13]^=w.t/4294967296,x&&(c[14]=~c[14]),S=0;S<16;S++)l[S]=e(w.b,4*S);for(S=0;S<10;S++)t(0,4,8,12,l[s[S*16+0]],l[s[S*16+1]]),t(1,5,9,13,l[s[S*16+2]],l[s[S*16+3]]),t(2,6,10,14,l[s[S*16+4]],l[s[S*16+5]]),t(3,7,11,15,l[s[S*16+6]],l[s[S*16+7]]),t(0,5,10,15,l[s[S*16+8]],l[s[S*16+9]]),t(1,6,11,12,l[s[S*16+10]],l[s[S*16+11]]),t(2,7,8,13,l[s[S*16+12]],l[s[S*16+13]]),t(3,4,9,14,l[s[S*16+14]],l[s[S*16+15]]);for(S=0;S<8;S++)w.h[S]^=c[S]^c[S+8]}function h(w,x){if(!(w>0&&w<=32))throw new Error("Incorrect output length, should be in [1, 32]");const S=x?x.length:0;if(x&&!(S>0&&S<=32))throw new Error("Incorrect key length, should be in [1, 32]");const O={h:new Uint32Array(i),b:new Uint8Array(64),c:0,t:0,outlen:w};return O.h[0]^=16842752^S<<8^w,S>0&&(p(O,x),O.c=64),O}function p(w,x){for(let S=0;S<x.length;S++)w.c===64&&(w.t+=w.c,f(w,!1),w.c=0),w.b[w.c++]=x[S]}function g(w){for(w.t+=w.c;w.c<64;)w.b[w.c++]=0;f(w,!0);const x=new Uint8Array(w.outlen);for(let S=0;S<w.outlen;S++)x[S]=w.h[S>>2]>>8*(S&3)&255;return x}function m(w,x,S){S=S||32,w=n.normalizeInput(w);const O=h(S,x);return p(O,w),g(O)}function b(w,x,S){const O=m(w,x,S);return n.toHex(O)}return g2={blake2s:m,blake2sHex:b,blake2sInit:h,blake2sUpdate:p,blake2sFinal:g},g2}var m2,hO;function XZ(){if(hO)return m2;hO=1;const n=WZ(),e=JZ();return m2={blake2b:n.blake2b,blake2bHex:n.blake2bHex,blake2bInit:n.blake2bInit,blake2bUpdate:n.blake2bUpdate,blake2bFinal:n.blake2bFinal,blake2s:e.blake2s,blake2sHex:e.blake2sHex,blake2sInit:e.blake2sInit,blake2sUpdate:e.blake2sUpdate,blake2sFinal:e.blake2sFinal},m2}var eW=XZ(),cp={exports:{}},y2,dO;function tW(){if(dO)return y2;dO=1;function n(t){try{return JSON.stringify(t)}catch{return'"[Circular]"'}}y2=e;function e(t,r,i){var s=i&&i.stringify||n,c=1;if(typeof t=="object"&&t!==null){var l=r.length+c;if(l===1)return t;var f=new Array(l);f[0]=s(t);for(var h=1;h<l;h++)f[h]=s(r[h]);return f.join(" ")}if(typeof t!="string")return t;var p=r.length;if(p===0)return t;for(var g="",m=1-c,b=-1,w=t&&t.length||0,x=0;x<w;){if(t.charCodeAt(x)===37&&x+1<w){switch(b=b>-1?b:0,t.charCodeAt(x+1)){case 100:case 102:if(m>=p||r[m]==null)break;b<x&&(g+=t.slice(b,x)),g+=Number(r[m]),b=x+2,x++;break;case 105:if(m>=p||r[m]==null)break;b<x&&(g+=t.slice(b,x)),g+=Math.floor(Number(r[m])),b=x+2,x++;break;case 79:case 111:case 106:if(m>=p||r[m]===void 0)break;b<x&&(g+=t.slice(b,x));var S=typeof r[m];if(S==="string"){g+="'"+r[m]+"'",b=x+2,x++;break}if(S==="function"){g+=r[m].name||"<anonymous>",b=x+2,x++;break}g+=s(r[m]),b=x+2,x++;break;case 115:if(m>=p)break;b<x&&(g+=t.slice(b,x)),g+=String(r[m]),b=x+2,x++;break;case 37:b<x&&(g+=t.slice(b,x)),g+="%",b=x+2,x++,m--;break}++m}++x}return b===-1?t:(b<w&&(g+=t.slice(b)),g)}return y2}var pO;function nW(){if(pO)return cp.exports;pO=1;const n=tW();cp.exports=p;const e=W().console||{},t={mapHttpRequest:z,mapHttpResponse:z,wrapRequestSerializer:M,wrapResponseSerializer:M,wrapErrorSerializer:M,req:z,res:z,err:N,errWithCause:N};function r(A,E){return A==="silent"?1/0:E.levels.values[A]}const i=Symbol("pino.logFuncs"),s=Symbol("pino.hierarchy"),c={error:"log",fatal:"error",warn:"error",info:"log",debug:"log",trace:"log"};function l(A,E){const P={logger:E,parent:A[s]};E[s]=P}function f(A,E,P){const $={};E.forEach(R=>{$[R]=P[R]?P[R]:e[R]||e[c[R]||"log"]||L}),A[i]=$}function h(A,E){return Array.isArray(A)?A.filter(function($){return $!=="!stdSerializers.err"}):A===!0?Object.keys(E):!1}function p(A){A=A||{},A.browser=A.browser||{};const E=A.browser.transmit;if(E&&typeof E.send!="function")throw Error("pino: transmit option must have a send function");const P=A.browser.write||e;A.browser.write&&(A.browser.asObject=!0);const $=A.serializers||{},R=h(A.browser.serialize,$);let C=A.browser.serialize;Array.isArray(A.browser.serialize)&&A.browser.serialize.indexOf("!stdSerializers.err")>-1&&(C=!1);const H=Object.keys(A.customLevels||{}),K=["error","fatal","warn","info","debug","trace"].concat(H);typeof P=="function"&&K.forEach(function(Se){P[Se]=P}),(A.enabled===!1||A.browser.disabled)&&(A.level="silent");const J=A.level||"info",Y=Object.create(P);Y.log||(Y.log=L),f(Y,K,P),l({},Y),Object.defineProperty(Y,"levelVal",{get:ue}),Object.defineProperty(Y,"level",{get:ge,set:xe});const se={transmit:E,serialize:R,asObject:A.browser.asObject,asObjectBindingsOnly:A.browser.asObjectBindingsOnly,formatters:A.browser.formatters,levels:K,timestamp:U(A),messageKey:A.messageKey||"msg",onChild:A.onChild||L};Y.levels=g(A),Y.level=J,Y.isLevelEnabled=function(Se){return this.levels.values[Se]?this.levels.values[Se]>=this.levels.values[this.level]:!1},Y.setMaxListeners=Y.getMaxListeners=Y.emit=Y.addListener=Y.on=Y.prependListener=Y.once=Y.prependOnceListener=Y.removeListener=Y.removeAllListeners=Y.listeners=Y.listenerCount=Y.eventNames=Y.write=Y.flush=L,Y.serializers=$,Y._serialize=R,Y._stdErrSerialize=C,Y.child=function(...Se){return be.call(this,se,...Se)},E&&(Y._logEvent=I());function ue(){return r(this.level,this)}function ge(){return this._level}function xe(Se){if(Se!=="silent"&&!this.levels.values[Se])throw Error("unknown level "+Se);this._level=Se,w(this,se,Y,"error"),w(this,se,Y,"fatal"),w(this,se,Y,"warn"),w(this,se,Y,"info"),w(this,se,Y,"debug"),w(this,se,Y,"trace"),H.forEach(Pe=>{w(this,se,Y,Pe)})}function be(Se,Pe,Me){if(!Pe)throw new Error("missing bindings for child Pino");Me=Me||{},R&&Pe.serializers&&(Me.serializers=Pe.serializers);const Qe=Me.serializers;if(R&&Qe){var at=Object.assign({},$,Qe),Sn=A.browser.serialize===!0?Object.keys(at):R;delete Pe.serializers,T([Pe],Sn,at,this._stdErrSerialize)}function $n(Xa){this._childLevel=(Xa._childLevel|0)+1,this.bindings=Pe,at&&(this.serializers=at,this._serialize=Sn),E&&(this._logEvent=I([].concat(Xa._logEvent.bindings,Pe)))}$n.prototype=this;const fn=new $n(this);return l(this,fn),fn.child=function(...Xa){return be.call(this,Se,...Xa)},fn.level=Me.level||this.level,Se.onChild(fn),fn}return Y}function g(A){const E=A.customLevels||{},P=Object.assign({},p.levels.values,E),$=Object.assign({},p.levels.labels,m(E));return{values:P,labels:$}}function m(A){const E={};return Object.keys(A).forEach(function(P){E[A[P]]=P}),E}p.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},p.stdSerializers=t,p.stdTimeFunctions=Object.assign({},{nullTime:F,epochTime:q,unixTime:Q,isoTime:G});function b(A){const E=[];A.bindings&&E.push(A.bindings);let P=A[s];for(;P.parent;)P=P.parent,P.logger.bindings&&E.push(P.logger.bindings);return E.reverse()}function w(A,E,P,$){if(Object.defineProperty(A,$,{value:r(A.level,P)>r($,P)?L:P[i][$],writable:!0,enumerable:!0,configurable:!0}),A[$]===L){if(!E.transmit)return;const C=E.transmit.level||A.level,H=r(C,P);if(r($,P)<H)return}A[$]=S(A,E,P,$);const R=b(A);R.length!==0&&(A[$]=x(R,A[$]))}function x(A,E){return function(){return E.apply(this,[...A,...arguments])}}function S(A,E,P,$){return(function(R){return function(){const H=E.timestamp(),K=new Array(arguments.length),J=Object.getPrototypeOf&&Object.getPrototypeOf(this)===e?e:this;for(var Y=0;Y<K.length;Y++)K[Y]=arguments[Y];var se=!1;if(E.serialize&&(T(K,this._serialize,this.serializers,this._stdErrSerialize),se=!0),E.asObject||E.formatters?R.call(J,...O(this,$,K,H,E)):R.apply(J,K),E.transmit){const ue=E.transmit.level||A._level,ge=r(ue,P),xe=r($,P);if(xe<ge)return;_(this,{ts:H,methodLevel:$,methodValue:xe,transmitValue:P.levels.values[E.transmit.level||A._level],send:E.transmit.send,val:r(A._level,P)},K,se)}}})(A[i][$])}function O(A,E,P,$,R){const{level:C,log:H=ue=>ue}=R.formatters||{},K=P.slice();let J=K[0];const Y={};let se=(A._childLevel|0)+1;if(se<1&&(se=1),$&&(Y.time=$),C){const ue=C(E,A.levels.values[E]);Object.assign(Y,ue)}else Y.level=A.levels.values[E];if(R.asObjectBindingsOnly){if(J!==null&&typeof J=="object")for(;se--&&typeof K[0]=="object";)Object.assign(Y,K.shift());return[H(Y),...K]}else{if(J!==null&&typeof J=="object"){for(;se--&&typeof K[0]=="object";)Object.assign(Y,K.shift());J=K.length?n(K.shift(),K):void 0}else typeof J=="string"&&(J=n(K.shift(),K));return J!==void 0&&(Y[R.messageKey]=J),[H(Y)]}}function T(A,E,P,$){for(const R in A)if($&&A[R]instanceof Error)A[R]=p.stdSerializers.err(A[R]);else if(typeof A[R]=="object"&&!Array.isArray(A[R])&&E)for(const C in A[R])E.indexOf(C)>-1&&C in P&&(A[R][C]=P[C](A[R][C]))}function _(A,E,P,$=!1){const R=E.send,C=E.ts,H=E.methodLevel,K=E.methodValue,J=E.val,Y=A._logEvent.bindings;$||T(P,A._serialize||Object.keys(A.serializers),A.serializers,A._stdErrSerialize===void 0?!0:A._stdErrSerialize),A._logEvent.ts=C,A._logEvent.messages=P.filter(function(se){return Y.indexOf(se)===-1}),A._logEvent.level.label=H,A._logEvent.level.value=K,R(H,A._logEvent,J),A._logEvent=I(Y)}function I(A){return{ts:0,messages:[],bindings:A||[],level:{label:"",value:0}}}function N(A){const E={type:A.constructor.name,msg:A.message,stack:A.stack};for(const P in A)E[P]===void 0&&(E[P]=A[P]);return E}function U(A){return typeof A.timestamp=="function"?A.timestamp:A.timestamp===!1?F:q}function z(){return{}}function M(A){return A}function L(){}function F(){return!1}function q(){return Date.now()}function Q(){return Math.round(Date.now()/1e3)}function G(){return new Date(Date.now()).toISOString()}function W(){function A(E){return typeof E<"u"&&E}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return A(self)||A(window)||A(this)||{}}}return cp.exports.default=p,cp.exports.pino=p,cp.exports}var wf=nW();const gB=Sg(wf),rW={level:"info"},kb="custom_context",Y3=1e3*1024;var iW=Object.defineProperty,sW=(n,e,t)=>e in n?iW(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Yo=(n,e,t)=>sW(n,typeof e!="symbol"?e+"":e,t);let aW=class{constructor(e){Yo(this,"nodeValue"),Yo(this,"sizeInBytes"),Yo(this,"next"),this.nodeValue=e,this.sizeInBytes=new TextEncoder().encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}},gO=class{constructor(e){Yo(this,"lengthInNodes"),Yo(this,"sizeInBytes"),Yo(this,"head"),Yo(this,"tail"),Yo(this,"maxSizeInBytes"),this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=e,this.sizeInBytes=0}append(e){const t=new aW(e);if(t.size>this.maxSizeInBytes)throw new Error(`[LinkedList] Value too big to insert into list: ${e} with size ${t.size}`);for(;this.size+t.size>this.maxSizeInBytes;)this.shift();this.head?(this.tail&&(this.tail.next=t),this.tail=t):(this.head=t,this.tail=t),this.lengthInNodes++,this.sizeInBytes+=t.size}shift(){if(!this.head)return;const e=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=e.size}toArray(){const e=[];let t=this.head;for(;t!==null;)e.push(t.value),t=t.next;return e}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let e=this.head;return{next:()=>{if(!e)return{done:!0,value:null};const t=e.value;return e=e.next,{done:!1,value:t}}}}};var oW=Object.defineProperty,cW=(n,e,t)=>e in n?oW(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Nm=(n,e,t)=>cW(n,typeof e!="symbol"?e+"":e,t);let mB=class{constructor(e,t=Y3){Nm(this,"logs"),Nm(this,"level"),Nm(this,"levelValue"),Nm(this,"MAX_LOG_SIZE_IN_BYTES"),this.level=e??"error",this.levelValue=wf.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=t,this.logs=new gO(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(e,t){t===wf.levels.values.error?console.error(e):t===wf.levels.values.warn?console.warn(e):t===wf.levels.values.debug?console.debug(e):t===wf.levels.values.trace?console.trace(e):console.log(e)}appendToLogs(e){this.logs.append(Qa({timestamp:new Date().toISOString(),log:e}));const t=typeof e=="string"?JSON.parse(e).level:e.level;t>=this.levelValue&&this.forwardToConsole(e,t)}getLogs(){return this.logs}clearLogs(){this.logs=new gO(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(e){const t=this.getLogArray();return t.push(Qa({extraMetadata:e})),new Blob(t,{type:"application/json"})}};var lW=Object.defineProperty,uW=(n,e,t)=>e in n?lW(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,fW=(n,e,t)=>uW(n,e+"",t);let hW=class{constructor(e,t=Y3){fW(this,"baseChunkLogger"),this.baseChunkLogger=new mB(e,t)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}downloadLogsBlobInBrowser(e){const t=URL.createObjectURL(this.logsToBlob(e)),r=document.createElement("a");r.href=t,r.download=`walletconnect-logs-${new Date().toISOString()}.txt`,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(t)}};var dW=Object.defineProperty,pW=(n,e,t)=>e in n?dW(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,gW=(n,e,t)=>pW(n,e+"",t);let mW=class{constructor(e,t=Y3){gW(this,"baseChunkLogger"),this.baseChunkLogger=new mB(e,t)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}};var yW=Object.defineProperty,bW=Object.defineProperties,wW=Object.getOwnPropertyDescriptors,mO=Object.getOwnPropertySymbols,vW=Object.prototype.hasOwnProperty,xW=Object.prototype.propertyIsEnumerable,yO=(n,e,t)=>e in n?yW(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,zy=(n,e)=>{for(var t in e||(e={}))vW.call(e,t)&&yO(n,t,e[t]);if(mO)for(var t of mO(e))xW.call(e,t)&&yO(n,t,e[t]);return n},Hy=(n,e)=>bW(n,wW(e));function EW(n){return Hy(zy({},n),{level:(n==null?void 0:n.level)||rW.level})}function AW(n,e,t=kb){return n[t]=e,n}function Br(n,e=kb){return n[e]||""}function SW(n,e,t=kb){const r=Br(n,t);return r.trim()?`${r}/${e}`:e}function ti(n,e,t=kb){const r=SW(n,e,t),i=n.child({context:r});return AW(i,r,t)}function _W(n){var e,t;const r=new hW((e=n.opts)==null?void 0:e.level,n.maxSizeInBytes);return{logger:gB(Hy(zy({},n.opts),{level:"trace",browser:Hy(zy({},(t=n.opts)==null?void 0:t.browser),{write:i=>r.write(i)})})),chunkLoggerController:r}}function OW(n){var e;const t=new mW((e=n.opts)==null?void 0:e.level,n.maxSizeInBytes);return{logger:gB(Hy(zy({},n.opts),{level:"trace"}),t),chunkLoggerController:t}}function yB(n){return typeof n.loggerOverride<"u"&&typeof n.loggerOverride!="string"?{logger:n.loggerOverride,chunkLoggerController:null}:typeof window<"u"?_W(n):OW(n)}var CW={};const NW=":";function Ha(n){const[e,t]=n.split(NW);return{namespace:e,reference:t}}function bO(n,e=[]){const t=[];return Object.keys(n).forEach(r=>{if(e.length&&!e.includes(r))return;const i=n[r];t.push(...i.accounts)}),t}function bB(n,e){return n.includes(":")?[n]:e.chains||[]}var IW=Object.defineProperty,TW=Object.defineProperties,DW=Object.getOwnPropertyDescriptors,wO=Object.getOwnPropertySymbols,RW=Object.prototype.hasOwnProperty,BW=Object.prototype.propertyIsEnumerable,fE=(n,e,t)=>e in n?IW(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,vO=(n,e)=>{for(var t in e||(e={}))RW.call(e,t)&&fE(n,t,e[t]);if(wO)for(var t of wO(e))BW.call(e,t)&&fE(n,t,e[t]);return n},kW=(n,e)=>TW(n,DW(e)),xO=(n,e,t)=>fE(n,typeof e!="symbol"?e+"":e,t);const PW="ReactNative",Xr={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},UW="js";function Fy(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function Oc(){return!Ka.getDocument()&&!!Ka.getNavigator()&&navigator.product===PW}function MW(){return Oc()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="android"}function LW(){return Oc()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="ios"}function qh(){return!Fy()&&!!Ka.getNavigator()&&!!Ka.getDocument()}function Ug(){return Oc()?Xr.reactNative:Fy()?Xr.node:qh()?Xr.browser:Xr.unknown}function EO(){var n;try{return Oc()&&typeof global<"u"&&typeof(global==null?void 0:global.Application)<"u"?(n=global.Application)==null?void 0:n.applicationId:void 0}catch{return}}function $W(n,e){const t=new URLSearchParams(n);return Object.entries(e).sort(([r],[i])=>r.localeCompare(i)).forEach(([r,i])=>{i!=null&&t.set(r,String(i))}),t.toString()}function jW(n){var e,t;const r=wB();try{return n!=null&&n.url&&r.url&&new URL(n.url).host!==new URL(r.url).host&&(console.warn(`The configured WalletConnect 'metadata.url':${n.url} differs from the actual page url:${r.url}. This is probably unintended and can lead to issues.`),n.url=r.url),(e=n==null?void 0:n.icons)!=null&&e.length&&n.icons.length>0&&(n.icons=n.icons.filter(i=>i!=="")),kW(vO(vO({},r),n),{url:(n==null?void 0:n.url)||r.url,name:(n==null?void 0:n.name)||r.name,description:(n==null?void 0:n.description)||r.description,icons:(t=n==null?void 0:n.icons)!=null&&t.length&&n.icons.length>0?n.icons:r.icons})}catch(i){return console.warn("Error populating app metadata",i),n||r}}function wB(){return mq.getWindowMetadata()||{name:"",description:"",url:"",icons:[""]}}function zW(){if(Ug()===Xr.reactNative&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"){const{OS:t,Version:r}=global.Platform;return[t,r].join("-")}const n=kF();if(n===null)return"unknown";const e=n.os?n.os.replace(" ","").toLowerCase():"unknown";return n.type==="browser"?[e,n.name,n.version].join("-"):[e,n.version].join("-")}function HW(){var n;const e=Ug();return e===Xr.browser?[e,((n=Ka.getLocation())==null?void 0:n.host)||"unknown"].join(":"):e}function vB(n,e,t){const r=zW(),i=HW();return[[n,e].join("-"),[UW,t].join("-"),r,i].join("/")}function FW({protocol:n,version:e,relayUrl:t,sdkVersion:r,auth:i,projectId:s,useOnCloseEvent:c,bundleId:l,packageName:f}){const h=t.split("?"),p=vB(n,e,r),g={auth:i,ua:p,projectId:s,useOnCloseEvent:c,packageName:f||void 0,bundleId:l||void 0},m=$W(h[1]||"",g);return h[0]+"?"+m}function El(n,e){return n.filter(t=>e.includes(t)).length===n.length}function hE(n){return Object.fromEntries(n.entries())}function dE(n){return new Map(Object.entries(n))}function il(n=ve.FIVE_MINUTES,e){const t=ve.toMiliseconds(n||ve.FIVE_MINUTES);let r,i,s,c;return{resolve:l=>{s&&r&&(clearTimeout(s),r(l),c=Promise.resolve(l))},reject:l=>{s&&i&&(clearTimeout(s),i(l))},done:()=>new Promise((l,f)=>{if(c)return l(c);s=setTimeout(()=>{const h=new Error(e);c=Promise.reject(h),f(h)},t),r=l,i=f})}}function ks(n,e,t){return new Promise(async(r,i)=>{const s=setTimeout(()=>i(new Error(t)),e);try{const c=await n;r(c)}catch(c){i(c)}clearTimeout(s)})}function xB(n,e){if(typeof e=="string"&&e.startsWith(`${n}:`))return e;if(n.toLowerCase()==="topic"){if(typeof e!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${e}`}else if(n.toLowerCase()==="id"){if(typeof e!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${e}`}throw new Error(`Unknown expirer target type: ${n}`)}function qW(n){return xB("topic",n)}function VW(n){return xB("id",n)}function EB(n){const[e,t]=n.split(":"),r={id:void 0,topic:void 0};if(e==="topic"&&typeof t=="string")r.topic=t;else if(e==="id"&&Number.isInteger(Number(t)))r.id=Number(t);else throw new Error(`Invalid target, expected id:number or topic:string, got ${e}:${t}`);return r}function Jt(n,e){return ve.fromMiliseconds(Date.now()+ve.toMiliseconds(n))}function Ts(n){return Date.now()>=ve.toMiliseconds(n)}function ct(n,e){return`${n}${e?`:${e}`:""}`}function Us(n=[],e=[]){return[...new Set([...n,...e])]}async function GW({id:n,topic:e,wcDeepLink:t}){var r;try{if(!t)return;const i=typeof t=="string"?JSON.parse(t):t,s=i==null?void 0:i.href;if(typeof s!="string")return;const c=KW(s,n,e),l=Ug();if(l===Xr.browser){if(!((r=Ka.getDocument())!=null&&r.hasFocus())){console.warn("Document does not have focus, skipping deeplink.");return}QW(c)}else l===Xr.reactNative&&typeof(global==null?void 0:global.Linking)<"u"&&await global.Linking.openURL(c)}catch(i){console.error(i)}}function KW(n,e,t){const r=`requestId=${e}&sessionTopic=${t}`;n.endsWith("/")&&(n=n.slice(0,-1));let i=`${n}`;if(n.startsWith("https://t.me")){const s=n.includes("?")?"&startapp=":"?startapp=";i=`${i}${s}${JW(r,!0)}`}else i=`${i}/wc?${r}`;return i}function QW(n){let e="_self";WW()?e="_top":(ZW()||n.startsWith("https://")||n.startsWith("http://"))&&(e="_blank"),window.open(n,e,"noreferrer noopener")}async function YW(n,e){let t="";try{if(qh()&&(t=localStorage.getItem(e),t))return t;t=await n.getItem(e)}catch(r){console.error(r)}return t}function AO(n,e){if(!n.includes(e))return null;const t=n.split(/([&,?,=])/),r=t.indexOf(e);return t[r+2]}function SO(){return typeof crypto<"u"&&crypto!=null&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,n=>{const e=Math.random()*16|0;return(n==="x"?e:e&3|8).toString(16)})}function Z3(){return typeof process<"u"&&CW.IS_VITEST==="true"}function ZW(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)}function WW(){try{return window.self!==window.top}catch{return!1}}function JW(n,e=!1){const t=Buffer.from(n).toString("base64");return e?t.replace(/[=]/g,""):t}function AB(n){return Buffer.from(n,"base64").toString("utf-8")}function XW(n){return new Promise(e=>setTimeout(e,n))}let eJ=class{constructor({limit:e}){xO(this,"limit"),xO(this,"set"),this.limit=e,this.set=new Set}add(e){if(!this.set.has(e)){if(this.set.size>=this.limit){const t=this.set.values().next().value;t&&this.set.delete(t)}this.set.add(e)}}has(e){return this.set.has(e)}};const Im=BigInt(2**32-1),_O=BigInt(32);function SB(n,e=!1){return e?{h:Number(n&Im),l:Number(n>>_O&Im)}:{h:Number(n>>_O&Im)|0,l:Number(n&Im)|0}}function _B(n,e=!1){const t=n.length;let r=new Uint32Array(t),i=new Uint32Array(t);for(let s=0;s<t;s++){const{h:c,l}=SB(n[s],e);[r[s],i[s]]=[c,l]}return[r,i]}const OO=(n,e,t)=>n>>>t,CO=(n,e,t)=>n<<32-t|e>>>t,Vo=(n,e,t)=>n>>>t|e<<32-t,Go=(n,e,t)=>n<<32-t|e>>>t,Np=(n,e,t)=>n<<64-t|e>>>t-32,Ip=(n,e,t)=>n>>>t-32|e<<64-t,tJ=(n,e)=>e,nJ=(n,e)=>n,rJ=(n,e,t)=>n<<t|e>>>32-t,iJ=(n,e,t)=>e<<t|n>>>32-t,sJ=(n,e,t)=>e<<t-32|n>>>64-t,aJ=(n,e,t)=>n<<t-32|e>>>64-t;function ji(n,e,t,r){const i=(e>>>0)+(r>>>0);return{h:n+t+(i/2**32|0)|0,l:i|0}}const W3=(n,e,t)=>(n>>>0)+(e>>>0)+(t>>>0),J3=(n,e,t,r)=>e+t+r+(n/2**32|0)|0,oJ=(n,e,t,r)=>(n>>>0)+(e>>>0)+(t>>>0)+(r>>>0),cJ=(n,e,t,r,i)=>e+t+r+i+(n/2**32|0)|0,lJ=(n,e,t,r,i)=>(n>>>0)+(e>>>0)+(t>>>0)+(r>>>0)+(i>>>0),uJ=(n,e,t,r,i,s)=>e+t+r+i+s+(n/2**32|0)|0,of=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function Pb(n){return n instanceof Uint8Array||ArrayBuffer.isView(n)&&n.constructor.name==="Uint8Array"}function Ya(n){if(!Number.isSafeInteger(n)||n<0)throw new Error("positive integer expected, got "+n)}function es(n,...e){if(!Pb(n))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(n.length))throw new Error("Uint8Array expected of length "+e+", got length="+n.length)}function Ub(n){if(typeof n!="function"||typeof n.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");Ya(n.outputLen),Ya(n.blockLen)}function Ac(n,e=!0){if(n.destroyed)throw new Error("Hash instance has been destroyed");if(e&&n.finished)throw new Error("Hash#digest() has already been called")}function X3(n,e){es(n);const t=e.outputLen;if(n.length<t)throw new Error("digestInto() expects output buffer of length at least "+t)}function rg(n){return new Uint32Array(n.buffer,n.byteOffset,Math.floor(n.byteLength/4))}function Ti(...n){for(let e=0;e<n.length;e++)n[e].fill(0)}function b2(n){return new DataView(n.buffer,n.byteOffset,n.byteLength)}function fs(n,e){return n<<32-e|n>>>e}const OB=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function CB(n){return n<<24&4278190080|n<<8&16711680|n>>>8&65280|n>>>24&255}const pa=OB?n=>n:n=>CB(n);function fJ(n){for(let e=0;e<n.length;e++)n[e]=CB(n[e]);return n}const Ko=OB?n=>n:fJ,NB=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",hJ=Array.from({length:256},(n,e)=>e.toString(16).padStart(2,"0"));function Pf(n){if(es(n),NB)return n.toHex();let e="";for(let t=0;t<n.length;t++)e+=hJ[n[t]];return e}const la={_0:48,_9:57,A:65,F:70,a:97,f:102};function NO(n){if(n>=la._0&&n<=la._9)return n-la._0;if(n>=la.A&&n<=la.F)return n-(la.A-10);if(n>=la.a&&n<=la.f)return n-(la.a-10)}function qy(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);if(NB)return Uint8Array.fromHex(n);const e=n.length,t=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(t);for(let i=0,s=0;i<t;i++,s+=2){const c=NO(n.charCodeAt(s)),l=NO(n.charCodeAt(s+1));if(c===void 0||l===void 0){const f=n[s]+n[s+1];throw new Error('hex string expected, got non-hex character "'+f+'" at index '+s)}r[i]=c*16+l}return r}function IB(n){if(typeof n!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(n))}function Ji(n){return typeof n=="string"&&(n=IB(n)),es(n),n}function Zo(...n){let e=0;for(let r=0;r<n.length;r++){const i=n[r];es(i),e+=i.length}const t=new Uint8Array(e);for(let r=0,i=0;r<n.length;r++){const s=n[r];t.set(s,i),i+=s.length}return t}class Mb{}function Mg(n){const e=r=>n().update(Ji(r)).digest(),t=n();return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=()=>n(),e}function dJ(n){const e=(r,i)=>n(i).update(Ji(r)).digest(),t=n({});return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=r=>n(r),e}function ou(n=32){if(of&&typeof of.getRandomValues=="function")return of.getRandomValues(new Uint8Array(n));if(of&&typeof of.randomBytes=="function")return Uint8Array.from(of.randomBytes(n));throw new Error("crypto.getRandomValues must be defined")}const pJ=BigInt(0),lp=BigInt(1),gJ=BigInt(2),mJ=BigInt(7),yJ=BigInt(256),bJ=BigInt(113),TB=[],DB=[],RB=[];for(let n=0,e=lp,t=1,r=0;n<24;n++){[t,r]=[r,(2*t+3*r)%5],TB.push(2*(5*r+t)),DB.push((n+1)*(n+2)/2%64);let i=pJ;for(let s=0;s<7;s++)e=(e<<lp^(e>>mJ)*bJ)%yJ,e&gJ&&(i^=lp<<(lp<<BigInt(s))-lp);RB.push(i)}const BB=_B(RB,!0),wJ=BB[0],vJ=BB[1],IO=(n,e,t)=>t>32?sJ(n,e,t):rJ(n,e,t),TO=(n,e,t)=>t>32?aJ(n,e,t):iJ(n,e,t);function xJ(n,e=24){const t=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let c=0;c<10;c++)t[c]=n[c]^n[c+10]^n[c+20]^n[c+30]^n[c+40];for(let c=0;c<10;c+=2){const l=(c+8)%10,f=(c+2)%10,h=t[f],p=t[f+1],g=IO(h,p,1)^t[l],m=TO(h,p,1)^t[l+1];for(let b=0;b<50;b+=10)n[c+b]^=g,n[c+b+1]^=m}let i=n[2],s=n[3];for(let c=0;c<24;c++){const l=DB[c],f=IO(i,s,l),h=TO(i,s,l),p=TB[c];i=n[p],s=n[p+1],n[p]=f,n[p+1]=h}for(let c=0;c<50;c+=10){for(let l=0;l<10;l++)t[l]=n[c+l];for(let l=0;l<10;l++)n[c+l]^=~t[(l+2)%10]&t[(l+4)%10]}n[0]^=wJ[r],n[1]^=vJ[r]}Ti(t)}let EJ=class kB extends Mb{constructor(e,t,r,i=!1,s=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=i,this.rounds=s,Ya(r),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=rg(this.state)}clone(){return this._cloneInto()}keccak(){Ko(this.state32),xJ(this.state32,this.rounds),Ko(this.state32),this.posOut=0,this.pos=0}update(e){Ac(this),e=Ji(e),es(e);const{blockLen:t,state:r}=this,i=e.length;for(let s=0;s<i;){const c=Math.min(t-this.pos,i-s);for(let l=0;l<c;l++)r[this.pos++]^=e[s++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:r,blockLen:i}=this;e[r]^=t,(t&128)!==0&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){Ac(this,!1),es(e),this.finish();const t=this.state,{blockLen:r}=this;for(let i=0,s=e.length;i<s;){this.posOut>=r&&this.keccak();const c=Math.min(r-this.posOut,s-i);e.set(t.subarray(this.posOut,this.posOut+c),i),this.posOut+=c,i+=c}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Ya(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(X3(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,Ti(this.state)}_cloneInto(e){const{blockLen:t,suffix:r,outputLen:i,rounds:s,enableXOF:c}=this;return e||(e=new kB(t,r,i,c,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=r,e.outputLen=i,e.enableXOF=c,e.destroyed=this.destroyed,e}};const AJ=(n,e,t)=>Mg(()=>new EJ(e,n,t)),SJ=AJ(1,136,256/8);function _J(n,e,t,r){if(typeof n.setBigUint64=="function")return n.setBigUint64(e,t,r);const i=BigInt(32),s=BigInt(4294967295),c=Number(t>>i&s),l=Number(t&s),f=r?4:0,h=r?0:4;n.setUint32(e+f,c,r),n.setUint32(e+h,l,r)}function OJ(n,e,t){return n&e^~n&t}function CJ(n,e,t){return n&e^n&t^e&t}let PB=class extends Mb{constructor(e,t,r,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=i,this.buffer=new Uint8Array(e),this.view=b2(this.buffer)}update(e){Ac(this),e=Ji(e),es(e);const{view:t,buffer:r,blockLen:i}=this,s=e.length;for(let c=0;c<s;){const l=Math.min(i-this.pos,s-c);if(l===i){const f=b2(e);for(;i<=s-c;c+=i)this.process(f,c);continue}r.set(e.subarray(c,c+l),this.pos),this.pos+=l,c+=l,this.pos===i&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Ac(this),X3(e,this),this.finished=!0;const{buffer:t,view:r,blockLen:i,isLE:s}=this;let{pos:c}=this;t[c++]=128,Ti(this.buffer.subarray(c)),this.padOffset>i-c&&(this.process(r,0),c=0);for(let g=c;g<i;g++)t[g]=0;_J(r,i-8,BigInt(this.length*8),s),this.process(r,0);const l=b2(e),f=this.outputLen;if(f%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const h=f/4,p=this.get();if(h>p.length)throw new Error("_sha2: outputLen bigger than state");for(let g=0;g<h;g++)l.setUint32(4*g,p[g],s)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:r,length:i,finished:s,destroyed:c,pos:l}=this;return e.destroyed=c,e.finished=s,e.length=i,e.pos=l,i%t&&e.buffer.set(r),e}clone(){return this._cloneInto()}};const Po=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Fn=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]),qn=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),NJ=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Uo=new Uint32Array(64);class IJ extends PB{constructor(e=32){super(64,e,8,!1),this.A=Po[0]|0,this.B=Po[1]|0,this.C=Po[2]|0,this.D=Po[3]|0,this.E=Po[4]|0,this.F=Po[5]|0,this.G=Po[6]|0,this.H=Po[7]|0}get(){const{A:e,B:t,C:r,D:i,E:s,F:c,G:l,H:f}=this;return[e,t,r,i,s,c,l,f]}set(e,t,r,i,s,c,l,f){this.A=e|0,this.B=t|0,this.C=r|0,this.D=i|0,this.E=s|0,this.F=c|0,this.G=l|0,this.H=f|0}process(e,t){for(let g=0;g<16;g++,t+=4)Uo[g]=e.getUint32(t,!1);for(let g=16;g<64;g++){const m=Uo[g-15],b=Uo[g-2],w=fs(m,7)^fs(m,18)^m>>>3,x=fs(b,17)^fs(b,19)^b>>>10;Uo[g]=x+Uo[g-7]+w+Uo[g-16]|0}let{A:r,B:i,C:s,D:c,E:l,F:f,G:h,H:p}=this;for(let g=0;g<64;g++){const m=fs(l,6)^fs(l,11)^fs(l,25),b=p+m+OJ(l,f,h)+NJ[g]+Uo[g]|0,w=(fs(r,2)^fs(r,13)^fs(r,22))+CJ(r,i,s)|0;p=h,h=f,f=l,l=c+b|0,c=s,s=i,i=r,r=b+w|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,c=c+this.D|0,l=l+this.E|0,f=f+this.F|0,h=h+this.G|0,p=p+this.H|0,this.set(r,i,s,c,l,f,h,p)}roundClean(){Ti(Uo)}destroy(){this.set(0,0,0,0,0,0,0,0),Ti(this.buffer)}}const UB=_B(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(n=>BigInt(n))),TJ=UB[0],DJ=UB[1],Mo=new Uint32Array(80),Lo=new Uint32Array(80);let eA=class extends PB{constructor(e=64){super(128,e,16,!1),this.Ah=qn[0]|0,this.Al=qn[1]|0,this.Bh=qn[2]|0,this.Bl=qn[3]|0,this.Ch=qn[4]|0,this.Cl=qn[5]|0,this.Dh=qn[6]|0,this.Dl=qn[7]|0,this.Eh=qn[8]|0,this.El=qn[9]|0,this.Fh=qn[10]|0,this.Fl=qn[11]|0,this.Gh=qn[12]|0,this.Gl=qn[13]|0,this.Hh=qn[14]|0,this.Hl=qn[15]|0}get(){const{Ah:e,Al:t,Bh:r,Bl:i,Ch:s,Cl:c,Dh:l,Dl:f,Eh:h,El:p,Fh:g,Fl:m,Gh:b,Gl:w,Hh:x,Hl:S}=this;return[e,t,r,i,s,c,l,f,h,p,g,m,b,w,x,S]}set(e,t,r,i,s,c,l,f,h,p,g,m,b,w,x,S){this.Ah=e|0,this.Al=t|0,this.Bh=r|0,this.Bl=i|0,this.Ch=s|0,this.Cl=c|0,this.Dh=l|0,this.Dl=f|0,this.Eh=h|0,this.El=p|0,this.Fh=g|0,this.Fl=m|0,this.Gh=b|0,this.Gl=w|0,this.Hh=x|0,this.Hl=S|0}process(e,t){for(let _=0;_<16;_++,t+=4)Mo[_]=e.getUint32(t),Lo[_]=e.getUint32(t+=4);for(let _=16;_<80;_++){const I=Mo[_-15]|0,N=Lo[_-15]|0,U=Vo(I,N,1)^Vo(I,N,8)^OO(I,N,7),z=Go(I,N,1)^Go(I,N,8)^CO(I,N,7),M=Mo[_-2]|0,L=Lo[_-2]|0,F=Vo(M,L,19)^Np(M,L,61)^OO(M,L,6),q=Go(M,L,19)^Ip(M,L,61)^CO(M,L,6),Q=oJ(z,q,Lo[_-7],Lo[_-16]),G=cJ(Q,U,F,Mo[_-7],Mo[_-16]);Mo[_]=G|0,Lo[_]=Q|0}let{Ah:r,Al:i,Bh:s,Bl:c,Ch:l,Cl:f,Dh:h,Dl:p,Eh:g,El:m,Fh:b,Fl:w,Gh:x,Gl:S,Hh:O,Hl:T}=this;for(let _=0;_<80;_++){const I=Vo(g,m,14)^Vo(g,m,18)^Np(g,m,41),N=Go(g,m,14)^Go(g,m,18)^Ip(g,m,41),U=g&b^~g&x,z=m&w^~m&S,M=lJ(T,N,z,DJ[_],Lo[_]),L=uJ(M,O,I,U,TJ[_],Mo[_]),F=M|0,q=Vo(r,i,28)^Np(r,i,34)^Np(r,i,39),Q=Go(r,i,28)^Ip(r,i,34)^Ip(r,i,39),G=r&s^r&l^s&l,W=i&c^i&f^c&f;O=x|0,T=S|0,x=b|0,S=w|0,b=g|0,w=m|0,{h:g,l:m}=ji(h|0,p|0,L|0,F|0),h=l|0,p=f|0,l=s|0,f=c|0,s=r|0,c=i|0;const A=W3(F,Q,W);r=J3(A,L,q,G),i=A|0}({h:r,l:i}=ji(this.Ah|0,this.Al|0,r|0,i|0)),{h:s,l:c}=ji(this.Bh|0,this.Bl|0,s|0,c|0),{h:l,l:f}=ji(this.Ch|0,this.Cl|0,l|0,f|0),{h,l:p}=ji(this.Dh|0,this.Dl|0,h|0,p|0),{h:g,l:m}=ji(this.Eh|0,this.El|0,g|0,m|0),{h:b,l:w}=ji(this.Fh|0,this.Fl|0,b|0,w|0),{h:x,l:S}=ji(this.Gh|0,this.Gl|0,x|0,S|0),{h:O,l:T}=ji(this.Hh|0,this.Hl|0,O|0,T|0),this.set(r,i,s,c,l,f,h,p,g,m,b,w,x,S,O,T)}roundClean(){Ti(Mo,Lo)}destroy(){Ti(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};class RJ extends eA{constructor(){super(48),this.Ah=Fn[0]|0,this.Al=Fn[1]|0,this.Bh=Fn[2]|0,this.Bl=Fn[3]|0,this.Ch=Fn[4]|0,this.Cl=Fn[5]|0,this.Dh=Fn[6]|0,this.Dl=Fn[7]|0,this.Eh=Fn[8]|0,this.El=Fn[9]|0,this.Fh=Fn[10]|0,this.Fl=Fn[11]|0,this.Gh=Fn[12]|0,this.Gl=Fn[13]|0,this.Hh=Fn[14]|0,this.Hl=Fn[15]|0}}const Vn=Uint32Array.from([573645204,4230739756,2673172387,3360449730,596883563,1867755857,2520282905,1497426621,2519219938,2827943907,3193839141,1401305490,721525244,746961066,246885852,2177182882]);class BJ extends eA{constructor(){super(32),this.Ah=Vn[0]|0,this.Al=Vn[1]|0,this.Bh=Vn[2]|0,this.Bl=Vn[3]|0,this.Ch=Vn[4]|0,this.Cl=Vn[5]|0,this.Dh=Vn[6]|0,this.Dl=Vn[7]|0,this.Eh=Vn[8]|0,this.El=Vn[9]|0,this.Fh=Vn[10]|0,this.Fl=Vn[11]|0,this.Gh=Vn[12]|0,this.Gl=Vn[13]|0,this.Hh=Vn[14]|0,this.Hl=Vn[15]|0}}const Lb=Mg(()=>new IJ),kJ=Mg(()=>new eA),PJ=Mg(()=>new RJ),UJ=Mg(()=>new BJ),MJ=Uint8Array.from([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9]),on=Uint32Array.from([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),Ee=new Uint32Array(32);function $o(n,e,t,r,i,s){const c=i[s],l=i[s+1];let f=Ee[2*n],h=Ee[2*n+1],p=Ee[2*e],g=Ee[2*e+1],m=Ee[2*t],b=Ee[2*t+1],w=Ee[2*r],x=Ee[2*r+1],S=W3(f,p,c);h=J3(S,h,g,l),f=S|0,{Dh:x,Dl:w}={Dh:x^h,Dl:w^f},{Dh:x,Dl:w}={Dh:tJ(x,w),Dl:nJ(x)},{h:b,l:m}=ji(b,m,x,w),{Bh:g,Bl:p}={Bh:g^b,Bl:p^m},{Bh:g,Bl:p}={Bh:Vo(g,p,24),Bl:Go(g,p,24)},Ee[2*n]=f,Ee[2*n+1]=h,Ee[2*e]=p,Ee[2*e+1]=g,Ee[2*t]=m,Ee[2*t+1]=b,Ee[2*r]=w,Ee[2*r+1]=x}function jo(n,e,t,r,i,s){const c=i[s],l=i[s+1];let f=Ee[2*n],h=Ee[2*n+1],p=Ee[2*e],g=Ee[2*e+1],m=Ee[2*t],b=Ee[2*t+1],w=Ee[2*r],x=Ee[2*r+1],S=W3(f,p,c);h=J3(S,h,g,l),f=S|0,{Dh:x,Dl:w}={Dh:x^h,Dl:w^f},{Dh:x,Dl:w}={Dh:Vo(x,w,16),Dl:Go(x,w,16)},{h:b,l:m}=ji(b,m,x,w),{Bh:g,Bl:p}={Bh:g^b,Bl:p^m},{Bh:g,Bl:p}={Bh:Np(g,p,63),Bl:Ip(g,p,63)},Ee[2*n]=f,Ee[2*n+1]=h,Ee[2*e]=p,Ee[2*e+1]=g,Ee[2*t]=m,Ee[2*t+1]=b,Ee[2*r]=w,Ee[2*r+1]=x}function LJ(n,e={},t,r,i){if(Ya(t),n<0||n>t)throw new Error("outputLen bigger than keyLen");const{key:s,salt:c,personalization:l}=e;if(s!==void 0&&(s.length<1||s.length>t))throw new Error("key length must be undefined or 1.."+t);if(c!==void 0&&c.length!==r)throw new Error("salt must be undefined or "+r);if(l!==void 0&&l.length!==i)throw new Error("personalization must be undefined or "+i)}class $J extends Mb{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,this.length=0,this.pos=0,Ya(e),Ya(t),this.blockLen=e,this.outputLen=t,this.buffer=new Uint8Array(e),this.buffer32=rg(this.buffer)}update(e){Ac(this),e=Ji(e),es(e);const{blockLen:t,buffer:r,buffer32:i}=this,s=e.length,c=e.byteOffset,l=e.buffer;for(let f=0;f<s;){this.pos===t&&(Ko(i),this.compress(i,0,!1),Ko(i),this.pos=0);const h=Math.min(t-this.pos,s-f),p=c+f;if(h===t&&!(p%4)&&f+h<s){const g=new Uint32Array(l,p,Math.floor((s-f)/4));Ko(g);for(let m=0;f+t<s;m+=i.length,f+=t)this.length+=t,this.compress(g,m,!1);Ko(g);continue}r.set(e.subarray(f,f+h),this.pos),this.pos+=h,this.length+=h,f+=h}return this}digestInto(e){Ac(this),X3(e,this);const{pos:t,buffer32:r}=this;this.finished=!0,Ti(this.buffer.subarray(t)),Ko(r),this.compress(r,0,!0),Ko(r);const i=rg(e);this.get().forEach((s,c)=>i[c]=pa(s))}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){const{buffer:t,length:r,finished:i,destroyed:s,outputLen:c,pos:l}=this;return e||(e=new this.constructor({dkLen:c})),e.set(...this.get()),e.buffer.set(t),e.destroyed=s,e.finished=i,e.length=r,e.pos=l,e.outputLen=c,e}clone(){return this._cloneInto()}}class jJ extends $J{constructor(e={}){const t=e.dkLen===void 0?64:e.dkLen;super(128,t),this.v0l=on[0]|0,this.v0h=on[1]|0,this.v1l=on[2]|0,this.v1h=on[3]|0,this.v2l=on[4]|0,this.v2h=on[5]|0,this.v3l=on[6]|0,this.v3h=on[7]|0,this.v4l=on[8]|0,this.v4h=on[9]|0,this.v5l=on[10]|0,this.v5h=on[11]|0,this.v6l=on[12]|0,this.v6h=on[13]|0,this.v7l=on[14]|0,this.v7h=on[15]|0,LJ(t,e,64,16,16);let{key:r,personalization:i,salt:s}=e,c=0;if(r!==void 0&&(r=Ji(r),c=r.length),this.v0l^=this.outputLen|c<<8|65536|1<<24,s!==void 0){s=Ji(s);const l=rg(s);this.v4l^=pa(l[0]),this.v4h^=pa(l[1]),this.v5l^=pa(l[2]),this.v5h^=pa(l[3])}if(i!==void 0){i=Ji(i);const l=rg(i);this.v6l^=pa(l[0]),this.v6h^=pa(l[1]),this.v7l^=pa(l[2]),this.v7h^=pa(l[3])}if(r!==void 0){const l=new Uint8Array(this.blockLen);l.set(r),this.update(l)}}get(){let{v0l:e,v0h:t,v1l:r,v1h:i,v2l:s,v2h:c,v3l:l,v3h:f,v4l:h,v4h:p,v5l:g,v5h:m,v6l:b,v6h:w,v7l:x,v7h:S}=this;return[e,t,r,i,s,c,l,f,h,p,g,m,b,w,x,S]}set(e,t,r,i,s,c,l,f,h,p,g,m,b,w,x,S){this.v0l=e|0,this.v0h=t|0,this.v1l=r|0,this.v1h=i|0,this.v2l=s|0,this.v2h=c|0,this.v3l=l|0,this.v3h=f|0,this.v4l=h|0,this.v4h=p|0,this.v5l=g|0,this.v5h=m|0,this.v6l=b|0,this.v6h=w|0,this.v7l=x|0,this.v7h=S|0}compress(e,t,r){this.get().forEach((f,h)=>Ee[h]=f),Ee.set(on,16);let{h:i,l:s}=SB(BigInt(this.length));Ee[24]=on[8]^s,Ee[25]=on[9]^i,r&&(Ee[28]=~Ee[28],Ee[29]=~Ee[29]);let c=0;const l=MJ;for(let f=0;f<12;f++)$o(0,4,8,12,e,t+2*l[c++]),jo(0,4,8,12,e,t+2*l[c++]),$o(1,5,9,13,e,t+2*l[c++]),jo(1,5,9,13,e,t+2*l[c++]),$o(2,6,10,14,e,t+2*l[c++]),jo(2,6,10,14,e,t+2*l[c++]),$o(3,7,11,15,e,t+2*l[c++]),jo(3,7,11,15,e,t+2*l[c++]),$o(0,5,10,15,e,t+2*l[c++]),jo(0,5,10,15,e,t+2*l[c++]),$o(1,6,11,12,e,t+2*l[c++]),jo(1,6,11,12,e,t+2*l[c++]),$o(2,7,8,13,e,t+2*l[c++]),jo(2,7,8,13,e,t+2*l[c++]),$o(3,4,9,14,e,t+2*l[c++]),jo(3,4,9,14,e,t+2*l[c++]);this.v0l^=Ee[0]^Ee[16],this.v0h^=Ee[1]^Ee[17],this.v1l^=Ee[2]^Ee[18],this.v1h^=Ee[3]^Ee[19],this.v2l^=Ee[4]^Ee[20],this.v2h^=Ee[5]^Ee[21],this.v3l^=Ee[6]^Ee[22],this.v3h^=Ee[7]^Ee[23],this.v4l^=Ee[8]^Ee[24],this.v4h^=Ee[9]^Ee[25],this.v5l^=Ee[10]^Ee[26],this.v5h^=Ee[11]^Ee[27],this.v6l^=Ee[12]^Ee[28],this.v6h^=Ee[13]^Ee[29],this.v7l^=Ee[14]^Ee[30],this.v7h^=Ee[15]^Ee[31],Ti(Ee)}destroy(){this.destroyed=!0,Ti(this.buffer32),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const zJ=dJ(n=>new jJ(n)),HJ="https://rpc.walletconnect.org/v1";function MB(n){const e=`Ethereum Signed Message:
${n.length}`,t=new TextEncoder().encode(e+n);return"0x"+Buffer.from(SJ(t)).toString("hex")}async function FJ(n,e,t,r,i,s){switch(t.t){case"eip191":return await qJ(n,e,t.s);case"eip1271":return await VJ(n,e,t.s,r,i,s);default:throw new Error(`verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${t.t}`)}}function qJ(n,e,t){const r=lG(t);return EG({payload:MB(e),signature:r}).toLowerCase()===n.toLowerCase()}async function VJ(n,e,t,r,i,s){const c=Ha(r);if(!c.namespace||!c.reference)throw new Error(`isValidEip1271Signature failed: chainId must be in CAIP-2 format, received: ${r}`);try{const l="0x1626ba7e",f="0000000000000000000000000000000000000000000000000000000000000040",h=t.substring(2),p=(h.length/2).toString(16).padStart(64,"0"),g=(e.startsWith("0x")?e:MB(e)).substring(2),m=l+g+f+p+h,b=await fetch(`${s||HJ}/?chainId=${r}&projectId=${i}`,{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({id:GJ(),jsonrpc:"2.0",method:"eth_call",params:[{to:n,data:m},"latest"]})}),{result:w}=await b.json();return w?w.slice(0,l.length).toLowerCase()===l.toLowerCase():!1}catch(l){return console.error("isValidEip1271Signature: ",l),!1}}function GJ(){return Date.now()+Math.floor(Math.random()*1e3)}function KJ(n){const e=atob(n),t=new Uint8Array(e.length);for(let c=0;c<e.length;c++)t[c]=e.charCodeAt(c);const r=t[0];if(r===0)throw new Error("No signatures found");const i=1+r*64;if(t.length<i)throw new Error("Transaction data too short for claimed signature count");if(t.length<100)throw new Error("Transaction too short");const s=Buffer.from(n,"base64").slice(1,65);return Bg.encode(s)}function QJ(n){const e=new Uint8Array(Buffer.from(n,"base64")),t=Array.from("TransactionData::").map(s=>s.charCodeAt(0)),r=new Uint8Array(t.length+e.length);r.set(t),r.set(e,t.length);const i=zJ(r,{dkLen:32});return Bg.encode(i)}function DO(n){const e=new Uint8Array(Lb(YJ(n)));return Bg.encode(e)}function YJ(n){if(n instanceof Uint8Array)return n;if(Array.isArray(n))return new Uint8Array(n);if(typeof n=="object"&&n!=null&&n.data)return new Uint8Array(Object.values(n.data));if(typeof n=="object"&&n)return new Uint8Array(Object.values(n));throw new Error("getNearUint8ArrayFromBytes: Unexpected result type from bytes array")}function RO(n){const e=Buffer.from(n,"base64"),t=oK(e).txn;if(!t)throw new Error("Invalid signed transaction: missing 'txn' field");const r=JG(t),i=Buffer.from("TX"),s=Buffer.concat([i,Buffer.from(r)]),c=UJ(s);return xG.encode(c).replace(/=+$/,"")}function w2(n){const e=[];let t=BigInt(n);for(;t>=BigInt(128);)e.push(Number(t&BigInt(127)|BigInt(128))),t>>=BigInt(7);return e.push(Number(t)),Buffer.from(e)}function ZJ(n){const e=Buffer.from(n.signed.bodyBytes,"base64"),t=Buffer.from(n.signed.authInfoBytes,"base64"),r=Buffer.from(n.signature.signature,"base64"),i=[];i.push(Buffer.from([10])),i.push(w2(e.length)),i.push(e),i.push(Buffer.from([18])),i.push(w2(t.length)),i.push(t),i.push(Buffer.from([26])),i.push(w2(r.length)),i.push(r);const s=Buffer.concat(i),c=Lb(s);return Buffer.from(c).toString("hex").toUpperCase()}function WJ(n){var e,t;const r=[];try{if(typeof n=="string")return r.push(n),r;if(typeof n!="object")return r;n!=null&&n.id&&r.push(n.id);const i=(t=(e=n==null?void 0:n.capabilities)==null?void 0:e.caip345)==null?void 0:t.transactionHashes;i&&r.push(...i)}catch(i){console.warn("getWalletSendCallsHashes failed: ",i)}return r}var JJ=Object.defineProperty,XJ=Object.defineProperties,eX=Object.getOwnPropertyDescriptors,BO=Object.getOwnPropertySymbols,tX=Object.prototype.hasOwnProperty,nX=Object.prototype.propertyIsEnumerable,kO=(n,e,t)=>e in n?JJ(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,rX=(n,e)=>{for(var t in e||(e={}))tX.call(e,t)&&kO(n,t,e[t]);if(BO)for(var t of BO(e))nX.call(e,t)&&kO(n,t,e[t]);return n},iX=(n,e)=>XJ(n,eX(e));const sX="did:pkh:",tA=n=>n==null?void 0:n.split(":"),aX=n=>{const e=n&&tA(n);if(e)return n.includes(sX)?e[3]:e[1]},pE=n=>{const e=n&&tA(n);if(e)return e[2]+":"+e[3]},Vy=n=>{const e=n&&tA(n);if(e)return e.pop()};async function PO(n){const{cacao:e,projectId:t}=n,{s:r,p:i}=e,s=LB(i,i.iss),c=Vy(i.iss);return await FJ(c,s,r,pE(i.iss),t)}const LB=(n,e)=>{const t=`${n.domain} wants you to sign in with your Ethereum account:`,r=Vy(e);if(!n.aud&&!n.uri)throw new Error("Either `aud` or `uri` is required to construct the message");let i=n.statement||void 0;const s=`URI: ${n.aud||n.uri}`,c=`Version: ${n.version}`,l=`Chain ID: ${aX(e)}`,f=`Nonce: ${n.nonce}`,h=`Issued At: ${n.iat}`,p=n.exp?`Expiration Time: ${n.exp}`:void 0,g=n.nbf?`Not Before: ${n.nbf}`:void 0,m=n.requestId?`Request ID: ${n.requestId}`:void 0,b=n.resources?`Resources:${n.resources.map(x=>`
- ${x}`).join("")}`:void 0,w=ay(n.resources);if(w){const x=ig(w);i=gX(i,x)}return[t,r,"",i,"",s,c,l,f,h,p,g,m,b].filter(x=>x!=null).join(`
`)};function oX(n){return Buffer.from(JSON.stringify(n)).toString("base64")}function cX(n){return JSON.parse(Buffer.from(n,"base64").toString("utf-8"))}function nu(n){if(!n)throw new Error("No recap provided, value is undefined");if(!n.att)throw new Error("No `att` property found");const e=Object.keys(n.att);if(!(e!=null&&e.length))throw new Error("No resources found in `att` property");e.forEach(t=>{const r=n.att[t];if(Array.isArray(r))throw new Error(`Resource must be an object: ${t}`);if(typeof r!="object")throw new Error(`Resource must be an object: ${t}`);if(!Object.keys(r).length)throw new Error(`Resource object is empty: ${t}`);Object.keys(r).forEach(i=>{const s=r[i];if(!Array.isArray(s))throw new Error(`Ability limits ${i} must be an array of objects, found: ${s}`);if(!s.length)throw new Error(`Value of ${i} is empty array, must be an array with objects`);s.forEach(c=>{if(typeof c!="object")throw new Error(`Ability limits (${i}) must be an array of objects, found: ${c}`)})})})}function lX(n,e,t,r={}){return t==null||t.sort((i,s)=>i.localeCompare(s)),{att:{[n]:uX(e,t,r)}}}function uX(n,e,t={}){e=e==null?void 0:e.sort((i,s)=>i.localeCompare(s));const r=e.map(i=>({[`${n}/${i}`]:[t]}));return Object.assign({},...r)}function $B(n){return nu(n),`urn:recap:${oX(n).replace(/=/g,"")}`}function ig(n){const e=cX(n.replace("urn:recap:",""));return nu(e),e}function fX(n,e,t){const r=lX(n,e,t);return $B(r)}function hX(n){return n&&n.includes("urn:recap:")}function dX(n,e){const t=ig(n),r=ig(e),i=pX(t,r);return $B(i)}function pX(n,e){nu(n),nu(e);const t=Object.keys(n.att).concat(Object.keys(e.att)).sort((i,s)=>i.localeCompare(s)),r={att:{}};return t.forEach(i=>{var s,c;Object.keys(((s=n.att)==null?void 0:s[i])||{}).concat(Object.keys(((c=e.att)==null?void 0:c[i])||{})).sort((l,f)=>l.localeCompare(f)).forEach(l=>{var f,h;r.att[i]=iX(rX({},r.att[i]),{[l]:((f=n.att[i])==null?void 0:f[l])||((h=e.att[i])==null?void 0:h[l])})})}),r}function gX(n="",e){nu(e);const t="I further authorize the stated URI to perform the following actions on my behalf: ";if(n.includes(t))return n;const r=[];let i=0;Object.keys(e.att).forEach(l=>{const f=Object.keys(e.att[l]).map(g=>({ability:g.split("/")[0],action:g.split("/")[1]}));f.sort((g,m)=>g.action.localeCompare(m.action));const h={};f.forEach(g=>{h[g.ability]||(h[g.ability]=[]),h[g.ability].push(g.action)});const p=Object.keys(h).map(g=>(i++,`(${i}) '${g}': '${h[g].join("', '")}' for '${l}'.`));r.push(p.join(", ").replace(".,","."))});const s=r.join(" "),c=`${t}${s}`;return`${n?n+" ":""}${c}`}function UO(n){var e;const t=ig(n);nu(t);const r=(e=t.att)==null?void 0:e.eip155;return r?Object.keys(r).map(i=>i.split("/")[1]):[]}function MO(n){const e=ig(n);nu(e);const t=[];return Object.values(e.att).forEach(r=>{Object.values(r).forEach(i=>{var s;(s=i==null?void 0:i[0])!=null&&s.chains&&t.push(i[0].chains)})}),[...new Set(t.flat())]}function ay(n){if(!n)return;const e=n==null?void 0:n[n.length-1];return hX(e)?e:void 0}/*! noble-ciphers - MIT License (c) 2023 Paul Miller (paulmillr.com) */function jB(n){return n instanceof Uint8Array||ArrayBuffer.isView(n)&&n.constructor.name==="Uint8Array"}function gE(n){if(typeof n!="boolean")throw new Error(`boolean expected, not ${n}`)}function v2(n){if(!Number.isSafeInteger(n)||n<0)throw new Error("positive integer expected, got "+n)}function _r(n,...e){if(!jB(n))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(n.length))throw new Error("Uint8Array expected of length "+e+", got length="+n.length)}function LO(n,e=!0){if(n.destroyed)throw new Error("Hash instance has been destroyed");if(e&&n.finished)throw new Error("Hash#digest() has already been called")}function mX(n,e){_r(n);const t=e.outputLen;if(n.length<t)throw new Error("digestInto() expects output buffer of length at least "+t)}function bc(n){return new Uint32Array(n.buffer,n.byteOffset,Math.floor(n.byteLength/4))}function Uh(...n){for(let e=0;e<n.length;e++)n[e].fill(0)}function yX(n){return new DataView(n.buffer,n.byteOffset,n.byteLength)}const bX=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function wX(n){if(typeof n!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(n))}function mE(n){if(typeof n=="string")n=wX(n);else if(jB(n))n=yE(n);else throw new Error("Uint8Array expected, got "+typeof n);return n}function vX(n,e){if(e==null||typeof e!="object")throw new Error("options must be defined");return Object.assign(n,e)}function xX(n,e){if(n.length!==e.length)return!1;let t=0;for(let r=0;r<n.length;r++)t|=n[r]^e[r];return t===0}const EX=(n,e)=>{function t(r,...i){if(_r(r),!bX)throw new Error("Non little-endian hardware is not yet supported");if(n.nonceLength!==void 0){const h=i[0];if(!h)throw new Error("nonce / iv required");n.varSizeNonce?_r(h):_r(h,n.nonceLength)}const s=n.tagLength;s&&i[1]!==void 0&&_r(i[1]);const c=e(r,...i),l=(h,p)=>{if(p!==void 0){if(h!==2)throw new Error("cipher output not supported");_r(p)}};let f=!1;return{encrypt(h,p){if(f)throw new Error("cannot encrypt() twice with same key + nonce");return f=!0,_r(h),l(c.encrypt.length,p),c.encrypt(h,p)},decrypt(h,p){if(_r(h),s&&h.length<s)throw new Error("invalid ciphertext length: smaller than tagLength="+s);return l(c.decrypt.length,p),c.decrypt(h,p)}}}return Object.assign(t,n),t};function $O(n,e,t=!0){if(e===void 0)return new Uint8Array(n);if(e.length!==n)throw new Error("invalid output length, expected "+n+", got: "+e.length);if(t&&!SX(e))throw new Error("invalid output, must be aligned");return e}function jO(n,e,t,r){if(typeof n.setBigUint64=="function")return n.setBigUint64(e,t,r);const i=BigInt(32),s=BigInt(4294967295),c=Number(t>>i&s),l=Number(t&s);n.setUint32(e+4,c,r),n.setUint32(e+0,l,r)}function AX(n,e,t){gE(t);const r=new Uint8Array(16),i=yX(r);return jO(i,0,BigInt(e),t),jO(i,8,BigInt(n),t),r}function SX(n){return n.byteOffset%4===0}function yE(n){return Uint8Array.from(n)}const zB=n=>Uint8Array.from(n.split("").map(e=>e.charCodeAt(0))),_X=zB("expand 16-byte k"),OX=zB("expand 32-byte k"),CX=bc(_X),NX=bc(OX);function it(n,e){return n<<e|n>>>32-e}function bE(n){return n.byteOffset%4===0}const Tm=64,IX=16,HB=2**32-1,zO=new Uint32Array;function TX(n,e,t,r,i,s,c,l){const f=i.length,h=new Uint8Array(Tm),p=bc(h),g=bE(i)&&bE(s),m=g?bc(i):zO,b=g?bc(s):zO;for(let w=0;w<f;c++){if(n(e,t,r,p,c,l),c>=HB)throw new Error("arx: counter overflow");const x=Math.min(Tm,f-w);if(g&&x===Tm){const S=w/4;if(w%4!==0)throw new Error("arx: invalid block position");for(let O=0,T;O<IX;O++)T=S+O,b[T]=m[T]^p[O];w+=Tm;continue}for(let S=0,O;S<x;S++)O=w+S,s[O]=i[O]^h[S];w+=x}}function DX(n,e){const{allowShortKeys:t,extendNonceFn:r,counterLength:i,counterRight:s,rounds:c}=vX({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},e);if(typeof n!="function")throw new Error("core must be a function");return v2(i),v2(c),gE(s),gE(t),(l,f,h,p,g=0)=>{_r(l),_r(f),_r(h);const m=h.length;if(p===void 0&&(p=new Uint8Array(m)),_r(p),v2(g),g<0||g>=HB)throw new Error("arx: counter overflow");if(p.length<m)throw new Error(`arx: output (${p.length}) is shorter than data (${m})`);const b=[];let w=l.length,x,S;if(w===32)b.push(x=yE(l)),S=NX;else if(w===16&&t)x=new Uint8Array(32),x.set(l),x.set(l,16),S=CX,b.push(x);else throw new Error(`arx: invalid 32-byte key, got length=${w}`);bE(f)||b.push(f=yE(f));const O=bc(x);if(r){if(f.length!==24)throw new Error("arx: extended nonce must be 24 bytes");r(S,O,bc(f.subarray(0,16)),O),f=f.subarray(16)}const T=16-i;if(T!==f.length)throw new Error(`arx: nonce must be ${T} or 16 bytes`);if(T!==12){const I=new Uint8Array(12);I.set(f,s?0:12-f.length),f=I,b.push(f)}const _=bc(f);return TX(n,S,O,_,h,p,g,c),Uh(...b),p}}const Nn=(n,e)=>n[e++]&255|(n[e++]&255)<<8;class RX{constructor(e){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,e=mE(e),_r(e,32);const t=Nn(e,0),r=Nn(e,2),i=Nn(e,4),s=Nn(e,6),c=Nn(e,8),l=Nn(e,10),f=Nn(e,12),h=Nn(e,14);this.r[0]=t&8191,this.r[1]=(t>>>13|r<<3)&8191,this.r[2]=(r>>>10|i<<6)&7939,this.r[3]=(i>>>7|s<<9)&8191,this.r[4]=(s>>>4|c<<12)&255,this.r[5]=c>>>1&8190,this.r[6]=(c>>>14|l<<2)&8191,this.r[7]=(l>>>11|f<<5)&8065,this.r[8]=(f>>>8|h<<8)&8191,this.r[9]=h>>>5&127;for(let p=0;p<8;p++)this.pad[p]=Nn(e,16+2*p)}process(e,t,r=!1){const i=r?0:2048,{h:s,r:c}=this,l=c[0],f=c[1],h=c[2],p=c[3],g=c[4],m=c[5],b=c[6],w=c[7],x=c[8],S=c[9],O=Nn(e,t+0),T=Nn(e,t+2),_=Nn(e,t+4),I=Nn(e,t+6),N=Nn(e,t+8),U=Nn(e,t+10),z=Nn(e,t+12),M=Nn(e,t+14);let L=s[0]+(O&8191),F=s[1]+((O>>>13|T<<3)&8191),q=s[2]+((T>>>10|_<<6)&8191),Q=s[3]+((_>>>7|I<<9)&8191),G=s[4]+((I>>>4|N<<12)&8191),W=s[5]+(N>>>1&8191),A=s[6]+((N>>>14|U<<2)&8191),E=s[7]+((U>>>11|z<<5)&8191),P=s[8]+((z>>>8|M<<8)&8191),$=s[9]+(M>>>5|i),R=0,C=R+L*l+F*(5*S)+q*(5*x)+Q*(5*w)+G*(5*b);R=C>>>13,C&=8191,C+=W*(5*m)+A*(5*g)+E*(5*p)+P*(5*h)+$*(5*f),R+=C>>>13,C&=8191;let H=R+L*f+F*l+q*(5*S)+Q*(5*x)+G*(5*w);R=H>>>13,H&=8191,H+=W*(5*b)+A*(5*m)+E*(5*g)+P*(5*p)+$*(5*h),R+=H>>>13,H&=8191;let K=R+L*h+F*f+q*l+Q*(5*S)+G*(5*x);R=K>>>13,K&=8191,K+=W*(5*w)+A*(5*b)+E*(5*m)+P*(5*g)+$*(5*p),R+=K>>>13,K&=8191;let J=R+L*p+F*h+q*f+Q*l+G*(5*S);R=J>>>13,J&=8191,J+=W*(5*x)+A*(5*w)+E*(5*b)+P*(5*m)+$*(5*g),R+=J>>>13,J&=8191;let Y=R+L*g+F*p+q*h+Q*f+G*l;R=Y>>>13,Y&=8191,Y+=W*(5*S)+A*(5*x)+E*(5*w)+P*(5*b)+$*(5*m),R+=Y>>>13,Y&=8191;let se=R+L*m+F*g+q*p+Q*h+G*f;R=se>>>13,se&=8191,se+=W*l+A*(5*S)+E*(5*x)+P*(5*w)+$*(5*b),R+=se>>>13,se&=8191;let ue=R+L*b+F*m+q*g+Q*p+G*h;R=ue>>>13,ue&=8191,ue+=W*f+A*l+E*(5*S)+P*(5*x)+$*(5*w),R+=ue>>>13,ue&=8191;let ge=R+L*w+F*b+q*m+Q*g+G*p;R=ge>>>13,ge&=8191,ge+=W*h+A*f+E*l+P*(5*S)+$*(5*x),R+=ge>>>13,ge&=8191;let xe=R+L*x+F*w+q*b+Q*m+G*g;R=xe>>>13,xe&=8191,xe+=W*p+A*h+E*f+P*l+$*(5*S),R+=xe>>>13,xe&=8191;let be=R+L*S+F*x+q*w+Q*b+G*m;R=be>>>13,be&=8191,be+=W*g+A*p+E*h+P*f+$*l,R+=be>>>13,be&=8191,R=(R<<2)+R|0,R=R+C|0,C=R&8191,R=R>>>13,H+=R,s[0]=C,s[1]=H,s[2]=K,s[3]=J,s[4]=Y,s[5]=se,s[6]=ue,s[7]=ge,s[8]=xe,s[9]=be}finalize(){const{h:e,pad:t}=this,r=new Uint16Array(10);let i=e[1]>>>13;e[1]&=8191;for(let l=2;l<10;l++)e[l]+=i,i=e[l]>>>13,e[l]&=8191;e[0]+=i*5,i=e[0]>>>13,e[0]&=8191,e[1]+=i,i=e[1]>>>13,e[1]&=8191,e[2]+=i,r[0]=e[0]+5,i=r[0]>>>13,r[0]&=8191;for(let l=1;l<10;l++)r[l]=e[l]+i,i=r[l]>>>13,r[l]&=8191;r[9]-=8192;let s=(i^1)-1;for(let l=0;l<10;l++)r[l]&=s;s=~s;for(let l=0;l<10;l++)e[l]=e[l]&s|r[l];e[0]=(e[0]|e[1]<<13)&65535,e[1]=(e[1]>>>3|e[2]<<10)&65535,e[2]=(e[2]>>>6|e[3]<<7)&65535,e[3]=(e[3]>>>9|e[4]<<4)&65535,e[4]=(e[4]>>>12|e[5]<<1|e[6]<<14)&65535,e[5]=(e[6]>>>2|e[7]<<11)&65535,e[6]=(e[7]>>>5|e[8]<<8)&65535,e[7]=(e[8]>>>8|e[9]<<5)&65535;let c=e[0]+t[0];e[0]=c&65535;for(let l=1;l<8;l++)c=(e[l]+t[l]|0)+(c>>>16)|0,e[l]=c&65535;Uh(r)}update(e){LO(this),e=mE(e),_r(e);const{buffer:t,blockLen:r}=this,i=e.length;for(let s=0;s<i;){const c=Math.min(r-this.pos,i-s);if(c===r){for(;r<=i-s;s+=r)this.process(e,s);continue}t.set(e.subarray(s,s+c),this.pos),this.pos+=c,s+=c,this.pos===r&&(this.process(t,0,!1),this.pos=0)}return this}destroy(){Uh(this.h,this.r,this.buffer,this.pad)}digestInto(e){LO(this),mX(e,this),this.finished=!0;const{buffer:t,h:r}=this;let{pos:i}=this;if(i){for(t[i++]=1;i<16;i++)t[i]=0;this.process(t,0,!0)}this.finalize();let s=0;for(let c=0;c<8;c++)e[s++]=r[c]>>>0,e[s++]=r[c]>>>8;return e}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}}function BX(n){const e=(r,i)=>n(i).update(mE(r)).digest(),t=n(new Uint8Array(32));return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=r=>n(r),e}const kX=BX(n=>new RX(n));function PX(n,e,t,r,i,s=20){let c=n[0],l=n[1],f=n[2],h=n[3],p=e[0],g=e[1],m=e[2],b=e[3],w=e[4],x=e[5],S=e[6],O=e[7],T=i,_=t[0],I=t[1],N=t[2],U=c,z=l,M=f,L=h,F=p,q=g,Q=m,G=b,W=w,A=x,E=S,P=O,$=T,R=_,C=I,H=N;for(let J=0;J<s;J+=2)U=U+F|0,$=it($^U,16),W=W+$|0,F=it(F^W,12),U=U+F|0,$=it($^U,8),W=W+$|0,F=it(F^W,7),z=z+q|0,R=it(R^z,16),A=A+R|0,q=it(q^A,12),z=z+q|0,R=it(R^z,8),A=A+R|0,q=it(q^A,7),M=M+Q|0,C=it(C^M,16),E=E+C|0,Q=it(Q^E,12),M=M+Q|0,C=it(C^M,8),E=E+C|0,Q=it(Q^E,7),L=L+G|0,H=it(H^L,16),P=P+H|0,G=it(G^P,12),L=L+G|0,H=it(H^L,8),P=P+H|0,G=it(G^P,7),U=U+q|0,H=it(H^U,16),E=E+H|0,q=it(q^E,12),U=U+q|0,H=it(H^U,8),E=E+H|0,q=it(q^E,7),z=z+Q|0,$=it($^z,16),P=P+$|0,Q=it(Q^P,12),z=z+Q|0,$=it($^z,8),P=P+$|0,Q=it(Q^P,7),M=M+G|0,R=it(R^M,16),W=W+R|0,G=it(G^W,12),M=M+G|0,R=it(R^M,8),W=W+R|0,G=it(G^W,7),L=L+F|0,C=it(C^L,16),A=A+C|0,F=it(F^A,12),L=L+F|0,C=it(C^L,8),A=A+C|0,F=it(F^A,7);let K=0;r[K++]=c+U|0,r[K++]=l+z|0,r[K++]=f+M|0,r[K++]=h+L|0,r[K++]=p+F|0,r[K++]=g+q|0,r[K++]=m+Q|0,r[K++]=b+G|0,r[K++]=w+W|0,r[K++]=x+A|0,r[K++]=S+E|0,r[K++]=O+P|0,r[K++]=T+$|0,r[K++]=_+R|0,r[K++]=I+C|0,r[K++]=N+H|0}const UX=DX(PX,{counterRight:!1,counterLength:4,allowShortKeys:!1}),MX=new Uint8Array(16),HO=(n,e)=>{n.update(e);const t=e.length%16;t&&n.update(MX.subarray(t))},LX=new Uint8Array(32);function FO(n,e,t,r,i){const s=n(e,t,LX),c=kX.create(s);i&&HO(c,i),HO(c,r);const l=AX(r.length,i?i.length:0,!0);c.update(l);const f=c.digest();return Uh(s,l),f}const $X=n=>(e,t,r)=>({encrypt(i,s){const c=i.length;s=$O(c+16,s,!1),s.set(i);const l=s.subarray(0,-16);n(e,t,l,l,1);const f=FO(n,e,t,l,r);return s.set(f,c),Uh(f),s},decrypt(i,s){s=$O(i.length-16,s,!1);const c=i.subarray(0,-16),l=i.subarray(-16),f=FO(n,e,t,c,r);if(!xX(l,f))throw new Error("invalid tag");return s.set(i.subarray(0,-16)),n(e,t,s,s,1),Uh(f),s}}),FB=EX({blockSize:64,nonceLength:12,tagLength:16},$X(UX));let qB=class extends Mb{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,Ub(e);const r=Ji(t);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(r.length>i?e.create().update(r).digest():r);for(let c=0;c<s.length;c++)s[c]^=54;this.iHash.update(s),this.oHash=e.create();for(let c=0;c<s.length;c++)s[c]^=106;this.oHash.update(s),Ti(s)}update(e){return Ac(this),this.iHash.update(e),this}digestInto(e){Ac(this),es(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:r,finished:i,destroyed:s,blockLen:c,outputLen:l}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=c,e.outputLen=l,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const $b=(n,e,t)=>new qB(n,e).update(t).digest();$b.create=(n,e)=>new qB(n,e);function jX(n,e,t){return Ub(n),t===void 0&&(t=new Uint8Array(n.outputLen)),$b(n,Ji(t),Ji(e))}const x2=Uint8Array.from([0]),qO=Uint8Array.of();function zX(n,e,t,r=32){Ub(n),Ya(r);const i=n.outputLen;if(r>255*i)throw new Error("Length should be <= 255*HashLen");const s=Math.ceil(r/i);t===void 0&&(t=qO);const c=new Uint8Array(s*i),l=$b.create(n,e),f=l._cloneInto(),h=new Uint8Array(l.outputLen);for(let p=0;p<s;p++)x2[0]=p+1,f.update(p===0?qO:h).update(t).update(x2).digestInto(h),c.set(h,i*p),l._cloneInto(f);return l.destroy(),f.destroy(),Ti(h,x2),c.slice(0,r)}const HX=(n,e,t,r,i)=>zX(n,jX(n,e,t),r,i),jb=Lb,nA=BigInt(0),wE=BigInt(1);function Gy(n,e=""){if(typeof n!="boolean"){const t=e&&`"${e}"`;throw new Error(t+"expected boolean, got type="+typeof n)}return n}function Al(n,e,t=""){const r=Pb(n),i=n==null?void 0:n.length,s=e!==void 0;if(!r||s&&i!==e){const c=t&&`"${t}" `,l=s?` of length ${e}`:"",f=r?`length=${i}`:`type=${typeof n}`;throw new Error(c+"expected Uint8Array"+l+", got "+f)}return n}function Dm(n){const e=n.toString(16);return e.length&1?"0"+e:e}function VB(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);return n===""?nA:BigInt("0x"+n)}function zb(n){return VB(Pf(n))}function Ky(n){return es(n),VB(Pf(Uint8Array.from(n).reverse()))}function rA(n,e){return qy(n.toString(16).padStart(e*2,"0"))}function iA(n,e){return rA(n,e).reverse()}function Wn(n,e,t){let r;if(typeof e=="string")try{r=qy(e)}catch(s){throw new Error(n+" must be hex string or Uint8Array, cause: "+s)}else if(Pb(e))r=Uint8Array.from(e);else throw new Error(n+" must be hex string or Uint8Array");const i=r.length;if(typeof t=="number"&&i!==t)throw new Error(n+" of length "+t+" expected, got "+i);return r}const E2=n=>typeof n=="bigint"&&nA<=n;function FX(n,e,t){return E2(n)&&E2(e)&&E2(t)&&e<=n&&n<t}function vE(n,e,t,r){if(!FX(e,t,r))throw new Error("expected valid "+n+": "+t+" <= n < "+r+", got "+e)}function GB(n){let e;for(e=0;n>nA;n>>=wE,e+=1);return e}const Lg=n=>(wE<<BigInt(n))-wE;function qX(n,e,t){if(typeof n!="number"||n<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof t!="function")throw new Error("hmacFn must be a function");const r=m=>new Uint8Array(m),i=m=>Uint8Array.of(m);let s=r(n),c=r(n),l=0;const f=()=>{s.fill(1),c.fill(0),l=0},h=(...m)=>t(c,s,...m),p=(m=r(0))=>{c=h(i(0),m),s=h(),m.length!==0&&(c=h(i(1),m),s=h())},g=()=>{if(l++>=1e3)throw new Error("drbg: tried 1000 values");let m=0;const b=[];for(;m<e;){s=h();const w=s.slice();b.push(w),m+=s.length}return Zo(...b)};return(m,b)=>{f(),p(m);let w;for(;!(w=b(g()));)p();return f(),w}}function Hb(n,e,t={}){if(!n||typeof n!="object")throw new Error("expected valid options object");function r(i,s,c){const l=n[i];if(c&&l===void 0)return;const f=typeof l;if(f!==s||l===null)throw new Error(`param "${i}" is invalid: expected ${s}, got ${f}`)}Object.entries(e).forEach(([i,s])=>r(i,s,!1)),Object.entries(t).forEach(([i,s])=>r(i,s,!0))}function VO(n){const e=new WeakMap;return(t,...r)=>{const i=e.get(t);if(i!==void 0)return i;const s=n(t,...r);return e.set(t,s),s}}const Ir=BigInt(0),ur=BigInt(1),Sl=BigInt(2),KB=BigInt(3),QB=BigInt(4),YB=BigInt(5),VX=BigInt(7),ZB=BigInt(8),GX=BigInt(9),WB=BigInt(16);function Wr(n,e){const t=n%e;return t>=Ir?t:e+t}function Li(n,e,t){let r=n;for(;e-- >Ir;)r*=r,r%=t;return r}function GO(n,e){if(n===Ir)throw new Error("invert: expected non-zero number");if(e<=Ir)throw new Error("invert: expected positive modulus, got "+e);let t=Wr(n,e),r=e,i=Ir,s=ur;for(;t!==Ir;){const c=r/t,l=r%t,f=i-s*c;r=t,t=l,i=s,s=f}if(r!==ur)throw new Error("invert: does not exist");return Wr(i,e)}function sA(n,e,t){if(!n.eql(n.sqr(e),t))throw new Error("Cannot find square root")}function JB(n,e){const t=(n.ORDER+ur)/QB,r=n.pow(e,t);return sA(n,r,e),r}function KX(n,e){const t=(n.ORDER-YB)/ZB,r=n.mul(e,Sl),i=n.pow(r,t),s=n.mul(e,i),c=n.mul(n.mul(s,Sl),i),l=n.mul(s,n.sub(c,n.ONE));return sA(n,l,e),l}function QX(n){const e=Cc(n),t=XB(n),r=t(e,e.neg(e.ONE)),i=t(e,r),s=t(e,e.neg(r)),c=(n+VX)/WB;return(l,f)=>{let h=l.pow(f,c),p=l.mul(h,r);const g=l.mul(h,i),m=l.mul(h,s),b=l.eql(l.sqr(p),f),w=l.eql(l.sqr(g),f);h=l.cmov(h,p,b),p=l.cmov(m,g,w);const x=l.eql(l.sqr(p),f),S=l.cmov(h,p,x);return sA(l,S,f),S}}function XB(n){if(n<KB)throw new Error("sqrt is not defined for small field");let e=n-ur,t=0;for(;e%Sl===Ir;)e/=Sl,t++;let r=Sl;const i=Cc(n);for(;KO(i,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(t===1)return JB;let s=i.pow(r,e);const c=(e+ur)/Sl;return function(l,f){if(l.is0(f))return f;if(KO(l,f)!==1)throw new Error("Cannot find square root");let h=t,p=l.mul(l.ONE,s),g=l.pow(f,e),m=l.pow(f,c);for(;!l.eql(g,l.ONE);){if(l.is0(g))return l.ZERO;let b=1,w=l.sqr(g);for(;!l.eql(w,l.ONE);)if(b++,w=l.sqr(w),b===h)throw new Error("Cannot find square root");const x=ur<<BigInt(h-b-1),S=l.pow(p,x);h=b,p=l.sqr(S),g=l.mul(g,p),m=l.mul(m,S)}return m}}function YX(n){return n%QB===KB?JB:n%ZB===YB?KX:n%WB===GX?QX(n):XB(n)}const ZX=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function WX(n){const e={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},t=ZX.reduce((r,i)=>(r[i]="function",r),e);return Hb(n,t),n}function JX(n,e,t){if(t<Ir)throw new Error("invalid exponent, negatives unsupported");if(t===Ir)return n.ONE;if(t===ur)return e;let r=n.ONE,i=e;for(;t>Ir;)t&ur&&(r=n.mul(r,i)),i=n.sqr(i),t>>=ur;return r}function ek(n,e,t=!1){const r=new Array(e.length).fill(t?n.ZERO:void 0),i=e.reduce((c,l,f)=>n.is0(l)?c:(r[f]=c,n.mul(c,l)),n.ONE),s=n.inv(i);return e.reduceRight((c,l,f)=>n.is0(l)?c:(r[f]=n.mul(c,r[f]),n.mul(c,l)),s),r}function KO(n,e){const t=(n.ORDER-ur)/Sl,r=n.pow(e,t),i=n.eql(r,n.ONE),s=n.eql(r,n.ZERO),c=n.eql(r,n.neg(n.ONE));if(!i&&!s&&!c)throw new Error("invalid Legendre symbol result");return i?1:s?0:-1}function tk(n,e){e!==void 0&&Ya(e);const t=e!==void 0?e:n.toString(2).length,r=Math.ceil(t/8);return{nBitLength:t,nByteLength:r}}function Cc(n,e,t=!1,r={}){if(n<=Ir)throw new Error("invalid field: expected ORDER > 0, got "+n);let i,s,c=!1,l;if(typeof e=="object"&&e!=null){if(r.sqrt||t)throw new Error("cannot specify opts in two arguments");const m=e;m.BITS&&(i=m.BITS),m.sqrt&&(s=m.sqrt),typeof m.isLE=="boolean"&&(t=m.isLE),typeof m.modFromBytes=="boolean"&&(c=m.modFromBytes),l=m.allowedLengths}else typeof e=="number"&&(i=e),r.sqrt&&(s=r.sqrt);const{nBitLength:f,nByteLength:h}=tk(n,i);if(h>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let p;const g=Object.freeze({ORDER:n,isLE:t,BITS:f,BYTES:h,MASK:Lg(f),ZERO:Ir,ONE:ur,allowedLengths:l,create:m=>Wr(m,n),isValid:m=>{if(typeof m!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof m);return Ir<=m&&m<n},is0:m=>m===Ir,isValidNot0:m=>!g.is0(m)&&g.isValid(m),isOdd:m=>(m&ur)===ur,neg:m=>Wr(-m,n),eql:(m,b)=>m===b,sqr:m=>Wr(m*m,n),add:(m,b)=>Wr(m+b,n),sub:(m,b)=>Wr(m-b,n),mul:(m,b)=>Wr(m*b,n),pow:(m,b)=>JX(g,m,b),div:(m,b)=>Wr(m*GO(b,n),n),sqrN:m=>m*m,addN:(m,b)=>m+b,subN:(m,b)=>m-b,mulN:(m,b)=>m*b,inv:m=>GO(m,n),sqrt:s||(m=>(p||(p=YX(n)),p(g,m))),toBytes:m=>t?iA(m,h):rA(m,h),fromBytes:(m,b=!0)=>{if(l){if(!l.includes(m.length)||m.length>h)throw new Error("Field.fromBytes: expected "+l+" bytes, got "+m.length);const x=new Uint8Array(h);x.set(m,t?0:x.length-m.length),m=x}if(m.length!==h)throw new Error("Field.fromBytes: expected "+h+" bytes, got "+m.length);let w=t?Ky(m):zb(m);if(c&&(w=Wr(w,n)),!b&&!g.isValid(w))throw new Error("invalid field element: outside of range 0..ORDER");return w},invertBatch:m=>ek(g,m),cmov:(m,b,w)=>w?b:m});return Object.freeze(g)}function nk(n){if(typeof n!="bigint")throw new Error("field order must be bigint");const e=n.toString(2).length;return Math.ceil(e/8)}function rk(n){const e=nk(n);return e+Math.ceil(e/2)}function XX(n,e,t=!1){const r=n.length,i=nk(e),s=rk(e);if(r<16||r<s||r>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+r);const c=t?Ky(n):zb(n),l=Wr(c,e-ur)+ur;return t?iA(l,i):rA(l,i)}const Mh=BigInt(0),_l=BigInt(1);function Qy(n,e){const t=e.negate();return n?t:e}function A2(n,e){const t=ek(n.Fp,e.map(r=>r.Z));return e.map((r,i)=>n.fromAffine(r.toAffine(t[i])))}function ik(n,e){if(!Number.isSafeInteger(n)||n<=0||n>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+n)}function S2(n,e){ik(n,e);const t=Math.ceil(e/n)+1,r=2**(n-1),i=2**n,s=Lg(n),c=BigInt(n);return{windows:t,windowSize:r,mask:s,maxNumber:i,shiftBy:c}}function QO(n,e,t){const{windowSize:r,mask:i,maxNumber:s,shiftBy:c}=t;let l=Number(n&i),f=n>>c;l>r&&(l-=s,f+=_l);const h=e*r,p=h+Math.abs(l)-1,g=l===0,m=l<0,b=e%2!==0;return{nextN:f,offset:p,isZero:g,isNeg:m,isNegF:b,offsetF:h}}function eee(n,e){if(!Array.isArray(n))throw new Error("array expected");n.forEach((t,r)=>{if(!(t instanceof e))throw new Error("invalid point at index "+r)})}function tee(n,e){if(!Array.isArray(n))throw new Error("array of scalars expected");n.forEach((t,r)=>{if(!e.isValid(t))throw new Error("invalid scalar at index "+r)})}const _2=new WeakMap,sk=new WeakMap;function O2(n){return sk.get(n)||1}function YO(n){if(n!==Mh)throw new Error("invalid wNAF")}class nee{constructor(e,t){this.BASE=e.BASE,this.ZERO=e.ZERO,this.Fn=e.Fn,this.bits=t}_unsafeLadder(e,t,r=this.ZERO){let i=e;for(;t>Mh;)t&_l&&(r=r.add(i)),i=i.double(),t>>=_l;return r}precomputeWindow(e,t){const{windows:r,windowSize:i}=S2(t,this.bits),s=[];let c=e,l=c;for(let f=0;f<r;f++){l=c,s.push(l);for(let h=1;h<i;h++)l=l.add(c),s.push(l);c=l.double()}return s}wNAF(e,t,r){if(!this.Fn.isValid(r))throw new Error("invalid scalar");let i=this.ZERO,s=this.BASE;const c=S2(e,this.bits);for(let l=0;l<c.windows;l++){const{nextN:f,offset:h,isZero:p,isNeg:g,isNegF:m,offsetF:b}=QO(r,l,c);r=f,p?s=s.add(Qy(m,t[b])):i=i.add(Qy(g,t[h]))}return YO(r),{p:i,f:s}}wNAFUnsafe(e,t,r,i=this.ZERO){const s=S2(e,this.bits);for(let c=0;c<s.windows&&r!==Mh;c++){const{nextN:l,offset:f,isZero:h,isNeg:p}=QO(r,c,s);if(r=l,!h){const g=t[f];i=i.add(p?g.negate():g)}}return YO(r),i}getPrecomputes(e,t,r){let i=_2.get(t);return i||(i=this.precomputeWindow(t,e),e!==1&&(typeof r=="function"&&(i=r(i)),_2.set(t,i))),i}cached(e,t,r){const i=O2(e);return this.wNAF(i,this.getPrecomputes(i,e,r),t)}unsafe(e,t,r,i){const s=O2(e);return s===1?this._unsafeLadder(e,t,i):this.wNAFUnsafe(s,this.getPrecomputes(s,e,r),t,i)}createCache(e,t){ik(t,this.bits),sk.set(e,t),_2.delete(e)}hasCache(e){return O2(e)!==1}}function ree(n,e,t,r){let i=e,s=n.ZERO,c=n.ZERO;for(;t>Mh||r>Mh;)t&_l&&(s=s.add(i)),r&_l&&(c=c.add(i)),i=i.double(),t>>=_l,r>>=_l;return{p1:s,p2:c}}function iee(n,e,t,r){eee(t,n),tee(r,e);const i=t.length,s=r.length;if(i!==s)throw new Error("arrays of points and scalars must have equal length");const c=n.ZERO,l=GB(BigInt(i));let f=1;l>12?f=l-3:l>4?f=l-2:l>0&&(f=2);const h=Lg(f),p=new Array(Number(h)+1).fill(c),g=Math.floor((e.BITS-1)/f)*f;let m=c;for(let b=g;b>=0;b-=f){p.fill(c);for(let x=0;x<s;x++){const S=r[x],O=Number(S>>BigInt(b)&h);p[O]=p[O].add(t[x])}let w=c;for(let x=p.length-1,S=c;x>0;x--)S=S.add(p[x]),w=w.add(S);if(m=m.add(w),b!==0)for(let x=0;x<f;x++)m=m.double()}return m}function ZO(n,e,t){if(e){if(e.ORDER!==n)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return WX(e),e}else return Cc(n,{isLE:t})}function see(n,e,t={},r){if(r===void 0&&(r=n==="edwards"),!e||typeof e!="object")throw new Error(`expected valid ${n} CURVE object`);for(const l of["p","n","h"]){const f=e[l];if(!(typeof f=="bigint"&&f>Mh))throw new Error(`CURVE.${l} must be positive bigint`)}const i=ZO(e.p,t.Fp,r),s=ZO(e.n,t.Fn,r),c=["Gx","Gy","a","b"];for(const l of c)if(!i.isValid(e[l]))throw new Error(`CURVE.${l} must be valid field element of CURVE.Fp`);return e=Object.freeze(Object.assign({},e)),{CURVE:e,Fp:i,Fn:s}}BigInt(0),BigInt(1),BigInt(2),BigInt(8),IB("HashToScalar-");const up=BigInt(0),cf=BigInt(1),Rm=BigInt(2);function aee(n){return Hb(n,{adjustScalarBytes:"function",powPminus2:"function"}),Object.freeze({...n})}function oee(n){const e=aee(n),{P:t,type:r,adjustScalarBytes:i,powPminus2:s,randomBytes:c}=e,l=r==="x25519";if(!l&&r!=="x448")throw new Error("invalid type");const f=c||ou,h=l?255:448,p=l?32:56,g=BigInt(l?9:5),m=BigInt(l?121665:39081),b=l?Rm**BigInt(254):Rm**BigInt(447),w=l?BigInt(8)*Rm**BigInt(251)-cf:BigInt(4)*Rm**BigInt(445)-cf,x=b+w+cf,S=Q=>Wr(Q,t),O=T(g);function T(Q){return iA(S(Q),p)}function _(Q){const G=Wn("u coordinate",Q,p);return l&&(G[31]&=127),S(Ky(G))}function I(Q){return Ky(i(Wn("scalar",Q,p)))}function N(Q,G){const W=M(_(G),I(Q));if(W===up)throw new Error("invalid private or public key received");return T(W)}function U(Q){return N(Q,O)}function z(Q,G,W){const A=S(Q*(G-W));return G=S(G-A),W=S(W+A),{x_2:G,x_3:W}}function M(Q,G){vE("u",Q,up,t),vE("scalar",G,b,x);const W=G,A=Q;let E=cf,P=up,$=Q,R=cf,C=up;for(let K=BigInt(h-1);K>=up;K--){const J=W>>K&cf;C^=J,{x_2:E,x_3:$}=z(C,E,$),{x_2:P,x_3:R}=z(C,P,R),C=J;const Y=E+P,se=S(Y*Y),ue=E-P,ge=S(ue*ue),xe=se-ge,be=$+R,Se=$-R,Pe=S(Se*Y),Me=S(be*ue),Qe=Pe+Me,at=Pe-Me;$=S(Qe*Qe),R=S(A*S(at*at)),E=S(se*ge),P=S(xe*(se+S(m*xe)))}({x_2:E,x_3:$}=z(C,E,$)),{x_2:P,x_3:R}=z(C,P,R);const H=s(P);return S(E*H)}const L={secretKey:p,publicKey:p,seed:p},F=(Q=f(p))=>(es(Q,L.seed),Q);function q(Q){const G=F(Q);return{secretKey:G,publicKey:U(G)}}return{keygen:q,getSharedSecret:(Q,G)=>N(Q,G),getPublicKey:Q=>U(Q),scalarMult:N,scalarMultBase:U,utils:{randomSecretKey:F,randomPrivateKey:F},GuBytes:O.slice(),lengths:L}}const cee=BigInt(1),WO=BigInt(2),lee=BigInt(3),uee=BigInt(5);BigInt(8);const ak=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),fee={p:ak,n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function hee(n){const e=BigInt(10),t=BigInt(20),r=BigInt(40),i=BigInt(80),s=ak,c=n*n%s*n%s,l=Li(c,WO,s)*c%s,f=Li(l,cee,s)*n%s,h=Li(f,uee,s)*f%s,p=Li(h,e,s)*h%s,g=Li(p,t,s)*p%s,m=Li(g,r,s)*g%s,b=Li(m,i,s)*m%s,w=Li(b,i,s)*m%s,x=Li(w,e,s)*h%s;return{pow_p_5_8:Li(x,WO,s)*n%s,b2:c}}function dee(n){return n[0]&=248,n[31]&=127,n[31]|=64,n}const pee=Cc(fee.p,{isLE:!0}),xE=(()=>{const n=pee.ORDER;return oee({P:n,type:"x25519",powPminus2:e=>{const{pow_p_5_8:t,b2:r}=hee(e);return Wr(Li(t,lee,n)*r,n)},adjustScalarBytes:dee})})(),JO=(n,e)=>(n+(n>=0?e:-e)/ok)/e;function gee(n,e,t){const[[r,i],[s,c]]=e,l=JO(c*n,t),f=JO(-i*n,t);let h=n-l*r-f*s,p=-l*i-f*c;const g=h<La,m=p<La;g&&(h=-h),m&&(p=-p);const b=Lg(Math.ceil(GB(t)/2))+Uf;if(h<La||h>=b||p<La||p>=b)throw new Error("splitScalar (endomorphism): failed, k="+n);return{k1neg:g,k1:h,k2neg:m,k2:p}}function EE(n){if(!["compact","recovered","der"].includes(n))throw new Error('Signature format must be "compact", "recovered", or "der"');return n}function C2(n,e){const t={};for(let r of Object.keys(e))t[r]=n[r]===void 0?e[r]:n[r];return Gy(t.lowS,"lowS"),Gy(t.prehash,"prehash"),t.format!==void 0&&EE(t.format),t}class mee extends Error{constructor(e=""){super(e)}}const xa={Err:mee,_tlv:{encode:(n,e)=>{const{Err:t}=xa;if(n<0||n>256)throw new t("tlv.encode: wrong tag");if(e.length&1)throw new t("tlv.encode: unpadded data");const r=e.length/2,i=Dm(r);if(i.length/2&128)throw new t("tlv.encode: long form length too big");const s=r>127?Dm(i.length/2|128):"";return Dm(n)+s+i+e},decode(n,e){const{Err:t}=xa;let r=0;if(n<0||n>256)throw new t("tlv.encode: wrong tag");if(e.length<2||e[r++]!==n)throw new t("tlv.decode: wrong tlv");const i=e[r++],s=!!(i&128);let c=0;if(!s)c=i;else{const f=i&127;if(!f)throw new t("tlv.decode(long): indefinite length not supported");if(f>4)throw new t("tlv.decode(long): byte length is too big");const h=e.subarray(r,r+f);if(h.length!==f)throw new t("tlv.decode: length bytes not complete");if(h[0]===0)throw new t("tlv.decode(long): zero leftmost byte");for(const p of h)c=c<<8|p;if(r+=f,c<128)throw new t("tlv.decode(long): not minimal encoding")}const l=e.subarray(r,r+c);if(l.length!==c)throw new t("tlv.decode: wrong value length");return{v:l,l:e.subarray(r+c)}}},_int:{encode(n){const{Err:e}=xa;if(n<La)throw new e("integer: negative integers are not allowed");let t=Dm(n);if(Number.parseInt(t[0],16)&8&&(t="00"+t),t.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return t},decode(n){const{Err:e}=xa;if(n[0]&128)throw new e("invalid signature integer: negative");if(n[0]===0&&!(n[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return zb(n)}},toSig(n){const{Err:e,_int:t,_tlv:r}=xa,i=Wn("signature",n),{v:s,l:c}=r.decode(48,i);if(c.length)throw new e("invalid signature: left bytes after parsing");const{v:l,l:f}=r.decode(2,s),{v:h,l:p}=r.decode(2,f);if(p.length)throw new e("invalid signature: left bytes after parsing");return{r:t.decode(l),s:t.decode(h)}},hexFromSig(n){const{_tlv:e,_int:t}=xa,r=e.encode(2,t.encode(n.r)),i=e.encode(2,t.encode(n.s)),s=r+i;return e.encode(48,s)}},La=BigInt(0),Uf=BigInt(1),ok=BigInt(2),Bm=BigInt(3),yee=BigInt(4);function Af(n,e){const{BYTES:t}=n;let r;if(typeof e=="bigint")r=e;else{let i=Wn("private key",e);try{r=n.fromBytes(i)}catch{throw new Error(`invalid private key: expected ui8a of size ${t}, got ${typeof e}`)}}if(!n.isValidNot0(r))throw new Error("invalid private key: out of range [1..N-1]");return r}function bee(n,e={}){const t=see("weierstrass",n,e),{Fp:r,Fn:i}=t;let s=t.CURVE;const{h:c,n:l}=s;Hb(e,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:f}=e;if(f&&(!r.is0(s.a)||typeof f.beta!="bigint"||!Array.isArray(f.basises)))throw new Error('invalid endo: expected "beta": bigint and "basises": array');const h=lk(r,i);function p(){if(!r.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function g(Q,G,W){const{x:A,y:E}=G.toAffine(),P=r.toBytes(A);if(Gy(W,"isCompressed"),W){p();const $=!r.isOdd(E);return Zo(ck($),P)}else return Zo(Uint8Array.of(4),P,r.toBytes(E))}function m(Q){Al(Q,void 0,"Point");const{publicKey:G,publicKeyUncompressed:W}=h,A=Q.length,E=Q[0],P=Q.subarray(1);if(A===G&&(E===2||E===3)){const $=r.fromBytes(P);if(!r.isValid($))throw new Error("bad point: is not on curve, wrong x");const R=x($);let C;try{C=r.sqrt(R)}catch(K){const J=K instanceof Error?": "+K.message:"";throw new Error("bad point: is not on curve, sqrt error"+J)}p();const H=r.isOdd(C);return(E&1)===1!==H&&(C=r.neg(C)),{x:$,y:C}}else if(A===W&&E===4){const $=r.BYTES,R=r.fromBytes(P.subarray(0,$)),C=r.fromBytes(P.subarray($,$*2));if(!S(R,C))throw new Error("bad point: is not on curve");return{x:R,y:C}}else throw new Error(`bad point: got length ${A}, expected compressed=${G} or uncompressed=${W}`)}const b=e.toBytes||g,w=e.fromBytes||m;function x(Q){const G=r.sqr(Q),W=r.mul(G,Q);return r.add(r.add(W,r.mul(Q,s.a)),s.b)}function S(Q,G){const W=r.sqr(G),A=x(Q);return r.eql(W,A)}if(!S(s.Gx,s.Gy))throw new Error("bad curve params: generator point");const O=r.mul(r.pow(s.a,Bm),yee),T=r.mul(r.sqr(s.b),BigInt(27));if(r.is0(r.add(O,T)))throw new Error("bad curve params: a or b");function _(Q,G,W=!1){if(!r.isValid(G)||W&&r.is0(G))throw new Error(`bad point coordinate ${Q}`);return G}function I(Q){if(!(Q instanceof L))throw new Error("ProjectivePoint expected")}function N(Q){if(!f||!f.basises)throw new Error("no endo");return gee(Q,f.basises,i.ORDER)}const U=VO((Q,G)=>{const{X:W,Y:A,Z:E}=Q;if(r.eql(E,r.ONE))return{x:W,y:A};const P=Q.is0();G==null&&(G=P?r.ONE:r.inv(E));const $=r.mul(W,G),R=r.mul(A,G),C=r.mul(E,G);if(P)return{x:r.ZERO,y:r.ZERO};if(!r.eql(C,r.ONE))throw new Error("invZ was invalid");return{x:$,y:R}}),z=VO(Q=>{if(Q.is0()){if(e.allowInfinityPoint&&!r.is0(Q.Y))return;throw new Error("bad point: ZERO")}const{x:G,y:W}=Q.toAffine();if(!r.isValid(G)||!r.isValid(W))throw new Error("bad point: x or y not field elements");if(!S(G,W))throw new Error("bad point: equation left != right");if(!Q.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function M(Q,G,W,A,E){return W=new L(r.mul(W.X,Q),W.Y,W.Z),G=Qy(A,G),W=Qy(E,W),G.add(W)}class L{constructor(G,W,A){this.X=_("x",G),this.Y=_("y",W,!0),this.Z=_("z",A),Object.freeze(this)}static CURVE(){return s}static fromAffine(G){const{x:W,y:A}=G||{};if(!G||!r.isValid(W)||!r.isValid(A))throw new Error("invalid affine point");if(G instanceof L)throw new Error("projective point not allowed");return r.is0(W)&&r.is0(A)?L.ZERO:new L(W,A,r.ONE)}static fromBytes(G){const W=L.fromAffine(w(Al(G,void 0,"point")));return W.assertValidity(),W}static fromHex(G){return L.fromBytes(Wn("pointHex",G))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(G=8,W=!0){return q.createCache(this,G),W||this.multiply(Bm),this}assertValidity(){z(this)}hasEvenY(){const{y:G}=this.toAffine();if(!r.isOdd)throw new Error("Field doesn't support isOdd");return!r.isOdd(G)}equals(G){I(G);const{X:W,Y:A,Z:E}=this,{X:P,Y:$,Z:R}=G,C=r.eql(r.mul(W,R),r.mul(P,E)),H=r.eql(r.mul(A,R),r.mul($,E));return C&&H}negate(){return new L(this.X,r.neg(this.Y),this.Z)}double(){const{a:G,b:W}=s,A=r.mul(W,Bm),{X:E,Y:P,Z:$}=this;let R=r.ZERO,C=r.ZERO,H=r.ZERO,K=r.mul(E,E),J=r.mul(P,P),Y=r.mul($,$),se=r.mul(E,P);return se=r.add(se,se),H=r.mul(E,$),H=r.add(H,H),R=r.mul(G,H),C=r.mul(A,Y),C=r.add(R,C),R=r.sub(J,C),C=r.add(J,C),C=r.mul(R,C),R=r.mul(se,R),H=r.mul(A,H),Y=r.mul(G,Y),se=r.sub(K,Y),se=r.mul(G,se),se=r.add(se,H),H=r.add(K,K),K=r.add(H,K),K=r.add(K,Y),K=r.mul(K,se),C=r.add(C,K),Y=r.mul(P,$),Y=r.add(Y,Y),K=r.mul(Y,se),R=r.sub(R,K),H=r.mul(Y,J),H=r.add(H,H),H=r.add(H,H),new L(R,C,H)}add(G){I(G);const{X:W,Y:A,Z:E}=this,{X:P,Y:$,Z:R}=G;let C=r.ZERO,H=r.ZERO,K=r.ZERO;const J=s.a,Y=r.mul(s.b,Bm);let se=r.mul(W,P),ue=r.mul(A,$),ge=r.mul(E,R),xe=r.add(W,A),be=r.add(P,$);xe=r.mul(xe,be),be=r.add(se,ue),xe=r.sub(xe,be),be=r.add(W,E);let Se=r.add(P,R);return be=r.mul(be,Se),Se=r.add(se,ge),be=r.sub(be,Se),Se=r.add(A,E),C=r.add($,R),Se=r.mul(Se,C),C=r.add(ue,ge),Se=r.sub(Se,C),K=r.mul(J,be),C=r.mul(Y,ge),K=r.add(C,K),C=r.sub(ue,K),K=r.add(ue,K),H=r.mul(C,K),ue=r.add(se,se),ue=r.add(ue,se),ge=r.mul(J,ge),be=r.mul(Y,be),ue=r.add(ue,ge),ge=r.sub(se,ge),ge=r.mul(J,ge),be=r.add(be,ge),se=r.mul(ue,be),H=r.add(H,se),se=r.mul(Se,be),C=r.mul(xe,C),C=r.sub(C,se),se=r.mul(xe,ue),K=r.mul(Se,K),K=r.add(K,se),new L(C,H,K)}subtract(G){return this.add(G.negate())}is0(){return this.equals(L.ZERO)}multiply(G){const{endo:W}=e;if(!i.isValidNot0(G))throw new Error("invalid scalar: out of range");let A,E;const P=$=>q.cached(this,$,R=>A2(L,R));if(W){const{k1neg:$,k1:R,k2neg:C,k2:H}=N(G),{p:K,f:J}=P(R),{p:Y,f:se}=P(H);E=J.add(se),A=M(W.beta,K,Y,$,C)}else{const{p:$,f:R}=P(G);A=$,E=R}return A2(L,[A,E])[0]}multiplyUnsafe(G){const{endo:W}=e,A=this;if(!i.isValid(G))throw new Error("invalid scalar: out of range");if(G===La||A.is0())return L.ZERO;if(G===Uf)return A;if(q.hasCache(this))return this.multiply(G);if(W){const{k1neg:E,k1:P,k2neg:$,k2:R}=N(G),{p1:C,p2:H}=ree(L,A,P,R);return M(W.beta,C,H,E,$)}else return q.unsafe(A,G)}multiplyAndAddUnsafe(G,W,A){const E=this.multiplyUnsafe(W).add(G.multiplyUnsafe(A));return E.is0()?void 0:E}toAffine(G){return U(this,G)}isTorsionFree(){const{isTorsionFree:G}=e;return c===Uf?!0:G?G(L,this):q.unsafe(this,l).is0()}clearCofactor(){const{clearCofactor:G}=e;return c===Uf?this:G?G(L,this):this.multiplyUnsafe(c)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}toBytes(G=!0){return Gy(G,"isCompressed"),this.assertValidity(),b(L,this,G)}toHex(G=!0){return Pf(this.toBytes(G))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get px(){return this.X}get py(){return this.X}get pz(){return this.Z}toRawBytes(G=!0){return this.toBytes(G)}_setWindowSize(G){this.precompute(G)}static normalizeZ(G){return A2(L,G)}static msm(G,W){return iee(L,i,G,W)}static fromPrivateKey(G){return L.BASE.multiply(Af(i,G))}}L.BASE=new L(s.Gx,s.Gy,r.ONE),L.ZERO=new L(r.ZERO,r.ONE,r.ZERO),L.Fp=r,L.Fn=i;const F=i.BITS,q=new nee(L,e.endo?Math.ceil(F/2):F);return L.BASE.precompute(8),L}function ck(n){return Uint8Array.of(n?2:3)}function lk(n,e){return{secretKey:e.BYTES,publicKey:1+n.BYTES,publicKeyUncompressed:1+2*n.BYTES,publicKeyHasPrefix:!0,signature:2*e.BYTES}}function wee(n,e={}){const{Fn:t}=n,r=e.randomBytes||ou,i=Object.assign(lk(n.Fp,t),{seed:rk(t.ORDER)});function s(m){try{return!!Af(t,m)}catch{return!1}}function c(m,b){const{publicKey:w,publicKeyUncompressed:x}=i;try{const S=m.length;return b===!0&&S!==w||b===!1&&S!==x?!1:!!n.fromBytes(m)}catch{return!1}}function l(m=r(i.seed)){return XX(Al(m,i.seed,"seed"),t.ORDER)}function f(m,b=!0){return n.BASE.multiply(Af(t,m)).toBytes(b)}function h(m){const b=l(m);return{secretKey:b,publicKey:f(b)}}function p(m){if(typeof m=="bigint")return!1;if(m instanceof n)return!0;const{secretKey:b,publicKey:w,publicKeyUncompressed:x}=i;if(t.allowedLengths||b===w)return;const S=Wn("key",m).length;return S===w||S===x}function g(m,b,w=!0){if(p(m)===!0)throw new Error("first arg must be private key");if(p(b)===!1)throw new Error("second arg must be public key");const x=Af(t,m);return n.fromHex(b).multiply(x).toBytes(w)}return Object.freeze({getPublicKey:f,getSharedSecret:g,keygen:h,Point:n,utils:{isValidSecretKey:s,isValidPublicKey:c,randomSecretKey:l,isValidPrivateKey:s,randomPrivateKey:l,normPrivateKeyToScalar:m=>Af(t,m),precompute(m=8,b=n.BASE){return b.precompute(m,!1)}},lengths:i})}function vee(n,e,t={}){Ub(e),Hb(t,{},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const r=t.randomBytes||ou,i=t.hmac||((W,...A)=>$b(e,W,Zo(...A))),{Fp:s,Fn:c}=n,{ORDER:l,BITS:f}=c,{keygen:h,getPublicKey:p,getSharedSecret:g,utils:m,lengths:b}=wee(n,t),w={prehash:!1,lowS:typeof t.lowS=="boolean"?t.lowS:!1,format:void 0,extraEntropy:!1},x="compact";function S(W){const A=l>>Uf;return W>A}function O(W,A){if(!c.isValidNot0(A))throw new Error(`invalid signature ${W}: out of range 1..Point.Fn.ORDER`);return A}function T(W,A){EE(A);const E=b.signature,P=A==="compact"?E:A==="recovered"?E+1:void 0;return Al(W,P,`${A} signature`)}class _{constructor(A,E,P){this.r=O("r",A),this.s=O("s",E),P!=null&&(this.recovery=P),Object.freeze(this)}static fromBytes(A,E=x){T(A,E);let P;if(E==="der"){const{r:H,s:K}=xa.toSig(Al(A));return new _(H,K)}E==="recovered"&&(P=A[0],E="compact",A=A.subarray(1));const $=c.BYTES,R=A.subarray(0,$),C=A.subarray($,$*2);return new _(c.fromBytes(R),c.fromBytes(C),P)}static fromHex(A,E){return this.fromBytes(qy(A),E)}addRecoveryBit(A){return new _(this.r,this.s,A)}recoverPublicKey(A){const E=s.ORDER,{r:P,s:$,recovery:R}=this;if(R==null||![0,1,2,3].includes(R))throw new Error("recovery id invalid");if(l*ok<E&&R>1)throw new Error("recovery id is ambiguous for h>1 curve");const C=R===2||R===3?P+l:P;if(!s.isValid(C))throw new Error("recovery id 2 or 3 invalid");const H=s.toBytes(C),K=n.fromBytes(Zo(ck((R&1)===0),H)),J=c.inv(C),Y=N(Wn("msgHash",A)),se=c.create(-Y*J),ue=c.create($*J),ge=n.BASE.multiplyUnsafe(se).add(K.multiplyUnsafe(ue));if(ge.is0())throw new Error("point at infinify");return ge.assertValidity(),ge}hasHighS(){return S(this.s)}toBytes(A=x){if(EE(A),A==="der")return qy(xa.hexFromSig(this));const E=c.toBytes(this.r),P=c.toBytes(this.s);if(A==="recovered"){if(this.recovery==null)throw new Error("recovery bit must be present");return Zo(Uint8Array.of(this.recovery),E,P)}return Zo(E,P)}toHex(A){return Pf(this.toBytes(A))}assertValidity(){}static fromCompact(A){return _.fromBytes(Wn("sig",A),"compact")}static fromDER(A){return _.fromBytes(Wn("sig",A),"der")}normalizeS(){return this.hasHighS()?new _(this.r,c.neg(this.s),this.recovery):this}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return Pf(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return Pf(this.toBytes("compact"))}}const I=t.bits2int||function(W){if(W.length>8192)throw new Error("input is too large");const A=zb(W),E=W.length*8-f;return E>0?A>>BigInt(E):A},N=t.bits2int_modN||function(W){return c.create(I(W))},U=Lg(f);function z(W){return vE("num < 2^"+f,W,La,U),c.toBytes(W)}function M(W,A){return Al(W,void 0,"message"),A?Al(e(W),void 0,"prehashed message"):W}function L(W,A,E){if(["recovered","canonical"].some(ue=>ue in E))throw new Error("sign() legacy options not supported");const{lowS:P,prehash:$,extraEntropy:R}=C2(E,w);W=M(W,$);const C=N(W),H=Af(c,A),K=[z(H),z(C)];if(R!=null&&R!==!1){const ue=R===!0?r(b.secretKey):R;K.push(Wn("extraEntropy",ue))}const J=Zo(...K),Y=C;function se(ue){const ge=I(ue);if(!c.isValidNot0(ge))return;const xe=c.inv(ge),be=n.BASE.multiply(ge).toAffine(),Se=c.create(be.x);if(Se===La)return;const Pe=c.create(xe*c.create(Y+Se*H));if(Pe===La)return;let Me=(be.x===Se?0:2)|Number(be.y&Uf),Qe=Pe;return P&&S(Pe)&&(Qe=c.neg(Pe),Me^=1),new _(Se,Qe,Me)}return{seed:J,k2sig:se}}function F(W,A,E={}){W=Wn("message",W);const{seed:P,k2sig:$}=L(W,A,E);return qX(e.outputLen,c.BYTES,i)(P,$)}function q(W){let A;const E=typeof W=="string"||Pb(W),P=!E&&W!==null&&typeof W=="object"&&typeof W.r=="bigint"&&typeof W.s=="bigint";if(!E&&!P)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");if(P)A=new _(W.r,W.s);else if(E){try{A=_.fromBytes(Wn("sig",W),"der")}catch($){if(!($ instanceof xa.Err))throw $}if(!A)try{A=_.fromBytes(Wn("sig",W),"compact")}catch{return!1}}return A||!1}function Q(W,A,E,P={}){const{lowS:$,prehash:R,format:C}=C2(P,w);if(E=Wn("publicKey",E),A=M(Wn("message",A),R),"strict"in P)throw new Error("options.strict was renamed to lowS");const H=C===void 0?q(W):_.fromBytes(Wn("sig",W),C);if(H===!1)return!1;try{const K=n.fromBytes(E);if($&&H.hasHighS())return!1;const{r:J,s:Y}=H,se=N(A),ue=c.inv(Y),ge=c.create(se*ue),xe=c.create(J*ue),be=n.BASE.multiplyUnsafe(ge).add(K.multiplyUnsafe(xe));return be.is0()?!1:c.create(be.x)===J}catch{return!1}}function G(W,A,E={}){const{prehash:P}=C2(E,w);return A=M(A,P),_.fromBytes(W,"recovered").recoverPublicKey(A).toBytes()}return Object.freeze({keygen:h,getPublicKey:p,getSharedSecret:g,utils:m,lengths:b,Point:n,sign:F,verify:Q,recoverPublicKey:G,Signature:_,hash:e})}function xee(n){const e={a:n.a,b:n.b,p:n.Fp.ORDER,n:n.n,h:n.h,Gx:n.Gx,Gy:n.Gy},t=n.Fp;let r=n.allowedPrivateKeyLengths?Array.from(new Set(n.allowedPrivateKeyLengths.map(c=>Math.ceil(c/2)))):void 0;const i=Cc(e.n,{BITS:n.nBitLength,allowedLengths:r,modFromBytes:n.wrapPrivateKey}),s={Fp:t,Fn:i,allowInfinityPoint:n.allowInfinityPoint,endo:n.endo,isTorsionFree:n.isTorsionFree,clearCofactor:n.clearCofactor,fromBytes:n.fromBytes,toBytes:n.toBytes};return{CURVE:e,curveOpts:s}}function Eee(n){const{CURVE:e,curveOpts:t}=xee(n),r={hmac:n.hmac,randomBytes:n.randomBytes,lowS:n.lowS,bits2int:n.bits2int,bits2int_modN:n.bits2int_modN};return{CURVE:e,curveOpts:t,hash:n.hash,ecdsaOpts:r}}function Aee(n,e){const t=e.Point;return Object.assign({},e,{ProjectivePoint:t,CURVE:Object.assign({},n,tk(t.Fn.ORDER,t.Fn.BITS))})}function See(n){const{CURVE:e,curveOpts:t,hash:r,ecdsaOpts:i}=Eee(n),s=bee(e,t),c=vee(s,r,i);return Aee(n,c)}function AE(n,e){const t=r=>See({...n,hash:r});return{...t(e),create:t}}const uk={p:BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff"),n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),h:BigInt(1),a:BigInt("0xffffffff00000001000000000000000000000000fffffffffffffffffffffffc"),b:BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5")},fk={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000ffffffff"),n:BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffc7634d81f4372ddf581a0db248b0a77aecec196accc52973"),h:BigInt(1),a:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000fffffffc"),b:BigInt("0xb3312fa7e23ee7e4988e056be3f82d19181d9c6efe8141120314088f5013875ac656398d8a2ed19d2a85c8edd3ec2aef"),Gx:BigInt("0xaa87ca22be8b05378eb1c71ef320ad746e1d3b628ba79b9859f741e082542a385502f25dbf55296c3a545e3872760ab7"),Gy:BigInt("0x3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f")},hk={p:BigInt("0x1ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),n:BigInt("0x01fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffa51868783bf2f966b7fcc0148f709a5d03bb5c9b8899c47aebb6fb71e91386409"),h:BigInt(1),a:BigInt("0x1fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc"),b:BigInt("0x0051953eb9618e1c9a1f929a21a0b68540eea2da725b99b315f3b8b489918ef109e156193951ec7e937b1652c0bd3bb1bf073573df883d2c34f1ef451fd46b503f00"),Gx:BigInt("0x00c6858e06b70404e9cd9e3ecb662395b4429c648139053fb521f828af606b4d3dbaa14b5e77efe75928fe1dc127a2ffa8de3348b3c1856a429bf97e7e31c2e5bd66"),Gy:BigInt("0x011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650")},_ee=Cc(uk.p),Oee=Cc(fk.p),Cee=Cc(hk.p),Nee=AE({...uk,Fp:_ee,lowS:!1},Lb);AE({...fk,Fp:Oee,lowS:!1},PJ),AE({...hk,Fp:Cee,lowS:!1,allowedPrivateKeyLengths:[130,131,132]},kJ);const Iee=Nee,dk="base10",fr="base16",Or="base64pad",Wo="base64url",$g="utf8",pk=0,Fa=1,jg=2,Tee=0,XO=1,kp=12,aA=32;function Dee(){const n=xE.utils.randomPrivateKey(),e=xE.getPublicKey(n);return{privateKey:Dr(n,fr),publicKey:Dr(e,fr)}}function SE(){const n=ou(aA);return Dr(n,fr)}function Ree(n,e){const t=xE.getSharedSecret(Ni(n,fr),Ni(e,fr)),r=HX(jb,t,void 0,void 0,aA);return Dr(r,fr)}function oy(n){const e=jb(Ni(n,fr));return Dr(e,fr)}function Oi(n){const e=jb(Ni(n,$g));return Dr(e,fr)}function gk(n){return Ni(`${n}`,dk)}function ru(n){return Number(Dr(n,dk))}function mk(n){return n.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function yk(n){const e=n.replace(/-/g,"+").replace(/_/g,"/"),t=(4-e.length%4)%4;return e+"=".repeat(t)}function Bee(n){const e=gk(typeof n.type<"u"?n.type:pk);if(ru(e)===Fa&&typeof n.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const t=typeof n.senderPublicKey<"u"?Ni(n.senderPublicKey,fr):void 0,r=typeof n.iv<"u"?Ni(n.iv,fr):ou(kp),i=Ni(n.symKey,fr),s=FB(i,r).encrypt(Ni(n.message,$g)),c=bk({type:e,sealed:s,iv:r,senderPublicKey:t});return n.encoding===Wo?mk(c):c}function kee(n){const e=Ni(n.symKey,fr),{sealed:t,iv:r}=sg({encoded:n.encoded,encoding:n.encoding}),i=FB(e,r).decrypt(t);if(i===null)throw new Error("Failed to decrypt");return Dr(i,$g)}function Pee(n,e){const t=gk(jg),r=ou(kp),i=Ni(n,$g),s=bk({type:t,sealed:i,iv:r});return e===Wo?mk(s):s}function Uee(n,e){const{sealed:t}=sg({encoded:n,encoding:e});return Dr(t,$g)}function bk(n){if(ru(n.type)===jg)return Dr(Bp([n.type,n.sealed]),Or);if(ru(n.type)===Fa){if(typeof n.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return Dr(Bp([n.type,n.senderPublicKey,n.iv,n.sealed]),Or)}return Dr(Bp([n.type,n.iv,n.sealed]),Or)}function sg(n){const e=(n.encoding||Or)===Wo?yk(n.encoded):n.encoded,t=Ni(e,Or),r=t.slice(Tee,XO),i=XO;if(ru(r)===Fa){const f=i+aA,h=f+kp,p=t.slice(i,f),g=t.slice(f,h),m=t.slice(h);return{type:r,sealed:m,iv:g,senderPublicKey:p}}if(ru(r)===jg){const f=t.slice(i),h=ou(kp);return{type:r,sealed:f,iv:h}}const s=i+kp,c=t.slice(i,s),l=t.slice(s);return{type:r,sealed:l,iv:c}}function Mee(n,e){const t=sg({encoded:n,encoding:e==null?void 0:e.encoding});return wk({type:ru(t.type),senderPublicKey:typeof t.senderPublicKey<"u"?Dr(t.senderPublicKey,fr):void 0,receiverPublicKey:e==null?void 0:e.receiverPublicKey})}function wk(n){const e=(n==null?void 0:n.type)||pk;if(e===Fa){if(typeof(n==null?void 0:n.senderPublicKey)>"u")throw new Error("missing sender public key");if(typeof(n==null?void 0:n.receiverPublicKey)>"u")throw new Error("missing receiver public key")}return{type:e,senderPublicKey:n==null?void 0:n.senderPublicKey,receiverPublicKey:n==null?void 0:n.receiverPublicKey}}function eC(n){return n.type===Fa&&typeof n.senderPublicKey=="string"&&typeof n.receiverPublicKey=="string"}function tC(n){return n.type===jg}function Lee(n){const e=Buffer.from(n.x,"base64"),t=Buffer.from(n.y,"base64");return Bp([new Uint8Array([4]),e,t])}function $ee(n,e){const[t,r,i]=n.split("."),s=Buffer.from(yk(i),"base64");if(s.length!==64)throw new Error("Invalid signature length");const c=s.slice(0,32),l=s.slice(32,64),f=`${t}.${r}`,h=jb(f),p=Lee(e);if(!Iee.verify(Bp([c,l]),h,p))throw new Error("Invalid signature");return uE(n).payload}const jee="irn";function Yy(n){return(n==null?void 0:n.relay)||{protocol:jee}}function Sf(n){const e=ZZ[n];if(typeof e>"u")throw new Error(`Relay Protocol not supported: ${n}`);return e}var zee=Object.defineProperty,Hee=Object.defineProperties,Fee=Object.getOwnPropertyDescriptors,nC=Object.getOwnPropertySymbols,qee=Object.prototype.hasOwnProperty,Vee=Object.prototype.propertyIsEnumerable,rC=(n,e,t)=>e in n?zee(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,N2=(n,e)=>{for(var t in e||(e={}))qee.call(e,t)&&rC(n,t,e[t]);if(nC)for(var t of nC(e))Vee.call(e,t)&&rC(n,t,e[t]);return n},Gee=(n,e)=>Hee(n,Fee(e));function Kee(n,e="-"){const t={},r="relay"+e;return Object.keys(n).forEach(i=>{if(i.startsWith(r)){const s=i.replace(r,""),c=n[i];t[s]=c}}),t}function iC(n){if(!n.includes("wc:")){const h=AB(n);h!=null&&h.includes("wc:")&&(n=h)}n=n.includes("wc://")?n.replace("wc://",""):n,n=n.includes("wc:")?n.replace("wc:",""):n;const e=n.indexOf(":"),t=n.indexOf("?")!==-1?n.indexOf("?"):void 0,r=n.substring(0,e),i=n.substring(e+1,t).split("@"),s=typeof t<"u"?n.substring(t):"",c=new URLSearchParams(s),l=Object.fromEntries(c.entries()),f=typeof l.methods=="string"?l.methods.split(","):void 0;return{protocol:r,topic:Qee(i[0]),version:parseInt(i[1],10),symKey:l.symKey,relay:Kee(l),methods:f,expiryTimestamp:l.expiryTimestamp?parseInt(l.expiryTimestamp,10):void 0}}function Qee(n){return n.startsWith("//")?n.substring(2):n}function Yee(n,e="-"){const t="relay",r={};return Object.keys(n).forEach(i=>{const s=i,c=t+e+s;n[s]&&(r[c]=n[s])}),r}function sC(n){const e=new URLSearchParams,t=N2(N2(Gee(N2({},Yee(n.relay)),{symKey:n.symKey}),n.expiryTimestamp&&{expiryTimestamp:n.expiryTimestamp.toString()}),n.methods&&{methods:n.methods.join(",")});return Object.entries(t).sort(([r],[i])=>r.localeCompare(i)).forEach(([r,i])=>{i!==void 0&&e.append(r,String(i))}),`${n.protocol}:${n.topic}@${n.version}?${e}`}function km(n,e,t){return`${n}?wc_ev=${t}&topic=${e}`}var Zee=Object.defineProperty,Wee=Object.defineProperties,Jee=Object.getOwnPropertyDescriptors,aC=Object.getOwnPropertySymbols,Xee=Object.prototype.hasOwnProperty,ete=Object.prototype.propertyIsEnumerable,oC=(n,e,t)=>e in n?Zee(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,tte=(n,e)=>{for(var t in e||(e={}))Xee.call(e,t)&&oC(n,t,e[t]);if(aC)for(var t of aC(e))ete.call(e,t)&&oC(n,t,e[t]);return n},nte=(n,e)=>Wee(n,Jee(e));function Vh(n){const e=[];return n.forEach(t=>{const[r,i]=t.split(":");e.push(`${r}:${i}`)}),e}function rte(n){const e=[];return Object.values(n).forEach(t=>{e.push(...Vh(t.accounts))}),e}function ite(n,e){const t=[];return Object.values(n).forEach(r=>{Vh(r.accounts).includes(e)&&t.push(...r.methods)}),t}function ste(n,e){const t=[];return Object.values(n).forEach(r=>{Vh(r.accounts).includes(e)&&t.push(...r.events)}),t}function Fb(n){return n.includes(":")}function _f(n){return Fb(n)?n.split(":")[0]:n}function cC(n){var e,t,r;const i={};if(!Ms(n))return i;for(const[s,c]of Object.entries(n)){const l=Fb(s)?[s]:c.chains,f=c.methods||[],h=c.events||[],p=_f(s);i[p]=nte(tte({},i[p]),{chains:Us(l,(e=i[p])==null?void 0:e.chains),methods:Us(f,(t=i[p])==null?void 0:t.methods),events:Us(h,(r=i[p])==null?void 0:r.events)})}return i}function ate(n){const e={};return n==null||n.forEach(t=>{var r;const[i,s]=t.split(":");e[i]||(e[i]={accounts:[],chains:[],events:[],methods:[]}),e[i].accounts.push(t),(r=e[i].chains)==null||r.push(`${i}:${s}`)}),e}function lC(n,e){e=e.map(r=>r.replace("did:pkh:",""));const t=ate(e);for(const[r,i]of Object.entries(t))i.methods?i.methods=Us(i.methods,n):i.methods=n,i.events=["chainChanged","accountsChanged"];return t}function ote(n,e){var t,r,i,s,c,l;const f=cC(n),h=cC(e),p={},g=Object.keys(f).concat(Object.keys(h));for(const m of g)p[m]={chains:Us((t=f[m])==null?void 0:t.chains,(r=h[m])==null?void 0:r.chains),methods:Us((i=f[m])==null?void 0:i.methods,(s=h[m])==null?void 0:s.methods),events:Us((c=f[m])==null?void 0:c.events,(l=h[m])==null?void 0:l.events)};return p}const cte={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},lte={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function we(n,e){const{message:t,code:r}=lte[n];return{message:e?`${t} ${e}`:t,code:r}}function Nt(n,e){const{message:t,code:r}=cte[n];return{message:e?`${t} ${e}`:t,code:r}}function Ii(n,e){return!!Array.isArray(n)}function Ms(n){return Object.getPrototypeOf(n)===Object.prototype&&Object.keys(n).length}function ln(n){return typeof n>"u"}function tn(n,e){return e&&ln(n)?!0:typeof n=="string"&&!!n.trim().length}function oA(n,e){return e&&ln(n)?!0:typeof n=="number"&&!isNaN(n)}function ute(n,e){const{requiredNamespaces:t}=e,r=Object.keys(n.namespaces),i=Object.keys(t);let s=!0;return El(i,r)?(r.forEach(c=>{const{accounts:l,methods:f,events:h}=n.namespaces[c],p=Vh(l),g=t[c];(!El(bB(c,g),p)||!El(g.methods,f)||!El(g.events,h))&&(s=!1)}),s):!1}function Zy(n){return tn(n,!1)&&n.includes(":")?n.split(":").length===2:!1}function fte(n){if(tn(n,!1)&&n.includes(":")){const e=n.split(":");if(e.length===3){const t=e[0]+":"+e[1];return!!e[2]&&Zy(t)}}return!1}function hte(n){function e(t){try{return typeof new URL(t)<"u"}catch{return!1}}try{if(tn(n,!1)){if(e(n))return!0;const t=AB(n);return e(t)}}catch{}return!1}function dte(n){var e;return(e=n==null?void 0:n.proposer)==null?void 0:e.publicKey}function pte(n){return n==null?void 0:n.topic}function gte(n,e){let t=null;return tn(n==null?void 0:n.publicKey,!1)||(t=we("MISSING_OR_INVALID",`${e} controller public key should be a string`)),t}function uC(n){let e=!0;return Ii(n)?n.length&&(e=n.every(t=>tn(t,!1))):e=!1,e}function mte(n,e,t){let r=null;return Ii(e)&&e.length?e.forEach(i=>{r||Zy(i)||(r=Nt("UNSUPPORTED_CHAINS",`${t}, chain ${i} should be a string and conform to "namespace:chainId" format`))}):Zy(n)||(r=Nt("UNSUPPORTED_CHAINS",`${t}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),r}function yte(n,e,t){let r=null;return Object.entries(n).forEach(([i,s])=>{if(r)return;const c=mte(i,bB(i,s),`${e} ${t}`);c&&(r=c)}),r}function bte(n,e){let t=null;return Ii(n)?n.forEach(r=>{t||fte(r)||(t=Nt("UNSUPPORTED_ACCOUNTS",`${e}, account ${r} should be a string and conform to "namespace:chainId:address" format`))}):t=Nt("UNSUPPORTED_ACCOUNTS",`${e}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),t}function wte(n,e){let t=null;return Object.values(n).forEach(r=>{if(t)return;const i=bte(r==null?void 0:r.accounts,`${e} namespace`);i&&(t=i)}),t}function vte(n,e){let t=null;return uC(n==null?void 0:n.methods)?uC(n==null?void 0:n.events)||(t=Nt("UNSUPPORTED_EVENTS",`${e}, events should be an array of strings or empty array for no events`)):t=Nt("UNSUPPORTED_METHODS",`${e}, methods should be an array of strings or empty array for no methods`),t}function vk(n,e){let t=null;return Object.values(n).forEach(r=>{if(t)return;const i=vte(r,`${e}, namespace`);i&&(t=i)}),t}function xte(n,e,t){let r=null;if(n&&Ms(n)){const i=vk(n,e);i&&(r=i);const s=yte(n,e,t);s&&(r=s)}else r=we("MISSING_OR_INVALID",`${e}, ${t} should be an object with data`);return r}function I2(n,e){let t=null;if(n&&Ms(n)){const r=vk(n,e);r&&(t=r);const i=wte(n,e);i&&(t=i)}else t=we("MISSING_OR_INVALID",`${e}, namespaces should be an object with data`);return t}function xk(n){return tn(n.protocol,!0)}function Ete(n,e){let t=!1;return n?n&&Ii(n)&&n.length&&n.forEach(r=>{t=xk(r)}):t=!0,t}function Ate(n){return typeof n=="number"}function vr(n){return typeof n<"u"&&typeof n!==null}function Ste(n){return!(!n||typeof n!="object"||!n.code||!oA(n.code,!1)||!n.message||!tn(n.message,!1))}function _te(n){return!(ln(n)||!tn(n.method,!1))}function Ote(n){return!(ln(n)||ln(n.result)&&ln(n.error)||!oA(n.id,!1)||!tn(n.jsonrpc,!1))}function Cte(n){return!(ln(n)||!tn(n.name,!1))}function fC(n,e){return!(!Zy(e)||!rte(n).includes(e))}function Nte(n,e,t){return tn(t,!1)?ite(n,e).includes(t):!1}function Ite(n,e,t){return tn(t,!1)?ste(n,e).includes(t):!1}function hC(n,e,t){let r=null;const i=Tte(n),s=Dte(e),c=Object.keys(i),l=Object.keys(s),f=dC(Object.keys(n)),h=dC(Object.keys(e)),p=f.filter(g=>!h.includes(g));return p.length&&(r=we("NON_CONFORMING_NAMESPACES",`${t} namespaces keys don't satisfy requiredNamespaces.
      Required: ${p.toString()}
      Received: ${Object.keys(e).toString()}`)),El(c,l)||(r=we("NON_CONFORMING_NAMESPACES",`${t} namespaces chains don't satisfy required namespaces.
      Required: ${c.toString()}
      Approved: ${l.toString()}`)),Object.keys(e).forEach(g=>{if(!g.includes(":")||r)return;const m=Vh(e[g].accounts);m.includes(g)||(r=we("NON_CONFORMING_NAMESPACES",`${t} namespaces accounts don't satisfy namespace accounts for ${g}
        Required: ${g}
        Approved: ${m.toString()}`))}),c.forEach(g=>{r||(El(i[g].methods,s[g].methods)?El(i[g].events,s[g].events)||(r=we("NON_CONFORMING_NAMESPACES",`${t} namespaces events don't satisfy namespace events for ${g}`)):r=we("NON_CONFORMING_NAMESPACES",`${t} namespaces methods don't satisfy namespace methods for ${g}`))}),r}function Tte(n){const e={};return Object.keys(n).forEach(t=>{var r;t.includes(":")?e[t]=n[t]:(r=n[t].chains)==null||r.forEach(i=>{e[i]={methods:n[t].methods,events:n[t].events}})}),e}function dC(n){return[...new Set(n.map(e=>e.includes(":")?e.split(":")[0]:e))]}function Dte(n){const e={};return Object.keys(n).forEach(t=>{if(t.includes(":"))e[t]=n[t];else{const r=Vh(n[t].accounts);r==null||r.forEach(i=>{e[i]={accounts:n[t].accounts.filter(s=>s.includes(`${i}:`)),methods:n[t].methods,events:n[t].events}})}}),e}function Rte(n,e){return oA(n,!1)&&n<=e.max&&n>=e.min}function pC(){const n=Ug();return new Promise(e=>{switch(n){case Xr.browser:e(Bte());break;case Xr.reactNative:e(kte());break;case Xr.node:e(Pte());break;default:e(!0)}})}function Bte(){return qh()&&(navigator==null?void 0:navigator.onLine)}async function kte(){if(Oc()&&typeof global<"u"&&global!=null&&global.NetInfo){const n=await(global==null?void 0:global.NetInfo.fetch());return n==null?void 0:n.isConnected}return!0}function Pte(){return!0}function Ute(n){switch(Ug()){case Xr.browser:Mte(n);break;case Xr.reactNative:Lte(n);break}}function Mte(n){!Oc()&&qh()&&(window.addEventListener("online",()=>n(!0)),window.addEventListener("offline",()=>n(!1)))}function Lte(n){Oc()&&typeof global<"u"&&global!=null&&global.NetInfo&&(global==null||global.NetInfo.addEventListener(e=>n(e==null?void 0:e.isConnected)))}function $te(){var n;return qh()&&Ka.getDocument()?((n=Ka.getDocument())==null?void 0:n.visibilityState)==="visible":!0}const T2={};class fp{static get(e){return T2[e]}static set(e,t){T2[e]=t}static delete(e){delete T2[e]}}function jte(n){const e=Bg.decode(n);if(e.length<33)throw new Error("Too short to contain a public key");return e.slice(1,33)}function zte({publicKey:n,signature:e,payload:t}){var r;const i=_E(t.method),s=128|parseInt(((r=t.version)==null?void 0:r.toString())||"4"),c=qte(t.address),l=t.era==="00"?new Uint8Array([0]):_E(t.era);if(l.length!==1&&l.length!==2)throw new Error("Invalid era length");const f=parseInt(t.nonce,16),h=new Uint8Array([f&255,f>>8&255]),p=BigInt(`0x${Fte(t.tip)}`),g=Gte(p),m=new Uint8Array([0,...n,c,...e,...l,...h,...g,...i]),b=Vte(m.length+1);return new Uint8Array([...b,s,...m])}function Hte(n){const e=_E(n),t=eW.blake2b(e,void 0,32);return"0x"+Buffer.from(t).toString("hex")}function _E(n){return new Uint8Array(n.replace(/^0x/,"").match(/.{1,2}/g).map(e=>parseInt(e,16)))}function Fte(n){return n.startsWith("0x")?n.slice(2):n}function qte(n){const e=Bg.decode(n)[0];return e===42?0:e===60?2:1}function Vte(n){if(n<64)return new Uint8Array([n<<2]);if(n<16384){const e=n<<2|1;return new Uint8Array([e&255,e>>8&255])}else if(n<1<<30){const e=n<<2|2;return new Uint8Array([e&255,e>>8&255,e>>16&255,e>>24&255])}else throw new Error("Compact encoding > 2^30 not supported")}function Gte(n){if(n<BigInt(1)<<BigInt(6))return new Uint8Array([Number(n<<BigInt(2))]);if(n<BigInt(1)<<BigInt(14)){const e=n<<BigInt(2)|BigInt(1);return new Uint8Array([Number(e&BigInt(255)),Number(e>>BigInt(8)&BigInt(255))])}else if(n<BigInt(1)<<BigInt(30)){const e=n<<BigInt(2)|BigInt(2);return new Uint8Array([Number(e&BigInt(255)),Number(e>>BigInt(8)&BigInt(255)),Number(e>>BigInt(16)&BigInt(255)),Number(e>>BigInt(24)&BigInt(255))])}else throw new Error("BigInt compact encoding not supported > 2^30")}function Kte(n){const e=Uint8Array.from(Buffer.from(n.signature,"hex")),t=jte(n.transaction.address),r=zte({publicKey:t,signature:e,payload:n.transaction}),i=Buffer.from(r).toString("hex");return Hte(i)}function cA({logger:n,name:e}){const t=typeof n=="string"?yB({opts:{level:n,name:e}}).logger:n;return t.level=typeof n=="string"?n:n.level,t}class cu{}let Qte=class extends cu{constructor(e){super()}};const gC=ve.FIVE_SECONDS,lu={pulse:"heartbeat_pulse"};let Yte=class Ek extends Qte{constructor(e){super(e),this.events=new ei.EventEmitter,this.interval=gC,this.interval=(e==null?void 0:e.interval)||gC}static async init(e){const t=new Ek(e);return await t.init(),t}async init(){await this.initialize()}stop(){clearInterval(this.intervalRef)}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async initialize(){this.intervalRef=setInterval(()=>this.pulse(),ve.toMiliseconds(this.interval))}pulse(){this.events.emit(lu.pulse)}};const Zte=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,Wte=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,Jte=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function Xte(n,e){if(n==="__proto__"||n==="constructor"&&e&&typeof e=="object"&&"prototype"in e){ene(n);return}return e}function ene(n){console.warn(`[destr] Dropping "${n}" key to prevent prototype pollution.`)}function Pm(n,e={}){if(typeof n!="string")return n;if(n[0]==='"'&&n[n.length-1]==='"'&&n.indexOf("\\")===-1)return n.slice(1,-1);const t=n.trim();if(t.length<=9)switch(t.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return Number.NaN;case"infinity":return Number.POSITIVE_INFINITY;case"-infinity":return Number.NEGATIVE_INFINITY}if(!Jte.test(n)){if(e.strict)throw new SyntaxError("[destr] Invalid JSON");return n}try{if(Zte.test(n)||Wte.test(n)){if(e.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(n,Xte)}return JSON.parse(n)}catch(r){if(e.strict)throw r;return n}}function tne(n){return!n||typeof n.then!="function"?Promise.resolve(n):n}function bn(n,...e){try{return tne(n(...e))}catch(t){return Promise.reject(t)}}function nne(n){const e=typeof n;return n===null||e!=="object"&&e!=="function"}function rne(n){const e=Object.getPrototypeOf(n);return!e||e.isPrototypeOf(Object)}function cy(n){if(nne(n))return String(n);if(rne(n)||Array.isArray(n))return JSON.stringify(n);if(typeof n.toJSON=="function")return cy(n.toJSON());throw new Error("[unstorage] Cannot stringify value!")}const OE="base64:";function ine(n){return typeof n=="string"?n:OE+one(n)}function sne(n){return typeof n!="string"||!n.startsWith(OE)?n:ane(n.slice(OE.length))}function ane(n){return globalThis.Buffer?Buffer.from(n,"base64"):Uint8Array.from(globalThis.atob(n),e=>e.codePointAt(0))}function one(n){return globalThis.Buffer?Buffer.from(n).toString("base64"):globalThis.btoa(String.fromCodePoint(...n))}function wr(n){var e;return n&&((e=n.split("?")[0])==null?void 0:e.replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,""))||""}function cne(...n){return wr(n.join(":"))}function Um(n){return n=wr(n),n?n+":":""}function lne(n,e){if(e===void 0)return!0;let t=0,r=n.indexOf(":");for(;r>-1;)t++,r=n.indexOf(":",r+1);return t<=e}function une(n,e){return e?n.startsWith(e)&&n[n.length-1]!=="$":n[n.length-1]!=="$"}const fne="memory",hne=()=>{const n=new Map;return{name:fne,getInstance:()=>n,hasItem(e){return n.has(e)},getItem(e){return n.get(e)??null},getItemRaw(e){return n.get(e)??null},setItem(e,t){n.set(e,t)},setItemRaw(e,t){n.set(e,t)},removeItem(e){n.delete(e)},getKeys(){return[...n.keys()]},clear(){n.clear()},dispose(){n.clear()}}};function dne(n={}){const e={mounts:{"":n.driver||hne()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},t=h=>{for(const p of e.mountpoints)if(h.startsWith(p))return{base:p,relativeKey:h.slice(p.length),driver:e.mounts[p]};return{base:"",relativeKey:h,driver:e.mounts[""]}},r=(h,p)=>e.mountpoints.filter(g=>g.startsWith(h)||p&&h.startsWith(g)).map(g=>({relativeBase:h.length>g.length?h.slice(g.length):void 0,mountpoint:g,driver:e.mounts[g]})),i=(h,p)=>{if(e.watching){p=wr(p);for(const g of e.watchListeners)g(h,p)}},s=async()=>{if(!e.watching){e.watching=!0;for(const h in e.mounts)e.unwatch[h]=await mC(e.mounts[h],i,h)}},c=async()=>{if(e.watching){for(const h in e.unwatch)await e.unwatch[h]();e.unwatch={},e.watching=!1}},l=(h,p,g)=>{const m=new Map,b=w=>{let x=m.get(w.base);return x||(x={driver:w.driver,base:w.base,items:[]},m.set(w.base,x)),x};for(const w of h){const x=typeof w=="string",S=wr(x?w:w.key),O=x?void 0:w.value,T=x||!w.options?p:{...p,...w.options},_=t(S);b(_).items.push({key:S,value:O,relativeKey:_.relativeKey,options:T})}return Promise.all([...m.values()].map(w=>g(w))).then(w=>w.flat())},f={hasItem(h,p={}){h=wr(h);const{relativeKey:g,driver:m}=t(h);return bn(m.hasItem,g,p)},getItem(h,p={}){h=wr(h);const{relativeKey:g,driver:m}=t(h);return bn(m.getItem,g,p).then(b=>Pm(b))},getItems(h,p={}){return l(h,p,g=>g.driver.getItems?bn(g.driver.getItems,g.items.map(m=>({key:m.relativeKey,options:m.options})),p).then(m=>m.map(b=>({key:cne(g.base,b.key),value:Pm(b.value)}))):Promise.all(g.items.map(m=>bn(g.driver.getItem,m.relativeKey,m.options).then(b=>({key:m.key,value:Pm(b)})))))},getItemRaw(h,p={}){h=wr(h);const{relativeKey:g,driver:m}=t(h);return m.getItemRaw?bn(m.getItemRaw,g,p):bn(m.getItem,g,p).then(b=>sne(b))},async setItem(h,p,g={}){if(p===void 0)return f.removeItem(h);h=wr(h);const{relativeKey:m,driver:b}=t(h);b.setItem&&(await bn(b.setItem,m,cy(p),g),b.watch||i("update",h))},async setItems(h,p){await l(h,p,async g=>{if(g.driver.setItems)return bn(g.driver.setItems,g.items.map(m=>({key:m.relativeKey,value:cy(m.value),options:m.options})),p);g.driver.setItem&&await Promise.all(g.items.map(m=>bn(g.driver.setItem,m.relativeKey,cy(m.value),m.options)))})},async setItemRaw(h,p,g={}){if(p===void 0)return f.removeItem(h,g);h=wr(h);const{relativeKey:m,driver:b}=t(h);if(b.setItemRaw)await bn(b.setItemRaw,m,p,g);else if(b.setItem)await bn(b.setItem,m,ine(p),g);else return;b.watch||i("update",h)},async removeItem(h,p={}){typeof p=="boolean"&&(p={removeMeta:p}),h=wr(h);const{relativeKey:g,driver:m}=t(h);m.removeItem&&(await bn(m.removeItem,g,p),(p.removeMeta||p.removeMata)&&await bn(m.removeItem,g+"$",p),m.watch||i("remove",h))},async getMeta(h,p={}){typeof p=="boolean"&&(p={nativeOnly:p}),h=wr(h);const{relativeKey:g,driver:m}=t(h),b=Object.create(null);if(m.getMeta&&Object.assign(b,await bn(m.getMeta,g,p)),!p.nativeOnly){const w=await bn(m.getItem,g+"$",p).then(x=>Pm(x));w&&typeof w=="object"&&(typeof w.atime=="string"&&(w.atime=new Date(w.atime)),typeof w.mtime=="string"&&(w.mtime=new Date(w.mtime)),Object.assign(b,w))}return b},setMeta(h,p,g={}){return this.setItem(h+"$",p,g)},removeMeta(h,p={}){return this.removeItem(h+"$",p)},async getKeys(h,p={}){var S;h=Um(h);const g=r(h,!0);let m=[];const b=[];let w=!0;for(const O of g){(S=O.driver.flags)!=null&&S.maxDepth||(w=!1);const T=await bn(O.driver.getKeys,O.relativeBase,p);for(const _ of T){const I=O.mountpoint+wr(_);m.some(N=>I.startsWith(N))||b.push(I)}m=[O.mountpoint,...m.filter(_=>!_.startsWith(O.mountpoint))]}const x=p.maxDepth!==void 0&&!w;return b.filter(O=>(!x||lne(O,p.maxDepth))&&une(O,h))},async clear(h,p={}){h=Um(h),await Promise.all(r(h,!1).map(async g=>{if(g.driver.clear)return bn(g.driver.clear,g.relativeBase,p);if(g.driver.removeItem){const m=await g.driver.getKeys(g.relativeBase||"",p);return Promise.all(m.map(b=>g.driver.removeItem(b,p)))}}))},async dispose(){await Promise.all(Object.values(e.mounts).map(h=>yC(h)))},async watch(h){return await s(),e.watchListeners.push(h),async()=>{e.watchListeners=e.watchListeners.filter(p=>p!==h),e.watchListeners.length===0&&await c()}},async unwatch(){e.watchListeners=[],await c()},mount(h,p){if(h=Um(h),h&&e.mounts[h])throw new Error(`already mounted at ${h}`);return h&&(e.mountpoints.push(h),e.mountpoints.sort((g,m)=>m.length-g.length)),e.mounts[h]=p,e.watching&&Promise.resolve(mC(p,i,h)).then(g=>{e.unwatch[h]=g}).catch(console.error),f},async unmount(h,p=!0){var g,m;h=Um(h),!(!h||!e.mounts[h])&&(e.watching&&h in e.unwatch&&((m=(g=e.unwatch)[h])==null||m.call(g),delete e.unwatch[h]),p&&await yC(e.mounts[h]),e.mountpoints=e.mountpoints.filter(b=>b!==h),delete e.mounts[h])},getMount(h=""){h=wr(h)+":";const p=t(h);return{driver:p.driver,base:p.base}},getMounts(h="",p={}){return h=wr(h),r(h,p.parents).map(m=>({driver:m.driver,base:m.mountpoint}))},keys:(h,p={})=>f.getKeys(h,p),get:(h,p={})=>f.getItem(h,p),set:(h,p,g={})=>f.setItem(h,p,g),has:(h,p={})=>f.hasItem(h,p),del:(h,p={})=>f.removeItem(h,p),remove:(h,p={})=>f.removeItem(h,p)};return f}function mC(n,e,t){return n.watch?n.watch((r,i)=>e(r,t+i)):()=>{}}async function yC(n){typeof n.dispose=="function"&&await bn(n.dispose)}function uu(n){return new Promise((e,t)=>{n.oncomplete=n.onsuccess=()=>e(n.result),n.onabort=n.onerror=()=>t(n.error)})}function Ak(n,e){let t;const r=()=>{if(t)return t;const i=indexedDB.open(n);return i.onupgradeneeded=()=>i.result.createObjectStore(e),t=uu(i),t.then(s=>{s.onclose=()=>t=void 0},()=>{}),t};return(i,s)=>r().then(c=>s(c.transaction(e,i).objectStore(e)))}let D2;function zg(){return D2||(D2=Ak("keyval-store","keyval")),D2}function bC(n,e=zg()){return e("readonly",t=>uu(t.get(n)))}function pne(n,e,t=zg()){return t("readwrite",r=>(r.put(e,n),uu(r.transaction)))}function gne(n,e=zg()){return e("readwrite",t=>(t.delete(n),uu(t.transaction)))}function mne(n=zg()){return n("readwrite",e=>(e.clear(),uu(e.transaction)))}function yne(n,e){return n.openCursor().onsuccess=function(){this.result&&(e(this.result),this.result.continue())},uu(n.transaction)}function bne(n=zg()){return n("readonly",e=>{if(e.getAllKeys)return uu(e.getAllKeys());const t=[];return yne(e,r=>t.push(r.key)).then(()=>t)})}const wne="idb-keyval";var vne=(n={})=>{const e=n.base&&n.base.length>0?`${n.base}:`:"",t=i=>e+i;let r;return n.dbName&&n.storeName&&(r=Ak(n.dbName,n.storeName)),{name:wne,options:n,async hasItem(i){return!(typeof await bC(t(i),r)>"u")},async getItem(i){return await bC(t(i),r)??null},setItem(i,s){return pne(t(i),s,r)},removeItem(i){return gne(t(i),r)},getKeys(){return bne(r)},clear(){return mne(r)}}};const xne="WALLET_CONNECT_V2_INDEXED_DB",Ene="keyvaluestorage";let Ane=class{constructor(){this.indexedDb=dne({driver:vne({dbName:xne,storeName:Ene})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(e=>[e.key,e.value])}async getItem(e){const t=await this.indexedDb.getItem(e);if(t!==null)return t}async setItem(e,t){await this.indexedDb.setItem(e,Qa(t))}async removeItem(e){await this.indexedDb.removeItem(e)}};var R2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ly={exports:{}};(function(){let n;function e(){}n=e,n.prototype.getItem=function(t){return this.hasOwnProperty(t)?String(this[t]):null},n.prototype.setItem=function(t,r){this[t]=String(r)},n.prototype.removeItem=function(t){delete this[t]},n.prototype.clear=function(){const t=this;Object.keys(t).forEach(function(r){t[r]=void 0,delete t[r]})},n.prototype.key=function(t){return t=t||0,Object.keys(this)[t]},n.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof R2<"u"&&R2.localStorage?ly.exports=R2.localStorage:typeof window<"u"&&window.localStorage?ly.exports=window.localStorage:ly.exports=new e})();function Sne(n){var e;return[n[0],tu((e=n[1])!=null?e:"")]}let _ne=class{constructor(){this.localStorage=ly.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(Sne)}async getItem(e){const t=this.localStorage.getItem(e);if(t!==null)return tu(t)}async setItem(e,t){this.localStorage.setItem(e,Qa(t))}async removeItem(e){this.localStorage.removeItem(e)}};const One="wc_storage_version",wC=1,Cne=async(n,e,t)=>{const r=One,i=await e.getItem(r);if(i&&i>=wC){t(e);return}const s=await n.getKeys();if(!s.length){t(e);return}const c=[];for(;s.length;){const l=s.shift();if(!l)continue;const f=l.toLowerCase();if(f.includes("wc@")||f.includes("walletconnect")||f.includes("wc_")||f.includes("wallet_connect")){const h=await n.getItem(l);await e.setItem(l,h),c.push(l)}}await e.setItem(r,wC),t(e),Nne(n,c)},Nne=async(n,e)=>{e.length&&e.forEach(async t=>{await n.removeItem(t)})};let Ine=class{constructor(){this.initialized=!1,this.setInitialized=t=>{this.storage=t,this.initialized=!0};const e=new _ne;this.storage=e;try{const t=new Ane;Cne(e,t,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(e){return await this.initialize(),this.storage.getItem(e)}async setItem(e,t){return await this.initialize(),this.storage.setItem(e,t)}async removeItem(e){return await this.initialize(),this.storage.removeItem(e)}async initialize(){this.initialized||await new Promise(e=>{const t=setInterval(()=>{this.initialized&&(clearInterval(t),e())},20)})}};var Tne=Object.defineProperty,Dne=(n,e,t)=>e in n?Tne(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,vC=(n,e,t)=>Dne(n,typeof e!="symbol"?e+"":e,t);let Rne=class extends cu{constructor(e){super(),this.opts=e,vC(this,"protocol","wc"),vC(this,"version",2)}};var Bne=Object.defineProperty,kne=(n,e,t)=>e in n?Bne(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Pne=(n,e,t)=>kne(n,e+"",t);let Une=class extends cu{constructor(e,t){super(),this.core=e,this.logger=t,Pne(this,"records",new Map)}},Mne=class{constructor(e,t){this.logger=e,this.core=t}},Lne=class extends cu{constructor(e,t){super(),this.relayer=e,this.logger=t}},$ne=class extends cu{constructor(e){super()}},jne=class{constructor(e,t,r,i){this.core=e,this.logger=t,this.name=r}},zne=class extends cu{constructor(e,t){super(),this.relayer=e,this.logger=t}},Hne=class extends cu{constructor(e,t){super(),this.core=e,this.logger=t}},Fne=class{constructor(e,t,r){this.core=e,this.logger=t,this.store=r}},qne=class{constructor(e,t){this.projectId=e,this.logger=t}},Vne=class{constructor(e,t,r){this.core=e,this.logger=t,this.telemetryEnabled=r}};var Gne=Object.defineProperty,Kne=(n,e,t)=>e in n?Gne(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,xC=(n,e,t)=>Kne(n,typeof e!="symbol"?e+"":e,t);let Qne=class{constructor(e){this.opts=e,xC(this,"protocol","wc"),xC(this,"version",2)}},Yne=class{constructor(e){this.client=e}};const Zne="PARSE_ERROR",Wne="INVALID_REQUEST",Jne="METHOD_NOT_FOUND",Xne="INVALID_PARAMS",Sk="INTERNAL_ERROR",lA="SERVER_ERROR",ere=[-32700,-32600,-32601,-32602,-32603],Pp={[Zne]:{code:-32700,message:"Parse error"},[Wne]:{code:-32600,message:"Invalid Request"},[Jne]:{code:-32601,message:"Method not found"},[Xne]:{code:-32602,message:"Invalid params"},[Sk]:{code:-32603,message:"Internal error"},[lA]:{code:-32e3,message:"Server error"}},_k=lA;function tre(n){return ere.includes(n)}function EC(n){return Object.keys(Pp).includes(n)?Pp[n]:Pp[_k]}function nre(n){const e=Object.values(Pp).find(t=>t.code===n);return e||Pp[_k]}function Ok(n,e,t){return n.message.includes("getaddrinfo ENOTFOUND")||n.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${t} RPC url at ${e}`):n}var B2={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var CE=function(n,e){return CE=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)r.hasOwnProperty(i)&&(t[i]=r[i])},CE(n,e)};function rre(n,e){CE(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var NE=function(){return NE=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},NE.apply(this,arguments)};function ire(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function sre(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var l=n.length-1;l>=0;l--)(c=n[l])&&(s=(i<3?c(s):i>3?c(e,t,s):c(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s}function are(n,e){return function(t,r){e(t,r,n)}}function ore(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)}function cre(n,e,t,r){function i(s){return s instanceof t?s:new t(function(c){c(s)})}return new(t||(t=Promise))(function(s,c){function l(p){try{h(r.next(p))}catch(g){c(g)}}function f(p){try{h(r.throw(p))}catch(g){c(g)}}function h(p){p.done?s(p.value):i(p.value).then(l,f)}h((r=r.apply(n,e||[])).next())})}function lre(n,e){var t={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,c;return c={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function l(h){return function(p){return f([h,p])}}function f(h){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,i&&(s=h[0]&2?i.return:h[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,h[1])).done)return s;switch(i=0,s&&(h=[h[0]&2,s.value]),h[0]){case 0:case 1:s=h;break;case 4:return t.label++,{value:h[1],done:!1};case 5:t.label++,i=h[1],h=[0];continue;case 7:h=t.ops.pop(),t.trys.pop();continue;default:if(s=t.trys,!(s=s.length>0&&s[s.length-1])&&(h[0]===6||h[0]===2)){t=0;continue}if(h[0]===3&&(!s||h[1]>s[0]&&h[1]<s[3])){t.label=h[1];break}if(h[0]===6&&t.label<s[1]){t.label=s[1],s=h;break}if(s&&t.label<s[2]){t.label=s[2],t.ops.push(h);break}s[2]&&t.ops.pop(),t.trys.pop();continue}h=e.call(n,t)}catch(p){h=[6,p],i=0}finally{r=s=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}}function ure(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}function fre(n,e){for(var t in n)t!=="default"&&!e.hasOwnProperty(t)&&(e[t]=n[t])}function IE(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ck(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,s=[],c;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(l){c={error:l}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(c)throw c.error}}return s}function hre(){for(var n=[],e=0;e<arguments.length;e++)n=n.concat(Ck(arguments[e]));return n}function dre(){for(var n=0,e=0,t=arguments.length;e<t;e++)n+=arguments[e].length;for(var r=Array(n),i=0,e=0;e<t;e++)for(var s=arguments[e],c=0,l=s.length;c<l;c++,i++)r[i]=s[c];return r}function ag(n){return this instanceof ag?(this.v=n,this):new ag(n)}function pre(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,s=[];return i={},c("next"),c("throw"),c("return"),i[Symbol.asyncIterator]=function(){return this},i;function c(m){r[m]&&(i[m]=function(b){return new Promise(function(w,x){s.push([m,b,w,x])>1||l(m,b)})})}function l(m,b){try{f(r[m](b))}catch(w){g(s[0][3],w)}}function f(m){m.value instanceof ag?Promise.resolve(m.value.v).then(h,p):g(s[0][2],m)}function h(m){l("next",m)}function p(m){l("throw",m)}function g(m,b){m(b),s.shift(),s.length&&l(s[0][0],s[0][1])}}function gre(n){var e,t;return e={},r("next"),r("throw",function(i){throw i}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(i,s){e[i]=n[i]?function(c){return(t=!t)?{value:ag(n[i](c)),done:i==="return"}:s?s(c):c}:s}}function mre(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof IE=="function"?IE(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(s){t[s]=n[s]&&function(c){return new Promise(function(l,f){c=n[s](c),i(l,f,c.done,c.value)})}}function i(s,c,l,f){Promise.resolve(f).then(function(h){s({value:h,done:l})},c)}}function yre(n,e){return Object.defineProperty?Object.defineProperty(n,"raw",{value:e}):n.raw=e,n}function bre(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)Object.hasOwnProperty.call(n,t)&&(e[t]=n[t]);return e.default=n,e}function wre(n){return n&&n.__esModule?n:{default:n}}function vre(n,e){if(!e.has(n))throw new TypeError("attempted to get private field on non-instance");return e.get(n)}function xre(n,e,t){if(!e.has(n))throw new TypeError("attempted to set private field on non-instance");return e.set(n,t),t}const Ere=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return NE},__asyncDelegator:gre,__asyncGenerator:pre,__asyncValues:mre,__await:ag,__awaiter:cre,__classPrivateFieldGet:vre,__classPrivateFieldSet:xre,__createBinding:ure,__decorate:sre,__exportStar:fre,__extends:rre,__generator:lre,__importDefault:wre,__importStar:bre,__makeTemplateObject:yre,__metadata:ore,__param:are,__read:Ck,__rest:ire,__spread:hre,__spreadArrays:dre,__values:IE},Symbol.toStringTag,{value:"Module"})),Are=BI(Ere);var ua={},AC;function Sre(){if(AC)return ua;AC=1,Object.defineProperty(ua,"__esModule",{value:!0}),ua.isBrowserCryptoAvailable=ua.getSubtleCrypto=ua.getBrowerCrypto=void 0;function n(){return(Is==null?void 0:Is.crypto)||(Is==null?void 0:Is.msCrypto)||{}}ua.getBrowerCrypto=n;function e(){const r=n();return r.subtle||r.webkitSubtle}ua.getSubtleCrypto=e;function t(){return!!n()&&!!e()}return ua.isBrowserCryptoAvailable=t,ua}var fa={},SC;function _re(){if(SC)return fa;SC=1,Object.defineProperty(fa,"__esModule",{value:!0}),fa.isBrowser=fa.isNode=fa.isReactNative=void 0;function n(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}fa.isReactNative=n;function e(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}fa.isNode=e;function t(){return!n()&&!e()}return fa.isBrowser=t,fa}var _C;function Ore(){return _C||(_C=1,(function(n){Object.defineProperty(n,"__esModule",{value:!0});const e=Are;e.__exportStar(Sre(),n),e.__exportStar(_re(),n)})(B2)),B2}var Cre=Ore();function ys(n=3){const e=Date.now()*Math.pow(10,n),t=Math.floor(Math.random()*Math.pow(10,n));return e+t}function gc(n=6){return BigInt(ys(n))}function Zi(n,e,t){return{id:t||ys(),jsonrpc:"2.0",method:n,params:e}}function og(n,e){return{id:n,jsonrpc:"2.0",result:e}}function qb(n,e,t){return{id:n,jsonrpc:"2.0",error:Nre(e)}}function Nre(n,e){return typeof n>"u"?EC(Sk):(typeof n=="string"&&(n=Object.assign(Object.assign({},EC(lA)),{message:n})),tre(n.code)&&(n=nre(n.code)),n)}let Ire=class{},Tre=class extends Ire{constructor(){super()}},Dre=class extends Tre{constructor(e){super()}};const Rre="^https?:",Bre="^wss?:";function kre(n){const e=n.match(new RegExp(/^\w+:/,"gi"));if(!(!e||!e.length))return e[0]}function Nk(n,e){const t=kre(n);return typeof t>"u"?!1:new RegExp(e).test(t)}function OC(n){return Nk(n,Rre)}function CC(n){return Nk(n,Bre)}function Pre(n){return new RegExp("wss?://localhost(:d{2,5})?").test(n)}function Ik(n){return typeof n=="object"&&"id"in n&&"jsonrpc"in n&&n.jsonrpc==="2.0"}function uA(n){return Ik(n)&&"method"in n}function Vb(n){return Ik(n)&&(bs(n)||Ci(n))}function bs(n){return"result"in n}function Ci(n){return"error"in n}let fA=class extends Dre{constructor(e){super(e),this.events=new ei.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(e),this.connection.connected&&this.registerEventListeners()}async connect(e=this.connection){await this.open(e)}async disconnect(){await this.close()}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async request(e,t){return this.requestStrict(Zi(e.method,e.params||[],e.id||gc().toString()),t)}async requestStrict(e,t){return new Promise(async(r,i)=>{if(!this.connection.connected)try{await this.open()}catch(s){i(s)}this.events.on(`${e.id}`,s=>{Ci(s)?i(s.error):r(s.result)});try{await this.connection.send(e,t)}catch(s){i(s)}})}setConnection(e=this.connection){return e}onPayload(e){this.events.emit("payload",e),Vb(e)?this.events.emit(`${e.id}`,e):this.events.emit("message",{type:e.method,data:e.params})}onClose(e){e&&e.code===3e3&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${e.code} ${e.reason?`(${e.reason})`:""}`)),this.events.emit("disconnect")}async open(e=this.connection){this.connection===e&&this.connection.connected||(this.connection.connected&&this.close(),typeof e=="string"&&(await this.connection.open(e),e=this.connection),this.connection=this.setConnection(e),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",e=>this.onPayload(e)),this.connection.on("close",e=>this.onClose(e)),this.connection.on("error",e=>this.events.emit("error",e)),this.connection.on("register_error",e=>this.onClose()),this.hasRegisteredEventListeners=!0)}};const Ure=()=>typeof WebSocket<"u"?WebSocket:typeof global<"u"&&typeof global.WebSocket<"u"?global.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:require("ws"),Mre=()=>typeof WebSocket<"u"||typeof global<"u"&&typeof global.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u",NC=n=>n.split("?")[0],IC=10,Lre=Ure();let $re=class{constructor(e){if(this.url=e,this.events=new ei.EventEmitter,this.registering=!1,!CC(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);this.url=e}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async open(e=this.url){await this.register(e)}async close(){return new Promise((e,t)=>{if(typeof this.socket>"u"){t(new Error("Connection already closed"));return}this.socket.onclose=r=>{this.onClose(r),e()},this.socket.close()})}async send(e){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(Qa(e))}catch(t){this.onError(e.id,t)}}register(e=this.url){if(!CC(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);if(this.registering){const t=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=t||this.events.listenerCount("open")>=t)&&this.events.setMaxListeners(t+1),new Promise((r,i)=>{this.events.once("register_error",s=>{this.resetMaxListeners(),i(s)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return i(new Error("WebSocket connection is missing or invalid"));r(this.socket)})})}return this.url=e,this.registering=!0,new Promise((t,r)=>{const i=Cre.isReactNative()?void 0:{rejectUnauthorized:!Pre(e)},s=new Lre(e,[],i);Mre()?s.onerror=c=>{const l=c;r(this.emitError(l.error))}:s.on("error",c=>{r(this.emitError(c))}),s.onopen=()=>{this.onOpen(s),t(s)}})}onOpen(e){e.onmessage=t=>this.onPayload(t),e.onclose=t=>this.onClose(t),this.socket=e,this.registering=!1,this.events.emit("open")}onClose(e){this.socket=void 0,this.registering=!1,this.events.emit("close",e)}onPayload(e){if(typeof e.data>"u")return;const t=typeof e.data=="string"?tu(e.data):e.data;this.events.emit("payload",t)}onError(e,t){const r=this.parseError(t),i=r.message||r.toString(),s=qb(e,i);this.events.emit("payload",s)}parseError(e,t=this.url){return Ok(e,NC(t),"WS")}resetMaxListeners(){this.events.getMaxListeners()>IC&&this.events.setMaxListeners(IC)}emitError(e){const t=this.parseError(new Error((e==null?void 0:e.message)||`WebSocket connection failed for host: ${NC(this.url)}`));return this.events.emit("register_error",t),t}};var jre={};const Tk="wc",Dk=2,TE="core",$s=`${Tk}@2:${TE}:`,zre={logger:"error"},Hre={database:":memory:"},Fre="crypto",TC="client_ed25519_seed",qre=ve.ONE_DAY,Vre="keychain",Gre="0.3",Kre="messages",Qre="0.3",Yre=ve.SIX_HOURS,Zre="publisher",Rk="irn",Wre="error",Bk="wss://relay.walletconnect.org",Jre="relayer",Ft={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},Xre="_subscription",di={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},eie=.1,DE="2.22.4",Ct={link_mode:"link_mode",relay:"relay"},uy={inbound:"inbound",outbound:"outbound"},tie="0.3",nie="WALLETCONNECT_CLIENT_ID",DC="WALLETCONNECT_LINK_MODE_APPS",qr={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},rie="subscription",iie="0.3",sie="pairing",aie="0.3",hp={wc_pairingDelete:{req:{ttl:ve.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:ve.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:ve.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:ve.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:ve.ONE_DAY,prompt:!1,tag:0},res:{ttl:ve.ONE_DAY,prompt:!1,tag:0}}},ul={create:"pairing_create",expire:"pairing_expire",delete:"pairing_delete",ping:"pairing_ping"},Ui={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},oie="history",cie="0.3",lie="expirer",yi={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},uie="0.3",fie="verify-api",hie="https://verify.walletconnect.com",kk="https://verify.walletconnect.org",Up=kk,die=`${Up}/v3`,pie=[hie,kk],gie="echo",mie="https://echo.walletconnect.com",ms={pairing_started:"pairing_started",pairing_uri_validation_success:"pairing_uri_validation_success",pairing_uri_not_expired:"pairing_uri_not_expired",store_new_pairing:"store_new_pairing",subscribing_pairing_topic:"subscribing_pairing_topic",subscribe_pairing_topic_success:"subscribe_pairing_topic_success",existing_pairing:"existing_pairing",pairing_not_expired:"pairing_not_expired",emit_inactive_pairing:"emit_inactive_pairing",emit_session_proposal:"emit_session_proposal",subscribing_to_pairing_topic:"subscribing_to_pairing_topic"},ga={no_wss_connection:"no_wss_connection",no_internet_connection:"no_internet_connection",malformed_pairing_uri:"malformed_pairing_uri",active_pairing_already_exists:"active_pairing_already_exists",subscribe_pairing_topic_failure:"subscribe_pairing_topic_failure",pairing_expired:"pairing_expired",proposal_expired:"proposal_expired",proposal_listener_not_found:"proposal_listener_not_found"},Mi={session_approve_started:"session_approve_started",proposal_not_expired:"proposal_not_expired",session_namespaces_validation_success:"session_namespaces_validation_success",create_session_topic:"create_session_topic",subscribing_session_topic:"subscribing_session_topic",subscribe_session_topic_success:"subscribe_session_topic_success",publishing_session_approve:"publishing_session_approve",session_approve_publish_success:"session_approve_publish_success",store_session:"store_session",publishing_session_settle:"publishing_session_settle",session_settle_publish_success:"session_settle_publish_success",session_request_response_started:"session_request_response_started",session_request_response_validation_success:"session_request_response_validation_success",session_request_response_publish_started:"session_request_response_publish_started"},Wc={no_internet_connection:"no_internet_connection",no_wss_connection:"no_wss_connection",proposal_expired:"proposal_expired",subscribe_session_topic_failure:"subscribe_session_topic_failure",session_approve_publish_failure:"session_approve_publish_failure",session_settle_publish_failure:"session_settle_publish_failure",session_approve_namespace_validation_failure:"session_approve_namespace_validation_failure",proposal_not_found:"proposal_not_found",session_request_response_validation_failure:"session_request_response_validation_failure",session_request_response_publish_failure:"session_request_response_publish_failure"},Jc={authenticated_session_approve_started:"authenticated_session_approve_started",create_authenticated_session_topic:"create_authenticated_session_topic",cacaos_verified:"cacaos_verified",store_authenticated_session:"store_authenticated_session",subscribing_authenticated_session_topic:"subscribing_authenticated_session_topic",subscribe_authenticated_session_topic_success:"subscribe_authenticated_session_topic_success",publishing_authenticated_session_approve:"publishing_authenticated_session_approve"},dp={no_internet_connection:"no_internet_connection",invalid_cacao:"invalid_cacao",subscribe_authenticated_session_topic_failure:"subscribe_authenticated_session_topic_failure",authenticated_session_approve_publish_failure:"authenticated_session_approve_publish_failure",authenticated_session_pending_request_not_found:"authenticated_session_pending_request_not_found"},yie=.1,bie="event-client",wie=86400,vie="https://pulse.walletconnect.org/batch";function xie(n,e){if(n.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),r=0;r<t.length;r++)t[r]=255;for(var i=0;i<n.length;i++){var s=n.charAt(i),c=s.charCodeAt(0);if(t[c]!==255)throw new TypeError(s+" is ambiguous");t[c]=i}var l=n.length,f=n.charAt(0),h=Math.log(l)/Math.log(256),p=Math.log(256)/Math.log(l);function g(w){if(w instanceof Uint8Array||(ArrayBuffer.isView(w)?w=new Uint8Array(w.buffer,w.byteOffset,w.byteLength):Array.isArray(w)&&(w=Uint8Array.from(w))),!(w instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(w.length===0)return"";for(var x=0,S=0,O=0,T=w.length;O!==T&&w[O]===0;)O++,x++;for(var _=(T-O)*p+1>>>0,I=new Uint8Array(_);O!==T;){for(var N=w[O],U=0,z=_-1;(N!==0||U<S)&&z!==-1;z--,U++)N+=256*I[z]>>>0,I[z]=N%l>>>0,N=N/l>>>0;if(N!==0)throw new Error("Non-zero carry");S=U,O++}for(var M=_-S;M!==_&&I[M]===0;)M++;for(var L=f.repeat(x);M<_;++M)L+=n.charAt(I[M]);return L}function m(w){if(typeof w!="string")throw new TypeError("Expected String");if(w.length===0)return new Uint8Array;var x=0;if(w[x]!==" "){for(var S=0,O=0;w[x]===f;)S++,x++;for(var T=(w.length-x)*h+1>>>0,_=new Uint8Array(T);w[x];){var I=t[w.charCodeAt(x)];if(I===255)return;for(var N=0,U=T-1;(I!==0||N<O)&&U!==-1;U--,N++)I+=l*_[U]>>>0,_[U]=I%256>>>0,I=I/256>>>0;if(I!==0)throw new Error("Non-zero carry");O=N,x++}if(w[x]!==" "){for(var z=T-O;z!==T&&_[z]===0;)z++;for(var M=new Uint8Array(S+(T-z)),L=S;z!==T;)M[L++]=_[z++];return M}}}function b(w){var x=m(w);if(x)return x;throw new Error(`Non-${e} character`)}return{encode:g,decodeUnsafe:m,decode:b}}var Eie=xie,Aie=Eie;const Pk=n=>{if(n instanceof Uint8Array&&n.constructor.name==="Uint8Array")return n;if(n instanceof ArrayBuffer)return new Uint8Array(n);if(ArrayBuffer.isView(n))return new Uint8Array(n.buffer,n.byteOffset,n.byteLength);throw new Error("Unknown type, must be binary type")},Sie=n=>new TextEncoder().encode(n),_ie=n=>new TextDecoder().decode(n);class Oie{constructor(e,t,r){this.name=e,this.prefix=t,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class Cie{constructor(e,t,r){if(this.name=e,this.prefix=t,t.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return Uk(this,e)}}class Nie{constructor(e){this.decoders=e}or(e){return Uk(this,e)}decode(e){const t=e[0],r=this.decoders[t];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const Uk=(n,e)=>new Nie({...n.decoders||{[n.prefix]:n},...e.decoders||{[e.prefix]:e}});class Iie{constructor(e,t,r,i){this.name=e,this.prefix=t,this.baseEncode=r,this.baseDecode=i,this.encoder=new Oie(e,t,r),this.decoder=new Cie(e,t,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const Gb=({name:n,prefix:e,encode:t,decode:r})=>new Iie(n,e,t,r),Hg=({prefix:n,name:e,alphabet:t})=>{const{encode:r,decode:i}=Aie(t,e);return Gb({prefix:n,name:e,encode:r,decode:s=>Pk(i(s))})},Tie=(n,e,t,r)=>{const i={};for(let p=0;p<e.length;++p)i[e[p]]=p;let s=n.length;for(;n[s-1]==="=";)--s;const c=new Uint8Array(s*t/8|0);let l=0,f=0,h=0;for(let p=0;p<s;++p){const g=i[n[p]];if(g===void 0)throw new SyntaxError(`Non-${r} character`);f=f<<t|g,l+=t,l>=8&&(l-=8,c[h++]=255&f>>l)}if(l>=t||255&f<<8-l)throw new SyntaxError("Unexpected end of data");return c},Die=(n,e,t)=>{const r=e[e.length-1]==="=",i=(1<<t)-1;let s="",c=0,l=0;for(let f=0;f<n.length;++f)for(l=l<<8|n[f],c+=8;c>t;)c-=t,s+=e[i&l>>c];if(c&&(s+=e[i&l<<t-c]),r)for(;s.length*t&7;)s+="=";return s},Ln=({name:n,prefix:e,bitsPerChar:t,alphabet:r})=>Gb({prefix:e,name:n,encode(i){return Die(i,r,t)},decode(i){return Tie(i,r,t,n)}}),Rie=Gb({prefix:"\0",name:"identity",encode:n=>_ie(n),decode:n=>Sie(n)});var Bie=Object.freeze({__proto__:null,identity:Rie});const kie=Ln({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var Pie=Object.freeze({__proto__:null,base2:kie});const Uie=Ln({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var Mie=Object.freeze({__proto__:null,base8:Uie});const Lie=Hg({prefix:"9",name:"base10",alphabet:"0123456789"});var $ie=Object.freeze({__proto__:null,base10:Lie});const jie=Ln({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),zie=Ln({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var Hie=Object.freeze({__proto__:null,base16:jie,base16upper:zie});const Fie=Ln({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),qie=Ln({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Vie=Ln({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Gie=Ln({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Kie=Ln({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Qie=Ln({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Yie=Ln({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Zie=Ln({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Wie=Ln({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var Jie=Object.freeze({__proto__:null,base32:Fie,base32upper:qie,base32pad:Vie,base32padupper:Gie,base32hex:Kie,base32hexupper:Qie,base32hexpad:Yie,base32hexpadupper:Zie,base32z:Wie});const Xie=Hg({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),ese=Hg({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var tse=Object.freeze({__proto__:null,base36:Xie,base36upper:ese});const nse=Hg({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),rse=Hg({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var ise=Object.freeze({__proto__:null,base58btc:nse,base58flickr:rse});const sse=Ln({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),ase=Ln({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),ose=Ln({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),cse=Ln({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var lse=Object.freeze({__proto__:null,base64:sse,base64pad:ase,base64url:ose,base64urlpad:cse});const Mk=Array.from(""),use=Mk.reduce((n,e,t)=>(n[t]=e,n),[]),fse=Mk.reduce((n,e,t)=>(n[e.codePointAt(0)]=t,n),[]);function hse(n){return n.reduce((e,t)=>(e+=use[t],e),"")}function dse(n){const e=[];for(const t of n){const r=fse[t.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${t}`);e.push(r)}return new Uint8Array(e)}const pse=Gb({prefix:"",name:"base256emoji",encode:hse,decode:dse});var gse=Object.freeze({__proto__:null,base256emoji:pse}),mse=Lk,RC=128,yse=-128,bse=Math.pow(2,31);function Lk(n,e,t){e=e||[],t=t||0;for(var r=t;n>=bse;)e[t++]=n&255|RC,n/=128;for(;n&yse;)e[t++]=n&255|RC,n>>>=7;return e[t]=n|0,Lk.bytes=t-r+1,e}var wse=RE,vse=128,BC=127;function RE(n,r){var t=0,r=r||0,i=0,s=r,c,l=n.length;do{if(s>=l)throw RE.bytes=0,new RangeError("Could not decode varint");c=n[s++],t+=i<28?(c&BC)<<i:(c&BC)*Math.pow(2,i),i+=7}while(c>=vse);return RE.bytes=s-r,t}var xse=Math.pow(2,7),Ese=Math.pow(2,14),Ase=Math.pow(2,21),Sse=Math.pow(2,28),_se=Math.pow(2,35),Ose=Math.pow(2,42),Cse=Math.pow(2,49),Nse=Math.pow(2,56),Ise=Math.pow(2,63),Tse=function(n){return n<xse?1:n<Ese?2:n<Ase?3:n<Sse?4:n<_se?5:n<Ose?6:n<Cse?7:n<Nse?8:n<Ise?9:10},Dse={encode:mse,decode:wse,encodingLength:Tse},$k=Dse;const kC=(n,e,t=0)=>($k.encode(n,e,t),e),PC=n=>$k.encodingLength(n),BE=(n,e)=>{const t=e.byteLength,r=PC(n),i=r+PC(t),s=new Uint8Array(i+t);return kC(n,s,0),kC(t,s,r),s.set(e,i),new Rse(n,t,e,s)};class Rse{constructor(e,t,r,i){this.code=e,this.size=t,this.digest=r,this.bytes=i}}const jk=({name:n,code:e,encode:t})=>new Bse(n,e,t);class Bse{constructor(e,t,r){this.name=e,this.code=t,this.encode=r}digest(e){if(e instanceof Uint8Array){const t=this.encode(e);return t instanceof Uint8Array?BE(this.code,t):t.then(r=>BE(this.code,r))}else throw Error("Unknown type, must be binary type")}}const zk=n=>async e=>new Uint8Array(await crypto.subtle.digest(n,e)),kse=jk({name:"sha2-256",code:18,encode:zk("SHA-256")}),Pse=jk({name:"sha2-512",code:19,encode:zk("SHA-512")});var Use=Object.freeze({__proto__:null,sha256:kse,sha512:Pse});const Hk=0,Mse="identity",Fk=Pk,Lse=n=>BE(Hk,Fk(n)),$se={code:Hk,name:Mse,encode:Fk,digest:Lse};var jse=Object.freeze({__proto__:null,identity:$se});new TextEncoder,new TextDecoder;const UC={...Bie,...Pie,...Mie,...$ie,...Hie,...Jie,...tse,...ise,...lse,...gse};({...Use,...jse});function qk(n){return globalThis.Buffer!=null?new Uint8Array(n.buffer,n.byteOffset,n.byteLength):n}function zse(n=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?qk(globalThis.Buffer.allocUnsafe(n)):new Uint8Array(n)}function Vk(n,e,t,r){return{name:n,prefix:e,encoder:{name:n,prefix:e,encode:t},decoder:{decode:r}}}const MC=Vk("utf8","u",n=>"u"+new TextDecoder("utf8").decode(n),n=>new TextEncoder().encode(n.substring(1))),k2=Vk("ascii","a",n=>{let e="a";for(let t=0;t<n.length;t++)e+=String.fromCharCode(n[t]);return e},n=>{n=n.substring(1);const e=zse(n.length);for(let t=0;t<n.length;t++)e[t]=n.charCodeAt(t);return e}),Hse={utf8:MC,"utf-8":MC,hex:UC.base16,latin1:k2,ascii:k2,binary:k2,...UC};function Fse(n,e="utf8"){const t=Hse[e];if(!t)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?qk(globalThis.Buffer.from(n,"utf-8")):t.decoder.decode(`${t.prefix}${n}`)}var qse=Object.defineProperty,Vse=(n,e,t)=>e in n?qse(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,hs=(n,e,t)=>Vse(n,typeof e!="symbol"?e+"":e,t);class Gse{constructor(e,t){this.core=e,this.logger=t,hs(this,"keychain",new Map),hs(this,"name",Vre),hs(this,"version",Gre),hs(this,"initialized",!1),hs(this,"storagePrefix",$s),hs(this,"init",async()=>{if(!this.initialized){const r=await this.getKeyChain();typeof r<"u"&&(this.keychain=r),this.initialized=!0}}),hs(this,"has",r=>(this.isInitialized(),this.keychain.has(r))),hs(this,"set",async(r,i)=>{this.isInitialized(),this.keychain.set(r,i),await this.persist()}),hs(this,"get",r=>{this.isInitialized();const i=this.keychain.get(r);if(typeof i>"u"){const{message:s}=we("NO_MATCHING_KEY",`${this.name}: ${r}`);throw new Error(s)}return i}),hs(this,"del",async r=>{this.isInitialized(),this.keychain.delete(r),await this.persist()}),this.core=e,this.logger=ti(t,this.name)}get context(){return Br(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(e){await this.core.storage.setItem(this.storageKey,hE(e))}async getKeyChain(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?dE(e):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:e}=we("NOT_INITIALIZED",this.name);throw new Error(e)}}}var Kse=Object.defineProperty,Qse=(n,e,t)=>e in n?Kse(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,mn=(n,e,t)=>Qse(n,typeof e!="symbol"?e+"":e,t);class Yse{constructor(e,t,r){this.core=e,this.logger=t,mn(this,"name",Fre),mn(this,"keychain"),mn(this,"randomSessionIdentifier",SE()),mn(this,"initialized",!1),mn(this,"clientId"),mn(this,"init",async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)}),mn(this,"hasKeys",i=>(this.isInitialized(),this.keychain.has(i))),mn(this,"getClientId",async()=>{if(this.isInitialized(),this.clientId)return this.clientId;const i=await this.getClientSeed(),s=aO(i),c=cB(s.publicKey);return this.clientId=c,c}),mn(this,"generateKeyPair",()=>{this.isInitialized();const i=Dee();return this.setPrivateKey(i.publicKey,i.privateKey)}),mn(this,"signJWT",async i=>{this.isInitialized();const s=await this.getClientSeed(),c=aO(s),l=this.randomSessionIdentifier;return await XY(l,i,qre,c)}),mn(this,"generateSharedKey",(i,s,c)=>{this.isInitialized();const l=this.getPrivateKey(i),f=Ree(l,s);return this.setSymKey(f,c)}),mn(this,"setSymKey",async(i,s)=>{this.isInitialized();const c=s||oy(i);return await this.keychain.set(c,i),c}),mn(this,"deleteKeyPair",async i=>{this.isInitialized(),await this.keychain.del(i)}),mn(this,"deleteSymKey",async i=>{this.isInitialized(),await this.keychain.del(i)}),mn(this,"encode",async(i,s,c)=>{this.isInitialized();const l=wk(c),f=Qa(s);if(tC(l))return Pee(f,c==null?void 0:c.encoding);if(eC(l)){const m=l.senderPublicKey,b=l.receiverPublicKey;i=await this.generateSharedKey(m,b)}const h=this.getSymKey(i),{type:p,senderPublicKey:g}=l;return Bee({type:p,symKey:h,message:f,senderPublicKey:g,encoding:c==null?void 0:c.encoding})}),mn(this,"decode",async(i,s,c)=>{this.isInitialized();const l=Mee(s,c);if(tC(l)){const f=Uee(s,c==null?void 0:c.encoding);return tu(f)}if(eC(l)){const f=l.receiverPublicKey,h=l.senderPublicKey;i=await this.generateSharedKey(f,h)}try{const f=this.getSymKey(i),h=kee({symKey:f,encoded:s,encoding:c==null?void 0:c.encoding});return tu(h)}catch(f){this.logger.error(`Failed to decode message from topic: '${i}', clientId: '${await this.getClientId()}'`),this.logger.error(f)}}),mn(this,"getPayloadType",(i,s=Or)=>{const c=sg({encoded:i,encoding:s});return ru(c.type)}),mn(this,"getPayloadSenderPublicKey",(i,s=Or)=>{const c=sg({encoded:i,encoding:s});return c.senderPublicKey?Dr(c.senderPublicKey,fr):void 0}),this.core=e,this.logger=ti(t,this.name),this.keychain=r||new Gse(this.core,this.logger)}get context(){return Br(this.logger)}async setPrivateKey(e,t){return await this.keychain.set(e,t),e}getPrivateKey(e){return this.keychain.get(e)}async getClientSeed(){let e="";try{e=this.keychain.get(TC)}catch{e=SE(),await this.keychain.set(TC,e)}return Fse(e,"base16")}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){const{message:e}=we("NOT_INITIALIZED",this.name);throw new Error(e)}}}var Zse=Object.defineProperty,Wse=Object.defineProperties,Jse=Object.getOwnPropertyDescriptors,LC=Object.getOwnPropertySymbols,Xse=Object.prototype.hasOwnProperty,eae=Object.prototype.propertyIsEnumerable,kE=(n,e,t)=>e in n?Zse(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,tae=(n,e)=>{for(var t in e||(e={}))Xse.call(e,t)&&kE(n,t,e[t]);if(LC)for(var t of LC(e))eae.call(e,t)&&kE(n,t,e[t]);return n},nae=(n,e)=>Wse(n,Jse(e)),zr=(n,e,t)=>kE(n,typeof e!="symbol"?e+"":e,t);class rae extends Mne{constructor(e,t){super(e,t),this.logger=e,this.core=t,zr(this,"messages",new Map),zr(this,"messagesWithoutClientAck",new Map),zr(this,"name",Kre),zr(this,"version",Qre),zr(this,"initialized",!1),zr(this,"storagePrefix",$s),zr(this,"init",async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const r=await this.getRelayerMessages();typeof r<"u"&&(this.messages=r);const i=await this.getRelayerMessagesWithoutClientAck();typeof i<"u"&&(this.messagesWithoutClientAck=i),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(r){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(r)}finally{this.initialized=!0}}}),zr(this,"set",async(r,i,s)=>{this.isInitialized();const c=Oi(i);let l=this.messages.get(r);if(typeof l>"u"&&(l={}),typeof l[c]<"u")return c;if(l[c]=i,this.messages.set(r,l),s===uy.inbound){const f=this.messagesWithoutClientAck.get(r)||{};this.messagesWithoutClientAck.set(r,nae(tae({},f),{[c]:i}))}return await this.persist(),c}),zr(this,"get",r=>{this.isInitialized();let i=this.messages.get(r);return typeof i>"u"&&(i={}),i}),zr(this,"getWithoutAck",r=>{this.isInitialized();const i={};for(const s of r){const c=this.messagesWithoutClientAck.get(s)||{};i[s]=Object.values(c)}return i}),zr(this,"has",(r,i)=>{this.isInitialized();const s=this.get(r),c=Oi(i);return typeof s[c]<"u"}),zr(this,"ack",async(r,i)=>{this.isInitialized();const s=this.messagesWithoutClientAck.get(r);if(typeof s>"u")return;const c=Oi(i);delete s[c],Object.keys(s).length===0?this.messagesWithoutClientAck.delete(r):this.messagesWithoutClientAck.set(r,s),await this.persist()}),zr(this,"del",async r=>{this.isInitialized(),this.messages.delete(r),this.messagesWithoutClientAck.delete(r),await this.persist()}),this.logger=ti(e,this.name),this.core=t}get context(){return Br(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get storageKeyWithoutClientAck(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name+"_withoutClientAck"}async setRelayerMessages(e){await this.core.storage.setItem(this.storageKey,hE(e))}async setRelayerMessagesWithoutClientAck(e){await this.core.storage.setItem(this.storageKeyWithoutClientAck,hE(e))}async getRelayerMessages(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?dE(e):void 0}async getRelayerMessagesWithoutClientAck(){const e=await this.core.storage.getItem(this.storageKeyWithoutClientAck);return typeof e<"u"?dE(e):void 0}async persist(){await this.setRelayerMessages(this.messages),await this.setRelayerMessagesWithoutClientAck(this.messagesWithoutClientAck)}isInitialized(){if(!this.initialized){const{message:e}=we("NOT_INITIALIZED",this.name);throw new Error(e)}}}var iae=Object.defineProperty,sae=Object.defineProperties,aae=Object.getOwnPropertyDescriptors,$C=Object.getOwnPropertySymbols,oae=Object.prototype.hasOwnProperty,cae=Object.prototype.propertyIsEnumerable,PE=(n,e,t)=>e in n?iae(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,lf=(n,e)=>{for(var t in e||(e={}))oae.call(e,t)&&PE(n,t,e[t]);if($C)for(var t of $C(e))cae.call(e,t)&&PE(n,t,e[t]);return n},jC=(n,e)=>sae(n,aae(e)),pi=(n,e,t)=>PE(n,typeof e!="symbol"?e+"":e,t);class lae extends Lne{constructor(e,t){super(e,t),this.relayer=e,this.logger=t,pi(this,"events",new ei.EventEmitter),pi(this,"name",Zre),pi(this,"queue",new Map),pi(this,"publishTimeout",ve.toMiliseconds(ve.ONE_MINUTE)),pi(this,"initialPublishTimeout",ve.toMiliseconds(ve.ONE_SECOND*15)),pi(this,"needsTransportRestart",!1),pi(this,"publish",async(r,i,s)=>{var c,l,f,h,p;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:r,message:i,opts:s}});const g=(s==null?void 0:s.ttl)||Yre,m=(s==null?void 0:s.prompt)||!1,b=(s==null?void 0:s.tag)||0,w=(s==null?void 0:s.id)||gc().toString(),x=Sf(Yy().protocol),S={id:w,method:(s==null?void 0:s.publishMethod)||x.publish,params:lf({topic:r,message:i,ttl:g,prompt:m,tag:b,attestation:s==null?void 0:s.attestation},s==null?void 0:s.tvf)},O=`Failed to publish payload, please try again. id:${w} tag:${b}`;try{ln((c=S.params)==null?void 0:c.prompt)&&((l=S.params)==null||delete l.prompt),ln((f=S.params)==null?void 0:f.tag)&&((h=S.params)==null||delete h.tag);const T=new Promise(async _=>{const I=({id:U})=>{var z;((z=S.id)==null?void 0:z.toString())===U.toString()&&(this.removeRequestFromQueue(U),this.relayer.events.removeListener(Ft.publish,I),_())};this.relayer.events.on(Ft.publish,I);const N=ks(new Promise((U,z)=>{this.rpcPublish(S,s).then(U).catch(M=>{this.logger.warn(M,M==null?void 0:M.message),z(M)})}),this.initialPublishTimeout,`Failed initial publish, retrying.... id:${w} tag:${b}`);try{await N,this.events.removeListener(Ft.publish,I)}catch(U){this.queue.set(w,{request:S,opts:s,attempt:1}),this.logger.warn(U,U==null?void 0:U.message)}});this.logger.trace({type:"method",method:"publish",params:{id:w,topic:r,message:i,opts:s}}),await ks(T,this.publishTimeout,O)}catch(T){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(T),(p=s==null?void 0:s.internal)!=null&&p.throwOnFailedPublish)throw T}finally{this.queue.delete(w)}}),pi(this,"publishCustom",async r=>{var i,s,c,l,f;this.logger.debug("Publishing custom payload"),this.logger.trace({type:"method",method:"publishCustom",params:r});const{payload:h,opts:p={}}=r,{attestation:g,tvf:m,publishMethod:b,prompt:w,tag:x,ttl:S=ve.FIVE_MINUTES}=p,O=p.id||gc().toString(),T=Sf(Yy().protocol),_=b||T.publish,I={id:O,method:_,params:lf(jC(lf({},h),{ttl:S,prompt:w,tag:x,attestation:g}),m)},N=`Failed to publish custom payload, please try again. id:${O} tag:${x}`;try{ln((i=I.params)==null?void 0:i.prompt)&&((s=I.params)==null||delete s.prompt),ln((c=I.params)==null?void 0:c.tag)&&((l=I.params)==null||delete l.tag);const U=new Promise(async z=>{const M=({id:F})=>{var q;((q=I.id)==null?void 0:q.toString())===F.toString()&&(this.removeRequestFromQueue(F),this.relayer.events.removeListener(Ft.publish,M),z())};this.relayer.events.on(Ft.publish,M);const L=ks(new Promise((F,q)=>{this.rpcPublish(I,p).then(F).catch(Q=>{this.logger.warn(Q,Q==null?void 0:Q.message),q(Q)})}),this.initialPublishTimeout,`Failed initial custom payload publish, retrying.... method:${_} id:${O} tag:${x}`);try{await L,this.events.removeListener(Ft.publish,M)}catch(F){this.queue.set(O,{request:I,opts:p,attempt:1}),this.logger.warn(F,F==null?void 0:F.message)}});this.logger.trace({type:"method",method:"publish",params:{id:O,payload:h,opts:p}}),await ks(U,this.publishTimeout,N)}catch(U){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(U),(f=p==null?void 0:p.internal)!=null&&f.throwOnFailedPublish)throw U}finally{this.queue.delete(O)}}),pi(this,"on",(r,i)=>{this.events.on(r,i)}),pi(this,"once",(r,i)=>{this.events.once(r,i)}),pi(this,"off",(r,i)=>{this.events.off(r,i)}),pi(this,"removeListener",(r,i)=>{this.events.removeListener(r,i)}),this.relayer=e,this.logger=ti(t,this.name),this.registerEventListeners()}get context(){return Br(this.logger)}async rpcPublish(e,t){this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:e});const r=await this.relayer.request(e);return this.relayer.events.emit(Ft.publish,lf(lf({},e),t)),this.logger.debug("Successfully Published Payload"),r}removeRequestFromQueue(e){this.queue.delete(e)}checkQueue(){this.queue.forEach(async(e,t)=>{var r;const i=e.attempt+1;this.queue.set(t,jC(lf({},e),{attempt:i})),this.logger.warn({},`Publisher: queue->publishing: ${e.request.id}, tag: ${(r=e.request.params)==null?void 0:r.tag}, attempt: ${i}`),await this.rpcPublish(e.request,e.opts),this.logger.warn({},`Publisher: queue->published: ${e.request.id}`)})}registerEventListeners(){this.relayer.core.heartbeat.on(lu.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(Ft.connection_stalled);return}this.checkQueue()}),this.relayer.on(Ft.message_ack,e=>{this.removeRequestFromQueue(e.id.toString())})}}var uae=Object.defineProperty,fae=(n,e,t)=>e in n?uae(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,uf=(n,e,t)=>fae(n,typeof e!="symbol"?e+"":e,t);class hae{constructor(){uf(this,"map",new Map),uf(this,"set",(e,t)=>{const r=this.get(e);this.exists(e,t)||this.map.set(e,[...r,t])}),uf(this,"get",e=>this.map.get(e)||[]),uf(this,"exists",(e,t)=>this.get(e).includes(t)),uf(this,"delete",(e,t)=>{if(typeof t>"u"){this.map.delete(e);return}if(!this.map.has(e))return;const r=this.get(e);if(!this.exists(e,t))return;const i=r.filter(s=>s!==t);if(!i.length){this.map.delete(e);return}this.map.set(e,i)}),uf(this,"clear",()=>{this.map.clear()})}get topics(){return Array.from(this.map.keys())}}var dae=Object.defineProperty,pae=Object.defineProperties,gae=Object.getOwnPropertyDescriptors,zC=Object.getOwnPropertySymbols,mae=Object.prototype.hasOwnProperty,yae=Object.prototype.propertyIsEnumerable,UE=(n,e,t)=>e in n?dae(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,pp=(n,e)=>{for(var t in e||(e={}))mae.call(e,t)&&UE(n,t,e[t]);if(zC)for(var t of zC(e))yae.call(e,t)&&UE(n,t,e[t]);return n},P2=(n,e)=>pae(n,gae(e)),Et=(n,e,t)=>UE(n,typeof e!="symbol"?e+"":e,t);class bae extends zne{constructor(e,t){super(e,t),this.relayer=e,this.logger=t,Et(this,"subscriptions",new Map),Et(this,"topicMap",new hae),Et(this,"events",new ei.EventEmitter),Et(this,"name",rie),Et(this,"version",iie),Et(this,"pending",new Map),Et(this,"cached",[]),Et(this,"initialized",!1),Et(this,"storagePrefix",$s),Et(this,"subscribeTimeout",ve.toMiliseconds(ve.ONE_MINUTE)),Et(this,"initialSubscribeTimeout",ve.toMiliseconds(ve.ONE_SECOND*15)),Et(this,"clientId"),Et(this,"batchSubscribeTopicsLimit",500),Et(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),await this.restore()),this.initialized=!0}),Et(this,"subscribe",async(r,i)=>{var s;this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:r,opts:i}});try{const c=Yy(i),l={topic:r,relay:c,transportType:i==null?void 0:i.transportType};(s=i==null?void 0:i.internal)!=null&&s.skipSubscribe||this.pending.set(r,l);const f=await this.rpcSubscribe(r,c,i);return typeof f=="string"&&(this.onSubscribe(f,l),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:r,opts:i}})),f}catch(c){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(c),c}}),Et(this,"unsubscribe",async(r,i)=>{this.isInitialized(),typeof(i==null?void 0:i.id)<"u"?await this.unsubscribeById(r,i.id,i):await this.unsubscribeByTopic(r,i)}),Et(this,"isSubscribed",r=>new Promise(i=>{i(this.topicMap.topics.includes(r))})),Et(this,"isKnownTopic",r=>new Promise(i=>{i(this.topicMap.topics.includes(r)||this.pending.has(r)||this.cached.some(s=>s.topic===r))})),Et(this,"on",(r,i)=>{this.events.on(r,i)}),Et(this,"once",(r,i)=>{this.events.once(r,i)}),Et(this,"off",(r,i)=>{this.events.off(r,i)}),Et(this,"removeListener",(r,i)=>{this.events.removeListener(r,i)}),Et(this,"start",async()=>{await this.onConnect()}),Et(this,"stop",async()=>{await this.onDisconnect()}),Et(this,"restart",async()=>{await this.restore(),await this.onRestart()}),Et(this,"checkPending",async()=>{if(this.pending.size===0&&(!this.initialized||!this.relayer.connected))return;const r=[];this.pending.forEach(i=>{r.push(i)}),await this.batchSubscribe(r)}),Et(this,"registerEventListeners",()=>{this.relayer.core.heartbeat.on(lu.pulse,async()=>{await this.checkPending()}),this.events.on(qr.created,async r=>{const i=qr.created;this.logger.info(`Emitting ${i}`),this.logger.debug({type:"event",event:i,data:r}),await this.persist()}),this.events.on(qr.deleted,async r=>{const i=qr.deleted;this.logger.info(`Emitting ${i}`),this.logger.debug({type:"event",event:i,data:r}),await this.persist()})}),this.relayer=e,this.logger=ti(t,this.name),this.clientId=""}get context(){return Br(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}get hasAnyTopics(){return this.topicMap.topics.length>0||this.pending.size>0||this.cached.length>0||this.subscriptions.size>0}hasSubscription(e,t){let r=!1;try{r=this.getSubscription(e).topic===t}catch{}return r}reset(){this.cached=[],this.initialized=!0}onDisable(){this.values.length>0&&(this.cached=this.values),this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(e,t){const r=this.topicMap.get(e);await Promise.all(r.map(async i=>await this.unsubscribeById(e,i,t)))}async unsubscribeById(e,t,r){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:t,opts:r}});try{const i=Yy(r);await this.restartToComplete({topic:e,id:t,relay:i}),await this.rpcUnsubscribe(e,t,i);const s=Nt("USER_DISCONNECTED",`${this.name}, ${e}`);await this.onUnsubscribe(e,t,s),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:t,opts:r}})}catch(i){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(i),i}}async rpcSubscribe(e,t,r){var i,s;const c=await this.getSubscriptionId(e);if((i=r==null?void 0:r.internal)!=null&&i.skipSubscribe)return c;(!r||(r==null?void 0:r.transportType)===Ct.relay)&&await this.restartToComplete({topic:e,id:e,relay:t});const l={method:Sf(t.protocol).subscribe,params:{topic:e}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:l});const f=(s=r==null?void 0:r.internal)==null?void 0:s.throwOnFailedPublish;try{if((r==null?void 0:r.transportType)===Ct.link_mode)return setTimeout(()=>{(this.relayer.connected||this.relayer.connecting)&&this.relayer.request(l).catch(g=>this.logger.warn(g))},ve.toMiliseconds(ve.ONE_SECOND)),c;const h=new Promise(async g=>{const m=b=>{b.topic===e&&(this.events.removeListener(qr.created,m),g(b.id))};this.events.on(qr.created,m);try{const b=await ks(new Promise((w,x)=>{this.relayer.request(l).catch(S=>{this.logger.warn(S,S==null?void 0:S.message),x(S)}).then(w)}),this.initialSubscribeTimeout,`Subscribing to ${e} failed, please try again`);this.events.removeListener(qr.created,m),g(b)}catch{}}),p=await ks(h,this.subscribeTimeout,`Subscribing to ${e} failed, please try again`);if(!p&&f)throw new Error(`Subscribing to ${e} failed, please try again`);return p?c:null}catch(h){if(this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(Ft.connection_stalled),f)throw h}return null}async rpcBatchSubscribe(e){if(!e.length)return;const t=e[0].relay,r={method:Sf(t.protocol).batchSubscribe,params:{topics:e.map(i=>i.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:r});try{await await ks(new Promise(i=>{this.relayer.request(r).catch(s=>this.logger.warn(s)).then(i)}),this.subscribeTimeout,"rpcBatchSubscribe failed, please try again")}catch{this.relayer.events.emit(Ft.connection_stalled)}}async rpcBatchFetchMessages(e){if(!e.length)return;const t=e[0].relay,r={method:Sf(t.protocol).batchFetchMessages,params:{topics:e.map(s=>s.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:r});let i;try{i=await await ks(new Promise((s,c)=>{this.relayer.request(r).catch(l=>{this.logger.warn(l),c(l)}).then(s)}),this.subscribeTimeout,"rpcBatchFetchMessages failed, please try again")}catch{this.relayer.events.emit(Ft.connection_stalled)}return i}rpcUnsubscribe(e,t,r){const i={method:Sf(r.protocol).unsubscribe,params:{topic:e,id:t}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:i}),this.relayer.request(i)}onSubscribe(e,t){this.setSubscription(e,P2(pp({},t),{id:e})),this.pending.delete(t.topic)}onBatchSubscribe(e){e.length&&e.forEach(t=>{this.setSubscription(t.id,pp({},t)),this.pending.delete(t.topic)})}async onUnsubscribe(e,t,r){this.events.removeAllListeners(t),this.hasSubscription(t,e)&&this.deleteSubscription(t,r),await this.relayer.messages.del(e)}async setRelayerSubscriptions(e){await this.relayer.core.storage.setItem(this.storageKey,e)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(e,t){this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:e,subscription:t}),this.addSubscription(e,t)}addSubscription(e,t){this.subscriptions.set(e,pp({},t)),this.topicMap.set(t.topic,e),this.events.emit(qr.created,t)}getSubscription(e){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:e});const t=this.subscriptions.get(e);if(!t){const{message:r}=we("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(r)}return t}deleteSubscription(e,t){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:e,reason:t});const r=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(r.topic,e),this.events.emit(qr.deleted,P2(pp({},r),{reason:t}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(qr.sync)}async onRestart(){if(this.cached.length){const e=[...this.cached],t=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let r=0;r<t;r++){const i=e.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(i)}}this.events.emit(qr.resubscribed)}async restore(){try{const e=await this.getRelayerSubscriptions();if(typeof e>"u"||!e.length)return;if(this.subscriptions.size&&!e.every(t=>{var r;return t.topic===((r=this.subscriptions.get(t.id))==null?void 0:r.topic)})){const{message:t}=we("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(t),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(t)}this.cached=e,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(e){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(e)}}async batchSubscribe(e){e.length&&(await this.rpcBatchSubscribe(e),this.onBatchSubscribe(await Promise.all(e.map(async t=>P2(pp({},t),{id:await this.getSubscriptionId(t.topic)})))))}async batchFetchMessages(e){if(!e.length)return;this.logger.trace(`Fetching batch messages for ${e.length} subscriptions`);const t=await this.rpcBatchFetchMessages(e);t&&t.messages&&(await XW(ve.toMiliseconds(ve.ONE_SECOND)),await this.relayer.handleBatchMessageEvents(t.messages))}async onConnect(){await this.restart(),this.reset()}onDisconnect(){this.onDisable()}isInitialized(){if(!this.initialized){const{message:e}=we("NOT_INITIALIZED",this.name);throw new Error(e)}}async restartToComplete(e){!this.relayer.connected&&!this.relayer.connecting&&(this.cached.push(e),await this.relayer.transportOpen())}async getClientId(){return this.clientId||(this.clientId=await this.relayer.core.crypto.getClientId()),this.clientId}async getSubscriptionId(e){return Oi(e+await this.getClientId())}}var wae=Object.defineProperty,HC=Object.getOwnPropertySymbols,vae=Object.prototype.hasOwnProperty,xae=Object.prototype.propertyIsEnumerable,ME=(n,e,t)=>e in n?wae(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,FC=(n,e)=>{for(var t in e||(e={}))vae.call(e,t)&&ME(n,t,e[t]);if(HC)for(var t of HC(e))xae.call(e,t)&&ME(n,t,e[t]);return n},st=(n,e,t)=>ME(n,typeof e!="symbol"?e+"":e,t);class Eae extends $ne{constructor(e){var t;super(e),st(this,"protocol","wc"),st(this,"version",2),st(this,"core"),st(this,"logger"),st(this,"events",new ei.EventEmitter),st(this,"provider"),st(this,"messages"),st(this,"subscriber"),st(this,"publisher"),st(this,"name",Jre),st(this,"transportExplicitlyClosed",!1),st(this,"initialized",!1),st(this,"connectionAttemptInProgress",!1),st(this,"relayUrl"),st(this,"projectId"),st(this,"packageName"),st(this,"bundleId"),st(this,"hasExperiencedNetworkDisruption",!1),st(this,"pingTimeout"),st(this,"heartBeatTimeout",ve.toMiliseconds(ve.THIRTY_SECONDS+ve.FIVE_SECONDS)),st(this,"reconnectTimeout"),st(this,"connectPromise"),st(this,"reconnectInProgress",!1),st(this,"requestsInFlight",[]),st(this,"connectTimeout",ve.toMiliseconds(ve.ONE_SECOND*15)),st(this,"request",async r=>{var i,s;this.logger.debug("Publishing Request Payload");const c=r.id||gc().toString();await this.toEstablishConnection();try{this.logger.trace({id:c,method:r.method,topic:(i=r.params)==null?void 0:i.topic},"relayer.request - publishing...");const l=`${c}:${((s=r.params)==null?void 0:s.tag)||""}`;this.requestsInFlight.push(l);const f=await this.provider.request(r);return this.requestsInFlight=this.requestsInFlight.filter(h=>h!==l),f}catch(l){throw this.logger.debug(`Failed to Publish Request: ${c}`),l}}),st(this,"resetPingTimeout",()=>{Fy()&&(clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(()=>{var r,i,s,c;try{this.logger.debug({},"pingTimeout: Connection stalled, terminating..."),(c=(s=(i=(r=this.provider)==null?void 0:r.connection)==null?void 0:i.socket)==null?void 0:s.terminate)==null||c.call(s)}catch(l){this.logger.warn(l,l==null?void 0:l.message)}},this.heartBeatTimeout))}),st(this,"onPayloadHandler",r=>{this.onProviderPayload(r),this.resetPingTimeout()}),st(this,"onConnectHandler",()=>{this.logger.warn({},"Relayer connected "),this.startPingTimeout(),this.events.emit(Ft.connect)}),st(this,"onDisconnectHandler",()=>{this.logger.warn({},"Relayer disconnected "),this.requestsInFlight=[],this.onProviderDisconnect()}),st(this,"onProviderErrorHandler",r=>{this.logger.fatal(`Fatal socket error: ${r.message}`),this.events.emit(Ft.error,r),this.logger.fatal("Fatal socket error received, closing transport"),this.transportClose()}),st(this,"registerProviderListeners",()=>{this.provider.on(di.payload,this.onPayloadHandler),this.provider.on(di.connect,this.onConnectHandler),this.provider.on(di.disconnect,this.onDisconnectHandler),this.provider.on(di.error,this.onProviderErrorHandler)}),this.core=e.core,this.logger=cA({logger:(t=e.logger)!=null?t:Wre,name:this.name}),this.messages=new rae(this.logger,e.core),this.subscriber=new bae(this,this.logger),this.publisher=new lae(this,this.logger),this.projectId=e==null?void 0:e.projectId,this.relayUrl=(e==null?void 0:e.relayUrl)||Bk,MW()?this.packageName=EO():LW()&&(this.bundleId=EO()),this.provider={}}async init(){this.logger.trace("Initialized"),this.registerEventListeners(),await Promise.all([this.messages.init(),this.subscriber.init()]),this.initialized=!0,this.transportOpen().catch(e=>this.logger.warn(e,e==null?void 0:e.message))}get context(){return Br(this.logger)}get connected(){var e,t,r;return((r=(t=(e=this.provider)==null?void 0:e.connection)==null?void 0:t.socket)==null?void 0:r.readyState)===1||!1}get connecting(){var e,t,r;return((r=(t=(e=this.provider)==null?void 0:e.connection)==null?void 0:t.socket)==null?void 0:r.readyState)===0||this.connectPromise!==void 0||!1}async publish(e,t,r){this.isInitialized(),await this.publisher.publish(e,t,r),await this.recordMessageEvent({topic:e,message:t,publishedAt:Date.now(),transportType:Ct.relay},uy.outbound)}async publishCustom(e){this.isInitialized(),await this.publisher.publishCustom(e)}async subscribe(e,t){var r,i,s;this.isInitialized(),(!(t!=null&&t.transportType)||(t==null?void 0:t.transportType)==="relay")&&await this.toEstablishConnection();const c=typeof((r=t==null?void 0:t.internal)==null?void 0:r.throwOnFailedPublish)>"u"?!0:(i=t==null?void 0:t.internal)==null?void 0:i.throwOnFailedPublish;let l=((s=this.subscriber.topicMap.get(e))==null?void 0:s[0])||"",f;const h=p=>{p.topic===e&&(this.subscriber.off(qr.created,h),f())};return await Promise.all([new Promise(p=>{f=p,this.subscriber.on(qr.created,h)}),new Promise(async(p,g)=>{l=await this.subscriber.subscribe(e,FC({internal:{throwOnFailedPublish:c}},t)).catch(m=>{c&&g(m)})||l,p()})]),l}async unsubscribe(e,t){this.isInitialized(),await this.subscriber.unsubscribe(e,t)}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async transportDisconnect(){this.provider.disconnect&&(this.hasExperiencedNetworkDisruption||this.connected)?await ks(this.provider.disconnect(),2e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.onProviderDisconnect()}async transportClose(){this.transportExplicitlyClosed=!0,await this.transportDisconnect()}async transportOpen(e){if(!this.subscriber.hasAnyTopics){this.logger.info("Starting WS connection skipped because the client has no topics to work with.");return}if(this.connectPromise?(this.logger.debug({},"Waiting for existing connection attempt to resolve..."),await this.connectPromise,this.logger.debug({},"Existing connection attempt resolved")):(this.connectPromise=new Promise(async(t,r)=>{await this.connect(e).then(t).catch(r).finally(()=>{this.connectPromise=void 0})}),await this.connectPromise),!this.connected)throw new Error(`Couldn't establish socket connection to the relay server: ${this.relayUrl}`)}async restartTransport(e){this.logger.debug({},"Restarting transport..."),!this.connectionAttemptInProgress&&(this.relayUrl=e||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await pC())throw new Error("No internet connection detected. Please restart your network and try again.")}async handleBatchMessageEvents(e){if((e==null?void 0:e.length)===0){this.logger.trace("Batch message events is empty. Ignoring...");return}const t=e.sort((r,i)=>r.publishedAt-i.publishedAt);this.logger.debug(`Batch of ${t.length} message events sorted`);for(const r of t)try{await this.onMessageEvent(r)}catch(i){this.logger.warn(i,"Error while processing batch message event: "+(i==null?void 0:i.message))}this.logger.trace(`Batch of ${t.length} message events processed`)}async onLinkMessageEvent(e,t){const{topic:r}=e;if(!t.sessionExists){const i=Jt(ve.FIVE_MINUTES),s={topic:r,expiry:i,relay:{protocol:"irn"},active:!1};await this.core.pairing.pairings.set(r,s)}this.events.emit(Ft.message,e),await this.recordMessageEvent(e,uy.inbound)}async connect(e){await this.confirmOnlineStateOrThrow(),e&&e!==this.relayUrl&&(this.relayUrl=e,await this.transportDisconnect()),this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1;let t=1;for(;t<6;){try{if(this.transportExplicitlyClosed)break;this.logger.debug({},`Connecting to ${this.relayUrl}, attempt: ${t}...`),await this.createProvider(),await new Promise(async(r,i)=>{const s=()=>{i(new Error("Connection interrupted while trying to connect"))};this.provider.once(di.disconnect,s),await ks(new Promise((c,l)=>{this.provider.connect().then(c).catch(l)}),this.connectTimeout,`Socket stalled when trying to connect to ${this.relayUrl}`).catch(c=>{i(c)}).finally(()=>{this.provider.off(di.disconnect,s),clearTimeout(this.reconnectTimeout)}),await new Promise(async(c,l)=>{const f=()=>{i(new Error("Connection interrupted while trying to subscribe"))};this.provider.once(di.disconnect,f),await this.subscriber.start().then(c).catch(l).finally(()=>{this.provider.off(di.disconnect,f)})}),this.hasExperiencedNetworkDisruption=!1,r()})}catch(r){await this.subscriber.stop();const i=r;this.logger.warn({},i.message),this.hasExperiencedNetworkDisruption=!0}finally{this.connectionAttemptInProgress=!1}if(this.connected){this.logger.debug({},`Connected to ${this.relayUrl} successfully on attempt: ${t}`);break}await new Promise(r=>setTimeout(r,ve.toMiliseconds(t*1))),t++}}startPingTimeout(){var e,t,r,i,s;if(Fy())try{(t=(e=this.provider)==null?void 0:e.connection)!=null&&t.socket&&((s=(i=(r=this.provider)==null?void 0:r.connection)==null?void 0:i.socket)==null||s.on("ping",()=>{this.resetPingTimeout()})),this.resetPingTimeout()}catch(c){this.logger.warn(c,c==null?void 0:c.message)}}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();const e=await this.core.crypto.signJWT(this.relayUrl);this.provider=new fA(new $re(FW({sdkVersion:DE,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:e,useOnCloseEvent:!0,bundleId:this.bundleId,packageName:this.packageName}))),this.registerProviderListeners()}async recordMessageEvent(e,t){const{topic:r,message:i}=e;await this.messages.set(r,i,t)}async shouldIgnoreMessageEvent(e){const{topic:t,message:r}=e;if(!r||r.length===0)return this.logger.warn(`Ignoring invalid/empty message: ${r}`),!0;if(!await this.subscriber.isKnownTopic(t))return this.logger.warn(`Ignoring message for unknown topic ${t}`),!0;const i=this.messages.has(t,r);return i&&this.logger.warn(`Ignoring duplicate message: ${r}`),i}async onProviderPayload(e){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:e}),uA(e)){if(!e.method.endsWith(Xre))return;const t=e.params,{topic:r,message:i,publishedAt:s,attestation:c}=t.data,l={topic:r,message:i,publishedAt:s,transportType:Ct.relay,attestation:c};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(FC({type:"event",event:t.id},l)),this.events.emit(t.id,l),await this.acknowledgePayload(e),await this.onMessageEvent(l)}else Vb(e)&&this.events.emit(Ft.message_ack,e)}async onMessageEvent(e){await this.shouldIgnoreMessageEvent(e)||(await this.recordMessageEvent(e,uy.inbound),this.events.emit(Ft.message,e))}async acknowledgePayload(e){const t=og(e.id,!0);await this.provider.connection.send(t)}unregisterProviderListeners(){this.provider.off(di.payload,this.onPayloadHandler),this.provider.off(di.connect,this.onConnectHandler),this.provider.off(di.disconnect,this.onDisconnectHandler),this.provider.off(di.error,this.onProviderErrorHandler),clearTimeout(this.pingTimeout)}async registerEventListeners(){let e=await pC();Ute(async t=>{e!==t&&(e=t,t?await this.transportOpen().catch(r=>this.logger.error(r,r==null?void 0:r.message)):(this.hasExperiencedNetworkDisruption=!0,await this.transportDisconnect(),this.transportExplicitlyClosed=!1))}),this.core.heartbeat.on(lu.pulse,async()=>{if(!this.transportExplicitlyClosed&&!this.connected&&$te())try{await this.confirmOnlineStateOrThrow(),await this.transportOpen()}catch(t){this.logger.warn(t,t==null?void 0:t.message)}})}async onProviderDisconnect(){clearTimeout(this.pingTimeout),this.events.emit(Ft.disconnect),this.connectionAttemptInProgress=!1,!this.reconnectInProgress&&(this.reconnectInProgress=!0,await this.subscriber.stop(),this.subscriber.hasAnyTopics&&(this.transportExplicitlyClosed||(this.reconnectTimeout=setTimeout(async()=>{await this.transportOpen().catch(e=>this.logger.error(e,e==null?void 0:e.message)),this.reconnectTimeout=void 0,this.reconnectInProgress=!1},ve.toMiliseconds(eie)))))}isInitialized(){if(!this.initialized){const{message:e}=we("NOT_INITIALIZED",this.name);throw new Error(e)}}async toEstablishConnection(){if(await this.confirmOnlineStateOrThrow(),!this.connected){if(this.connectPromise){await this.connectPromise;return}await this.connect()}}}function Aae(n,e){return n===e||Number.isNaN(n)&&Number.isNaN(e)}function qC(n){return Object.getOwnPropertySymbols(n).filter(e=>Object.prototype.propertyIsEnumerable.call(n,e))}function VC(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}const Sae="[object RegExp]",_ae="[object String]",Oae="[object Number]",Cae="[object Boolean]",GC="[object Arguments]",Nae="[object Symbol]",Iae="[object Date]",Tae="[object Map]",Dae="[object Set]",Rae="[object Array]",Bae="[object Function]",kae="[object ArrayBuffer]",U2="[object Object]",Pae="[object Error]",Uae="[object DataView]",Mae="[object Uint8Array]",Lae="[object Uint8ClampedArray]",$ae="[object Uint16Array]",jae="[object Uint32Array]",zae="[object BigUint64Array]",Hae="[object Int8Array]",Fae="[object Int16Array]",qae="[object Int32Array]",Vae="[object BigInt64Array]",Gae="[object Float32Array]",Kae="[object Float64Array]";function Qae(){}function KC(n){if(!n||typeof n!="object")return!1;const e=Object.getPrototypeOf(n);return e===null||e===Object.prototype||Object.getPrototypeOf(e)===null?Object.prototype.toString.call(n)==="[object Object]":!1}function Yae(n,e,t){return Tp(n,e,void 0,void 0,void 0,void 0,t)}function Tp(n,e,t,r,i,s,c){const l=c(n,e,t,r,i,s);if(l!==void 0)return l;if(typeof n==typeof e)switch(typeof n){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return n===e;case"number":return n===e||Object.is(n,e);case"function":return n===e;case"object":return Mp(n,e,s,c)}return Mp(n,e,s,c)}function Mp(n,e,t,r){if(Object.is(n,e))return!0;let i=VC(n),s=VC(e);if(i===GC&&(i=U2),s===GC&&(s=U2),i!==s)return!1;switch(i){case _ae:return n.toString()===e.toString();case Oae:{const f=n.valueOf(),h=e.valueOf();return Aae(f,h)}case Cae:case Iae:case Nae:return Object.is(n.valueOf(),e.valueOf());case Sae:return n.source===e.source&&n.flags===e.flags;case Bae:return n===e}t=t??new Map;const c=t.get(n),l=t.get(e);if(c!=null&&l!=null)return c===e;t.set(n,e),t.set(e,n);try{switch(i){case Tae:{if(n.size!==e.size)return!1;for(const[f,h]of n.entries())if(!e.has(f)||!Tp(h,e.get(f),f,n,e,t,r))return!1;return!0}case Dae:{if(n.size!==e.size)return!1;const f=Array.from(n.values()),h=Array.from(e.values());for(let p=0;p<f.length;p++){const g=f[p],m=h.findIndex(b=>Tp(g,b,void 0,n,e,t,r));if(m===-1)return!1;h.splice(m,1)}return!0}case Rae:case Mae:case Lae:case $ae:case jae:case zae:case Hae:case Fae:case qae:case Vae:case Gae:case Kae:{if(typeof Buffer<"u"&&Buffer.isBuffer(n)!==Buffer.isBuffer(e)||n.length!==e.length)return!1;for(let f=0;f<n.length;f++)if(!Tp(n[f],e[f],f,n,e,t,r))return!1;return!0}case kae:return n.byteLength!==e.byteLength?!1:Mp(new Uint8Array(n),new Uint8Array(e),t,r);case Uae:return n.byteLength!==e.byteLength||n.byteOffset!==e.byteOffset?!1:Mp(new Uint8Array(n),new Uint8Array(e),t,r);case Pae:return n.name===e.name&&n.message===e.message;case U2:{if(!(Mp(n.constructor,e.constructor,t,r)||KC(n)&&KC(e)))return!1;const f=[...Object.keys(n),...qC(n)],h=[...Object.keys(e),...qC(e)];if(f.length!==h.length)return!1;for(let p=0;p<f.length;p++){const g=f[p],m=n[g];if(!Object.hasOwn(e,g))return!1;const b=e[g];if(!Tp(m,b,g,n,e,t,r))return!1}return!0}default:return!1}}finally{t.delete(n),t.delete(e)}}function Zae(n,e){return Yae(n,e,Qae)}var Wae=Object.defineProperty,QC=Object.getOwnPropertySymbols,Jae=Object.prototype.hasOwnProperty,Xae=Object.prototype.propertyIsEnumerable,LE=(n,e,t)=>e in n?Wae(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,YC=(n,e)=>{for(var t in e||(e={}))Jae.call(e,t)&&LE(n,t,e[t]);if(QC)for(var t of QC(e))Xae.call(e,t)&&LE(n,t,e[t]);return n},br=(n,e,t)=>LE(n,typeof e!="symbol"?e+"":e,t);class fu extends jne{constructor(e,t,r,i=$s,s=void 0){super(e,t,r,i),this.core=e,this.logger=t,this.name=r,br(this,"map",new Map),br(this,"version",tie),br(this,"cached",[]),br(this,"initialized",!1),br(this,"getKey"),br(this,"storagePrefix",$s),br(this,"recentlyDeleted",[]),br(this,"recentlyDeletedLimit",200),br(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(c=>{this.getKey&&c!==null&&!ln(c)?this.map.set(this.getKey(c),c):dte(c)?this.map.set(c.id,c):pte(c)&&this.map.set(c.topic,c)}),this.cached=[],this.initialized=!0)}),br(this,"set",async(c,l)=>{this.isInitialized(),this.map.has(c)?await this.update(c,l):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:c,value:l}),this.map.set(c,l),await this.persist())}),br(this,"get",c=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:c}),this.getData(c))),br(this,"getAll",c=>(this.isInitialized(),c?this.values.filter(l=>Object.keys(c).every(f=>Zae(l[f],c[f]))):this.values)),br(this,"update",async(c,l)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:c,update:l});const f=YC(YC({},this.getData(c)),l);this.map.set(c,f),await this.persist()}),br(this,"delete",async(c,l)=>{this.isInitialized(),this.map.has(c)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:c,reason:l}),this.map.delete(c),this.addToRecentlyDeleted(c),await this.persist())}),this.logger=ti(t,this.name),this.storagePrefix=i,this.getKey=s}get context(){return Br(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(e){this.recentlyDeleted.push(e),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}async setDataStore(e){await this.core.storage.setItem(this.storageKey,e)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(e){const t=this.map.get(e);if(!t){if(this.recentlyDeleted.includes(e)){const{message:i}=we("MISSING_OR_INVALID",`Record was recently deleted - ${this.name}: ${e}`);throw this.logger.error(i),new Error(i)}const{message:r}=we("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(r),new Error(r)}return t}async persist(){await this.setDataStore(this.values)}async restore(){try{const e=await this.getDataStore();if(typeof e>"u"||!e.length)return;if(this.map.size){const{message:t}=we("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(t),new Error(t)}this.cached=e,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(e){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(e)}}isInitialized(){if(!this.initialized){const{message:e}=we("NOT_INITIALIZED",this.name);throw new Error(e)}}}var eoe=Object.defineProperty,toe=(n,e,t)=>e in n?eoe(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,We=(n,e,t)=>toe(n,typeof e!="symbol"?e+"":e,t);class noe{constructor(e,t){this.core=e,this.logger=t,We(this,"name",sie),We(this,"version",aie),We(this,"events",new D3),We(this,"pairings"),We(this,"initialized",!1),We(this,"storagePrefix",$s),We(this,"ignoredPayloadTypes",[Fa]),We(this,"registeredMethods",[]),We(this,"init",async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))}),We(this,"register",({methods:r})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...r])]}),We(this,"create",async r=>{this.isInitialized();const i=SE(),s=await this.core.crypto.setSymKey(i),c=Jt(ve.FIVE_MINUTES),l={protocol:Rk},f={topic:s,expiry:c,relay:l,active:!1,methods:r==null?void 0:r.methods},h=sC({protocol:this.core.protocol,version:this.core.version,topic:s,symKey:i,relay:l,expiryTimestamp:c,methods:r==null?void 0:r.methods});return this.events.emit(ul.create,f),this.core.expirer.set(s,c),await this.pairings.set(s,f),await this.core.relayer.subscribe(s,{transportType:r==null?void 0:r.transportType,internal:r==null?void 0:r.internal}),{topic:s,uri:h}}),We(this,"pair",async r=>{this.isInitialized();const i=this.core.eventClient.createEvent({properties:{topic:r==null?void 0:r.uri,trace:[ms.pairing_started]}});this.isValidPair(r,i);const{topic:s,symKey:c,relay:l,expiryTimestamp:f,methods:h}=iC(r.uri);i.props.properties.topic=s,i.addTrace(ms.pairing_uri_validation_success),i.addTrace(ms.pairing_uri_not_expired);let p;if(this.pairings.keys.includes(s)){if(p=this.pairings.get(s),i.addTrace(ms.existing_pairing),p.active)throw i.setError(ga.active_pairing_already_exists),new Error(`Pairing already exists: ${s}. Please try again with a new connection URI.`);i.addTrace(ms.pairing_not_expired)}const g=f||Jt(ve.FIVE_MINUTES),m={topic:s,relay:l,expiry:g,active:!1,methods:h};this.core.expirer.set(s,g),await this.pairings.set(s,m),i.addTrace(ms.store_new_pairing),r.activatePairing&&await this.activate({topic:s}),this.events.emit(ul.create,m),i.addTrace(ms.emit_inactive_pairing),this.core.crypto.keychain.has(s)||await this.core.crypto.setSymKey(c,s),i.addTrace(ms.subscribing_pairing_topic);try{await this.core.relayer.confirmOnlineStateOrThrow()}catch{i.setError(ga.no_internet_connection)}try{await this.core.relayer.subscribe(s,{relay:l})}catch(b){throw i.setError(ga.subscribe_pairing_topic_failure),b}return i.addTrace(ms.subscribe_pairing_topic_success),m}),We(this,"activate",async({topic:r})=>{this.isInitialized();const i=Jt(ve.FIVE_MINUTES);this.core.expirer.set(r,i),await this.pairings.update(r,{active:!0,expiry:i})}),We(this,"ping",async r=>{this.isInitialized(),await this.isValidPing(r),this.logger.warn("ping() is deprecated and will be removed in the next major release.");const{topic:i}=r;if(this.pairings.keys.includes(i)){const s=await this.sendRequest(i,"wc_pairingPing",{}),{done:c,resolve:l,reject:f}=il();this.events.once(ct("pairing_ping",s),({error:h})=>{h?f(h):l()}),await c()}}),We(this,"updateExpiry",async({topic:r,expiry:i})=>{this.isInitialized(),await this.pairings.update(r,{expiry:i})}),We(this,"updateMetadata",async({topic:r,metadata:i})=>{this.isInitialized(),await this.pairings.update(r,{peerMetadata:i})}),We(this,"getPairings",()=>(this.isInitialized(),this.pairings.values)),We(this,"disconnect",async r=>{this.isInitialized(),await this.isValidDisconnect(r);const{topic:i}=r;this.pairings.keys.includes(i)&&(await this.sendRequest(i,"wc_pairingDelete",Nt("USER_DISCONNECTED")),await this.deletePairing(i))}),We(this,"formatUriFromPairing",r=>{this.isInitialized();const{topic:i,relay:s,expiry:c,methods:l}=r,f=this.core.crypto.keychain.get(i);return sC({protocol:this.core.protocol,version:this.core.version,topic:i,symKey:f,relay:s,expiryTimestamp:c,methods:l})}),We(this,"sendRequest",async(r,i,s)=>{const c=Zi(i,s),l=await this.core.crypto.encode(r,c),f=hp[i].req;return this.core.history.set(r,c),this.core.relayer.publish(r,l,f),c.id}),We(this,"sendResult",async(r,i,s)=>{const c=og(r,s),l=await this.core.crypto.encode(i,c),f=(await this.core.history.get(i,r)).request.method,h=hp[f].res;await this.core.relayer.publish(i,l,h),await this.core.history.resolve(c)}),We(this,"sendError",async(r,i,s)=>{const c=qb(r,s),l=await this.core.crypto.encode(i,c),f=(await this.core.history.get(i,r)).request.method,h=hp[f]?hp[f].res:hp.unregistered_method.res;await this.core.relayer.publish(i,l,h),await this.core.history.resolve(c)}),We(this,"deletePairing",async(r,i)=>{await this.core.relayer.unsubscribe(r),await Promise.all([this.pairings.delete(r,Nt("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(r),i?Promise.resolve():this.core.expirer.del(r)])}),We(this,"cleanup",async()=>{const r=this.pairings.getAll().filter(i=>Ts(i.expiry));await Promise.all(r.map(i=>this.deletePairing(i.topic)))}),We(this,"onRelayEventRequest",async r=>{const{topic:i,payload:s}=r;switch(s.method){case"wc_pairingPing":return await this.onPairingPingRequest(i,s);case"wc_pairingDelete":return await this.onPairingDeleteRequest(i,s);default:return await this.onUnknownRpcMethodRequest(i,s)}}),We(this,"onRelayEventResponse",async r=>{const{topic:i,payload:s}=r,c=(await this.core.history.get(i,s.id)).request.method;switch(c){case"wc_pairingPing":return this.onPairingPingResponse(i,s);default:return this.onUnknownRpcMethodResponse(c)}}),We(this,"onPairingPingRequest",async(r,i)=>{const{id:s}=i;try{this.isValidPing({topic:r}),await this.sendResult(s,r,!0),this.events.emit(ul.ping,{id:s,topic:r})}catch(c){await this.sendError(s,r,c),this.logger.error(c)}}),We(this,"onPairingPingResponse",(r,i)=>{const{id:s}=i;setTimeout(()=>{bs(i)?this.events.emit(ct("pairing_ping",s),{}):Ci(i)&&this.events.emit(ct("pairing_ping",s),{error:i.error})},500)}),We(this,"onPairingDeleteRequest",async(r,i)=>{const{id:s}=i;try{this.isValidDisconnect({topic:r}),await this.deletePairing(r),this.events.emit(ul.delete,{id:s,topic:r})}catch(c){await this.sendError(s,r,c),this.logger.error(c)}}),We(this,"onUnknownRpcMethodRequest",async(r,i)=>{const{id:s,method:c}=i;try{if(this.registeredMethods.includes(c))return;const l=Nt("WC_METHOD_UNSUPPORTED",c);await this.sendError(s,r,l),this.logger.error(l)}catch(l){await this.sendError(s,r,l),this.logger.error(l)}}),We(this,"onUnknownRpcMethodResponse",r=>{this.registeredMethods.includes(r)||this.logger.error(Nt("WC_METHOD_UNSUPPORTED",r))}),We(this,"isValidPair",(r,i)=>{var s;if(!vr(r)){const{message:l}=we("MISSING_OR_INVALID",`pair() params: ${r}`);throw i.setError(ga.malformed_pairing_uri),new Error(l)}if(!hte(r.uri)){const{message:l}=we("MISSING_OR_INVALID",`pair() uri: ${r.uri}`);throw i.setError(ga.malformed_pairing_uri),new Error(l)}const c=iC(r==null?void 0:r.uri);if(!((s=c==null?void 0:c.relay)!=null&&s.protocol)){const{message:l}=we("MISSING_OR_INVALID","pair() uri#relay-protocol");throw i.setError(ga.malformed_pairing_uri),new Error(l)}if(!(c!=null&&c.symKey)){const{message:l}=we("MISSING_OR_INVALID","pair() uri#symKey");throw i.setError(ga.malformed_pairing_uri),new Error(l)}if(c!=null&&c.expiryTimestamp&&ve.toMiliseconds(c==null?void 0:c.expiryTimestamp)<Date.now()){i.setError(ga.pairing_expired);const{message:l}=we("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw new Error(l)}}),We(this,"isValidPing",async r=>{if(!vr(r)){const{message:s}=we("MISSING_OR_INVALID",`ping() params: ${r}`);throw new Error(s)}const{topic:i}=r;await this.isValidPairingTopic(i)}),We(this,"isValidDisconnect",async r=>{if(!vr(r)){const{message:s}=we("MISSING_OR_INVALID",`disconnect() params: ${r}`);throw new Error(s)}const{topic:i}=r;await this.isValidPairingTopic(i)}),We(this,"isValidPairingTopic",async r=>{if(!tn(r,!1)){const{message:i}=we("MISSING_OR_INVALID",`pairing topic should be a string: ${r}`);throw new Error(i)}if(!this.pairings.keys.includes(r)){const{message:i}=we("NO_MATCHING_KEY",`pairing topic doesn't exist: ${r}`);throw new Error(i)}if(Ts(this.pairings.get(r).expiry)){await this.deletePairing(r);const{message:i}=we("EXPIRED",`pairing topic: ${r}`);throw new Error(i)}}),this.core=e,this.logger=ti(t,this.name),this.pairings=new fu(this.core,this.logger,this.name,this.storagePrefix)}get context(){return Br(this.logger)}isInitialized(){if(!this.initialized){const{message:e}=we("NOT_INITIALIZED",this.name);throw new Error(e)}}registerRelayerEvents(){this.core.relayer.on(Ft.message,async e=>{const{topic:t,message:r,transportType:i}=e;if(this.pairings.keys.includes(t)&&i!==Ct.link_mode&&!this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(r)))try{const s=await this.core.crypto.decode(t,r);uA(s)?(this.core.history.set(t,s),await this.onRelayEventRequest({topic:t,payload:s})):Vb(s)&&(await this.core.history.resolve(s),await this.onRelayEventResponse({topic:t,payload:s}),this.core.history.delete(t,s.id)),await this.core.relayer.messages.ack(t,r)}catch(s){this.logger.error(s)}})}registerExpirerEvents(){this.core.expirer.on(yi.expired,async e=>{const{topic:t}=EB(e.target);t&&this.pairings.keys.includes(t)&&(await this.deletePairing(t,!0),this.events.emit(ul.expire,{topic:t}))})}}var roe=Object.defineProperty,ioe=(n,e,t)=>e in n?roe(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,In=(n,e,t)=>ioe(n,typeof e!="symbol"?e+"":e,t);class soe extends Une{constructor(e,t){super(e,t),this.core=e,this.logger=t,In(this,"records",new Map),In(this,"events",new ei.EventEmitter),In(this,"name",oie),In(this,"version",cie),In(this,"cached",[]),In(this,"initialized",!1),In(this,"storagePrefix",$s),In(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(r=>this.records.set(r.id,r)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),In(this,"set",(r,i,s)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:r,request:i,chainId:s}),this.records.has(i.id))return;const c={id:i.id,topic:r,request:{method:i.method,params:i.params||null},chainId:s,expiry:Jt(ve.THIRTY_DAYS)};this.records.set(c.id,c),this.persist(),this.events.emit(Ui.created,c)}),In(this,"resolve",async r=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:r}),!this.records.has(r.id))return;const i=await this.getRecord(r.id);typeof i.response>"u"&&(i.response=Ci(r)?{error:r.error}:{result:r.result},this.records.set(i.id,i),this.persist(),this.events.emit(Ui.updated,i))}),In(this,"get",async(r,i)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:r,id:i}),await this.getRecord(i))),In(this,"delete",(r,i)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:i}),this.values.forEach(s=>{if(s.topic===r){if(typeof i<"u"&&s.id!==i)return;this.records.delete(s.id),this.events.emit(Ui.deleted,s)}}),this.persist()}),In(this,"exists",async(r,i)=>(this.isInitialized(),this.records.has(i)?(await this.getRecord(i)).topic===r:!1)),In(this,"on",(r,i)=>{this.events.on(r,i)}),In(this,"once",(r,i)=>{this.events.once(r,i)}),In(this,"off",(r,i)=>{this.events.off(r,i)}),In(this,"removeListener",(r,i)=>{this.events.removeListener(r,i)}),this.logger=ti(t,this.name)}get context(){return Br(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const e=[];return this.values.forEach(t=>{if(typeof t.response<"u")return;const r={topic:t.topic,request:Zi(t.request.method,t.request.params,t.id),chainId:t.chainId};return e.push(r)}),e}async setJsonRpcRecords(e){await this.core.storage.setItem(this.storageKey,e)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(e){this.isInitialized();const t=this.records.get(e);if(!t){const{message:r}=we("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(r)}return t}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(Ui.sync)}async restore(){try{const e=await this.getJsonRpcRecords();if(typeof e>"u"||!e.length)return;if(this.records.size){const{message:t}=we("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(t),new Error(t)}this.cached=e,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}}registerEventListeners(){this.events.on(Ui.created,e=>{const t=Ui.created;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,record:e})}),this.events.on(Ui.updated,e=>{const t=Ui.updated;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,record:e})}),this.events.on(Ui.deleted,e=>{const t=Ui.deleted;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,record:e})}),this.core.heartbeat.on(lu.pulse,()=>{this.cleanup()})}cleanup(){try{this.isInitialized();let e=!1;this.records.forEach(t=>{ve.toMiliseconds(t.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${t.id}`),this.records.delete(t.id),this.events.emit(Ui.deleted,t,!1),e=!0)}),e&&this.persist()}catch(e){this.logger.warn(e)}}isInitialized(){if(!this.initialized){const{message:e}=we("NOT_INITIALIZED",this.name);throw new Error(e)}}}var aoe=Object.defineProperty,ooe=(n,e,t)=>e in n?aoe(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Gn=(n,e,t)=>ooe(n,typeof e!="symbol"?e+"":e,t);class coe extends Hne{constructor(e,t){super(e,t),this.core=e,this.logger=t,Gn(this,"expirations",new Map),Gn(this,"events",new ei.EventEmitter),Gn(this,"name",lie),Gn(this,"version",uie),Gn(this,"cached",[]),Gn(this,"initialized",!1),Gn(this,"storagePrefix",$s),Gn(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(r=>this.expirations.set(r.target,r)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),Gn(this,"has",r=>{try{const i=this.formatTarget(r);return typeof this.getExpiration(i)<"u"}catch{return!1}}),Gn(this,"set",(r,i)=>{this.isInitialized();const s=this.formatTarget(r),c={target:s,expiry:i};this.expirations.set(s,c),this.checkExpiry(s,c),this.events.emit(yi.created,{target:s,expiration:c})}),Gn(this,"get",r=>{this.isInitialized();const i=this.formatTarget(r);return this.getExpiration(i)}),Gn(this,"del",r=>{if(this.isInitialized(),this.has(r)){const i=this.formatTarget(r),s=this.getExpiration(i);this.expirations.delete(i),this.events.emit(yi.deleted,{target:i,expiration:s})}}),Gn(this,"on",(r,i)=>{this.events.on(r,i)}),Gn(this,"once",(r,i)=>{this.events.once(r,i)}),Gn(this,"off",(r,i)=>{this.events.off(r,i)}),Gn(this,"removeListener",(r,i)=>{this.events.removeListener(r,i)}),this.logger=ti(t,this.name)}get context(){return Br(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if(typeof e=="string")return qW(e);if(typeof e=="number")return VW(e);const{message:t}=we("UNKNOWN_TYPE",`Target type: ${typeof e}`);throw new Error(t)}async setExpirations(e){await this.core.storage.setItem(this.storageKey,e)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(yi.sync)}async restore(){try{const e=await this.getExpirations();if(typeof e>"u"||!e.length)return;if(this.expirations.size){const{message:t}=we("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(t),new Error(t)}this.cached=e,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(e){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(e)}}getExpiration(e){const t=this.expirations.get(e);if(!t){const{message:r}=we("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.warn(r),new Error(r)}return t}checkExpiry(e,t){const{expiry:r}=t;ve.toMiliseconds(r)-Date.now()<=0&&this.expire(e,t)}expire(e,t){this.expirations.delete(e),this.events.emit(yi.expired,{target:e,expiration:t})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((e,t)=>this.checkExpiry(t,e))}registerEventListeners(){this.core.heartbeat.on(lu.pulse,()=>this.checkExpirations()),this.events.on(yi.created,e=>{const t=yi.created;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),this.persist()}),this.events.on(yi.expired,e=>{const t=yi.expired;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),this.persist()}),this.events.on(yi.deleted,e=>{const t=yi.deleted;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),this.persist()})}isInitialized(){if(!this.initialized){const{message:e}=we("NOT_INITIALIZED",this.name);throw new Error(e)}}}var loe=Object.defineProperty,uoe=(n,e,t)=>e in n?loe(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Wt=(n,e,t)=>uoe(n,typeof e!="symbol"?e+"":e,t);class foe extends Fne{constructor(e,t,r){super(e,t,r),this.core=e,this.logger=t,this.store=r,Wt(this,"name",fie),Wt(this,"abortController"),Wt(this,"isDevEnv"),Wt(this,"verifyUrlV3",die),Wt(this,"storagePrefix",$s),Wt(this,"version",Dk),Wt(this,"publicKey"),Wt(this,"fetchPromise"),Wt(this,"init",async()=>{var i;this.isDevEnv||(this.publicKey=await this.store.getItem(this.storeKey),this.publicKey&&ve.toMiliseconds((i=this.publicKey)==null?void 0:i.expiresAt)<Date.now()&&(this.logger.debug("verify v2 public key expired"),await this.removePublicKey()))}),Wt(this,"register",async i=>{if(!qh()||this.isDevEnv)return;const s=window.location.origin,{id:c,decryptedId:l}=i,f=`${this.verifyUrlV3}/attestation?projectId=${this.core.projectId}&origin=${s}&id=${c}&decryptedId=${l}`;try{const h=Ka.getDocument(),p=this.startAbortTimer(ve.ONE_SECOND*5),g=await new Promise((m,b)=>{const w=()=>{window.removeEventListener("message",S),h.body.removeChild(x),b("attestation aborted")};this.abortController.signal.addEventListener("abort",w);const x=h.createElement("iframe");x.src=f,x.style.display="none",x.addEventListener("error",w,{signal:this.abortController.signal});const S=O=>{if(O.data&&typeof O.data=="string")try{const T=JSON.parse(O.data);if(T.type==="verify_attestation"){if(uE(T.attestation).payload.id!==c)return;clearInterval(p),h.body.removeChild(x),this.abortController.signal.removeEventListener("abort",w),window.removeEventListener("message",S),m(T.attestation===null?"":T.attestation)}}catch(T){this.logger.warn(T)}};h.body.appendChild(x),window.addEventListener("message",S,{signal:this.abortController.signal})});return this.logger.debug(g,"jwt attestation"),g}catch(h){this.logger.warn(h)}return""}),Wt(this,"resolve",async i=>{if(this.isDevEnv)return"";const{attestationId:s,hash:c,encryptedId:l}=i;if(s===""){this.logger.debug("resolve: attestationId is empty, skipping");return}if(s){if(uE(s).payload.id!==l)return;const h=await this.isValidJwtAttestation(s);if(h){if(!h.isVerified){this.logger.warn("resolve: jwt attestation: origin url not verified");return}return h}}if(!c)return;const f=this.getVerifyUrl(i==null?void 0:i.verifyUrl);return this.fetchAttestation(c,f)}),Wt(this,"fetchAttestation",async(i,s)=>{this.logger.debug(`resolving attestation: ${i} from url: ${s}`);const c=this.startAbortTimer(ve.ONE_SECOND*5),l=await fetch(`${s}/attestation/${i}?v2Supported=true`,{signal:this.abortController.signal});return clearTimeout(c),l.status===200?await l.json():void 0}),Wt(this,"getVerifyUrl",i=>{let s=i||Up;return pie.includes(s)||(this.logger.info(`verify url: ${s}, not included in trusted list, assigning default: ${Up}`),s=Up),s}),Wt(this,"fetchPublicKey",async()=>{try{this.logger.debug(`fetching public key from: ${this.verifyUrlV3}`);const i=this.startAbortTimer(ve.FIVE_SECONDS),s=await fetch(`${this.verifyUrlV3}/public-key`,{signal:this.abortController.signal});return clearTimeout(i),await s.json()}catch(i){this.logger.warn(i)}}),Wt(this,"persistPublicKey",async i=>{this.logger.debug(i,"persisting public key to local storage"),await this.store.setItem(this.storeKey,i),this.publicKey=i}),Wt(this,"removePublicKey",async()=>{this.logger.debug("removing verify v2 public key from storage"),await this.store.removeItem(this.storeKey),this.publicKey=void 0}),Wt(this,"isValidJwtAttestation",async i=>{const s=await this.getPublicKey();try{if(s)return this.validateAttestation(i,s)}catch(l){this.logger.error(l),this.logger.warn("error validating attestation")}const c=await this.fetchAndPersistPublicKey();try{if(c)return this.validateAttestation(i,c)}catch(l){this.logger.error(l),this.logger.warn("error validating attestation")}}),Wt(this,"getPublicKey",async()=>this.publicKey?this.publicKey:await this.fetchAndPersistPublicKey()),Wt(this,"fetchAndPersistPublicKey",async()=>{if(this.fetchPromise)return await this.fetchPromise,this.publicKey;this.fetchPromise=new Promise(async s=>{const c=await this.fetchPublicKey();c&&(await this.persistPublicKey(c),s(c))});const i=await this.fetchPromise;return this.fetchPromise=void 0,i}),Wt(this,"validateAttestation",(i,s)=>{const c=$ee(i,s.publicKey),l={hasExpired:ve.toMiliseconds(c.exp)<Date.now(),payload:c};if(l.hasExpired)throw this.logger.warn("resolve: jwt attestation expired"),new Error("JWT attestation expired");return{origin:l.payload.origin,isScam:l.payload.isScam,isVerified:l.payload.isVerified}}),this.logger=ti(t,this.name),this.abortController=new AbortController,this.isDevEnv=Z3(),this.init()}get storeKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//verify:public:key"}get context(){return Br(this.logger)}startAbortTimer(e){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),ve.toMiliseconds(e))}}var hoe=Object.defineProperty,doe=(n,e,t)=>e in n?hoe(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,ZC=(n,e,t)=>doe(n,typeof e!="symbol"?e+"":e,t);class poe extends qne{constructor(e,t){super(e,t),this.projectId=e,this.logger=t,ZC(this,"context",gie),ZC(this,"registerDeviceToken",async r=>{const{clientId:i,token:s,notificationType:c,enableEncrypted:l=!1}=r,f=`${mie}/${this.projectId}/clients`;await fetch(f,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:i,type:c,token:s,always_raw:l})})}),this.logger=ti(t,this.context)}}var goe=Object.defineProperty,WC=Object.getOwnPropertySymbols,moe=Object.prototype.hasOwnProperty,yoe=Object.prototype.propertyIsEnumerable,$E=(n,e,t)=>e in n?goe(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,gp=(n,e)=>{for(var t in e||(e={}))moe.call(e,t)&&$E(n,t,e[t]);if(WC)for(var t of WC(e))yoe.call(e,t)&&$E(n,t,e[t]);return n},yn=(n,e,t)=>$E(n,typeof e!="symbol"?e+"":e,t);class boe extends Vne{constructor(e,t,r=!0){super(e,t,r),this.core=e,this.logger=t,yn(this,"context",bie),yn(this,"storagePrefix",$s),yn(this,"storageVersion",yie),yn(this,"events",new Map),yn(this,"shouldPersist",!1),yn(this,"init",async()=>{if(!Z3())try{const i={eventId:SO(),timestamp:Date.now(),domain:this.getAppDomain(),props:{event:"INIT",type:"",properties:{client_id:await this.core.crypto.getClientId(),user_agent:vB(this.core.relayer.protocol,this.core.relayer.version,DE)}}};await this.sendEvent([i])}catch(i){this.logger.warn(i)}}),yn(this,"createEvent",i=>{const{event:s="ERROR",type:c="",properties:{topic:l,trace:f}}=i,h=SO(),p=this.core.projectId||"",g=Date.now(),m=gp({eventId:h,timestamp:g,props:{event:s,type:c,properties:{topic:l,trace:f}},bundleId:p,domain:this.getAppDomain()},this.setMethods(h));return this.telemetryEnabled&&(this.events.set(h,m),this.shouldPersist=!0),m}),yn(this,"getEvent",i=>{const{eventId:s,topic:c}=i;if(s)return this.events.get(s);const l=Array.from(this.events.values()).find(f=>f.props.properties.topic===c);if(l)return gp(gp({},l),this.setMethods(l.eventId))}),yn(this,"deleteEvent",i=>{const{eventId:s}=i;this.events.delete(s),this.shouldPersist=!0}),yn(this,"setEventListeners",()=>{this.core.heartbeat.on(lu.pulse,async()=>{this.shouldPersist&&await this.persist(),this.events.forEach(i=>{ve.fromMiliseconds(Date.now())-ve.fromMiliseconds(i.timestamp)>wie&&(this.events.delete(i.eventId),this.shouldPersist=!0)})})}),yn(this,"setMethods",i=>({addTrace:s=>this.addTrace(i,s),setError:s=>this.setError(i,s)})),yn(this,"addTrace",(i,s)=>{const c=this.events.get(i);c&&(c.props.properties.trace.push(s),this.events.set(i,c),this.shouldPersist=!0)}),yn(this,"setError",(i,s)=>{const c=this.events.get(i);c&&(c.props.type=s,c.timestamp=Date.now(),this.events.set(i,c),this.shouldPersist=!0)}),yn(this,"persist",async()=>{await this.core.storage.setItem(this.storageKey,Array.from(this.events.values())),this.shouldPersist=!1}),yn(this,"restore",async()=>{try{const i=await this.core.storage.getItem(this.storageKey)||[];if(!i.length)return;i.forEach(s=>{this.events.set(s.eventId,gp(gp({},s),this.setMethods(s.eventId)))})}catch(i){this.logger.warn(i)}}),yn(this,"submit",async()=>{if(!this.telemetryEnabled||this.events.size===0)return;const i=[];for(const[s,c]of this.events)c.props.type&&i.push(c);if(i.length!==0)try{if((await this.sendEvent(i)).ok)for(const s of i)this.events.delete(s.eventId),this.shouldPersist=!0}catch(s){this.logger.warn(s)}}),yn(this,"sendEvent",async i=>{const s=this.getAppDomain()?"":"&sp=desktop";return await fetch(`${vie}?projectId=${this.core.projectId}&st=events_sdk&sv=js-${DE}${s}`,{method:"POST",body:JSON.stringify(i)})}),yn(this,"getAppDomain",()=>wB().url),this.logger=ti(t,this.context),this.telemetryEnabled=r,r?this.restore().then(async()=>{await this.submit(),this.setEventListeners()}):this.persist()}get storageKey(){return this.storagePrefix+this.storageVersion+this.core.customStoragePrefix+"//"+this.context}}var woe=Object.defineProperty,JC=Object.getOwnPropertySymbols,voe=Object.prototype.hasOwnProperty,xoe=Object.prototype.propertyIsEnumerable,jE=(n,e,t)=>e in n?woe(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,XC=(n,e)=>{for(var t in e||(e={}))voe.call(e,t)&&jE(n,t,e[t]);if(JC)for(var t of JC(e))xoe.call(e,t)&&jE(n,t,e[t]);return n},St=(n,e,t)=>jE(n,typeof e!="symbol"?e+"":e,t);let Eoe=class Gk extends Rne{constructor(e){var t;super(e),St(this,"protocol",Tk),St(this,"version",Dk),St(this,"name",TE),St(this,"relayUrl"),St(this,"projectId"),St(this,"customStoragePrefix"),St(this,"events",new ei.EventEmitter),St(this,"logger"),St(this,"heartbeat"),St(this,"relayer"),St(this,"crypto"),St(this,"storage"),St(this,"history"),St(this,"expirer"),St(this,"pairing"),St(this,"verify"),St(this,"echoClient"),St(this,"linkModeSupportedApps"),St(this,"eventClient"),St(this,"initialized",!1),St(this,"logChunkController"),St(this,"on",(l,f)=>this.events.on(l,f)),St(this,"once",(l,f)=>this.events.once(l,f)),St(this,"off",(l,f)=>this.events.off(l,f)),St(this,"removeListener",(l,f)=>this.events.removeListener(l,f)),St(this,"dispatchEnvelope",({topic:l,message:f,sessionExists:h})=>{if(!l||!f)return;const p={topic:l,message:f,publishedAt:Date.now(),transportType:Ct.link_mode};this.relayer.onLinkMessageEvent(p,{sessionExists:h})});const r=this.getGlobalCore(e==null?void 0:e.customStoragePrefix);if(r)try{return this.customStoragePrefix=r.customStoragePrefix,this.logger=r.logger,this.heartbeat=r.heartbeat,this.crypto=r.crypto,this.history=r.history,this.expirer=r.expirer,this.storage=r.storage,this.relayer=r.relayer,this.pairing=r.pairing,this.verify=r.verify,this.echoClient=r.echoClient,this.linkModeSupportedApps=r.linkModeSupportedApps,this.eventClient=r.eventClient,this.initialized=r.initialized,this.logChunkController=r.logChunkController,r}catch(l){console.warn("Failed to copy global core",l)}this.projectId=e==null?void 0:e.projectId,this.relayUrl=(e==null?void 0:e.relayUrl)||Bk,this.customStoragePrefix=e!=null&&e.customStoragePrefix?`:${e.customStoragePrefix}`:"";const i=EW({level:typeof(e==null?void 0:e.logger)=="string"&&e.logger?e.logger:zre.logger,name:TE}),{logger:s,chunkLoggerController:c}=yB({opts:i,maxSizeInBytes:e==null?void 0:e.maxLogBlobSizeInBytes,loggerOverride:e==null?void 0:e.logger});this.logChunkController=c,(t=this.logChunkController)!=null&&t.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var l,f;(l=this.logChunkController)!=null&&l.downloadLogsBlobInBrowser&&((f=this.logChunkController)==null||f.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}))}),this.logger=ti(s,this.name),this.heartbeat=new Yte,this.crypto=new Yse(this,this.logger,e==null?void 0:e.keychain),this.history=new soe(this,this.logger),this.expirer=new coe(this,this.logger),this.storage=e!=null&&e.storage?e.storage:new Ine(XC(XC({},Hre),e==null?void 0:e.storageOptions)),this.relayer=new Eae({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new noe(this,this.logger),this.verify=new foe(this,this.logger,this.storage),this.echoClient=new poe(this.projectId||"",this.logger),this.linkModeSupportedApps=[],this.eventClient=new boe(this,this.logger,e==null?void 0:e.telemetryEnabled),this.setGlobalCore(this)}static async init(e){const t=new Gk(e);await t.initialize();const r=await t.crypto.getClientId();return await t.storage.setItem(nie,r),t}get context(){return Br(this.logger)}async start(){this.initialized||await this.initialize()}async getLogsBlob(){var e;return(e=this.logChunkController)==null?void 0:e.logsToBlob({clientId:await this.crypto.getClientId()})}async addLinkModeSupportedApp(e){this.linkModeSupportedApps.includes(e)||(this.linkModeSupportedApps.push(e),await this.storage.setItem(DC,this.linkModeSupportedApps))}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.linkModeSupportedApps=await this.storage.getItem(DC)||[],this.initialized=!0,this.logger.info("Core Initialization Success")}catch(e){throw this.logger.warn(e,`Core Initialization Failure at epoch ${Date.now()}`),this.logger.error(e.message),e}}getGlobalCore(e=""){try{if(this.isGlobalCoreDisabled())return;const t=`_walletConnectCore_${e}`,r=`${t}_count`;return globalThis[r]=(globalThis[r]||0)+1,globalThis[r]>1&&console.warn(`WalletConnect Core is already initialized. This is probably a mistake and can lead to unexpected behavior. Init() was called ${globalThis[r]} times.`),globalThis[t]}catch(t){console.warn("Failed to get global WalletConnect core",t);return}}setGlobalCore(e){var t;try{if(this.isGlobalCoreDisabled())return;const r=`_walletConnectCore_${((t=e.opts)==null?void 0:t.customStoragePrefix)||""}`;globalThis[r]=e}catch(r){console.warn("Failed to set global WalletConnect core",r)}}isGlobalCoreDisabled(){try{return typeof process<"u"&&jre.DISABLE_GLOBAL_CORE==="true"}catch{return!0}}};const Aoe=Eoe,Kk="wc",Qk=2,Yk="client",hA=`${Kk}@${Qk}:${Yk}:`,M2={name:Yk,logger:"error"},eN="WALLETCONNECT_DEEPLINK_CHOICE",Soe="proposal",tN="Proposal expired",_oe="session",ff=ve.SEVEN_DAYS,Ooe="engine",Tn={wc_sessionPropose:{req:{ttl:ve.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:ve.FIVE_MINUTES,prompt:!1,tag:1101},reject:{ttl:ve.FIVE_MINUTES,prompt:!1,tag:1120},autoReject:{ttl:ve.FIVE_MINUTES,prompt:!1,tag:1121}},wc_sessionSettle:{req:{ttl:ve.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:ve.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:ve.ONE_DAY,prompt:!1,tag:1104},res:{ttl:ve.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:ve.ONE_DAY,prompt:!1,tag:1106},res:{ttl:ve.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:ve.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:ve.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:ve.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:ve.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:ve.ONE_DAY,prompt:!1,tag:1112},res:{ttl:ve.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:ve.ONE_DAY,prompt:!1,tag:1114},res:{ttl:ve.ONE_DAY,prompt:!1,tag:1115}},wc_sessionAuthenticate:{req:{ttl:ve.ONE_HOUR,prompt:!0,tag:1116},res:{ttl:ve.ONE_HOUR,prompt:!1,tag:1117},reject:{ttl:ve.FIVE_MINUTES,prompt:!1,tag:1118},autoReject:{ttl:ve.FIVE_MINUTES,prompt:!1,tag:1119}}},L2={min:ve.FIVE_MINUTES,max:ve.SEVEN_DAYS},ds={idle:"IDLE",active:"ACTIVE"},Coe={eth_sendTransaction:{key:""},eth_sendRawTransaction:{key:""},wallet_sendCalls:{key:""},solana_signTransaction:{key:"signature"},solana_signAllTransactions:{key:"transactions"},solana_signAndSendTransaction:{key:"signature"},sui_signAndExecuteTransaction:{key:"digest"},sui_signTransaction:{key:""},hedera_signAndExecuteTransaction:{key:"transactionId"},hedera_executeTransaction:{key:"transactionId"},near_signTransaction:{key:""},near_signTransactions:{key:""},tron_signTransaction:{key:"txID"},xrpl_signTransaction:{key:""},xrpl_signTransactionFor:{key:""},algo_signTxn:{key:""},sendTransfer:{key:"txid"},stacks_stxTransfer:{key:"txId"},polkadot_signTransaction:{key:""},cosmos_signDirect:{key:""}},Noe="request",Ioe=["wc_sessionPropose","wc_sessionRequest","wc_authRequest","wc_sessionAuthenticate"],Toe="wc",Doe="auth",Roe="authKeys",Boe="pairingTopics",koe="requests",Kb=`${Toe}@${1.5}:${Doe}:`,fy=`${Kb}:PUB_KEY`;var Poe=Object.defineProperty,Uoe=Object.defineProperties,Moe=Object.getOwnPropertyDescriptors,nN=Object.getOwnPropertySymbols,Loe=Object.prototype.hasOwnProperty,$oe=Object.prototype.propertyIsEnumerable,zE=(n,e,t)=>e in n?Poe(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,dt=(n,e)=>{for(var t in e||(e={}))Loe.call(e,t)&&zE(n,t,e[t]);if(nN)for(var t of nN(e))$oe.call(e,t)&&zE(n,t,e[t]);return n},Kn=(n,e)=>Uoe(n,Moe(e)),me=(n,e,t)=>zE(n,typeof e!="symbol"?e+"":e,t);class joe extends Yne{constructor(e){super(e),me(this,"name",Ooe),me(this,"events",new D3),me(this,"initialized",!1),me(this,"requestQueue",{state:ds.idle,queue:[]}),me(this,"sessionRequestQueue",{state:ds.idle,queue:[]}),me(this,"emittedSessionRequests",new eJ({limit:500})),me(this,"requestQueueDelay",ve.ONE_SECOND),me(this,"expectedPairingMethodMap",new Map),me(this,"recentlyDeletedMap",new Map),me(this,"recentlyDeletedLimit",200),me(this,"relayMessageCache",[]),me(this,"pendingSessions",new Map),me(this,"init",async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),await this.registerLinkModeListeners(),this.client.core.pairing.register({methods:Object.keys(Tn)}),this.initialized=!0,setTimeout(async()=>{await this.processPendingMessageEvents(),this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},ve.toMiliseconds(this.requestQueueDelay)))}),me(this,"connect",async t=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();const r=Kn(dt({},t),{requiredNamespaces:t.requiredNamespaces||{},optionalNamespaces:t.optionalNamespaces||{}});await this.isValidConnect(r),r.optionalNamespaces=ote(r.requiredNamespaces,r.optionalNamespaces),r.requiredNamespaces={};const{pairingTopic:i,requiredNamespaces:s,optionalNamespaces:c,sessionProperties:l,scopedProperties:f,relays:h}=r;let p=i,g,m=!1;try{if(p){const U=this.client.core.pairing.pairings.get(p);this.client.logger.warn("connect() with existing pairing topic is deprecated and will be removed in the next major release."),m=U.active}}catch(U){throw this.client.logger.error(`connect() -> pairing.get(${p}) failed`),U}if(!p||!m){const{topic:U,uri:z}=await this.client.core.pairing.create({internal:{skipSubscribe:!0}});p=U,g=z}if(!p){const{message:U}=we("NO_MATCHING_KEY",`connect() pairing topic: ${p}`);throw new Error(U)}const b=await this.client.core.crypto.generateKeyPair(),w=Tn.wc_sessionPropose.req.ttl||ve.FIVE_MINUTES,x=Jt(w),S=Kn(dt(dt({requiredNamespaces:s,optionalNamespaces:c,relays:h??[{protocol:Rk}],proposer:{publicKey:b,metadata:this.client.metadata},expiryTimestamp:x,pairingTopic:p},l&&{sessionProperties:l}),f&&{scopedProperties:f}),{id:ys()}),O=ct("session_connect",S.id),{reject:T,resolve:_,done:I}=il(w,tN),N=({id:U})=>{U===S.id&&(this.client.events.off("proposal_expire",N),this.pendingSessions.delete(S.id),this.events.emit(O,{error:{message:tN,code:0}}))};return this.client.events.on("proposal_expire",N),this.events.once(O,({error:U,session:z})=>{this.client.events.off("proposal_expire",N),U?T(U):z&&_(z)}),await this.sendProposeSession({proposal:S,publishOpts:{internal:{throwOnFailedPublish:!0},tvf:{correlationId:S.id}}}),await this.setProposal(S.id,S),{uri:g,approval:I}}),me(this,"pair",async t=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{return await this.client.core.pairing.pair(t)}catch(r){throw this.client.logger.error("pair() failed"),r}}),me(this,"approve",async t=>{var r,i,s;const c=this.client.core.eventClient.createEvent({properties:{topic:(r=t==null?void 0:t.id)==null?void 0:r.toString(),trace:[Mi.session_approve_started]}});try{this.isInitialized(),await this.confirmOnlineStateOrThrow()}catch(L){throw c.setError(Wc.no_internet_connection),L}try{await this.isValidProposalId(t==null?void 0:t.id)}catch(L){throw this.client.logger.error(`approve() -> proposal.get(${t==null?void 0:t.id}) failed`),c.setError(Wc.proposal_not_found),L}try{await this.isValidApprove(t)}catch(L){throw this.client.logger.error("approve() -> isValidApprove() failed"),c.setError(Wc.session_approve_namespace_validation_failure),L}const{id:l,relayProtocol:f,namespaces:h,sessionProperties:p,scopedProperties:g,sessionConfig:m}=t,b=this.client.proposal.get(l);this.client.core.eventClient.deleteEvent({eventId:c.eventId});const{pairingTopic:w,proposer:x,requiredNamespaces:S,optionalNamespaces:O}=b;let T=(i=this.client.core.eventClient)==null?void 0:i.getEvent({topic:w});T||(T=(s=this.client.core.eventClient)==null?void 0:s.createEvent({type:Mi.session_approve_started,properties:{topic:w,trace:[Mi.session_approve_started,Mi.session_namespaces_validation_success]}}));const _=await this.client.core.crypto.generateKeyPair(),I=x.publicKey,N=await this.client.core.crypto.generateSharedKey(_,I),U=dt(dt(dt({relay:{protocol:f??"irn"},namespaces:h,controller:{publicKey:_,metadata:this.client.metadata},expiry:Jt(ff)},p&&{sessionProperties:p}),g&&{scopedProperties:g}),m&&{sessionConfig:m}),z=Ct.relay;T.addTrace(Mi.subscribing_session_topic);try{await this.client.core.relayer.subscribe(N,{transportType:z,internal:{skipSubscribe:!0}})}catch(L){throw T.setError(Wc.subscribe_session_topic_failure),L}T.addTrace(Mi.subscribe_session_topic_success);const M=Kn(dt({},U),{topic:N,requiredNamespaces:S,optionalNamespaces:O,pairingTopic:w,acknowledged:!1,self:U.controller,peer:{publicKey:x.publicKey,metadata:x.metadata},controller:_,transportType:Ct.relay});await this.client.session.set(N,M),T.addTrace(Mi.store_session);try{await this.sendApproveSession({sessionTopic:N,proposal:b,pairingProposalResponse:{relay:{protocol:f??"irn"},responderPublicKey:_},sessionSettleRequest:U,publishOpts:{internal:{throwOnFailedPublish:!0},tvf:{correlationId:l}}}),T.addTrace(Mi.session_approve_publish_success)}catch(L){throw this.client.logger.error(L),this.client.session.delete(N,Nt("USER_DISCONNECTED")),await this.client.core.relayer.unsubscribe(N),L}return this.client.core.eventClient.deleteEvent({eventId:T.eventId}),await this.client.core.pairing.updateMetadata({topic:w,metadata:x.metadata}),await this.deleteProposal(l),await this.client.core.pairing.activate({topic:w}),await this.setExpiry(N,Jt(ff)),{topic:N,acknowledged:()=>Promise.resolve(this.client.session.get(N))}}),me(this,"reject",async t=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidReject(t)}catch(c){throw this.client.logger.error("reject() -> isValidReject() failed"),c}const{id:r,reason:i}=t;let s;try{s=this.client.proposal.get(r).pairingTopic}catch(c){throw this.client.logger.error(`reject() -> proposal.get(${r}) failed`),c}s&&await this.sendError({id:r,topic:s,error:i,rpcOpts:Tn.wc_sessionPropose.reject}),await this.deleteProposal(r)}),me(this,"update",async t=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidUpdate(t)}catch(g){throw this.client.logger.error("update() -> isValidUpdate() failed"),g}const{topic:r,namespaces:i}=t,{done:s,resolve:c,reject:l}=il(),f=ys(),h=gc().toString(),p=this.client.session.get(r).namespaces;return this.events.once(ct("session_update",f),({error:g})=>{g?l(g):c()}),await this.client.session.update(r,{namespaces:i}),await this.sendRequest({topic:r,method:"wc_sessionUpdate",params:{namespaces:i},throwOnFailedPublish:!0,clientRpcId:f,relayRpcId:h}).catch(g=>{this.client.logger.error(g),this.client.session.update(r,{namespaces:p}),l(g)}),{acknowledged:s}}),me(this,"extend",async t=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidExtend(t)}catch(f){throw this.client.logger.error("extend() -> isValidExtend() failed"),f}const{topic:r}=t,i=ys(),{done:s,resolve:c,reject:l}=il();return this.events.once(ct("session_extend",i),({error:f})=>{f?l(f):c()}),await this.setExpiry(r,Jt(ff)),this.sendRequest({topic:r,method:"wc_sessionExtend",params:{},clientRpcId:i,throwOnFailedPublish:!0}).catch(f=>{l(f)}),{acknowledged:s}}),me(this,"request",async t=>{this.isInitialized();try{await this.isValidRequest(t)}catch(S){throw this.client.logger.error("request() -> isValidRequest() failed"),S}const{chainId:r,request:i,topic:s,expiry:c=Tn.wc_sessionRequest.req.ttl}=t,l=this.client.session.get(s);(l==null?void 0:l.transportType)===Ct.relay&&await this.confirmOnlineStateOrThrow();const f=ys(),h=gc().toString(),{done:p,resolve:g,reject:m}=il(c,"Request expired. Please try again.");this.events.once(ct("session_request",f),({error:S,result:O})=>{S?m(S):g(O)});const b="wc_sessionRequest",w=this.getAppLinkIfEnabled(l.peer.metadata,l.transportType);if(w)return await this.sendRequest({clientRpcId:f,relayRpcId:h,topic:s,method:b,params:{request:Kn(dt({},i),{expiryTimestamp:Jt(c)}),chainId:r},expiry:c,throwOnFailedPublish:!0,appLink:w}).catch(S=>m(S)),this.client.events.emit("session_request_sent",{topic:s,request:i,chainId:r,id:f}),await p();const x={request:Kn(dt({},i),{expiryTimestamp:Jt(c)}),chainId:r};return await Promise.all([new Promise(async S=>{await this.sendRequest({clientRpcId:f,relayRpcId:h,topic:s,method:b,params:x,expiry:c,throwOnFailedPublish:!0,tvf:this.getTVFParams(f,x)}).catch(O=>m(O)),this.client.events.emit("session_request_sent",{topic:s,request:i,chainId:r,id:f}),S()}),new Promise(async S=>{var O;if(!((O=l.sessionConfig)!=null&&O.disableDeepLink)){const T=await YW(this.client.core.storage,eN);await GW({id:f,topic:s,wcDeepLink:T})}S()}),p()]).then(S=>S[2])}),me(this,"respond",async t=>{var r,i;this.isInitialized();const s=this.client.core.eventClient.createEvent({properties:{topic:(t==null?void 0:t.topic)||((i=(r=t==null?void 0:t.response)==null?void 0:r.id)==null?void 0:i.toString()),trace:[Mi.session_request_response_started]}});try{await this.isValidRespond(t)}catch(g){throw s.addTrace(g==null?void 0:g.message),s.setError(Wc.session_request_response_validation_failure),g}s.addTrace(Mi.session_request_response_validation_success);const{topic:c,response:l}=t,{id:f}=l,h=this.client.session.get(c);h.transportType===Ct.relay&&await this.confirmOnlineStateOrThrow();const p=this.getAppLinkIfEnabled(h.peer.metadata,h.transportType);try{s.addTrace(Mi.session_request_response_publish_started),bs(l)?await this.sendResult({id:f,topic:c,result:l.result,throwOnFailedPublish:!0,appLink:p}):Ci(l)&&await this.sendError({id:f,topic:c,error:l.error,appLink:p}),this.cleanupAfterResponse(t)}catch(g){throw s.addTrace(g==null?void 0:g.message),s.setError(Wc.session_request_response_publish_failure),g}}),me(this,"ping",async t=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidPing(t)}catch(i){throw this.client.logger.error("ping() -> isValidPing() failed"),i}const{topic:r}=t;if(this.client.session.keys.includes(r)){const i=ys(),s=gc().toString(),{done:c,resolve:l,reject:f}=il();this.events.once(ct("session_ping",i),({error:h})=>{h?f(h):l()}),await Promise.all([this.sendRequest({topic:r,method:"wc_sessionPing",params:{},throwOnFailedPublish:!0,clientRpcId:i,relayRpcId:s}),c()])}else this.client.core.pairing.pairings.keys.includes(r)&&(this.client.logger.warn("ping() on pairing topic is deprecated and will be removed in the next major release."),await this.client.core.pairing.ping({topic:r}))}),me(this,"emit",async t=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidEmit(t);const{topic:r,event:i,chainId:s}=t,c=gc().toString(),l=ys();await this.sendRequest({topic:r,method:"wc_sessionEvent",params:{event:i,chainId:s},throwOnFailedPublish:!0,relayRpcId:c,clientRpcId:l})}),me(this,"disconnect",async t=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidDisconnect(t);const{topic:r}=t;if(this.client.session.keys.includes(r))await this.sendRequest({topic:r,method:"wc_sessionDelete",params:Nt("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession({topic:r,emitEvent:!1});else if(this.client.core.pairing.pairings.keys.includes(r))await this.client.core.pairing.disconnect({topic:r});else{const{message:i}=we("MISMATCHED_TOPIC",`Session or pairing topic not found: ${r}`);throw new Error(i)}}),me(this,"find",t=>(this.isInitialized(),this.client.session.getAll().filter(r=>ute(r,t)))),me(this,"getPendingSessionRequests",()=>this.client.pendingRequest.getAll()),me(this,"authenticate",async(t,r)=>{var i;this.isInitialized(),this.isValidAuthenticate(t);const s=r&&this.client.core.linkModeSupportedApps.includes(r)&&((i=this.client.metadata.redirect)==null?void 0:i.linkMode),c=s?Ct.link_mode:Ct.relay;c===Ct.relay&&await this.confirmOnlineStateOrThrow();const{chains:l,statement:f="",uri:h,domain:p,nonce:g,type:m,exp:b,nbf:w,methods:x=[],expiry:S}=t,O=[...t.resources||[]],{topic:T,uri:_}=await this.client.core.pairing.create({methods:["wc_sessionAuthenticate"],transportType:c});this.client.logger.info({message:"Generated new pairing",pairing:{topic:T,uri:_}});const I=await this.client.core.crypto.generateKeyPair(),N=oy(I);if(await Promise.all([this.client.auth.authKeys.set(fy,{responseTopic:N,publicKey:I}),this.client.auth.pairingTopics.set(N,{topic:N,pairingTopic:T})]),await this.client.core.relayer.subscribe(N,{transportType:c}),this.client.logger.info(`sending request to new pairing topic: ${T}`),x.length>0){const{namespace:R}=Ha(l[0]);let C=fX(R,"request",x);ay(O)&&(C=dX(C,O.pop())),O.push(C)}const U=S&&S>Tn.wc_sessionAuthenticate.req.ttl?S:Tn.wc_sessionAuthenticate.req.ttl,z={authPayload:{type:m??"caip122",chains:l,statement:f,aud:h,domain:p,version:"1",nonce:g,iat:new Date().toISOString(),exp:b,nbf:w,resources:O},requester:{publicKey:I,metadata:this.client.metadata},expiryTimestamp:Jt(U)},M={eip155:{chains:l,methods:[...new Set(["personal_sign",...x])],events:["chainChanged","accountsChanged"]}},L={requiredNamespaces:{},optionalNamespaces:M,relays:[{protocol:"irn"}],pairingTopic:T,proposer:{publicKey:I,metadata:this.client.metadata},expiryTimestamp:Jt(Tn.wc_sessionPropose.req.ttl),id:ys()},{done:F,resolve:q,reject:Q}=il(U,"Request expired"),G=ys(),W=ct("session_connect",L.id),A=ct("session_request",G),E=async({error:R,session:C})=>{this.events.off(A,P),R?Q(R):C&&q({session:C})},P=async R=>{var C,H,K;if(await this.deletePendingAuthRequest(G,{message:"fulfilled",code:0}),R.error){const be=Nt("WC_METHOD_UNSUPPORTED","wc_sessionAuthenticate");return R.error.code===be.code?void 0:(this.events.off(W,E),Q(R.error.message))}await this.deleteProposal(L.id),this.events.off(W,E);const{cacaos:J,responder:Y}=R.result,se=[],ue=[];for(const be of J){await PO({cacao:be,projectId:this.client.core.projectId})||(this.client.logger.error(be,"Signature verification failed"),Q(Nt("SESSION_SETTLEMENT_FAILED","Signature verification failed")));const{p:Se}=be,Pe=ay(Se.resources),Me=[pE(Se.iss)],Qe=Vy(Se.iss);if(Pe){const at=UO(Pe),Sn=MO(Pe);se.push(...at),Me.push(...Sn)}for(const at of Me)ue.push(`${at}:${Qe}`)}const ge=await this.client.core.crypto.generateSharedKey(I,Y.publicKey);let xe;se.length>0&&(xe={topic:ge,acknowledged:!0,self:{publicKey:I,metadata:this.client.metadata},peer:Y,controller:Y.publicKey,expiry:Jt(ff),requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:T,namespaces:lC([...new Set(se)],[...new Set(ue)]),transportType:c},await this.client.core.relayer.subscribe(ge,{transportType:c}),await this.client.session.set(ge,xe),T&&await this.client.core.pairing.updateMetadata({topic:T,metadata:Y.metadata}),xe=this.client.session.get(ge)),(C=this.client.metadata.redirect)!=null&&C.linkMode&&(H=Y.metadata.redirect)!=null&&H.linkMode&&(K=Y.metadata.redirect)!=null&&K.universal&&r&&(this.client.core.addLinkModeSupportedApp(Y.metadata.redirect.universal),this.client.session.update(ge,{transportType:Ct.link_mode})),q({auths:J,session:xe})};this.events.once(W,E),this.events.once(A,P);let $;try{if(s){const R=Zi("wc_sessionAuthenticate",z,G);this.client.core.history.set(T,R);const C=await this.client.core.crypto.encode("",R,{type:jg,encoding:Wo});$=km(r,T,C)}else await Promise.all([this.sendRequest({topic:T,method:"wc_sessionAuthenticate",params:z,expiry:t.expiry,throwOnFailedPublish:!0,clientRpcId:G}),this.sendRequest({topic:T,method:"wc_sessionPropose",params:L,expiry:Tn.wc_sessionPropose.req.ttl,throwOnFailedPublish:!0,clientRpcId:L.id})])}catch(R){throw this.events.off(W,E),this.events.off(A,P),R}return await this.setProposal(L.id,L),await this.setAuthRequest(G,{request:Kn(dt({},z),{verifyContext:{}}),pairingTopic:T,transportType:c}),{uri:$??_,response:F}}),me(this,"approveSessionAuthenticate",async t=>{const{id:r,auths:i}=t,s=this.client.core.eventClient.createEvent({properties:{topic:r.toString(),trace:[Jc.authenticated_session_approve_started]}});try{this.isInitialized()}catch(S){throw s.setError(dp.no_internet_connection),S}const c=this.getPendingAuthRequest(r);if(!c)throw s.setError(dp.authenticated_session_pending_request_not_found),new Error(`Could not find pending auth request with id ${r}`);const l=c.transportType||Ct.relay;l===Ct.relay&&await this.confirmOnlineStateOrThrow();const f=c.requester.publicKey,h=await this.client.core.crypto.generateKeyPair(),p=oy(f),g={type:Fa,receiverPublicKey:f,senderPublicKey:h},m=[],b=[];for(const S of i){if(!await PO({cacao:S,projectId:this.client.core.projectId})){s.setError(dp.invalid_cacao);const N=Nt("SESSION_SETTLEMENT_FAILED","Signature verification failed");throw await this.sendError({id:r,topic:p,error:N,encodeOpts:g}),new Error(N.message)}s.addTrace(Jc.cacaos_verified);const{p:O}=S,T=ay(O.resources),_=[pE(O.iss)],I=Vy(O.iss);if(T){const N=UO(T),U=MO(T);m.push(...N),_.push(...U)}for(const N of _)b.push(`${N}:${I}`)}const w=await this.client.core.crypto.generateSharedKey(h,f);s.addTrace(Jc.create_authenticated_session_topic);let x;if((m==null?void 0:m.length)>0){x={topic:w,acknowledged:!0,self:{publicKey:h,metadata:this.client.metadata},peer:{publicKey:f,metadata:c.requester.metadata},controller:f,expiry:Jt(ff),authentication:i,requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:c.pairingTopic,namespaces:lC([...new Set(m)],[...new Set(b)]),transportType:l},s.addTrace(Jc.subscribing_authenticated_session_topic);try{await this.client.core.relayer.subscribe(w,{transportType:l})}catch(S){throw s.setError(dp.subscribe_authenticated_session_topic_failure),S}s.addTrace(Jc.subscribe_authenticated_session_topic_success),await this.client.session.set(w,x),s.addTrace(Jc.store_authenticated_session),await this.client.core.pairing.updateMetadata({topic:c.pairingTopic,metadata:c.requester.metadata})}s.addTrace(Jc.publishing_authenticated_session_approve);try{await this.sendResult({topic:p,id:r,result:{cacaos:i,responder:{publicKey:h,metadata:this.client.metadata}},encodeOpts:g,throwOnFailedPublish:!0,appLink:this.getAppLinkIfEnabled(c.requester.metadata,l)})}catch(S){throw s.setError(dp.authenticated_session_approve_publish_failure),S}return await this.client.auth.requests.delete(r,{message:"fulfilled",code:0}),await this.client.core.pairing.activate({topic:c.pairingTopic}),this.client.core.eventClient.deleteEvent({eventId:s.eventId}),{session:x}}),me(this,"rejectSessionAuthenticate",async t=>{this.isInitialized();const{id:r,reason:i}=t,s=this.getPendingAuthRequest(r);if(!s)throw new Error(`Could not find pending auth request with id ${r}`);s.transportType===Ct.relay&&await this.confirmOnlineStateOrThrow();const c=s.requester.publicKey,l=await this.client.core.crypto.generateKeyPair(),f=oy(c),h={type:Fa,receiverPublicKey:c,senderPublicKey:l};await this.sendError({id:r,topic:f,error:i,encodeOpts:h,rpcOpts:Tn.wc_sessionAuthenticate.reject,appLink:this.getAppLinkIfEnabled(s.requester.metadata,s.transportType)}),await this.client.auth.requests.delete(r,{message:"rejected",code:0}),await this.deleteProposal(r)}),me(this,"formatAuthMessage",t=>{this.isInitialized();const{request:r,iss:i}=t;return LB(r,i)}),me(this,"processRelayMessageCache",()=>{setTimeout(async()=>{if(this.relayMessageCache.length!==0)for(;this.relayMessageCache.length>0;)try{const t=this.relayMessageCache.shift();t&&await this.onRelayMessage(t)}catch(t){this.client.logger.error(t)}},50)}),me(this,"cleanupDuplicatePairings",async t=>{if(t.pairingTopic)try{const r=this.client.core.pairing.pairings.get(t.pairingTopic),i=this.client.core.pairing.pairings.getAll().filter(s=>{var c,l;return((c=s.peerMetadata)==null?void 0:c.url)&&((l=s.peerMetadata)==null?void 0:l.url)===t.peer.metadata.url&&s.topic&&s.topic!==r.topic});if(i.length===0)return;this.client.logger.info(`Cleaning up ${i.length} duplicate pairing(s)`),await Promise.all(i.map(s=>this.client.core.pairing.disconnect({topic:s.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(r){this.client.logger.error(r)}}),me(this,"deleteSession",async t=>{var r;const{topic:i,expirerHasDeleted:s=!1,emitEvent:c=!0,id:l=0}=t,{self:f}=this.client.session.get(i);await this.client.core.relayer.unsubscribe(i),await this.client.session.delete(i,Nt("USER_DISCONNECTED")),this.addToRecentlyDeleted(i,"session"),this.client.core.crypto.keychain.has(f.publicKey)&&await this.client.core.crypto.deleteKeyPair(f.publicKey),this.client.core.crypto.keychain.has(i)&&await this.client.core.crypto.deleteSymKey(i),s||this.client.core.expirer.del(i),this.client.core.storage.removeItem(eN).catch(h=>this.client.logger.warn(h)),this.getPendingSessionRequests().forEach(h=>{h.topic===i&&this.deletePendingSessionRequest(h.id,Nt("USER_DISCONNECTED"))}),i===((r=this.sessionRequestQueue.queue[0])==null?void 0:r.topic)&&(this.sessionRequestQueue.state=ds.idle),c&&this.client.events.emit("session_delete",{id:l,topic:i})}),me(this,"deleteProposal",async(t,r)=>{if(r)try{const i=this.client.proposal.get(t),s=this.client.core.eventClient.getEvent({topic:i.pairingTopic});s==null||s.setError(Wc.proposal_expired)}catch{}await Promise.all([this.client.proposal.delete(t,Nt("USER_DISCONNECTED")),r?Promise.resolve():this.client.core.expirer.del(t)]),this.addToRecentlyDeleted(t,"proposal")}),me(this,"deletePendingSessionRequest",async(t,r,i=!1)=>{await Promise.all([this.client.pendingRequest.delete(t,r),i?Promise.resolve():this.client.core.expirer.del(t)]),this.addToRecentlyDeleted(t,"request"),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(s=>s.id!==t),i&&(this.sessionRequestQueue.state=ds.idle,this.client.events.emit("session_request_expire",{id:t}))}),me(this,"deletePendingAuthRequest",async(t,r,i=!1)=>{await Promise.all([this.client.auth.requests.delete(t,r),i?Promise.resolve():this.client.core.expirer.del(t)])}),me(this,"setExpiry",async(t,r)=>{this.client.session.keys.includes(t)&&(this.client.core.expirer.set(t,r),await this.client.session.update(t,{expiry:r}))}),me(this,"setProposal",async(t,r)=>{this.client.core.expirer.set(t,Jt(Tn.wc_sessionPropose.req.ttl)),await this.client.proposal.set(t,r)}),me(this,"setAuthRequest",async(t,r)=>{const{request:i,pairingTopic:s,transportType:c=Ct.relay}=r;this.client.core.expirer.set(t,i.expiryTimestamp),await this.client.auth.requests.set(t,{authPayload:i.authPayload,requester:i.requester,expiryTimestamp:i.expiryTimestamp,id:t,pairingTopic:s,verifyContext:i.verifyContext,transportType:c})}),me(this,"setPendingSessionRequest",async t=>{const{id:r,topic:i,params:s,verifyContext:c}=t,l=s.request.expiryTimestamp||Jt(Tn.wc_sessionRequest.req.ttl);this.client.core.expirer.set(r,l),await this.client.pendingRequest.set(r,{id:r,topic:i,params:s,verifyContext:c})}),me(this,"sendRequest",async t=>{const{topic:r,method:i,params:s,expiry:c,relayRpcId:l,clientRpcId:f,throwOnFailedPublish:h,appLink:p,tvf:g,publishOpts:m={}}=t,b=Zi(i,s,f);let w;const x=!!p;try{const T=x?Wo:Or;w=await this.client.core.crypto.encode(r,b,{encoding:T})}catch(T){throw await this.cleanup(),this.client.logger.error(`sendRequest() -> core.crypto.encode() for topic ${r} failed`),T}let S;if(Ioe.includes(i)){const T=Oi(JSON.stringify(b)),_=Oi(w);S=await this.client.core.verify.register({id:_,decryptedId:T})}const O=dt(dt({},Tn[i].req),m);if(O.attestation=S,c&&(O.ttl=c),l&&(O.id=l),this.client.core.history.set(r,b),x){const T=km(p,r,w);await global.Linking.openURL(T,this.client.name)}else O.tvf=Kn(dt({},g),{correlationId:b.id}),h?(O.internal=Kn(dt({},O.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(r,w,O)):this.client.core.relayer.publish(r,w,O).catch(T=>this.client.logger.error(T));return b.id}),me(this,"sendProposeSession",async t=>{const{proposal:r,publishOpts:i}=t,s=Zi("wc_sessionPropose",r,r.id);this.client.core.history.set(r.pairingTopic,s);const c=await this.client.core.crypto.encode(r.pairingTopic,s,{encoding:Or}),l=Oi(JSON.stringify(s)),f=Oi(c),h=await this.client.core.verify.register({id:f,decryptedId:l});await this.client.core.relayer.publishCustom({payload:{pairingTopic:r.pairingTopic,sessionProposal:c},opts:Kn(dt({},i),{publishMethod:"wc_proposeSession",attestation:h})})}),me(this,"sendApproveSession",async t=>{const{sessionTopic:r,pairingProposalResponse:i,proposal:s,sessionSettleRequest:c,publishOpts:l}=t,f=og(s.id,i),h=await this.client.core.crypto.encode(s.pairingTopic,f,{encoding:Or}),p=Zi("wc_sessionSettle",c,l==null?void 0:l.id),g=await this.client.core.crypto.encode(r,p,{encoding:Or});this.client.core.history.set(r,p),await this.client.core.relayer.publishCustom({payload:{sessionTopic:r,pairingTopic:s.pairingTopic,sessionProposalResponse:h,sessionSettlementRequest:g},opts:Kn(dt({},l),{publishMethod:"wc_approveSession"})})}),me(this,"sendResult",async t=>{const{id:r,topic:i,result:s,throwOnFailedPublish:c,encodeOpts:l,appLink:f}=t,h=og(r,s);let p;const g=f&&typeof(global==null?void 0:global.Linking)<"u";try{const w=g?Wo:Or;p=await this.client.core.crypto.encode(i,h,Kn(dt({},l||{}),{encoding:w}))}catch(w){throw await this.cleanup(),this.client.logger.error(`sendResult() -> core.crypto.encode() for topic ${i} failed`),w}let m,b;try{m=await this.client.core.history.get(i,r);const w=m.request;try{b=this.getTVFParams(r,w.params,s)}catch(x){this.client.logger.warn(`sendResult() -> getTVFParams() failed: ${x==null?void 0:x.message}`)}}catch(w){throw this.client.logger.error(`sendResult() -> history.get(${i}, ${r}) failed`),w}if(g){const w=km(f,i,p);await global.Linking.openURL(w,this.client.name)}else{const w=m.request.method,x=Tn[w].res;x.tvf=Kn(dt({},b),{correlationId:r}),c?(x.internal=Kn(dt({},x.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(i,p,x)):this.client.core.relayer.publish(i,p,x).catch(S=>this.client.logger.error(S))}await this.client.core.history.resolve(h)}),me(this,"sendError",async t=>{const{id:r,topic:i,error:s,encodeOpts:c,rpcOpts:l,appLink:f}=t,h=qb(r,s);let p;const g=f&&typeof(global==null?void 0:global.Linking)<"u";try{const b=g?Wo:Or;p=await this.client.core.crypto.encode(i,h,Kn(dt({},c||{}),{encoding:b}))}catch(b){throw await this.cleanup(),this.client.logger.error(`sendError() -> core.crypto.encode() for topic ${i} failed`),b}let m;try{m=await this.client.core.history.get(i,r)}catch(b){throw this.client.logger.error(`sendError() -> history.get(${i}, ${r}) failed`),b}if(g){const b=km(f,i,p);await global.Linking.openURL(b,this.client.name)}else{const b=m.request.method,w=l||Tn[b].res;this.client.core.relayer.publish(i,p,w)}await this.client.core.history.resolve(h)}),me(this,"cleanup",async()=>{const t=[],r=[];this.client.session.getAll().forEach(i=>{let s=!1;Ts(i.expiry)&&(s=!0),this.client.core.crypto.keychain.has(i.topic)||(s=!0),s&&t.push(i.topic)}),this.client.proposal.getAll().forEach(i=>{Ts(i.expiryTimestamp)&&r.push(i.id)}),await Promise.all([...t.map(i=>this.deleteSession({topic:i})),...r.map(i=>this.deleteProposal(i))])}),me(this,"onProviderMessageEvent",async t=>{!this.initialized||this.relayMessageCache.length>0?this.relayMessageCache.push(t):await this.onRelayMessage(t)}),me(this,"onRelayEventRequest",async t=>{this.requestQueue.queue.push(t),await this.processRequestsQueue()}),me(this,"processRequestsQueue",async()=>{if(this.requestQueue.state===ds.active){this.client.logger.info("Request queue already active, skipping...");return}for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=ds.active;const t=this.requestQueue.queue.shift();if(t)try{await this.processRequest(t)}catch(r){this.client.logger.warn(r)}}this.requestQueue.state=ds.idle}),me(this,"processRequest",async t=>{const{topic:r,payload:i,attestation:s,transportType:c,encryptedId:l}=t,f=i.method;if(!this.shouldIgnorePairingRequest({topic:r,requestMethod:f}))switch(f){case"wc_sessionPropose":return await this.onSessionProposeRequest({topic:r,payload:i,attestation:s,encryptedId:l});case"wc_sessionSettle":return await this.onSessionSettleRequest(r,i);case"wc_sessionUpdate":return await this.onSessionUpdateRequest(r,i);case"wc_sessionExtend":return await this.onSessionExtendRequest(r,i);case"wc_sessionPing":return await this.onSessionPingRequest(r,i);case"wc_sessionDelete":return await this.onSessionDeleteRequest(r,i);case"wc_sessionRequest":return await this.onSessionRequest({topic:r,payload:i,attestation:s,encryptedId:l,transportType:c});case"wc_sessionEvent":return await this.onSessionEventRequest(r,i);case"wc_sessionAuthenticate":return await this.onSessionAuthenticateRequest({topic:r,payload:i,attestation:s,encryptedId:l,transportType:c});default:return this.client.logger.info(`Unsupported request method ${f}`)}}),me(this,"onRelayEventResponse",async t=>{const{topic:r,payload:i,transportType:s}=t,c=(await this.client.core.history.get(r,i.id)).request.method;switch(c){case"wc_sessionPropose":return this.onSessionProposeResponse(r,i,s);case"wc_sessionSettle":return this.onSessionSettleResponse(r,i);case"wc_sessionUpdate":return this.onSessionUpdateResponse(r,i);case"wc_sessionExtend":return this.onSessionExtendResponse(r,i);case"wc_sessionPing":return this.onSessionPingResponse(r,i);case"wc_sessionRequest":return this.onSessionRequestResponse(r,i);case"wc_sessionAuthenticate":return this.onSessionAuthenticateResponse(r,i);default:return this.client.logger.info(`Unsupported response method ${c}`)}}),me(this,"onRelayEventUnknownPayload",t=>{const{topic:r}=t,{message:i}=we("MISSING_OR_INVALID",`Decoded payload on topic ${r} is not identifiable as a JSON-RPC request or a response.`);throw new Error(i)}),me(this,"shouldIgnorePairingRequest",t=>{const{topic:r,requestMethod:i}=t,s=this.expectedPairingMethodMap.get(r);return!s||s.includes(i)?!1:!!(s.includes("wc_sessionAuthenticate")&&this.client.events.listenerCount("session_authenticate")>0)}),me(this,"onSessionProposeRequest",async t=>{const{topic:r,payload:i,attestation:s,encryptedId:c}=t,{params:l,id:f}=i;try{const h=this.client.core.eventClient.getEvent({topic:r});this.client.events.listenerCount("session_proposal")===0&&(console.warn("No listener for session_proposal event"),h==null||h.setError(ga.proposal_listener_not_found)),this.isValidConnect(dt({},i.params));const p=l.expiryTimestamp||Jt(Tn.wc_sessionPropose.req.ttl),g=dt({id:f,pairingTopic:r,expiryTimestamp:p,attestation:s,encryptedId:c},l);await this.setProposal(f,g);const m=await this.getVerifyContext({attestationId:s,hash:Oi(JSON.stringify(i)),encryptedId:c,metadata:g.proposer.metadata});h==null||h.addTrace(ms.emit_session_proposal),this.client.events.emit("session_proposal",{id:f,params:g,verifyContext:m})}catch(h){await this.sendError({id:f,topic:r,error:h,rpcOpts:Tn.wc_sessionPropose.autoReject}),this.client.logger.error(h)}}),me(this,"onSessionProposeResponse",async(t,r,i)=>{const{id:s}=r;if(bs(r)){const{result:c}=r;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:c});const l=this.client.proposal.get(s);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:l});const f=l.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:f});const h=c.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:h});const p=await this.client.core.crypto.generateSharedKey(f,h);this.pendingSessions.set(s,{sessionTopic:p,pairingTopic:t,proposalId:s,publicKey:f});const g=await this.client.core.relayer.subscribe(p,{transportType:i});this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:g}),await this.client.core.pairing.activate({topic:t})}else if(Ci(r)){await this.deleteProposal(s);const c=ct("session_connect",s);if(this.events.listenerCount(c)===0)throw new Error(`emitting ${c} without any listeners, 954`);this.events.emit(c,{error:r.error})}}),me(this,"onSessionSettleRequest",async(t,r)=>{const{id:i,params:s}=r;try{this.isValidSessionSettleRequest(s);const{relay:c,controller:l,expiry:f,namespaces:h,sessionProperties:p,scopedProperties:g,sessionConfig:m}=r.params,b=[...this.pendingSessions.values()].find(S=>S.sessionTopic===t);if(!b)return this.client.logger.error(`Pending session not found for topic ${t}`);const w=this.client.proposal.get(b.proposalId),x=Kn(dt(dt(dt({topic:t,relay:c,expiry:f,namespaces:h,acknowledged:!0,pairingTopic:b.pairingTopic,requiredNamespaces:w.requiredNamespaces,optionalNamespaces:w.optionalNamespaces,controller:l.publicKey,self:{publicKey:b.publicKey,metadata:this.client.metadata},peer:{publicKey:l.publicKey,metadata:l.metadata}},p&&{sessionProperties:p}),g&&{scopedProperties:g}),m&&{sessionConfig:m}),{transportType:Ct.relay});await this.client.session.set(x.topic,x),await this.setExpiry(x.topic,x.expiry),await this.client.core.pairing.updateMetadata({topic:b.pairingTopic,metadata:x.peer.metadata}),this.client.events.emit("session_connect",{session:x}),this.events.emit(ct("session_connect",b.proposalId),{session:x}),this.pendingSessions.delete(b.proposalId),this.deleteProposal(b.proposalId,!1),this.cleanupDuplicatePairings(x),await this.sendResult({id:r.id,topic:t,result:!0})}catch(c){await this.sendError({id:i,topic:t,error:c}),this.client.logger.error(c)}}),me(this,"onSessionSettleResponse",async(t,r)=>{const{id:i}=r;bs(r)?(await this.client.session.update(t,{acknowledged:!0}),this.events.emit(ct("session_approve",i),{})):Ci(r)&&(await this.client.session.delete(t,Nt("USER_DISCONNECTED")),this.events.emit(ct("session_approve",i),{error:r.error}))}),me(this,"onSessionUpdateRequest",async(t,r)=>{const{params:i,id:s}=r;try{const c=`${t}_session_update`,l=fp.get(c);if(l&&this.isRequestOutOfSync(l,s)){this.client.logger.warn(`Discarding out of sync request - ${s}`),this.sendError({id:s,topic:t,error:Nt("INVALID_UPDATE_REQUEST")});return}this.isValidUpdate(dt({topic:t},i));try{fp.set(c,s),await this.client.session.update(t,{namespaces:i.namespaces}),await this.sendResult({id:s,topic:t,result:!0})}catch(f){throw fp.delete(c),f}this.client.events.emit("session_update",{id:s,topic:t,params:i})}catch(c){await this.sendError({id:s,topic:t,error:c}),this.client.logger.error(c)}}),me(this,"isRequestOutOfSync",(t,r)=>r.toString().slice(0,-3)<t.toString().slice(0,-3)),me(this,"onSessionUpdateResponse",(t,r)=>{const{id:i}=r,s=ct("session_update",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);bs(r)?this.events.emit(ct("session_update",i),{}):Ci(r)&&this.events.emit(ct("session_update",i),{error:r.error})}),me(this,"onSessionExtendRequest",async(t,r)=>{const{id:i}=r;try{this.isValidExtend({topic:t}),await this.setExpiry(t,Jt(ff)),await this.sendResult({id:i,topic:t,result:!0}),this.client.events.emit("session_extend",{id:i,topic:t})}catch(s){await this.sendError({id:i,topic:t,error:s}),this.client.logger.error(s)}}),me(this,"onSessionExtendResponse",(t,r)=>{const{id:i}=r,s=ct("session_extend",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);bs(r)?this.events.emit(ct("session_extend",i),{}):Ci(r)&&this.events.emit(ct("session_extend",i),{error:r.error})}),me(this,"onSessionPingRequest",async(t,r)=>{const{id:i}=r;try{this.isValidPing({topic:t}),await this.sendResult({id:i,topic:t,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_ping",{id:i,topic:t})}catch(s){await this.sendError({id:i,topic:t,error:s}),this.client.logger.error(s)}}),me(this,"onSessionPingResponse",(t,r)=>{const{id:i}=r,s=ct("session_ping",i);setTimeout(()=>{if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners 2176`);bs(r)?this.events.emit(ct("session_ping",i),{}):Ci(r)&&this.events.emit(ct("session_ping",i),{error:r.error})},500)}),me(this,"onSessionDeleteRequest",async(t,r)=>{const{id:i}=r;try{this.isValidDisconnect({topic:t,reason:r.params}),await Promise.all([new Promise(s=>{this.client.core.relayer.once(Ft.publish,async()=>{s(await this.deleteSession({topic:t,id:i}))})}),this.sendResult({id:i,topic:t,result:!0}),this.cleanupPendingSentRequestsForTopic({topic:t,error:Nt("USER_DISCONNECTED")})]).catch(s=>this.client.logger.error(s))}catch(s){this.client.logger.error(s)}}),me(this,"onSessionRequest",async t=>{var r,i,s;const{topic:c,payload:l,attestation:f,encryptedId:h,transportType:p}=t,{id:g,params:m}=l;try{await this.isValidRequest(dt({topic:c},m));const b=this.client.session.get(c),w=await this.getVerifyContext({attestationId:f,hash:Oi(JSON.stringify(Zi("wc_sessionRequest",m,g))),encryptedId:h,metadata:b.peer.metadata,transportType:p}),x={id:g,topic:c,params:m,verifyContext:w};await this.setPendingSessionRequest(x),p===Ct.link_mode&&(r=b.peer.metadata.redirect)!=null&&r.universal&&this.client.core.addLinkModeSupportedApp((i=b.peer.metadata.redirect)==null?void 0:i.universal),(s=this.client.signConfig)!=null&&s.disableRequestQueue?this.emitSessionRequest(x):(this.addSessionRequestToSessionRequestQueue(x),this.processSessionRequestQueue())}catch(b){await this.sendError({id:g,topic:c,error:b}),this.client.logger.error(b)}}),me(this,"onSessionRequestResponse",(t,r)=>{const{id:i}=r,s=ct("session_request",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);bs(r)?this.events.emit(ct("session_request",i),{result:r.result}):Ci(r)&&this.events.emit(ct("session_request",i),{error:r.error})}),me(this,"onSessionEventRequest",async(t,r)=>{const{id:i,params:s}=r;try{const c=`${t}_session_event_${s.event.name}`,l=fp.get(c);if(l&&this.isRequestOutOfSync(l,i)){this.client.logger.info(`Discarding out of sync request - ${i}`);return}this.isValidEmit(dt({topic:t},s)),this.client.events.emit("session_event",{id:i,topic:t,params:s}),fp.set(c,i)}catch(c){await this.sendError({id:i,topic:t,error:c}),this.client.logger.error(c)}}),me(this,"onSessionAuthenticateResponse",(t,r)=>{const{id:i}=r;this.client.logger.trace({type:"method",method:"onSessionAuthenticateResponse",topic:t,payload:r}),bs(r)?this.events.emit(ct("session_request",i),{result:r.result}):Ci(r)&&this.events.emit(ct("session_request",i),{error:r.error})}),me(this,"onSessionAuthenticateRequest",async t=>{var r;const{topic:i,payload:s,attestation:c,encryptedId:l,transportType:f}=t;try{const{requester:h,authPayload:p,expiryTimestamp:g}=s.params,m=await this.getVerifyContext({attestationId:c,hash:Oi(JSON.stringify(s)),encryptedId:l,metadata:h.metadata,transportType:f}),b={requester:h,pairingTopic:i,id:s.id,authPayload:p,verifyContext:m,expiryTimestamp:g};await this.setAuthRequest(s.id,{request:b,pairingTopic:i,transportType:f}),f===Ct.link_mode&&(r=h.metadata.redirect)!=null&&r.universal&&this.client.core.addLinkModeSupportedApp(h.metadata.redirect.universal),this.client.events.emit("session_authenticate",{topic:i,params:s.params,id:s.id,verifyContext:m})}catch(h){this.client.logger.error(h);const p=s.params.requester.publicKey,g=await this.client.core.crypto.generateKeyPair(),m=this.getAppLinkIfEnabled(s.params.requester.metadata,f),b={type:Fa,receiverPublicKey:p,senderPublicKey:g};await this.sendError({id:s.id,topic:i,error:h,encodeOpts:b,rpcOpts:Tn.wc_sessionAuthenticate.autoReject,appLink:m})}}),me(this,"addSessionRequestToSessionRequestQueue",t=>{this.sessionRequestQueue.queue.push(t)}),me(this,"cleanupAfterResponse",t=>{this.deletePendingSessionRequest(t.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=ds.idle,this.processSessionRequestQueue()},ve.toMiliseconds(this.requestQueueDelay))}),me(this,"cleanupPendingSentRequestsForTopic",({topic:t,error:r})=>{const i=this.client.core.history.pending;i.length>0&&i.filter(s=>s.topic===t&&s.request.method==="wc_sessionRequest").forEach(s=>{const c=s.request.id,l=ct("session_request",c);if(this.events.listenerCount(l)===0)throw new Error(`emitting ${l} without any listeners`);this.events.emit(ct("session_request",s.request.id),{error:r})})}),me(this,"processSessionRequestQueue",()=>{if(this.sessionRequestQueue.state===ds.active){this.client.logger.info("session request queue is already active.");return}const t=this.sessionRequestQueue.queue[0];if(!t){this.client.logger.info("session request queue is empty.");return}try{this.emitSessionRequest(t)}catch(r){this.client.logger.error(r)}}),me(this,"emitSessionRequest",t=>{if(this.emittedSessionRequests.has(t.id)){this.client.logger.warn({id:t.id},`Skipping emitting \`session_request\` event for duplicate request. id: ${t.id}`);return}this.sessionRequestQueue.state=ds.active,this.emittedSessionRequests.add(t.id),this.client.events.emit("session_request",t)}),me(this,"onPairingCreated",t=>{if(t.methods&&this.expectedPairingMethodMap.set(t.topic,t.methods),t.active)return;const r=this.client.proposal.getAll().find(i=>i.pairingTopic===t.topic);r&&this.onSessionProposeRequest({topic:t.topic,payload:Zi("wc_sessionPropose",Kn(dt({},r),{requiredNamespaces:r.requiredNamespaces,optionalNamespaces:r.optionalNamespaces,relays:r.relays,proposer:r.proposer,sessionProperties:r.sessionProperties,scopedProperties:r.scopedProperties}),r.id),attestation:r.attestation,encryptedId:r.encryptedId})}),me(this,"isValidConnect",async t=>{if(!vr(t)){const{message:h}=we("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(t)}`);throw new Error(h)}const{pairingTopic:r,requiredNamespaces:i,optionalNamespaces:s,sessionProperties:c,scopedProperties:l,relays:f}=t;if(ln(r)||await this.isValidPairingTopic(r),!Ete(f)){const{message:h}=we("MISSING_OR_INVALID",`connect() relays: ${f}`);throw new Error(h)}if(i&&!ln(i)&&Ms(i)!==0){const h="requiredNamespaces are deprecated and are automatically assigned to optionalNamespaces";["fatal","error","silent"].includes(this.client.logger.level)?console.warn(h):this.client.logger.warn(h),this.validateNamespaces(i,"requiredNamespaces")}if(s&&!ln(s)&&Ms(s)!==0&&this.validateNamespaces(s,"optionalNamespaces"),c&&!ln(c)&&this.validateSessionProps(c,"sessionProperties"),l&&!ln(l)){this.validateSessionProps(l,"scopedProperties");const h=Object.keys(i||{}).concat(Object.keys(s||{}));if(!Object.keys(l).every(p=>h.includes(p.split(":")[0])))throw new Error(`Scoped properties must be a subset of required/optional namespaces, received: ${JSON.stringify(l)}, required/optional namespaces: ${JSON.stringify(h)}`)}}),me(this,"validateNamespaces",(t,r)=>{const i=xte(t,"connect()",r);if(i)throw new Error(i.message)}),me(this,"isValidApprove",async t=>{if(!vr(t))throw new Error(we("MISSING_OR_INVALID",`approve() params: ${t}`).message);const{id:r,namespaces:i,relayProtocol:s,sessionProperties:c,scopedProperties:l}=t;this.checkRecentlyDeleted(r),await this.isValidProposalId(r);const f=this.client.proposal.get(r),h=I2(i,"approve()");if(h)throw new Error(h.message);const p=hC(f.requiredNamespaces,i,"approve()");if(p)throw new Error(p.message);if(!tn(s,!0)){const{message:g}=we("MISSING_OR_INVALID",`approve() relayProtocol: ${s}`);throw new Error(g)}if(c&&!ln(c)&&this.validateSessionProps(c,"sessionProperties"),l&&!ln(l)){this.validateSessionProps(l,"scopedProperties");const g=new Set(Object.keys(i));if(!Object.keys(l).every(m=>g.has(m.split(":")[0])))throw new Error(`Scoped properties must be a subset of approved namespaces, received: ${JSON.stringify(l)}, approved namespaces: ${Array.from(g).join(", ")}`)}}),me(this,"isValidReject",async t=>{if(!vr(t)){const{message:s}=we("MISSING_OR_INVALID",`reject() params: ${t}`);throw new Error(s)}const{id:r,reason:i}=t;if(this.checkRecentlyDeleted(r),await this.isValidProposalId(r),!Ste(i)){const{message:s}=we("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(i)}`);throw new Error(s)}}),me(this,"isValidSessionSettleRequest",t=>{if(!vr(t)){const{message:h}=we("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${t}`);throw new Error(h)}const{relay:r,controller:i,namespaces:s,expiry:c}=t;if(!xk(r)){const{message:h}=we("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(h)}const l=gte(i,"onSessionSettleRequest()");if(l)throw new Error(l.message);const f=I2(s,"onSessionSettleRequest()");if(f)throw new Error(f.message);if(Ts(c)){const{message:h}=we("EXPIRED","onSessionSettleRequest()");throw new Error(h)}}),me(this,"isValidUpdate",async t=>{if(!vr(t)){const{message:f}=we("MISSING_OR_INVALID",`update() params: ${t}`);throw new Error(f)}const{topic:r,namespaces:i}=t;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r);const s=this.client.session.get(r),c=I2(i,"update()");if(c)throw new Error(c.message);const l=hC(s.requiredNamespaces,i,"update()");if(l)throw new Error(l.message)}),me(this,"isValidExtend",async t=>{if(!vr(t)){const{message:i}=we("MISSING_OR_INVALID",`extend() params: ${t}`);throw new Error(i)}const{topic:r}=t;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r)}),me(this,"isValidRequest",async t=>{if(!vr(t)){const{message:f}=we("MISSING_OR_INVALID",`request() params: ${t}`);throw new Error(f)}const{topic:r,request:i,chainId:s,expiry:c}=t;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r);const{namespaces:l}=this.client.session.get(r);if(!fC(l,s)){const{message:f}=we("MISSING_OR_INVALID",`request() chainId: ${s}`);throw new Error(f)}if(!_te(i)){const{message:f}=we("MISSING_OR_INVALID",`request() ${JSON.stringify(i)}`);throw new Error(f)}if(!Nte(l,s,i.method)){const{message:f}=we("MISSING_OR_INVALID",`request() method: ${i.method}`);throw new Error(f)}if(c&&!Rte(c,L2)){const{message:f}=we("MISSING_OR_INVALID",`request() expiry: ${c}. Expiry must be a number (in seconds) between ${L2.min} and ${L2.max}`);throw new Error(f)}}),me(this,"isValidRespond",async t=>{var r;if(!vr(t)){const{message:l}=we("MISSING_OR_INVALID",`respond() params: ${t}`);throw new Error(l)}const{topic:i,response:s}=t;try{await this.isValidSessionTopic(i)}catch(l){throw(r=t==null?void 0:t.response)!=null&&r.id&&this.cleanupAfterResponse(t),l}if(!Ote(s)){const{message:l}=we("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(s)}`);throw new Error(l)}const c=this.client.pendingRequest.get(s.id);if(c.topic!==i){const{message:l}=we("MISMATCHED_TOPIC",`Request response topic mismatch. reqId: ${s.id}, expected topic: ${c.topic}, received topic: ${i}`);throw new Error(l)}}),me(this,"isValidPing",async t=>{if(!vr(t)){const{message:i}=we("MISSING_OR_INVALID",`ping() params: ${t}`);throw new Error(i)}const{topic:r}=t;await this.isValidSessionOrPairingTopic(r)}),me(this,"isValidEmit",async t=>{if(!vr(t)){const{message:l}=we("MISSING_OR_INVALID",`emit() params: ${t}`);throw new Error(l)}const{topic:r,event:i,chainId:s}=t;await this.isValidSessionTopic(r);const{namespaces:c}=this.client.session.get(r);if(!fC(c,s)){const{message:l}=we("MISSING_OR_INVALID",`emit() chainId: ${s}`);throw new Error(l)}if(!Cte(i)){const{message:l}=we("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(i)}`);throw new Error(l)}if(!Ite(c,s,i.name)){const{message:l}=we("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(i)}`);throw new Error(l)}}),me(this,"isValidDisconnect",async t=>{if(!vr(t)){const{message:i}=we("MISSING_OR_INVALID",`disconnect() params: ${t}`);throw new Error(i)}const{topic:r}=t;await this.isValidSessionOrPairingTopic(r)}),me(this,"isValidAuthenticate",t=>{const{chains:r,uri:i,domain:s,nonce:c}=t;if(!Array.isArray(r)||r.length===0)throw new Error("chains is required and must be a non-empty array");if(!tn(i,!1))throw new Error("uri is required parameter");if(!tn(s,!1))throw new Error("domain is required parameter");if(!tn(c,!1))throw new Error("nonce is required parameter");if([...new Set(r.map(f=>Ha(f).namespace))].length>1)throw new Error("Multi-namespace requests are not supported. Please request single namespace only.");const{namespace:l}=Ha(r[0]);if(l!=="eip155")throw new Error("Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains.")}),me(this,"getVerifyContext",async t=>{const{attestationId:r,hash:i,encryptedId:s,metadata:c,transportType:l}=t,f={verified:{verifyUrl:c.verifyUrl||Up,validation:"UNKNOWN",origin:c.url||""}};try{if(l===Ct.link_mode){const p=this.getAppLinkIfEnabled(c,l);return f.verified.validation=p&&new URL(p).origin===new URL(c.url).origin?"VALID":"INVALID",f}const h=await this.client.core.verify.resolve({attestationId:r,hash:i,encryptedId:s,verifyUrl:c.verifyUrl});h&&(f.verified.origin=h.origin,f.verified.isScam=h.isScam,f.verified.validation=h.origin===new URL(c.url).origin?"VALID":"INVALID")}catch(h){this.client.logger.warn(h)}return this.client.logger.debug(`Verify context: ${JSON.stringify(f)}`),f}),me(this,"validateSessionProps",(t,r)=>{Object.values(t).forEach((i,s)=>{if(i==null){const{message:c}=we("MISSING_OR_INVALID",`${r} must contain an existing value for each key. Received: ${i} for key ${Object.keys(t)[s]}`);throw new Error(c)}})}),me(this,"getPendingAuthRequest",t=>{const r=this.client.auth.requests.get(t);return typeof r=="object"?r:void 0}),me(this,"addToRecentlyDeleted",(t,r)=>{if(this.recentlyDeletedMap.set(t,r),this.recentlyDeletedMap.size>=this.recentlyDeletedLimit){let i=0;const s=this.recentlyDeletedLimit/2;for(const c of this.recentlyDeletedMap.keys()){if(i++>=s)break;this.recentlyDeletedMap.delete(c)}}}),me(this,"checkRecentlyDeleted",t=>{const r=this.recentlyDeletedMap.get(t);if(r){const{message:i}=we("MISSING_OR_INVALID",`Record was recently deleted - ${r}: ${t}`);throw new Error(i)}}),me(this,"isLinkModeEnabled",(t,r)=>{var i,s,c,l,f,h,p,g,m;return!t||r!==Ct.link_mode?!1:((s=(i=this.client.metadata)==null?void 0:i.redirect)==null?void 0:s.linkMode)===!0&&((l=(c=this.client.metadata)==null?void 0:c.redirect)==null?void 0:l.universal)!==void 0&&((h=(f=this.client.metadata)==null?void 0:f.redirect)==null?void 0:h.universal)!==""&&((p=t==null?void 0:t.redirect)==null?void 0:p.universal)!==void 0&&((g=t==null?void 0:t.redirect)==null?void 0:g.universal)!==""&&((m=t==null?void 0:t.redirect)==null?void 0:m.linkMode)===!0&&this.client.core.linkModeSupportedApps.includes(t.redirect.universal)&&typeof(global==null?void 0:global.Linking)<"u"}),me(this,"getAppLinkIfEnabled",(t,r)=>{var i;return this.isLinkModeEnabled(t,r)?(i=t==null?void 0:t.redirect)==null?void 0:i.universal:void 0}),me(this,"handleLinkModeMessage",({url:t})=>{if(!t||!t.includes("wc_ev")||!t.includes("topic"))return;const r=AO(t,"topic")||"",i=decodeURIComponent(AO(t,"wc_ev")||""),s=this.client.session.keys.includes(r);s&&this.client.session.update(r,{transportType:Ct.link_mode}),this.client.core.dispatchEnvelope({topic:r,message:i,sessionExists:s})}),me(this,"registerLinkModeListeners",async()=>{var t;if(Z3()||Oc()&&(t=this.client.metadata.redirect)!=null&&t.linkMode){const r=global==null?void 0:global.Linking;if(typeof r<"u"){r.addEventListener("url",this.handleLinkModeMessage,this.client.name);const i=await r.getInitialURL();i&&setTimeout(()=>{this.handleLinkModeMessage({url:i})},50)}}}),me(this,"getTVFParams",(t,r,i)=>{var s,c,l;if(!((s=r.request)!=null&&s.method))return{};const f={correlationId:t,rpcMethods:[r.request.method],chainId:r.chainId};try{const h=this.extractTxHashesFromResult(r.request,i);f.txHashes=h,f.contractAddresses=this.isValidContractData(r.request.params)?[(l=(c=r.request.params)==null?void 0:c[0])==null?void 0:l.to]:[]}catch(h){this.client.logger.warn(h,"Error getting TVF params")}return f}),me(this,"isValidContractData",t=>{var r;if(!t)return!1;try{const i=(t==null?void 0:t.data)||((r=t==null?void 0:t[0])==null?void 0:r.data);if(!i.startsWith("0x"))return!1;const s=i.slice(2);return/^[0-9a-fA-F]*$/.test(s)?s.length%2===0:!1}catch{}return!1}),me(this,"extractTxHashesFromResult",(t,r)=>{var i;try{if(!r)return[];const s=t.method,c=Coe[s];if(s==="sui_signTransaction")return[QJ(r.transactionBytes)];if(s==="near_signTransaction")return[DO(r)];if(s==="near_signTransactions")return r.map(f=>DO(f));if(s==="xrpl_signTransactionFor"||s==="xrpl_signTransaction")return[(i=r.tx_json)==null?void 0:i.hash];if(s==="polkadot_signTransaction")return[Kte({transaction:t.params.transactionPayload,signature:r.signature})];if(s==="algo_signTxn")return Ii(r)?r.map(f=>RO(f)):[RO(r)];if(s==="cosmos_signDirect")return[ZJ(r)];if(s==="wallet_sendCalls")return WJ(r);if(typeof r=="string")return[r];const l=r[c.key];if(Ii(l))return s==="solana_signAllTransactions"?l.map(f=>KJ(f)):l;if(typeof l=="string")return[l]}catch(s){this.client.logger.warn(s,"Error extracting tx hashes from result")}return[]})}async processPendingMessageEvents(){try{const e=this.client.session.keys,t=this.client.core.relayer.messages.getWithoutAck(e);for(const[r,i]of Object.entries(t))for(const s of i)try{await this.onProviderMessageEvent({topic:r,message:s,publishedAt:Date.now()})}catch{this.client.logger.warn(`Error processing pending message event for topic: ${r}, message: ${s}`)}}catch(e){this.client.logger.warn(e,"processPendingMessageEvents failed")}}isInitialized(){if(!this.initialized){const{message:e}=we("NOT_INITIALIZED",this.name);throw new Error(e)}}async confirmOnlineStateOrThrow(){await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(Ft.message,e=>{this.onProviderMessageEvent(e)})}async onRelayMessage(e){const{topic:t,message:r,attestation:i,transportType:s}=e,{publicKey:c}=this.client.auth.authKeys.keys.includes(fy)?this.client.auth.authKeys.get(fy):{publicKey:void 0};try{const l=await this.client.core.crypto.decode(t,r,{receiverPublicKey:c,encoding:s===Ct.link_mode?Wo:Or});uA(l)?(this.client.core.history.set(t,l),await this.onRelayEventRequest({topic:t,payload:l,attestation:i,transportType:s,encryptedId:Oi(r)})):Vb(l)?(await this.client.core.history.resolve(l),await this.onRelayEventResponse({topic:t,payload:l,transportType:s}),this.client.core.history.delete(t,l.id)):await this.onRelayEventUnknownPayload({topic:t,payload:l,transportType:s}),await this.client.core.relayer.messages.ack(t,r)}catch(l){this.client.logger.error(l)}}registerExpirerEvents(){this.client.core.expirer.on(yi.expired,async e=>{const{topic:t,id:r}=EB(e.target);if(r&&this.client.pendingRequest.keys.includes(r))return await this.deletePendingSessionRequest(r,we("EXPIRED"),!0);if(r&&this.client.auth.requests.keys.includes(r))return await this.deletePendingAuthRequest(r,we("EXPIRED"),!0);t?this.client.session.keys.includes(t)&&(await this.deleteSession({topic:t,expirerHasDeleted:!0}),this.client.events.emit("session_expire",{topic:t})):r&&(await this.deleteProposal(r,!0),this.client.events.emit("proposal_expire",{id:r}))})}registerPairingEvents(){this.client.core.pairing.events.on(ul.create,e=>this.onPairingCreated(e)),this.client.core.pairing.events.on(ul.delete,e=>{this.addToRecentlyDeleted(e.topic,"pairing")})}isValidPairingTopic(e){if(!tn(e,!1)){const{message:t}=we("MISSING_OR_INVALID",`pairing topic should be a string: ${e}`);throw new Error(t)}if(!this.client.core.pairing.pairings.keys.includes(e)){const{message:t}=we("NO_MATCHING_KEY",`pairing topic doesn't exist: ${e}`);throw new Error(t)}if(Ts(this.client.core.pairing.pairings.get(e).expiry)){const{message:t}=we("EXPIRED",`pairing topic: ${e}`);throw new Error(t)}}async isValidSessionTopic(e){if(!tn(e,!1)){const{message:t}=we("MISSING_OR_INVALID",`session topic should be a string: ${e}`);throw new Error(t)}if(this.checkRecentlyDeleted(e),!this.client.session.keys.includes(e)){const{message:t}=we("NO_MATCHING_KEY",`session topic doesn't exist: ${e}`);throw new Error(t)}if(Ts(this.client.session.get(e).expiry)){await this.deleteSession({topic:e});const{message:t}=we("EXPIRED",`session topic: ${e}`);throw new Error(t)}if(!this.client.core.crypto.keychain.has(e)){const{message:t}=we("MISSING_OR_INVALID",`session topic does not exist in keychain: ${e}`);throw await this.deleteSession({topic:e}),new Error(t)}}async isValidSessionOrPairingTopic(e){if(this.checkRecentlyDeleted(e),this.client.session.keys.includes(e))await this.isValidSessionTopic(e);else if(this.client.core.pairing.pairings.keys.includes(e))this.isValidPairingTopic(e);else if(tn(e,!1)){const{message:t}=we("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${e}`);throw new Error(t)}else{const{message:t}=we("MISSING_OR_INVALID",`session or pairing topic should be a string: ${e}`);throw new Error(t)}}async isValidProposalId(e){if(!Ate(e)){const{message:t}=we("MISSING_OR_INVALID",`proposal id should be a number: ${e}`);throw new Error(t)}if(!this.client.proposal.keys.includes(e)){const{message:t}=we("NO_MATCHING_KEY",`proposal id doesn't exist: ${e}`);throw new Error(t)}if(Ts(this.client.proposal.get(e).expiryTimestamp)){await this.deleteProposal(e);const{message:t}=we("EXPIRED",`proposal id: ${e}`);throw new Error(t)}}}class zoe extends fu{constructor(e,t){super(e,t,Soe,hA),this.core=e,this.logger=t}}let Hoe=class extends fu{constructor(e,t){super(e,t,_oe,hA),this.core=e,this.logger=t}};class Foe extends fu{constructor(e,t){super(e,t,Noe,hA,r=>r.id),this.core=e,this.logger=t}}class qoe extends fu{constructor(e,t){super(e,t,Roe,Kb,()=>fy),this.core=e,this.logger=t}}class Voe extends fu{constructor(e,t){super(e,t,Boe,Kb),this.core=e,this.logger=t}}class Goe extends fu{constructor(e,t){super(e,t,koe,Kb,r=>r.id),this.core=e,this.logger=t}}var Koe=Object.defineProperty,Qoe=(n,e,t)=>e in n?Koe(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,$2=(n,e,t)=>Qoe(n,typeof e!="symbol"?e+"":e,t);class Yoe{constructor(e,t){this.core=e,this.logger=t,$2(this,"authKeys"),$2(this,"pairingTopics"),$2(this,"requests"),this.authKeys=new qoe(this.core,this.logger),this.pairingTopics=new Voe(this.core,this.logger),this.requests=new Goe(this.core,this.logger)}async init(){await this.authKeys.init(),await this.pairingTopics.init(),await this.requests.init()}}var Zoe=Object.defineProperty,Woe=(n,e,t)=>e in n?Zoe(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Je=(n,e,t)=>Woe(n,typeof e!="symbol"?e+"":e,t);let Joe=class Zk extends Qne{constructor(e){super(e),Je(this,"protocol",Kk),Je(this,"version",Qk),Je(this,"name",M2.name),Je(this,"metadata"),Je(this,"core"),Je(this,"logger"),Je(this,"events",new ei.EventEmitter),Je(this,"engine"),Je(this,"session"),Je(this,"proposal"),Je(this,"pendingRequest"),Je(this,"auth"),Je(this,"signConfig"),Je(this,"on",(r,i)=>this.events.on(r,i)),Je(this,"once",(r,i)=>this.events.once(r,i)),Je(this,"off",(r,i)=>this.events.off(r,i)),Je(this,"removeListener",(r,i)=>this.events.removeListener(r,i)),Je(this,"removeAllListeners",r=>this.events.removeAllListeners(r)),Je(this,"connect",async r=>{try{return await this.engine.connect(r)}catch(i){throw this.logger.error(i.message),i}}),Je(this,"pair",async r=>{try{return await this.engine.pair(r)}catch(i){throw this.logger.error(i.message),i}}),Je(this,"approve",async r=>{try{return await this.engine.approve(r)}catch(i){throw this.logger.error(i.message),i}}),Je(this,"reject",async r=>{try{return await this.engine.reject(r)}catch(i){throw this.logger.error(i.message),i}}),Je(this,"update",async r=>{try{return await this.engine.update(r)}catch(i){throw this.logger.error(i.message),i}}),Je(this,"extend",async r=>{try{return await this.engine.extend(r)}catch(i){throw this.logger.error(i.message),i}}),Je(this,"request",async r=>{try{return await this.engine.request(r)}catch(i){throw this.logger.error(i.message),i}}),Je(this,"respond",async r=>{try{return await this.engine.respond(r)}catch(i){throw this.logger.error(i.message),i}}),Je(this,"ping",async r=>{try{return await this.engine.ping(r)}catch(i){throw this.logger.error(i.message),i}}),Je(this,"emit",async r=>{try{return await this.engine.emit(r)}catch(i){throw this.logger.error(i.message),i}}),Je(this,"disconnect",async r=>{try{return await this.engine.disconnect(r)}catch(i){throw this.logger.error(i.message),i}}),Je(this,"find",r=>{try{return this.engine.find(r)}catch(i){throw this.logger.error(i.message),i}}),Je(this,"getPendingSessionRequests",()=>{try{return this.engine.getPendingSessionRequests()}catch(r){throw this.logger.error(r.message),r}}),Je(this,"authenticate",async(r,i)=>{try{return await this.engine.authenticate(r,i)}catch(s){throw this.logger.error(s.message),s}}),Je(this,"formatAuthMessage",r=>{try{return this.engine.formatAuthMessage(r)}catch(i){throw this.logger.error(i.message),i}}),Je(this,"approveSessionAuthenticate",async r=>{try{return await this.engine.approveSessionAuthenticate(r)}catch(i){throw this.logger.error(i.message),i}}),Je(this,"rejectSessionAuthenticate",async r=>{try{return await this.engine.rejectSessionAuthenticate(r)}catch(i){throw this.logger.error(i.message),i}}),this.name=(e==null?void 0:e.name)||M2.name,this.metadata=jW(e==null?void 0:e.metadata),this.signConfig=e==null?void 0:e.signConfig;const t=cA({logger:(e==null?void 0:e.logger)||M2.logger,name:this.name});this.logger=t,this.core=(e==null?void 0:e.core)||new Aoe(e),this.session=new Hoe(this.core,this.logger),this.proposal=new zoe(this.core,this.logger),this.pendingRequest=new Foe(this.core,this.logger),this.engine=new joe(this),this.auth=new Yoe(this.core,this.logger)}static async init(e){const t=new Zk(e);return await t.initialize(),t}get context(){return Br(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.auth.init(),await this.engine.init(),this.logger.info("SignClient Initialization Success")}catch(e){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(e.message),e}}};const Xoe=Joe;var Mm={exports:{}},rN;function ece(){return rN||(rN=1,(function(n,e){var t=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof Is<"u"&&Is,r=(function(){function s(){this.fetch=!1,this.DOMException=t.DOMException}return s.prototype=t,new s})();(function(s){(function(c){var l=typeof s<"u"&&s||typeof self<"u"&&self||typeof Is<"u"&&Is||{},f={searchParams:"URLSearchParams"in l,iterable:"Symbol"in l&&"iterator"in Symbol,blob:"FileReader"in l&&"Blob"in l&&(function(){try{return new Blob,!0}catch{return!1}})(),formData:"FormData"in l,arrayBuffer:"ArrayBuffer"in l};function h(A){return A&&DataView.prototype.isPrototypeOf(A)}if(f.arrayBuffer)var p=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],g=ArrayBuffer.isView||function(A){return A&&p.indexOf(Object.prototype.toString.call(A))>-1};function m(A){if(typeof A!="string"&&(A=String(A)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(A)||A==="")throw new TypeError('Invalid character in header field name: "'+A+'"');return A.toLowerCase()}function b(A){return typeof A!="string"&&(A=String(A)),A}function w(A){var E={next:function(){var P=A.shift();return{done:P===void 0,value:P}}};return f.iterable&&(E[Symbol.iterator]=function(){return E}),E}function x(A){this.map={},A instanceof x?A.forEach(function(E,P){this.append(P,E)},this):Array.isArray(A)?A.forEach(function(E){if(E.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+E.length);this.append(E[0],E[1])},this):A&&Object.getOwnPropertyNames(A).forEach(function(E){this.append(E,A[E])},this)}x.prototype.append=function(A,E){A=m(A),E=b(E);var P=this.map[A];this.map[A]=P?P+", "+E:E},x.prototype.delete=function(A){delete this.map[m(A)]},x.prototype.get=function(A){return A=m(A),this.has(A)?this.map[A]:null},x.prototype.has=function(A){return this.map.hasOwnProperty(m(A))},x.prototype.set=function(A,E){this.map[m(A)]=b(E)},x.prototype.forEach=function(A,E){for(var P in this.map)this.map.hasOwnProperty(P)&&A.call(E,this.map[P],P,this)},x.prototype.keys=function(){var A=[];return this.forEach(function(E,P){A.push(P)}),w(A)},x.prototype.values=function(){var A=[];return this.forEach(function(E){A.push(E)}),w(A)},x.prototype.entries=function(){var A=[];return this.forEach(function(E,P){A.push([P,E])}),w(A)},f.iterable&&(x.prototype[Symbol.iterator]=x.prototype.entries);function S(A){if(!A._noBody){if(A.bodyUsed)return Promise.reject(new TypeError("Already read"));A.bodyUsed=!0}}function O(A){return new Promise(function(E,P){A.onload=function(){E(A.result)},A.onerror=function(){P(A.error)}})}function T(A){var E=new FileReader,P=O(E);return E.readAsArrayBuffer(A),P}function _(A){var E=new FileReader,P=O(E),$=/charset=([A-Za-z0-9_-]+)/.exec(A.type),R=$?$[1]:"utf-8";return E.readAsText(A,R),P}function I(A){for(var E=new Uint8Array(A),P=new Array(E.length),$=0;$<E.length;$++)P[$]=String.fromCharCode(E[$]);return P.join("")}function N(A){if(A.slice)return A.slice(0);var E=new Uint8Array(A.byteLength);return E.set(new Uint8Array(A)),E.buffer}function U(){return this.bodyUsed=!1,this._initBody=function(A){this.bodyUsed=this.bodyUsed,this._bodyInit=A,A?typeof A=="string"?this._bodyText=A:f.blob&&Blob.prototype.isPrototypeOf(A)?this._bodyBlob=A:f.formData&&FormData.prototype.isPrototypeOf(A)?this._bodyFormData=A:f.searchParams&&URLSearchParams.prototype.isPrototypeOf(A)?this._bodyText=A.toString():f.arrayBuffer&&f.blob&&h(A)?(this._bodyArrayBuffer=N(A.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):f.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(A)||g(A))?this._bodyArrayBuffer=N(A):this._bodyText=A=Object.prototype.toString.call(A):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof A=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):f.searchParams&&URLSearchParams.prototype.isPrototypeOf(A)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},f.blob&&(this.blob=function(){var A=S(this);if(A)return A;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var A=S(this);return A||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(f.blob)return this.blob().then(T);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var A=S(this);if(A)return A;if(this._bodyBlob)return _(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(I(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},f.formData&&(this.formData=function(){return this.text().then(F)}),this.json=function(){return this.text().then(JSON.parse)},this}var z=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function M(A){var E=A.toUpperCase();return z.indexOf(E)>-1?E:A}function L(A,E){if(!(this instanceof L))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');E=E||{};var P=E.body;if(A instanceof L){if(A.bodyUsed)throw new TypeError("Already read");this.url=A.url,this.credentials=A.credentials,E.headers||(this.headers=new x(A.headers)),this.method=A.method,this.mode=A.mode,this.signal=A.signal,!P&&A._bodyInit!=null&&(P=A._bodyInit,A.bodyUsed=!0)}else this.url=String(A);if(this.credentials=E.credentials||this.credentials||"same-origin",(E.headers||!this.headers)&&(this.headers=new x(E.headers)),this.method=M(E.method||this.method||"GET"),this.mode=E.mode||this.mode||null,this.signal=E.signal||this.signal||(function(){if("AbortController"in l){var C=new AbortController;return C.signal}})(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&P)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(P),(this.method==="GET"||this.method==="HEAD")&&(E.cache==="no-store"||E.cache==="no-cache")){var $=/([?&])_=[^&]*/;if($.test(this.url))this.url=this.url.replace($,"$1_="+new Date().getTime());else{var R=/\?/;this.url+=(R.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}L.prototype.clone=function(){return new L(this,{body:this._bodyInit})};function F(A){var E=new FormData;return A.trim().split("&").forEach(function(P){if(P){var $=P.split("="),R=$.shift().replace(/\+/g," "),C=$.join("=").replace(/\+/g," ");E.append(decodeURIComponent(R),decodeURIComponent(C))}}),E}function q(A){var E=new x,P=A.replace(/\r?\n[\t ]+/g," ");return P.split("\r").map(function($){return $.indexOf(`
`)===0?$.substr(1,$.length):$}).forEach(function($){var R=$.split(":"),C=R.shift().trim();if(C){var H=R.join(":").trim();try{E.append(C,H)}catch(K){console.warn("Response "+K.message)}}}),E}U.call(L.prototype);function Q(A,E){if(!(this instanceof Q))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(E||(E={}),this.type="default",this.status=E.status===void 0?200:E.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=E.statusText===void 0?"":""+E.statusText,this.headers=new x(E.headers),this.url=E.url||"",this._initBody(A)}U.call(Q.prototype),Q.prototype.clone=function(){return new Q(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new x(this.headers),url:this.url})},Q.error=function(){var A=new Q(null,{status:200,statusText:""});return A.ok=!1,A.status=0,A.type="error",A};var G=[301,302,303,307,308];Q.redirect=function(A,E){if(G.indexOf(E)===-1)throw new RangeError("Invalid status code");return new Q(null,{status:E,headers:{location:A}})},c.DOMException=l.DOMException;try{new c.DOMException}catch{c.DOMException=function(E,P){this.message=E,this.name=P;var $=Error(E);this.stack=$.stack},c.DOMException.prototype=Object.create(Error.prototype),c.DOMException.prototype.constructor=c.DOMException}function W(A,E){return new Promise(function(P,$){var R=new L(A,E);if(R.signal&&R.signal.aborted)return $(new c.DOMException("Aborted","AbortError"));var C=new XMLHttpRequest;function H(){C.abort()}C.onload=function(){var Y={statusText:C.statusText,headers:q(C.getAllResponseHeaders()||"")};R.url.indexOf("file://")===0&&(C.status<200||C.status>599)?Y.status=200:Y.status=C.status,Y.url="responseURL"in C?C.responseURL:Y.headers.get("X-Request-URL");var se="response"in C?C.response:C.responseText;setTimeout(function(){P(new Q(se,Y))},0)},C.onerror=function(){setTimeout(function(){$(new TypeError("Network request failed"))},0)},C.ontimeout=function(){setTimeout(function(){$(new TypeError("Network request timed out"))},0)},C.onabort=function(){setTimeout(function(){$(new c.DOMException("Aborted","AbortError"))},0)};function K(Y){try{return Y===""&&l.location.href?l.location.href:Y}catch{return Y}}if(C.open(R.method,K(R.url),!0),R.credentials==="include"?C.withCredentials=!0:R.credentials==="omit"&&(C.withCredentials=!1),"responseType"in C&&(f.blob?C.responseType="blob":f.arrayBuffer&&(C.responseType="arraybuffer")),E&&typeof E.headers=="object"&&!(E.headers instanceof x||l.Headers&&E.headers instanceof l.Headers)){var J=[];Object.getOwnPropertyNames(E.headers).forEach(function(Y){J.push(m(Y)),C.setRequestHeader(Y,b(E.headers[Y]))}),R.headers.forEach(function(Y,se){J.indexOf(se)===-1&&C.setRequestHeader(se,Y)})}else R.headers.forEach(function(Y,se){C.setRequestHeader(se,Y)});R.signal&&(R.signal.addEventListener("abort",H),C.onreadystatechange=function(){C.readyState===4&&R.signal.removeEventListener("abort",H)}),C.send(typeof R._bodyInit>"u"?null:R._bodyInit)})}return W.polyfill=!0,l.fetch||(l.fetch=W,l.Headers=x,l.Request=L,l.Response=Q),c.Headers=x,c.Request=L,c.Response=Q,c.fetch=W,Object.defineProperty(c,"__esModule",{value:!0}),c})({})})(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var i=t.fetch?t:r;e=i.fetch,e.default=i.fetch,e.fetch=i.fetch,e.Headers=i.Headers,e.Request=i.Request,e.Response=i.Response,n.exports=e})(Mm,Mm.exports)),Mm.exports}var tce=ece();const iN=Sg(tce);var nce=Object.defineProperty,rce=Object.defineProperties,ice=Object.getOwnPropertyDescriptors,sN=Object.getOwnPropertySymbols,sce=Object.prototype.hasOwnProperty,ace=Object.prototype.propertyIsEnumerable,aN=(n,e,t)=>e in n?nce(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,oN=(n,e)=>{for(var t in e||(e={}))sce.call(e,t)&&aN(n,t,e[t]);if(sN)for(var t of sN(e))ace.call(e,t)&&aN(n,t,e[t]);return n},cN=(n,e)=>rce(n,ice(e));const oce={Accept:"application/json","Content-Type":"application/json"},cce="POST",lN={headers:oce,method:cce},uN=10;let Wk=class{constructor(e,t=!1){if(this.url=e,this.disableProviderPing=t,this.events=new ei.EventEmitter,this.isAvailable=!1,this.registering=!1,!OC(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);this.url=e,this.disableProviderPing=t}get connected(){return this.isAvailable}get connecting(){return this.registering}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async open(e=this.url){await this.register(e)}async close(){if(!this.isAvailable)throw new Error("Connection already closed");this.onClose()}async send(e){this.isAvailable||await this.register();try{const t=Qa(e),r=await(await iN(this.url,cN(oN({},lN),{body:t}))).json();this.onPayload({data:r})}catch(t){this.onError(e.id,t)}}async register(e=this.url){if(!OC(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);if(this.registering){const t=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=t||this.events.listenerCount("open")>=t)&&this.events.setMaxListeners(t+1),new Promise((r,i)=>{this.events.once("register_error",s=>{this.resetMaxListeners(),i(s)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.isAvailable>"u")return i(new Error("HTTP connection is missing or invalid"));r()})})}this.url=e,this.registering=!0;try{if(!this.disableProviderPing){const t=Qa({id:1,jsonrpc:"2.0",method:"test",params:[]});await iN(e,cN(oN({},lN),{body:t}))}this.onOpen()}catch(t){const r=this.parseError(t);throw this.events.emit("register_error",r),this.onClose(),r}}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(e){if(typeof e.data>"u")return;const t=typeof e.data=="string"?tu(e.data):e.data;this.events.emit("payload",t)}onError(e,t){const r=this.parseError(t),i=r.message||r.toString(),s=qb(e,i);this.events.emit("payload",s)}parseError(e,t=this.url){return Ok(e,t,"HTTP")}resetMaxListeners(){this.events.getMaxListeners()>uN&&this.events.setMaxListeners(uN)}};function dA(n){return n==null||typeof n!="object"&&typeof n!="function"}function Jk(n){return Object.getOwnPropertySymbols(n).filter(e=>Object.prototype.propertyIsEnumerable.call(n,e))}function Xk(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}const lce="[object RegExp]",eP="[object String]",tP="[object Number]",nP="[object Boolean]",rP="[object Arguments]",uce="[object Symbol]",fce="[object Date]",hce="[object Map]",dce="[object Set]",pce="[object Array]",gce="[object ArrayBuffer]",mce="[object Object]",yce="[object DataView]",bce="[object Uint8Array]",wce="[object Uint8ClampedArray]",vce="[object Uint16Array]",xce="[object Uint32Array]",Ece="[object Int8Array]",Ace="[object Int16Array]",Sce="[object Int32Array]",_ce="[object Float32Array]",Oce="[object Float64Array]";function pA(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function Cce(n,e){return Of(n,void 0,n,new Map,e)}function Of(n,e,t,r=new Map,i=void 0){const s=i==null?void 0:i(n,e,t,r);if(s!=null)return s;if(dA(n))return n;if(r.has(n))return r.get(n);if(Array.isArray(n)){const c=new Array(n.length);r.set(n,c);for(let l=0;l<n.length;l++)c[l]=Of(n[l],l,t,r,i);return Object.hasOwn(n,"index")&&(c.index=n.index),Object.hasOwn(n,"input")&&(c.input=n.input),c}if(n instanceof Date)return new Date(n.getTime());if(n instanceof RegExp){const c=new RegExp(n.source,n.flags);return c.lastIndex=n.lastIndex,c}if(n instanceof Map){const c=new Map;r.set(n,c);for(const[l,f]of n)c.set(l,Of(f,l,t,r,i));return c}if(n instanceof Set){const c=new Set;r.set(n,c);for(const l of n)c.add(Of(l,void 0,t,r,i));return c}if(typeof Buffer<"u"&&Buffer.isBuffer(n))return n.subarray();if(pA(n)){const c=new(Object.getPrototypeOf(n)).constructor(n.length);r.set(n,c);for(let l=0;l<n.length;l++)c[l]=Of(n[l],l,t,r,i);return c}if(n instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&n instanceof SharedArrayBuffer)return n.slice(0);if(n instanceof DataView){const c=new DataView(n.buffer.slice(0),n.byteOffset,n.byteLength);return r.set(n,c),fl(c,n,t,r,i),c}if(typeof File<"u"&&n instanceof File){const c=new File([n],n.name,{type:n.type});return r.set(n,c),fl(c,n,t,r,i),c}if(n instanceof Blob){const c=new Blob([n],{type:n.type});return r.set(n,c),fl(c,n,t,r,i),c}if(n instanceof Error){const c=new n.constructor;return r.set(n,c),c.message=n.message,c.name=n.name,c.stack=n.stack,c.cause=n.cause,fl(c,n,t,r,i),c}if(typeof n=="object"&&Nce(n)){const c=Object.create(Object.getPrototypeOf(n));return r.set(n,c),fl(c,n,t,r,i),c}return n}function fl(n,e,t=n,r,i){const s=[...Object.keys(e),...Jk(e)];for(let c=0;c<s.length;c++){const l=s[c],f=Object.getOwnPropertyDescriptor(n,l);(f==null||f.writable)&&(n[l]=Of(e[l],l,t,r,i))}}function Nce(n){switch(Xk(n)){case rP:case pce:case gce:case yce:case nP:case fce:case _ce:case Oce:case Ece:case Ace:case Sce:case hce:case tP:case mce:case lce:case dce:case eP:case uce:case bce:case wce:case vce:case xce:return!0;default:return!1}}function Ice(n,e){return Cce(n,(t,r,i,s)=>{if(typeof n=="object")switch(Object.prototype.toString.call(n)){case tP:case eP:case nP:{const c=new n.constructor(n==null?void 0:n.valueOf());return fl(c,n),c}case rP:{const c={};return fl(c,n),c.length=n.length,c[Symbol.iterator]=n[Symbol.iterator],c}default:return}})}function fN(n){return Ice(n)}function hN(n){return n!==null&&typeof n=="object"&&Xk(n)==="[object Arguments]"}function dN(n){return typeof n=="object"&&n!==null}function Tce(){}function Dce(n){return pA(n)}function Rce(n){var t;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const r=n[Symbol.toStringTag];return r==null||!((t=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&t.writable)?!1:n.toString()===`[object ${r}]`}let e=n;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(n)===e}function Bce(n){if(dA(n))return n;if(Array.isArray(n)||pA(n)||n instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&n instanceof SharedArrayBuffer)return n.slice(0);const e=Object.getPrototypeOf(n),t=e.constructor;if(n instanceof Date||n instanceof Map||n instanceof Set)return new t(n);if(n instanceof RegExp){const r=new t(n);return r.lastIndex=n.lastIndex,r}if(n instanceof DataView)return new t(n.buffer.slice(0));if(n instanceof Error){const r=new t(n.message);return r.stack=n.stack,r.name=n.name,r.cause=n.cause,r}if(typeof File<"u"&&n instanceof File)return new t([n],n.name,{type:n.type,lastModified:n.lastModified});if(typeof n=="object"){const r=Object.create(e);return Object.assign(r,n)}return n}function kce(n,...e){const t=e.slice(0,-1),r=e[e.length-1];let i=n;for(let s=0;s<t.length;s++){const c=t[s];i=HE(i,c,r,new Map)}return i}function HE(n,e,t,r){if(dA(n)&&(n=Object(n)),e==null||typeof e!="object")return n;if(r.has(e))return Bce(r.get(e));if(r.set(e,n),Array.isArray(e)){e=e.slice();for(let s=0;s<e.length;s++)e[s]=e[s]??void 0}const i=[...Object.keys(e),...Jk(e)];for(let s=0;s<i.length;s++){const c=i[s];let l=e[c],f=n[c];if(hN(l)&&(l={...l}),hN(f)&&(f={...f}),typeof Buffer<"u"&&Buffer.isBuffer(l)&&(l=fN(l)),Array.isArray(l))if(typeof f=="object"&&f!=null){const p=[],g=Reflect.ownKeys(f);for(let m=0;m<g.length;m++){const b=g[m];p[b]=f[b]}f=p}else f=[];const h=t(f,l,c,n,e,r);h!=null?n[c]=h:Array.isArray(l)||dN(f)&&dN(l)?n[c]=HE(f,l,t,r):f==null&&Rce(l)?n[c]=HE({},l,t,r):f==null&&Dce(l)?n[c]=fN(l):(f===void 0||l!==void 0)&&(n[c]=l)}return n}function Pce(n,...e){return kce(n,...e,Tce)}const pN="error",Uce="wss://relay.walletconnect.org",Mce="wc",iP="universal_provider",Lm=`${Mce}@2:${iP}:`,sP="https://rpc.walletconnect.org/v1/",aP="generic",Lce=`${sP}bundler`,Mf="call_status",$ce=86400,gA={DEFAULT_CHAIN_CHANGED:"default_chain_changed"};var jce=Object.defineProperty,zce=Object.defineProperties,Hce=Object.getOwnPropertyDescriptors,gN=Object.getOwnPropertySymbols,Fce=Object.prototype.hasOwnProperty,qce=Object.prototype.propertyIsEnumerable,mN=(n,e,t)=>e in n?jce(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,$m=(n,e)=>{for(var t in e||(e={}))Fce.call(e,t)&&mN(n,t,e[t]);if(gN)for(var t of gN(e))qce.call(e,t)&&mN(n,t,e[t]);return n},Vce=(n,e)=>zce(n,Hce(e));function oP(n,e,t){var r;const i=Ha(n);return((r=e.rpcMap)==null?void 0:r[i.reference])||`${sP}?chainId=${i.namespace}:${i.reference}&projectId=${t}`}function Gce(n){return n.includes(":")?n.split(":")[1]:n}function cP(n){return n.map(e=>`${e.split(":")[0]}:${e.split(":")[1]}`)}function Kce(n,e){const t=Object.keys(e.namespaces).filter(i=>i.includes(n));if(!t.length)return[];const r=[];return t.forEach(i=>{const s=e.namespaces[i].accounts;r.push(...s)}),r}function yN(n){return Object.fromEntries(Object.entries(n).filter(([e,t])=>{var r,i;return((r=t==null?void 0:t.chains)==null?void 0:r.length)&&((i=t==null?void 0:t.chains)==null?void 0:i.length)>0}))}function jm(n={},e={}){const t=yN(bN(n)),r=yN(bN(e));return Pce(t,r)}function bN(n){var e,t,r,i,s;const c={};if(!Ms(n))return c;for(const[l,f]of Object.entries(n)){const h=Fb(l)?[l]:f.chains,p=f.methods||[],g=f.events||[],m=f.rpcMap||{},b=_f(l);c[b]=Vce($m($m({},c[b]),f),{chains:Us(h,(e=c[b])==null?void 0:e.chains),methods:Us(p,(t=c[b])==null?void 0:t.methods),events:Us(g,(r=c[b])==null?void 0:r.events)}),(Ms(m)||Ms(((i=c[b])==null?void 0:i.rpcMap)||{}))&&(c[b].rpcMap=$m($m({},m),(s=c[b])==null?void 0:s.rpcMap))}return c}function wN(n){return n.includes(":")?n.split(":")[2]:n}function vN(n){const e={};for(const[t,r]of Object.entries(n)){const i=r.methods||[],s=r.events||[],c=r.accounts||[],l=Fb(t)?[t]:r.chains?r.chains:cP(r.accounts);e[t]={chains:l,methods:i,events:s,accounts:c}}return e}function j2(n){return typeof n=="number"?n:n.includes("0x")?parseInt(n,16):(n=n.includes(":")?n.split(":")[1]:n,isNaN(Number(n))?n:Number(n))}function Qce(n){try{const e=JSON.parse(n);return typeof e=="object"&&e!==null&&!Array.isArray(e)}catch{return!1}}const lP={},Lf=n=>lP[n],z2=(n,e)=>{lP[n]=e};var Yce=Object.defineProperty,xN=Object.getOwnPropertySymbols,Zce=Object.prototype.hasOwnProperty,Wce=Object.prototype.propertyIsEnumerable,EN=(n,e,t)=>e in n?Yce(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,AN=(n,e)=>{for(var t in e||(e={}))Zce.call(e,t)&&EN(n,t,e[t]);if(xN)for(var t of xN(e))Wce.call(e,t)&&EN(n,t,e[t]);return n};const SN="eip155",Jce=["atomic","flow-control","paymasterService","sessionKeys","auxiliaryFunds"],Xce=n=>n&&n.startsWith("0x")?BigInt(n).toString(10):n,H2=n=>n&&n.startsWith("0x")?n:`0x${BigInt(n).toString(16)}`,_N=n=>Object.keys(n).filter(e=>Jce.includes(e)).reduce((e,t)=>(e[t]=ele(n[t]),e),{}),ele=n=>typeof n=="string"&&Qce(n)?JSON.parse(n):n,tle=(n,e,t)=>{const{sessionProperties:r={},scopedProperties:i={}}=n,s={};if(!Ms(i)&&!Ms(r))return;const c=_N(r);for(const l of t){const f=Xce(l);if(!f)continue;s[H2(f)]=c;const h=i==null?void 0:i[`${SN}:${f}`];if(h){const p=h==null?void 0:h[`${SN}:${f}:${e}`];s[H2(f)]=AN(AN({},s[H2(f)]),_N(p||h))}}for(const[l,f]of Object.entries(s))Object.keys(f).length===0&&delete s[l];return Object.keys(s).length>0?s:void 0};var nle=Object.defineProperty,rle=(n,e,t)=>e in n?nle(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,ile=(n,e,t)=>rle(n,e+"",t);let F2,sle=class uP{constructor(e){ile(this,"storage"),this.storage=e}async getItem(e){return await this.storage.getItem(e)}async setItem(e,t){return await this.storage.setItem(e,t)}async removeItem(e){return await this.storage.removeItem(e)}static getStorage(e){return F2||(F2=new uP(e)),F2}};var ale=Object.defineProperty,ole=Object.defineProperties,cle=Object.getOwnPropertyDescriptors,ON=Object.getOwnPropertySymbols,lle=Object.prototype.hasOwnProperty,ule=Object.prototype.propertyIsEnumerable,CN=(n,e,t)=>e in n?ale(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,fle=(n,e)=>{for(var t in e||(e={}))lle.call(e,t)&&CN(n,t,e[t]);if(ON)for(var t of ON(e))ule.call(e,t)&&CN(n,t,e[t]);return n},hle=(n,e)=>ole(n,cle(e));async function dle(n,e){const t=Ha(n.result.capabilities.caip345.caip2),r=n.result.capabilities.caip345.transactionHashes,i=await Promise.allSettled(r.map(g=>ple(t.reference,g,e))),s=i.filter(g=>g.status==="fulfilled").map(g=>g.value).filter(g=>g);i.filter(g=>g.status==="rejected").forEach(g=>console.warn("Failed to fetch transaction receipt:",g.reason));const c=!s.length||s.some(g=>!g),l=s.every(g=>(g==null?void 0:g.status)==="0x1"),f=s.every(g=>(g==null?void 0:g.status)==="0x0"),h=s.some(g=>(g==null?void 0:g.status)==="0x0");let p;return c?p=100:l?p=200:f?p=500:h&&(p=600),{id:n.result.id,version:n.request.version,atomic:n.request.atomicRequired,chainId:n.request.chainId,capabilities:n.result.capabilities,receipts:s,status:p}}async function ple(n,e,t){return await t(parseInt(n)).request(Zi("eth_getTransactionReceipt",[e]))}async function gle({sendCalls:n,storage:e}){const t=await e.getItem(Mf);await e.setItem(Mf,hle(fle({},t),{[n.result.id]:{request:n.request,result:n.result,expiry:Jt($ce)}}))}async function mle({resultId:n,storage:e}){const t=await e.getItem(Mf);if(t){delete t[n],await e.setItem(Mf,t);for(const r in t)Ts(t[r].expiry)&&delete t[r];await e.setItem(Mf,t)}}async function yle({resultId:n,storage:e}){const t=await e.getItem(Mf),r=t==null?void 0:t[n];if(r&&!Ts(r.expiry))return r;await mle({resultId:n,storage:e})}var ble=Object.defineProperty,wle=Object.defineProperties,vle=Object.getOwnPropertyDescriptors,NN=Object.getOwnPropertySymbols,xle=Object.prototype.hasOwnProperty,Ele=Object.prototype.propertyIsEnumerable,FE=(n,e,t)=>e in n?ble(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,q2=(n,e)=>{for(var t in e||(e={}))xle.call(e,t)&&FE(n,t,e[t]);if(NN)for(var t of NN(e))Ele.call(e,t)&&FE(n,t,e[t]);return n},V2=(n,e)=>wle(n,vle(e)),Xc=(n,e,t)=>FE(n,typeof e!="symbol"?e+"":e,t);class Ale{constructor(e){Xc(this,"name","eip155"),Xc(this,"client"),Xc(this,"chainId"),Xc(this,"namespace"),Xc(this,"httpProviders"),Xc(this,"events"),Xc(this,"storage"),this.namespace=e.namespace,this.events=Lf("events"),this.client=Lf("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain()),this.storage=sle.getStorage(this.client.core.storage)}async request(e){switch(e.request.method){case"eth_requestAccounts":return this.getAccounts();case"eth_accounts":return this.getAccounts();case"wallet_switchEthereumChain":return await this.handleSwitchChain(e);case"eth_chainId":return parseInt(this.getDefaultChain());case"wallet_getCapabilities":return await this.getCapabilities(e);case"wallet_getCallsStatus":return await this.getCallStatus(e);case"wallet_sendCalls":return await this.sendCalls(e)}return this.namespace.methods.includes(e.request.method)?await this.client.request(e):this.getHttpProvider().request(e.request)}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(parseInt(e),t);const r=this.chainId;this.chainId=parseInt(e),this.events.emit(gA.DEFAULT_CHAIN_CHANGED,{currentCaipChainId:`${this.name}:${e}`,previousCaipChainId:`${this.name}:${r}`})}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}createHttpProvider(e,t){const r=t||oP(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new fA(new Wk(r,Lf("disableProviderPing")))}setHttpProvider(e,t){const r=this.createHttpProvider(e,t);r&&(this.httpProviders[e]=r)}createHttpProviders(){const e={};return this.namespace.chains.forEach(t=>{var r;const i=parseInt(Gce(t));e[i]=this.createHttpProvider(i,(r=this.namespace.rpcMap)==null?void 0:r[t])}),e}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2]))]:[]}getHttpProvider(e){const t=e||this.chainId;return this.httpProviders[t]||(this.httpProviders=V2(q2({},this.httpProviders),{[t]:this.createHttpProvider(t)}),this.httpProviders[t])}async handleSwitchChain(e){var t,r;let i=e.request.params?(t=e.request.params[0])==null?void 0:t.chainId:"0x0";i=i.startsWith("0x")?i:`0x${i}`;const s=parseInt(i,16);if(this.isChainApproved(s))this.setDefaultChain(`${s}`);else if(this.namespace.methods.includes("wallet_switchEthereumChain"))await this.client.request({topic:e.topic,request:{method:e.request.method,params:[{chainId:i}]},chainId:(r=this.namespace.chains)==null?void 0:r[0]}),this.setDefaultChain(`${s}`);else throw new Error(`Failed to switch to chain 'eip155:${s}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`);return null}isChainApproved(e){return this.namespace.chains.includes(`${this.name}:${e}`)}async getCapabilities(e){var t,r,i,s,c;const l=(r=(t=e.request)==null?void 0:t.params)==null?void 0:r[0],f=((s=(i=e.request)==null?void 0:i.params)==null?void 0:s[1])||[];if(!l)throw new Error("Missing address parameter in `wallet_getCapabilities` request");const h=this.client.session.get(e.topic),p=((c=h==null?void 0:h.sessionProperties)==null?void 0:c.capabilities)||{},g=`${l}${f.join(",")}`,m=p==null?void 0:p[g];if(m)return m;let b;try{b=tle(h,l,f)}catch(x){console.warn("Failed to extract capabilities from session",x)}if(b)return b;const w=await this.client.request(e);try{await this.client.session.update(e.topic,{sessionProperties:V2(q2({},h.sessionProperties||{}),{capabilities:V2(q2({},p||{}),{[g]:w})})})}catch(x){console.warn("Failed to update session with capabilities",x)}return w}async getCallStatus(e){var t,r,i;const s=this.client.session.get(e.topic),c=(t=s.sessionProperties)==null?void 0:t.bundler_name;if(c){const h=this.getBundlerUrl(e.chainId,c);try{return await this.getUserOperationReceipt(h,e)}catch(p){console.warn("Failed to fetch call status from bundler",p,h)}}const l=(r=s.sessionProperties)==null?void 0:r.bundler_url;if(l)try{return await this.getUserOperationReceipt(l,e)}catch(h){console.warn("Failed to fetch call status from custom bundler",h,l)}const f=await yle({resultId:(i=e.request.params)==null?void 0:i[0],storage:this.storage});if(f)try{return await dle(f,this.getHttpProvider.bind(this))}catch(h){console.warn("Failed to fetch call status from stored send calls",h,f)}if(this.namespace.methods.includes(e.request.method))return await this.client.request(e);throw new Error("Fetching call status not approved by the wallet.")}async getUserOperationReceipt(e,t){var r;const i=new URL(e),s=await fetch(i,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Zi("eth_getUserOperationReceipt",[(r=t.request.params)==null?void 0:r[0]]))});if(!s.ok)throw new Error(`Failed to fetch user operation receipt - ${s.status}`);return await s.json()}getBundlerUrl(e,t){return`${Lce}?projectId=${this.client.core.projectId}&chainId=${e}&bundler=${t}`}async sendCalls(e){var t,r,i;const s=await this.client.request(e),c=(t=e.request.params)==null?void 0:t[0],l=s==null?void 0:s.id,f=(s==null?void 0:s.capabilities)||{},h=(r=f==null?void 0:f.caip345)==null?void 0:r.caip2,p=(i=f==null?void 0:f.caip345)==null?void 0:i.transactionHashes;return!l||!h||!(p!=null&&p.length)||await gle({sendCalls:{request:c,result:s},storage:this.storage}),s}}var Sle=Object.defineProperty,_le=(n,e,t)=>e in n?Sle(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,hf=(n,e,t)=>_le(n,typeof e!="symbol"?e+"":e,t);class Ole{constructor(e){hf(this,"name",aP),hf(this,"client"),hf(this,"httpProviders"),hf(this,"events"),hf(this,"namespace"),hf(this,"chainId"),this.namespace=e.namespace,this.events=Lf("events"),this.client=Lf("client"),this.chainId=this.getDefaultChain(),this.name=this.getNamespaceName(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace.chains=[...new Set((this.namespace.chains||[]).concat(e.chains||[]))],this.namespace.accounts=[...new Set((this.namespace.accounts||[]).concat(e.accounts||[]))],this.namespace.methods=[...new Set((this.namespace.methods||[]).concat(e.methods||[]))],this.namespace.events=[...new Set((this.namespace.events||[]).concat(e.events||[]))],this.httpProviders=this.createHttpProviders()}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider(e.chainId).request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t);const r=this.chainId;this.chainId=e,this.events.emit(gA.DEFAULT_CHAIN_CHANGED,{currentCaipChainId:`${this.name}:${e}`,previousCaipChainId:`${this.name}:${r}`})}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getNamespaceName(){const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return Ha(e).namespace}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2]))]:[]}createHttpProviders(){var e,t;const r={};return(t=(e=this.namespace)==null?void 0:e.accounts)==null||t.forEach(i=>{var s,c;const l=Ha(i),f=(c=(s=this.namespace)==null?void 0:s.rpcMap)==null?void 0:c[`${l.namespace}:${l.reference}`];r[l.reference]=this.createHttpProvider(i,f)}),r}getHttpProvider(e){const t=Ha(e).reference,r=this.httpProviders[t];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,t){const r=this.createHttpProvider(e,t);r&&(this.httpProviders[e]=r)}createHttpProvider(e,t){const r=t||oP(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new fA(new Wk(r,Lf("disableProviderPing")))}}var Cle=Object.defineProperty,Nle=Object.defineProperties,Ile=Object.getOwnPropertyDescriptors,IN=Object.getOwnPropertySymbols,Tle=Object.prototype.hasOwnProperty,Dle=Object.prototype.propertyIsEnumerable,qE=(n,e,t)=>e in n?Cle(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,mp=(n,e)=>{for(var t in e||(e={}))Tle.call(e,t)&&qE(n,t,e[t]);if(IN)for(var t of IN(e))Dle.call(e,t)&&qE(n,t,e[t]);return n},zm=(n,e)=>Nle(n,Ile(e)),gi=(n,e,t)=>qE(n,typeof e!="symbol"?e+"":e,t);let Rle=class fP{constructor(e){gi(this,"client"),gi(this,"namespaces"),gi(this,"optionalNamespaces"),gi(this,"sessionProperties"),gi(this,"scopedProperties"),gi(this,"events",new D3),gi(this,"rpcProviders",{}),gi(this,"session"),gi(this,"providerOpts"),gi(this,"logger"),gi(this,"uri"),gi(this,"disableProviderPing",!1);var t,r;this.providerOpts=e,this.logger=cA({logger:(t=e.logger)!=null?t:pN,name:(r=this.providerOpts.name)!=null?r:iP}),this.disableProviderPing=(e==null?void 0:e.disableProviderPing)||!1}static async init(e){const t=new fP(e);return await t.initialize(),t}async request(e,t,r){const[i,s]=this.validateChain(t);if(!this.session)throw new Error("Please call connect() before request()");return await this.getProvider(i).request({request:mp({},e),chainId:`${i}:${s}`,topic:this.session.topic,expiry:r})}sendAsync(e,t,r,i){const s=new Date().getTime();this.request(e,r,i).then(c=>t(null,og(s,c))).catch(c=>t(c,void 0))}async enable(){if(!this.client)throw new Error("Sign Client not initialized");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties}),await this.requestAccounts()}async disconnect(){var e;if(!this.session)throw new Error("Please call connect() before enable()");await this.client.disconnect({topic:(e=this.session)==null?void 0:e.topic,reason:Nt("USER_DISCONNECTED")}),await this.cleanup()}async connect(e){if(!this.client)throw new Error("Sign Client not initialized");if(this.setNamespaces(e),this.cleanupPendingPairings(),!e.skipPairing)return await this.pair(e.pairingTopic)}async authenticate(e,t){if(!this.client)throw new Error("Sign Client not initialized");this.setNamespaces(e),await this.cleanupPendingPairings();const{uri:r,response:i}=await this.client.authenticate(e,t);r&&(this.uri=r,this.events.emit("display_uri",r));const s=await i();if(this.session=s.session,this.session){const c=vN(this.session.namespaces);this.namespaces=jm(this.namespaces,c),await this.persist("namespaces",this.namespaces),this.onConnect()}return s}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}removeListener(e,t){this.events.removeListener(e,t)}off(e,t){this.events.off(e,t)}get isWalletConnect(){return!0}async pair(e){const{uri:t,approval:r}=await this.client.connect({pairingTopic:e,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties});t&&(this.uri=t,this.events.emit("display_uri",t));const i=await r();this.session=i;const s=vN(i.namespaces);return this.namespaces=jm(this.namespaces,s),await this.persist("namespaces",this.namespaces),await this.persist("optionalNamespaces",this.optionalNamespaces),this.onConnect(),this.session}setDefaultChain(e,t){try{if(!this.session)return;const[r,i]=this.validateChain(e);this.getProvider(r).setDefaultChain(i,t)}catch(r){if(!/Please call connect/.test(r.message))throw r}}async cleanupPendingPairings(e={}){try{this.logger.info("Cleaning up inactive pairings...");const t=this.client.pairing.getAll();if(!Ii(t))return;for(const r of t)e.deletePairings?this.client.core.expirer.set(r.topic,0):await this.client.core.relayer.subscriber.unsubscribe(r.topic);this.logger.info(`Inactive pairings cleared: ${t.length}`)}catch(t){this.logger.warn(t,"Failed to cleanup pending pairings")}}abortPairingAttempt(){this.logger.warn("abortPairingAttempt is deprecated. This is now a no-op.")}async checkStorage(){this.namespaces=await this.getFromStore("namespaces")||{},this.optionalNamespaces=await this.getFromStore("optionalNamespaces")||{},this.session&&this.createProviders()}async initialize(){this.logger.trace("Initialized"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){var e,t;if(this.client=this.providerOpts.client||await Xoe.init({core:this.providerOpts.core,logger:this.providerOpts.logger||pN,relayUrl:this.providerOpts.relayUrl||Uce,projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,storage:this.providerOpts.storage,name:this.providerOpts.name,customStoragePrefix:this.providerOpts.customStoragePrefix,telemetryEnabled:this.providerOpts.telemetryEnabled}),this.providerOpts.session)try{this.session=this.client.session.get(this.providerOpts.session.topic)}catch(r){throw this.logger.error(r,"Failed to get session"),new Error(`The provided session: ${(t=(e=this.providerOpts)==null?void 0:e.session)==null?void 0:t.topic} doesn't exist in the Sign client`)}else{const r=this.client.session.getAll();this.session=r[0]}this.logger.trace("SignClient Initialized")}createProviders(){if(!this.client)throw new Error("Sign Client not initialized");if(!this.session)throw new Error("Session not initialized. Please call connect() before enable()");const e=[...new Set(Object.keys(this.session.namespaces).map(t=>_f(t)))];z2("client",this.client),z2("events",this.events),z2("disableProviderPing",this.disableProviderPing),e.forEach(t=>{if(!this.session)return;const r=Kce(t,this.session);if((r==null?void 0:r.length)===0)return;const i=cP(r),s=jm(this.namespaces,this.optionalNamespaces),c=zm(mp({},s[t]),{accounts:r,chains:i});switch(t){case"eip155":this.rpcProviders[t]=new Ale({namespace:c});break;default:this.rpcProviders[t]=new Ole({namespace:c})}})}registerEventListeners(){if(typeof this.client>"u")throw new Error("Sign Client is not initialized");this.client.on("session_ping",e=>{var t;const{topic:r}=e;r===((t=this.session)==null?void 0:t.topic)&&this.events.emit("session_ping",e)}),this.client.on("session_event",e=>{var t;const{params:r,topic:i}=e;if(i!==((t=this.session)==null?void 0:t.topic))return;const{event:s}=r;if(s.name==="accountsChanged"){const c=s.data;c&&Ii(c)&&this.events.emit("accountsChanged",c.map(wN))}else if(s.name==="chainChanged"){const c=r.chainId,l=r.event.data,f=_f(c),h=j2(c)!==j2(l)?`${f}:${j2(l)}`:c;this.onChainChanged({currentCaipChainId:h})}else this.events.emit(s.name,s.data);this.events.emit("session_event",e)}),this.client.on("session_update",({topic:e,params:t})=>{var r,i;if(e!==((r=this.session)==null?void 0:r.topic))return;const{namespaces:s}=t,c=(i=this.client)==null?void 0:i.session.get(e);this.session=zm(mp({},c),{namespaces:s}),this.onSessionUpdate(),this.events.emit("session_update",{topic:e,params:t})}),this.client.on("session_delete",async e=>{var t;e.topic===((t=this.session)==null?void 0:t.topic)&&(await this.cleanup(),this.events.emit("session_delete",e),this.events.emit("disconnect",zm(mp({},Nt("USER_DISCONNECTED")),{data:e.topic})))}),this.on(gA.DEFAULT_CHAIN_CHANGED,e=>{this.onChainChanged(zm(mp({},e),{internal:!0}))})}getProvider(e){return this.rpcProviders[e]||this.rpcProviders[aP]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(e=>{var t;this.getProvider(e).updateNamespace((t=this.session)==null?void 0:t.namespaces[e])})}setNamespaces(e){const{namespaces:t={},optionalNamespaces:r={},sessionProperties:i,scopedProperties:s}=e;this.optionalNamespaces=jm(t,r),this.sessionProperties=i,this.scopedProperties=s}validateChain(e){const[t,r]=(e==null?void 0:e.split(":"))||["",""];if(!this.namespaces||!Object.keys(this.namespaces).length)return[t,r];if(t&&!Object.keys(this.namespaces||{}).map(c=>_f(c)).includes(t))throw new Error(`Namespace '${t}' is not configured. Please call connect() first with namespace config.`);if(t&&r)return[t,r];const i=_f(Object.keys(this.namespaces)[0]),s=this.rpcProviders[i].getDefaultChain();return[i,s]}async requestAccounts(){const[e]=this.validateChain();return await this.getProvider(e).requestAccounts()}async onChainChanged({currentCaipChainId:e,previousCaipChainId:t,internal:r=!1}){if(!this.namespaces)return;const[i,s]=this.validateChain(e);s&&(this.updateNamespaceChain(i,s),r?(this.events.emit("chainChanged",s),this.emitAccountsChangedOnChainChange({namespace:i,currentCaipChainId:e,previousCaipChainId:t})):this.getProvider(i).setDefaultChain(s),await this.persist("namespaces",this.namespaces))}emitAccountsChangedOnChainChange({namespace:e,currentCaipChainId:t,previousCaipChainId:r}){var i,s;try{if(r===t)return;const c=(s=(i=this.session)==null?void 0:i.namespaces[e])==null?void 0:s.accounts;if(!c)return;const l=c.filter(f=>f.includes(`${t}:`)).map(wN);if(!Ii(l))return;this.events.emit("accountsChanged",l)}catch(c){this.logger.warn(c,"Failed to emit accountsChanged on chain change")}}updateNamespaceChain(e,t){if(!this.namespaces)return;const r=this.namespaces[e]?e:`${e}:${t}`,i={chains:[],methods:[],events:[],defaultChain:t};this.namespaces[r]?this.namespaces[r]&&(this.namespaces[r].defaultChain=t):this.namespaces[r]=i}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}async cleanup(){this.namespaces=void 0,this.optionalNamespaces=void 0,this.sessionProperties=void 0,await this.deleteFromStore("namespaces"),await this.deleteFromStore("optionalNamespaces"),await this.deleteFromStore("sessionProperties"),this.session=void 0,this.cleanupPendingPairings({deletePairings:!0}),await this.cleanupStorage()}async persist(e,t){var r;const i=((r=this.session)==null?void 0:r.topic)||"";await this.client.core.storage.setItem(`${Lm}/${e}${i}`,t)}async getFromStore(e){var t;const r=((t=this.session)==null?void 0:t.topic)||"";return await this.client.core.storage.getItem(`${Lm}/${e}${r}`)}async deleteFromStore(e){var t;const r=((t=this.session)==null?void 0:t.topic)||"";await this.client.core.storage.removeItem(`${Lm}/${e}${r}`)}async cleanupStorage(){var e;try{if(((e=this.client)==null?void 0:e.session.length)>0)return;const t=await this.client.core.storage.getKeys();for(const r of t)r.startsWith(Lm)&&await this.client.core.storage.removeItem(r)}catch(t){this.logger.warn(t,"Failed to cleanup storage")}}};const Ble=Rle,kle="wc",Ple="ethereum_provider",Ule=`${kle}@2:${Ple}:`,Mle="https://rpc.walletconnect.org/v1/",VE=["eth_sendTransaction","personal_sign"],Lle=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_sendCalls","wallet_getCapabilities","wallet_getCallsStatus","wallet_showCallsStatus"],GE=["chainChanged","accountsChanged"],$le=["chainChanged","accountsChanged","message","disconnect","connect"],jle=async()=>{const{createAppKit:n}=await SF(()=>import("./core-CdHrSVA0.js").then(e=>e.bm),[]);return n};var zle=Object.defineProperty,Hle=Object.defineProperties,Fle=Object.getOwnPropertyDescriptors,TN=Object.getOwnPropertySymbols,qle=Object.prototype.hasOwnProperty,Vle=Object.prototype.propertyIsEnumerable,KE=(n,e,t)=>e in n?zle(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,sl=(n,e)=>{for(var t in e||(e={}))qle.call(e,t)&&KE(n,t,e[t]);if(TN)for(var t of TN(e))Vle.call(e,t)&&KE(n,t,e[t]);return n},yp=(n,e)=>Hle(n,Fle(e)),Hr=(n,e,t)=>KE(n,typeof e!="symbol"?e+"":e,t);function Wy(n){return Number(n[0].split(":")[1])}function Hm(n){return`0x${n.toString(16)}`}function Gle(n){const{chains:e,optionalChains:t,methods:r,optionalMethods:i,events:s,optionalEvents:c,rpcMap:l}=n;if(!Ii(e))throw new Error("Invalid chains");const f={chains:e,methods:r||VE,events:s||GE,rpcMap:sl({},e.length?{[Wy(e)]:l[Wy(e)]}:{})},h=s==null?void 0:s.filter(b=>!GE.includes(b)),p=r==null?void 0:r.filter(b=>!VE.includes(b));if(!t&&!c&&!i&&!(h!=null&&h.length)&&!(p!=null&&p.length))return{required:e.length?f:void 0};const g=(h==null?void 0:h.length)&&(p==null?void 0:p.length)||!t,m={chains:[...new Set(g?f.chains.concat(t||[]):t)],methods:[...new Set(f.methods.concat(i!=null&&i.length?i:Lle))],events:[...new Set(f.events.concat(c!=null&&c.length?c:$le))],rpcMap:l};return{required:e.length?f:void 0,optional:t.length?m:void 0}}let Kle=class hP{constructor(){Hr(this,"events",new ei.EventEmitter),Hr(this,"namespace","eip155"),Hr(this,"accounts",[]),Hr(this,"signer"),Hr(this,"chainId",1),Hr(this,"modal"),Hr(this,"rpc"),Hr(this,"STORAGE_KEY",Ule),Hr(this,"on",(e,t)=>(this.events.on(e,t),this)),Hr(this,"once",(e,t)=>(this.events.once(e,t),this)),Hr(this,"removeListener",(e,t)=>(this.events.removeListener(e,t),this)),Hr(this,"off",(e,t)=>(this.events.off(e,t),this)),Hr(this,"parseAccount",e=>this.isCompatibleChainId(e)?this.parseAccountId(e).address:e),this.signer={},this.rpc={}}static async init(e){const t=new hP;return await t.initialize(e),t}async request(e,t){return await this.signer.request(e,this.formatChainId(this.chainId),t)}sendAsync(e,t,r){this.signer.sendAsync(e,t,this.formatChainId(this.chainId),r)}get connected(){return this.signer.client?this.signer.client.core.relayer.connected:!1}get connecting(){return this.signer.client?this.signer.client.core.relayer.connecting:!1}async enable(){return this.session||await this.connect(),await this.request({method:"eth_requestAccounts"})}async connect(e){var t;if(!this.signer.client)throw new Error("Provider not initialized. Call init() first");this.loadConnectOpts(e);const{required:r,optional:i}=Gle(this.rpc);try{const s=await new Promise(async(l,f)=>{var h,p;this.rpc.showQrModal&&((h=this.modal)==null||h.open(),(p=this.modal)==null||p.subscribeState(m=>{!m.open&&!this.signer.session&&(this.signer.abortPairingAttempt(),f(new Error("Connection request reset. Please try again.")))}));const g=e!=null&&e.scopedProperties?{[this.namespace]:e.scopedProperties}:void 0;await this.signer.connect(yp(sl({namespaces:sl({},r&&{[this.namespace]:r})},i&&{optionalNamespaces:{[this.namespace]:i}}),{pairingTopic:e==null?void 0:e.pairingTopic,scopedProperties:g})).then(m=>{l(m)}).catch(m=>{var b;(b=this.modal)==null||b.showErrorMessage("Unable to connect"),f(new Error(m.message))})});if(!s)return;const c=bO(s.namespaces,[this.namespace]);this.setChainIds(this.rpc.chains.length?this.rpc.chains:c),this.setAccounts(c),this.events.emit("connect",{chainId:Hm(this.chainId)})}catch(s){throw this.signer.logger.error(s),s}finally{(t=this.modal)==null||t.close()}}async authenticate(e,t){var r;if(!this.signer.client)throw new Error("Provider not initialized. Call init() first");this.loadConnectOpts({chains:e==null?void 0:e.chains});try{const i=await new Promise(async(c,l)=>{var f,h;this.rpc.showQrModal&&((f=this.modal)==null||f.open(),(h=this.modal)==null||h.subscribeState(p=>{!p.open&&!this.signer.session&&(this.signer.abortPairingAttempt(),l(new Error("Connection request reset. Please try again.")))})),await this.signer.authenticate(yp(sl({},e),{chains:this.rpc.chains}),t).then(p=>{c(p)}).catch(p=>{var g;(g=this.modal)==null||g.showErrorMessage("Unable to connect"),l(new Error(p.message))})}),s=i.session;if(s){const c=bO(s.namespaces,[this.namespace]);this.setChainIds(this.rpc.chains.length?this.rpc.chains:c),this.setAccounts(c),this.events.emit("connect",{chainId:Hm(this.chainId)})}return i}catch(i){throw this.signer.logger.error(i),i}finally{(r=this.modal)==null||r.close()}}async disconnect(){this.session&&await this.signer.disconnect(),this.reset()}get isWalletConnect(){return!0}get session(){return this.signer.session}registerEventListeners(){this.signer.on("session_event",e=>{const{params:t}=e,{event:r}=t;r.name==="accountsChanged"?(this.accounts=this.parseAccounts(r.data),this.events.emit("accountsChanged",this.accounts)):r.name==="chainChanged"?this.setChainId(this.formatChainId(r.data)):this.events.emit(r.name,r.data),this.events.emit("session_event",e)}),this.signer.on("accountsChanged",e=>{this.accounts=this.parseAccounts(e),this.events.emit("accountsChanged",this.accounts)}),this.signer.on("chainChanged",e=>{const t=parseInt(e);this.chainId=t,this.events.emit("chainChanged",Hm(this.chainId)),this.persist()}),this.signer.on("session_update",e=>{this.events.emit("session_update",e)}),this.signer.on("session_delete",e=>{this.reset(),this.events.emit("session_delete",e),this.events.emit("disconnect",yp(sl({},Nt("USER_DISCONNECTED")),{data:e.topic,name:"USER_DISCONNECTED"}))}),this.signer.on("display_uri",e=>{this.events.emit("display_uri",e)})}switchEthereumChain(e){this.request({method:"wallet_switchEthereumChain",params:[{chainId:e.toString(16)}]})}isCompatibleChainId(e){return typeof e=="string"?e.startsWith(`${this.namespace}:`):!1}formatChainId(e){return`${this.namespace}:${e}`}parseChainId(e){return Number(e.split(":")[1])}setChainIds(e){const t=e.filter(r=>this.isCompatibleChainId(r)).map(r=>this.parseChainId(r));t.length&&(this.chainId=t[0],this.events.emit("chainChanged",Hm(this.chainId)),this.persist())}setChainId(e){if(this.isCompatibleChainId(e)){const t=this.parseChainId(e);this.chainId=t,this.switchEthereumChain(t)}}parseAccountId(e){const[t,r,i]=e.split(":");return{chainId:`${t}:${r}`,address:i}}setAccounts(e){this.accounts=e.filter(t=>this.parseChainId(this.parseAccountId(t).chainId)===this.chainId).map(t=>this.parseAccountId(t).address),this.events.emit("accountsChanged",this.accounts)}getRpcConfig(e){var t,r;const i=(t=e==null?void 0:e.chains)!=null?t:[],s=(r=e==null?void 0:e.optionalChains)!=null?r:[],c=i.concat(s);if(!c.length)throw new Error("No chains specified in either `chains` or `optionalChains`");const l=i.length?(e==null?void 0:e.methods)||VE:[],f=i.length?(e==null?void 0:e.events)||GE:[],h=(e==null?void 0:e.optionalMethods)||[],p=(e==null?void 0:e.optionalEvents)||[],g=(e==null?void 0:e.rpcMap)||this.buildRpcMap(c,e.projectId),m=(e==null?void 0:e.qrModalOptions)||void 0;return{chains:i==null?void 0:i.map(b=>this.formatChainId(b)),optionalChains:s.map(b=>this.formatChainId(b)),methods:l,events:f,optionalMethods:h,optionalEvents:p,rpcMap:g,showQrModal:!!(e!=null&&e.showQrModal),qrModalOptions:m,projectId:e.projectId,metadata:e.metadata}}buildRpcMap(e,t){const r={};return e.forEach(i=>{r[i]=this.getRpcUrl(i,t)}),r}async initialize(e){var t;if(this.rpc=this.getRpcConfig(e),this.chainId=this.rpc.chains.length?Wy(this.rpc.chains):Wy(this.rpc.optionalChains),this.signer=await Ble.init({projectId:this.rpc.projectId,metadata:this.rpc.metadata,disableProviderPing:e.disableProviderPing,relayUrl:e.relayUrl,storage:e.storage,storageOptions:e.storageOptions,customStoragePrefix:e.customStoragePrefix,telemetryEnabled:e.telemetryEnabled,logger:e.logger}),this.registerEventListeners(),await this.loadPersistedSession(),this.rpc.showQrModal){let r;try{const i=await jle(),{convertWCMToAppKitOptions:s}=await Promise.resolve().then(function(){return rue}),c=s(yp(sl({},this.rpc.qrModalOptions),{chains:[...new Set([...this.rpc.chains,...this.rpc.optionalChains])],metadata:this.rpc.metadata,projectId:this.rpc.projectId}));if(!c.networks.length)throw new Error("No networks found for WalletConnect");r=i(yp(sl({},c),{universalProvider:this.signer,manualWCControl:!0,enableMobileFullScreen:((t=this.rpc.qrModalOptions)==null?void 0:t.enableMobileFullScreen)===!0}))}catch(i){throw console.warn(i),new Error("To use QR modal, please install @reown/appkit package")}if(r)try{this.modal=r}catch(i){throw this.signer.logger.error(i),new Error("Could not generate WalletConnectModal Instance")}}}loadConnectOpts(e){if(!e)return;const{chains:t,optionalChains:r,rpcMap:i}=e;t&&Ii(t)&&(this.rpc.chains=t.map(s=>this.formatChainId(s)),t.forEach(s=>{this.rpc.rpcMap[s]=(i==null?void 0:i[s])||this.getRpcUrl(s)})),r&&Ii(r)&&(this.rpc.optionalChains=[],this.rpc.optionalChains=r==null?void 0:r.map(s=>this.formatChainId(s)),r.forEach(s=>{this.rpc.rpcMap[s]=(i==null?void 0:i[s])||this.getRpcUrl(s)}))}getRpcUrl(e,t){var r;return((r=this.rpc.rpcMap)==null?void 0:r[e])||`${Mle}?chainId=eip155:${e}&projectId=${t||this.rpc.projectId}`}async loadPersistedSession(){if(this.session)try{const e=await this.signer.client.core.storage.getItem(`${this.STORAGE_KEY}/chainId`),t=this.session.namespaces[`${this.namespace}:${e}`]?this.session.namespaces[`${this.namespace}:${e}`]:this.session.namespaces[this.namespace];this.setChainIds(e?[this.formatChainId(e)]:t==null?void 0:t.accounts),this.setAccounts(t==null?void 0:t.accounts)}catch(e){this.signer.logger.error("Failed to load persisted session, clearing state..."),this.signer.logger.error(e),await this.disconnect().catch(t=>this.signer.logger.warn(t))}}reset(){this.chainId=1,this.accounts=[]}persist(){this.session&&this.signer.client.core.storage.setItem(`${this.STORAGE_KEY}/chainId`,this.chainId)}parseAccounts(e){return typeof e=="string"||e instanceof String?[this.parseAccount(e)]:e.map(t=>this.parseAccount(t))}};var Qle=Object.defineProperty,Yle=Object.defineProperties,Zle=Object.getOwnPropertyDescriptors,DN=Object.getOwnPropertySymbols,Wle=Object.prototype.hasOwnProperty,Jle=Object.prototype.propertyIsEnumerable,RN=(n,e,t)=>e in n?Qle(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,dP=(n,e)=>{for(var t in e||(e={}))Wle.call(e,t)&&RN(n,t,e[t]);if(DN)for(var t of DN(e))Jle.call(e,t)&&RN(n,t,e[t]);return n},Xle=(n,e)=>Yle(n,Zle(e));function eue(n){if(n)return{"--w3m-font-family":n["--wcm-font-family"],"--w3m-accent":n["--wcm-accent-color"],"--w3m-color-mix":n["--wcm-background-color"],"--w3m-z-index":n["--wcm-z-index"]?Number(n["--wcm-z-index"]):void 0,"--w3m-qr-color":n["--wcm-accent-color"],"--w3m-font-size-master":n["--wcm-text-medium-regular-size"],"--w3m-border-radius-master":n["--wcm-container-border-radius"],"--w3m-color-mix-strength":0}}const tue=n=>{const[e,t]=n.split(":");return pP({id:t,caipNetworkId:n,chainNamespace:e,name:"",nativeCurrency:{name:"",symbol:"",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}}})};function nue(n){var e,t,r,i,s,c,l;const f=(e=n.chains)==null?void 0:e.map(tue).filter(Boolean);if(f.length===0)throw new Error("At least one chain must be specified");const h=f.find(g=>{var m;return g.id===((m=n.defaultChain)==null?void 0:m.id)}),p={projectId:n.projectId,networks:f,themeMode:n.themeMode,themeVariables:eue(n.themeVariables),chainImages:n.chainImages,connectorImages:n.walletImages,defaultNetwork:h,metadata:Xle(dP({},n.metadata),{name:((t=n.metadata)==null?void 0:t.name)||"WalletConnect",description:((r=n.metadata)==null?void 0:r.description)||"Connect to WalletConnect-compatible wallets",url:((i=n.metadata)==null?void 0:i.url)||"https://walletconnect.org",icons:((s=n.metadata)==null?void 0:s.icons)||["https://walletconnect.org/walletconnect-logo.png"]}),showWallets:!0,featuredWalletIds:n.explorerRecommendedWalletIds==="NONE"?[]:Array.isArray(n.explorerRecommendedWalletIds)?n.explorerRecommendedWalletIds:[],excludeWalletIds:n.explorerExcludedWalletIds==="ALL"?[]:Array.isArray(n.explorerExcludedWalletIds)?n.explorerExcludedWalletIds:[],enableEIP6963:!1,enableInjected:!1,enableCoinbase:!0,enableWalletConnect:!0,features:{email:!1,socials:!1}};if((c=n.mobileWallets)!=null&&c.length||(l=n.desktopWallets)!=null&&l.length){const g=[...(n.mobileWallets||[]).map(w=>({id:w.id,name:w.name,links:w.links})),...(n.desktopWallets||[]).map(w=>({id:w.id,name:w.name,links:{native:w.links.native,universal:w.links.universal}}))],m=[...p.featuredWalletIds||[],...p.excludeWalletIds||[]],b=g.filter(w=>!m.includes(w.id));b.length&&(p.customWallets=b)}return p}function pP(n){return dP({formatters:void 0,fees:void 0,serializers:void 0},n)}var rue=Object.freeze({__proto__:null,convertWCMToAppKitOptions:nue,defineChain:pP});const iue=(n,e)=>{let t;switch(n){case"standard":return t=e,`data:image/svg+xml,%3Csvg width='${e}' height='${t}' viewBox='0 0 1024 1024' fill='none' xmlns='http://www.w3.org/2000/svg'%3E %3Crect width='1024' height='1024' fill='%230052FF'/%3E %3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z' fill='white'/%3E %3C/svg%3E `;case"circle":return t=e,`data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='${e}' height='${t}' viewBox='0 0 999.81 999.81'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052fe;%7D.cls-2%7Bfill:%23fefefe;%7D.cls-3%7Bfill:%230152fe;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M655-115.9h56c.83,1.59,2.36.88,3.56,1a478,478,0,0,1,75.06,10.42C891.4-81.76,978.33-32.58,1049.19,44q116.7,126,131.94,297.61c.38,4.14-.34,8.53,1.78,12.45v59c-1.58.84-.91,2.35-1,3.56a482.05,482.05,0,0,1-10.38,74.05c-24,106.72-76.64,196.76-158.83,268.93s-178.18,112.82-287.2,122.6c-4.83.43-9.86-.25-14.51,1.77H654c-1-1.68-2.69-.91-4.06-1a496.89,496.89,0,0,1-105.9-18.59c-93.54-27.42-172.78-77.59-236.91-150.94Q199.34,590.1,184.87,426.58c-.47-5.19.25-10.56-1.77-15.59V355c1.68-1,.91-2.7,1-4.06a498.12,498.12,0,0,1,18.58-105.9c26-88.75,72.64-164.9,140.6-227.57q126-116.27,297.21-131.61C645.32-114.57,650.35-113.88,655-115.9Zm377.92,500c0-192.44-156.31-349.49-347.56-350.15-194.13-.68-350.94,155.13-352.29,347.42-1.37,194.55,155.51,352.1,348.56,352.47C876.15,734.23,1032.93,577.84,1032.93,384.11Z' transform='translate(-183.1 115.9)'/%3E%3Cpath class='cls-2' d='M1032.93,384.11c0,193.73-156.78,350.12-351.29,349.74-193-.37-349.93-157.92-348.56-352.47C334.43,189.09,491.24,33.28,685.37,34,876.62,34.62,1032.94,191.67,1032.93,384.11ZM683,496.81q43.74,0,87.48,0c15.55,0,25.32-9.72,25.33-25.21q0-87.48,0-175c0-15.83-9.68-25.46-25.59-25.46H595.77c-15.88,0-25.57,9.64-25.58,25.46q0,87.23,0,174.45c0,16.18,9.59,25.7,25.84,25.71Z' transform='translate(-183.1 115.9)'/%3E%3Cpath class='cls-3' d='M683,496.81H596c-16.25,0-25.84-9.53-25.84-25.71q0-87.23,0-174.45c0-15.82,9.7-25.46,25.58-25.46H770.22c15.91,0,25.59,9.63,25.59,25.46q0,87.47,0,175c0,15.49-9.78,25.2-25.33,25.21Q726.74,496.84,683,496.81Z' transform='translate(-183.1 115.9)'/%3E%3C/svg%3E`;case"text":return t=(.1*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${t}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 528.15 53.64'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052ff;%7D%3C/style%3E%3C/defs%3E%3Ctitle%3ECoinbase_Wordmark_SubBrands_ALL%3C/title%3E%3Cpath class='cls-1' d='M164.45,15a15,15,0,0,0-11.74,5.4V0h-8.64V52.92h8.5V48a15,15,0,0,0,11.88,5.62c10.37,0,18.21-8.21,18.21-19.3S174.67,15,164.45,15Zm-1.3,30.67c-6.19,0-10.73-4.83-10.73-11.31S157,23,163.22,23s10.66,4.82,10.66,11.37S169.34,45.65,163.15,45.65Zm83.31-14.91-6.34-.93c-3-.43-5.18-1.44-5.18-3.82,0-2.59,2.8-3.89,6.62-3.89,4.18,0,6.84,1.8,7.42,4.76h8.35c-.94-7.49-6.7-11.88-15.55-11.88-9.15,0-15.2,4.68-15.2,11.3,0,6.34,4,10,12,11.16l6.33.94c3.1.43,4.83,1.65,4.83,4,0,2.95-3,4.17-7.2,4.17-5.12,0-8-2.09-8.43-5.25h-8.49c.79,7.27,6.48,12.38,16.84,12.38,9.44,0,15.7-4.32,15.7-11.74C258.12,35.28,253.58,31.82,246.46,30.74Zm-27.65-2.3c0-8.06-4.9-13.46-15.27-13.46-9.79,0-15.26,5-16.34,12.6h8.57c.43-3,2.73-5.4,7.63-5.4,4.39,0,6.55,1.94,6.55,4.32,0,3.09-4,3.88-8.85,4.39-6.63.72-14.84,3-14.84,11.66,0,6.7,5,11,12.89,11,6.19,0,10.08-2.59,12-6.7.28,3.67,3,6.05,6.84,6.05h5v-7.7h-4.25Zm-8.5,9.36c0,5-4.32,8.64-9.57,8.64-3.24,0-6-1.37-6-4.25,0-3.67,4.39-4.68,8.42-5.11s6-1.22,7.13-2.88ZM281.09,15c-11.09,0-19.23,8.35-19.23,19.36,0,11.6,8.72,19.3,19.37,19.3,9,0,16.06-5.33,17.86-12.89h-9c-1.3,3.31-4.47,5.19-8.71,5.19-5.55,0-9.72-3.46-10.66-9.51H299.3V33.12C299.3,22.46,291.53,15,281.09,15Zm-9.87,15.26c1.37-5.18,5.26-7.7,9.72-7.7,4.9,0,8.64,2.8,9.51,7.7ZM19.3,23a9.84,9.84,0,0,1,9.5,7h9.14c-1.65-8.93-9-15-18.57-15A19,19,0,0,0,0,34.34c0,11.09,8.28,19.3,19.37,19.3,9.36,0,16.85-6,18.5-15H28.8a9.75,9.75,0,0,1-9.43,7.06c-6.27,0-10.66-4.83-10.66-11.31S13,23,19.3,23Zm41.11-8A19,19,0,0,0,41,34.34c0,11.09,8.28,19.3,19.37,19.3A19,19,0,0,0,79.92,34.27C79.92,23.33,71.64,15,60.41,15Zm.07,30.67c-6.19,0-10.73-4.83-10.73-11.31S54.22,23,60.41,23s10.8,4.89,10.8,11.37S66.67,45.65,60.48,45.65ZM123.41,15c-5.62,0-9.29,2.3-11.45,5.54V15.7h-8.57V52.92H112V32.69C112,27,115.63,23,121,23c5,0,8.06,3.53,8.06,8.64V52.92h8.64V31C137.66,21.6,132.84,15,123.41,15ZM92,.36a5.36,5.36,0,0,0-5.55,5.47,5.55,5.55,0,0,0,11.09,0A5.35,5.35,0,0,0,92,.36Zm-9.72,23h5.4V52.92h8.64V15.7h-14Zm298.17-7.7L366.2,52.92H372L375.29,44H392l3.33,8.88h6L386.87,15.7ZM377,39.23l6.45-17.56h.1l6.56,17.56ZM362.66,15.7l-7.88,29h-.11l-8.14-29H341l-8,28.93h-.1l-8-28.87H319L329.82,53h5.45l8.19-29.24h.11L352,53h5.66L368.1,15.7Zm135.25,0v4.86h12.32V52.92h5.6V20.56h12.32V15.7ZM467.82,52.92h25.54V48.06H473.43v-12h18.35V31.35H473.43V20.56h19.93V15.7H467.82ZM443,15.7h-5.6V52.92h24.32V48.06H443Zm-30.45,0h-5.61V52.92h24.32V48.06H412.52Z'/%3E%3C/svg%3E`;case"textWithLogo":return t=(.25*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${t}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 308.44 77.61'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052ff;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M142.94,20.2l-7.88,29H135l-8.15-29h-5.55l-8,28.93h-.11l-8-28.87H99.27l10.84,37.27h5.44l8.2-29.24h.1l8.41,29.24h5.66L148.39,20.2Zm17.82,0L146.48,57.42h5.82l3.28-8.88h16.65l3.34,8.88h6L167.16,20.2Zm-3.44,23.52,6.45-17.55h.11l6.56,17.55ZM278.2,20.2v4.86h12.32V57.42h5.6V25.06h12.32V20.2ZM248.11,57.42h25.54V52.55H253.71V40.61h18.35V35.85H253.71V25.06h19.94V20.2H248.11ZM223.26,20.2h-5.61V57.42H242V52.55H223.26Zm-30.46,0h-5.6V57.42h24.32V52.55H192.8Zm-154,38A19.41,19.41,0,1,1,57.92,35.57H77.47a38.81,38.81,0,1,0,0,6.47H57.92A19.39,19.39,0,0,1,38.81,58.21Z'/%3E%3C/svg%3E`;case"textLight":return t=(.1*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${t}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 528.15 53.64'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fefefe;%7D%3C/style%3E%3C/defs%3E%3Ctitle%3ECoinbase_Wordmark_SubBrands_ALL%3C/title%3E%3Cpath class='cls-1' d='M164.45,15a15,15,0,0,0-11.74,5.4V0h-8.64V52.92h8.5V48a15,15,0,0,0,11.88,5.62c10.37,0,18.21-8.21,18.21-19.3S174.67,15,164.45,15Zm-1.3,30.67c-6.19,0-10.73-4.83-10.73-11.31S157,23,163.22,23s10.66,4.82,10.66,11.37S169.34,45.65,163.15,45.65Zm83.31-14.91-6.34-.93c-3-.43-5.18-1.44-5.18-3.82,0-2.59,2.8-3.89,6.62-3.89,4.18,0,6.84,1.8,7.42,4.76h8.35c-.94-7.49-6.7-11.88-15.55-11.88-9.15,0-15.2,4.68-15.2,11.3,0,6.34,4,10,12,11.16l6.33.94c3.1.43,4.83,1.65,4.83,4,0,2.95-3,4.17-7.2,4.17-5.12,0-8-2.09-8.43-5.25h-8.49c.79,7.27,6.48,12.38,16.84,12.38,9.44,0,15.7-4.32,15.7-11.74C258.12,35.28,253.58,31.82,246.46,30.74Zm-27.65-2.3c0-8.06-4.9-13.46-15.27-13.46-9.79,0-15.26,5-16.34,12.6h8.57c.43-3,2.73-5.4,7.63-5.4,4.39,0,6.55,1.94,6.55,4.32,0,3.09-4,3.88-8.85,4.39-6.63.72-14.84,3-14.84,11.66,0,6.7,5,11,12.89,11,6.19,0,10.08-2.59,12-6.7.28,3.67,3,6.05,6.84,6.05h5v-7.7h-4.25Zm-8.5,9.36c0,5-4.32,8.64-9.57,8.64-3.24,0-6-1.37-6-4.25,0-3.67,4.39-4.68,8.42-5.11s6-1.22,7.13-2.88ZM281.09,15c-11.09,0-19.23,8.35-19.23,19.36,0,11.6,8.72,19.3,19.37,19.3,9,0,16.06-5.33,17.86-12.89h-9c-1.3,3.31-4.47,5.19-8.71,5.19-5.55,0-9.72-3.46-10.66-9.51H299.3V33.12C299.3,22.46,291.53,15,281.09,15Zm-9.87,15.26c1.37-5.18,5.26-7.7,9.72-7.7,4.9,0,8.64,2.8,9.51,7.7ZM19.3,23a9.84,9.84,0,0,1,9.5,7h9.14c-1.65-8.93-9-15-18.57-15A19,19,0,0,0,0,34.34c0,11.09,8.28,19.3,19.37,19.3,9.36,0,16.85-6,18.5-15H28.8a9.75,9.75,0,0,1-9.43,7.06c-6.27,0-10.66-4.83-10.66-11.31S13,23,19.3,23Zm41.11-8A19,19,0,0,0,41,34.34c0,11.09,8.28,19.3,19.37,19.3A19,19,0,0,0,79.92,34.27C79.92,23.33,71.64,15,60.41,15Zm.07,30.67c-6.19,0-10.73-4.83-10.73-11.31S54.22,23,60.41,23s10.8,4.89,10.8,11.37S66.67,45.65,60.48,45.65ZM123.41,15c-5.62,0-9.29,2.3-11.45,5.54V15.7h-8.57V52.92H112V32.69C112,27,115.63,23,121,23c5,0,8.06,3.53,8.06,8.64V52.92h8.64V31C137.66,21.6,132.84,15,123.41,15ZM92,.36a5.36,5.36,0,0,0-5.55,5.47,5.55,5.55,0,0,0,11.09,0A5.35,5.35,0,0,0,92,.36Zm-9.72,23h5.4V52.92h8.64V15.7h-14Zm298.17-7.7L366.2,52.92H372L375.29,44H392l3.33,8.88h6L386.87,15.7ZM377,39.23l6.45-17.56h.1l6.56,17.56ZM362.66,15.7l-7.88,29h-.11l-8.14-29H341l-8,28.93h-.1l-8-28.87H319L329.82,53h5.45l8.19-29.24h.11L352,53h5.66L368.1,15.7Zm135.25,0v4.86h12.32V52.92h5.6V20.56h12.32V15.7ZM467.82,52.92h25.54V48.06H473.43v-12h18.35V31.35H473.43V20.56h19.93V15.7H467.82ZM443,15.7h-5.6V52.92h24.32V48.06H443Zm-30.45,0h-5.61V52.92h24.32V48.06H412.52Z'/%3E%3C/svg%3E`;case"textWithLogoLight":return t=(.25*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${t}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 308.44 77.61'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fefefe;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M142.94,20.2l-7.88,29H135l-8.15-29h-5.55l-8,28.93h-.11l-8-28.87H99.27l10.84,37.27h5.44l8.2-29.24h.1l8.41,29.24h5.66L148.39,20.2Zm17.82,0L146.48,57.42h5.82l3.28-8.88h16.65l3.34,8.88h6L167.16,20.2Zm-3.44,23.52,6.45-17.55h.11l6.56,17.55ZM278.2,20.2v4.86h12.32V57.42h5.6V25.06h12.32V20.2ZM248.11,57.42h25.54V52.55H253.71V40.61h18.35V35.85H253.71V25.06h19.94V20.2H248.11ZM223.26,20.2h-5.61V57.42H242V52.55H223.26Zm-30.46,0h-5.6V57.42h24.32V52.55H192.8Zm-154,38A19.41,19.41,0,1,1,57.92,35.57H77.47a38.81,38.81,0,1,0,0,6.47H57.92A19.39,19.39,0,0,1,38.81,58.21Z'/%3E%3C/svg%3E`;default:return t=e,`data:image/svg+xml,%3Csvg width='${e}' height='${t}' viewBox='0 0 1024 1024' fill='none' xmlns='http://www.w3.org/2000/svg'%3E %3Crect width='1024' height='1024' fill='%230052FF'/%3E %3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z' fill='white'/%3E %3C/svg%3E `}};function mA(n,{strict:e=!0}={}){return!n||typeof n!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(n):n.startsWith("0x")}function BN(n){return mA(n,{strict:!1})?Math.ceil((n.length-2)/2):n.length}const gP="2.38.2";let bp={getDocsUrl:({docsBaseUrl:n,docsPath:e="",docsSlug:t})=>e?`${n??"https://viem.sh"}${e}${t?`#${t}`:""}`:void 0,version:`viem@${gP}`};class Di extends Error{constructor(e,t={}){var l;const r=(()=>{var f;return t.cause instanceof Di?t.cause.details:(f=t.cause)!=null&&f.message?t.cause.message:t.details})(),i=t.cause instanceof Di&&t.cause.docsPath||t.docsPath,s=(l=bp.getDocsUrl)==null?void 0:l.call(bp,{...t,docsPath:i}),c=[e||"An error occurred.","",...t.metaMessages?[...t.metaMessages,""]:[],...s?[`Docs: ${s}`]:[],...r?[`Details: ${r}`]:[],...bp.version?[`Version: ${bp.version}`]:[]].join(`
`);super(c,t.cause?{cause:t.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=i,this.metaMessages=t.metaMessages,this.name=t.name??this.name,this.shortMessage=e,this.version=gP}walk(e){return mP(this,e)}}function mP(n,e){return e!=null&&e(n)?n:n&&typeof n=="object"&&"cause"in n&&n.cause!==void 0?mP(n.cause,e):e?null:n}class kge extends Di{constructor({offset:e,position:t,size:r}){super(`Slice ${t==="start"?"starting":"ending"} at offset "${e}" is out-of-bounds (size: ${r}).`,{name:"SliceOffsetOutOfBoundsError"})}}class yP extends Di{constructor({size:e,targetSize:t,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${e}) exceeds padding size (${t}).`,{name:"SizeExceedsPaddingSizeError"})}}class Pge extends Di{constructor({size:e,targetSize:t,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} is expected to be ${t} ${r} long, but is ${e} ${r} long.`,{name:"InvalidBytesLengthError"})}}function Gh(n,{dir:e,size:t=32}={}){return typeof n=="string"?sue(n,{dir:e,size:t}):aue(n,{dir:e,size:t})}function sue(n,{dir:e,size:t=32}={}){if(t===null)return n;const r=n.replace("0x","");if(r.length>t*2)throw new yP({size:Math.ceil(r.length/2),targetSize:t,type:"hex"});return`0x${r[e==="right"?"padEnd":"padStart"](t*2,"0")}`}function aue(n,{dir:e,size:t=32}={}){if(t===null)return n;if(n.length>t)throw new yP({size:n.length,targetSize:t,type:"bytes"});const r=new Uint8Array(t);for(let i=0;i<t;i++){const s=e==="right";r[s?i:t-i-1]=n[s?i:n.length-i-1]}return r}class oue extends Di{constructor({max:e,min:t,signed:r,size:i,value:s}){super(`Number "${s}" is not in safe ${i?`${i*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${e?`(${t} to ${e})`:`(above ${t})`}`,{name:"IntegerOutOfRangeError"})}}class Uge extends Di{constructor(e){super(`Bytes value "${e}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`,{name:"InvalidBytesBooleanError"})}}class cue extends Di{constructor(e){super(`Hex value "${e}" is not a valid boolean. The hex value must be "0x0" (false) or "0x1" (true).`,{name:"InvalidHexBooleanError"})}}class lue extends Di{constructor({givenSize:e,maxSize:t}){super(`Size cannot exceed ${t} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}}function G2(n,{dir:e="left"}={}){let t=typeof n=="string"?n.replace("0x",""):n,r=0;for(let i=0;i<t.length-1&&t[e==="left"?i:t.length-i-1].toString()==="0";i++)r++;return t=e==="left"?t.slice(r):t.slice(0,t.length-r),typeof n=="string"?(t.length===1&&e==="right"&&(t=`${t}0`),`0x${t.length%2===1?`0${t}`:t}`):t}function hu(n,{size:e}){if(BN(n)>e)throw new lue({givenSize:BN(n),maxSize:e})}function uue(n,e={}){const{signed:t}=e;e.size&&hu(n,{size:e.size});const r=BigInt(n);if(!t)return r;const i=(n.length-2)/2,s=(1n<<BigInt(i)*8n-1n)-1n;return r<=s?r:r-BigInt(`0x${"f".padStart(i*2,"f")}`)-1n}function Mge(n,e={}){let t=n;if(e.size&&(hu(t,{size:e.size}),t=G2(t)),G2(t)==="0x00")return!1;if(G2(t)==="0x01")return!0;throw new cue(t)}function kN(n,e={}){return Number(uue(n,e))}const fue=Array.from({length:256},(n,e)=>e.toString(16).padStart(2,"0"));function hue(n,e={}){return typeof n=="number"||typeof n=="bigint"?wP(n,e):typeof n=="string"?gue(n,e):typeof n=="boolean"?due(n,e):bP(n,e)}function due(n,e={}){const t=`0x${Number(n)}`;return typeof e.size=="number"?(hu(t,{size:e.size}),Gh(t,{size:e.size})):t}function bP(n,e={}){let t="";for(let i=0;i<n.length;i++)t+=fue[n[i]];const r=`0x${t}`;return typeof e.size=="number"?(hu(r,{size:e.size}),Gh(r,{dir:"right",size:e.size})):r}function wP(n,e={}){const{signed:t,size:r}=e,i=BigInt(n);let s;r?t?s=(1n<<BigInt(r)*8n-1n)-1n:s=2n**(BigInt(r)*8n)-1n:typeof n=="number"&&(s=BigInt(Number.MAX_SAFE_INTEGER));const c=typeof s=="bigint"&&t?-s-1n:0;if(s&&i>s||i<c){const f=typeof n=="bigint"?"n":"";throw new oue({max:s?`${s}${f}`:void 0,min:`${c}${f}`,signed:t,size:r,value:`${n}${f}`})}const l=`0x${(t&&i<0?(1n<<BigInt(r*8))+BigInt(i):i).toString(16)}`;return r?Gh(l,{size:r}):l}const pue=new TextEncoder;function gue(n,e={}){const t=pue.encode(n);return bP(t,e)}const mue=new TextEncoder;function yue(n,e={}){return typeof n=="number"||typeof n=="bigint"?wue(n,e):typeof n=="boolean"?bue(n,e):mA(n)?vP(n,e):xP(n,e)}function bue(n,e={}){const t=new Uint8Array(1);return t[0]=Number(n),typeof e.size=="number"?(hu(t,{size:e.size}),Gh(t,{size:e.size})):t}const ha={zero:48,nine:57,A:65,F:70,a:97,f:102};function PN(n){if(n>=ha.zero&&n<=ha.nine)return n-ha.zero;if(n>=ha.A&&n<=ha.F)return n-(ha.A-10);if(n>=ha.a&&n<=ha.f)return n-(ha.a-10)}function vP(n,e={}){let t=n;e.size&&(hu(t,{size:e.size}),t=Gh(t,{dir:"right",size:e.size}));let r=t.slice(2);r.length%2&&(r=`0${r}`);const i=r.length/2,s=new Uint8Array(i);for(let c=0,l=0;c<i;c++){const f=PN(r.charCodeAt(l++)),h=PN(r.charCodeAt(l++));if(f===void 0||h===void 0)throw new Di(`Invalid byte sequence ("${r[l-2]}${r[l-1]}" in "${r}").`);s[c]=f*16+h}return s}function wue(n,e){const t=wP(n,e);return vP(t)}function xP(n,e={}){const t=mue.encode(n);return typeof e.size=="number"?(hu(t,{size:e.size}),Gh(t,{dir:"right",size:e.size})):t}const Fm=BigInt(2**32-1),UN=BigInt(32);function vue(n,e=!1){return e?{h:Number(n&Fm),l:Number(n>>UN&Fm)}:{h:Number(n>>UN&Fm)|0,l:Number(n&Fm)|0}}function xue(n,e=!1){const t=n.length;let r=new Uint32Array(t),i=new Uint32Array(t);for(let s=0;s<t;s++){const{h:c,l}=vue(n[s],e);[r[s],i[s]]=[c,l]}return[r,i]}const Eue=(n,e,t)=>n<<t|e>>>32-t,Aue=(n,e,t)=>e<<t|n>>>32-t,Sue=(n,e,t)=>e<<t-32|n>>>64-t,_ue=(n,e,t)=>n<<t-32|e>>>64-t,df=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Oue(n){return n instanceof Uint8Array||ArrayBuffer.isView(n)&&n.constructor.name==="Uint8Array"}function Jy(n){if(!Number.isSafeInteger(n)||n<0)throw new Error("positive integer expected, got "+n)}function cg(n,...e){if(!Oue(n))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(n.length))throw new Error("Uint8Array expected of length "+e+", got length="+n.length)}function Lge(n){if(typeof n!="function"||typeof n.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");Jy(n.outputLen),Jy(n.blockLen)}function MN(n,e=!0){if(n.destroyed)throw new Error("Hash instance has been destroyed");if(e&&n.finished)throw new Error("Hash#digest() has already been called")}function Cue(n,e){cg(n);const t=e.outputLen;if(n.length<t)throw new Error("digestInto() expects output buffer of length at least "+t)}function Nue(n){return new Uint32Array(n.buffer,n.byteOffset,Math.floor(n.byteLength/4))}function EP(...n){for(let e=0;e<n.length;e++)n[e].fill(0)}function $ge(n){return new DataView(n.buffer,n.byteOffset,n.byteLength)}function jge(n,e){return n<<32-e|n>>>e}const Iue=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function Tue(n){return n<<24&4278190080|n<<8&16711680|n>>>8&65280|n>>>24&255}function Due(n){for(let e=0;e<n.length;e++)n[e]=Tue(n[e]);return n}const LN=Iue?n=>n:Due;function Rue(n){if(typeof n!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(n))}function AP(n){return typeof n=="string"&&(n=Rue(n)),cg(n),n}function zge(...n){let e=0;for(let r=0;r<n.length;r++){const i=n[r];cg(i),e+=i.length}const t=new Uint8Array(e);for(let r=0,i=0;r<n.length;r++){const s=n[r];t.set(s,i),i+=s.length}return t}let Bue=class{};function kue(n){const e=r=>n().update(AP(r)).digest(),t=n();return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=()=>n(),e}function Fge(n=32){if(df&&typeof df.getRandomValues=="function")return df.getRandomValues(new Uint8Array(n));if(df&&typeof df.randomBytes=="function")return Uint8Array.from(df.randomBytes(n));throw new Error("crypto.getRandomValues must be defined")}const Pue=BigInt(0),wp=BigInt(1),Uue=BigInt(2),Mue=BigInt(7),Lue=BigInt(256),$ue=BigInt(113),SP=[],_P=[],OP=[];for(let n=0,e=wp,t=1,r=0;n<24;n++){[t,r]=[r,(2*t+3*r)%5],SP.push(2*(5*r+t)),_P.push((n+1)*(n+2)/2%64);let i=Pue;for(let s=0;s<7;s++)e=(e<<wp^(e>>Mue)*$ue)%Lue,e&Uue&&(i^=wp<<(wp<<BigInt(s))-wp);OP.push(i)}const CP=xue(OP,!0),jue=CP[0],zue=CP[1],$N=(n,e,t)=>t>32?Sue(n,e,t):Eue(n,e,t),jN=(n,e,t)=>t>32?_ue(n,e,t):Aue(n,e,t);function Hue(n,e=24){const t=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let c=0;c<10;c++)t[c]=n[c]^n[c+10]^n[c+20]^n[c+30]^n[c+40];for(let c=0;c<10;c+=2){const l=(c+8)%10,f=(c+2)%10,h=t[f],p=t[f+1],g=$N(h,p,1)^t[l],m=jN(h,p,1)^t[l+1];for(let b=0;b<50;b+=10)n[c+b]^=g,n[c+b+1]^=m}let i=n[2],s=n[3];for(let c=0;c<24;c++){const l=_P[c],f=$N(i,s,l),h=jN(i,s,l),p=SP[c];i=n[p],s=n[p+1],n[p]=f,n[p+1]=h}for(let c=0;c<50;c+=10){for(let l=0;l<10;l++)t[l]=n[c+l];for(let l=0;l<10;l++)n[c+l]^=~t[(l+2)%10]&t[(l+4)%10]}n[0]^=jue[r],n[1]^=zue[r]}EP(t)}class yA extends Bue{constructor(e,t,r,i=!1,s=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=i,this.rounds=s,Jy(r),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=Nue(this.state)}clone(){return this._cloneInto()}keccak(){LN(this.state32),Hue(this.state32,this.rounds),LN(this.state32),this.posOut=0,this.pos=0}update(e){MN(this),e=AP(e),cg(e);const{blockLen:t,state:r}=this,i=e.length;for(let s=0;s<i;){const c=Math.min(t-this.pos,i-s);for(let l=0;l<c;l++)r[this.pos++]^=e[s++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:r,blockLen:i}=this;e[r]^=t,(t&128)!==0&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){MN(this,!1),cg(e),this.finish();const t=this.state,{blockLen:r}=this;for(let i=0,s=e.length;i<s;){this.posOut>=r&&this.keccak();const c=Math.min(r-this.posOut,s-i);e.set(t.subarray(this.posOut,this.posOut+c),i),this.posOut+=c,i+=c}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Jy(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(Cue(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,EP(this.state)}_cloneInto(e){const{blockLen:t,suffix:r,outputLen:i,rounds:s,enableXOF:c}=this;return e||(e=new yA(t,r,i,c,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=r,e.outputLen=i,e.enableXOF=c,e.destroyed=this.destroyed,e}}const Fue=(n,e,t)=>kue(()=>new yA(e,n,t)),que=Fue(1,136,256/8);function Vue(n,e){const t=e||"hex",r=que(mA(n,{strict:!1})?yue(n):n);return t==="bytes"?r:hue(r)}class QE extends Di{constructor({address:e}){super(`Address "${e}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}}class NP extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const t=super.get(e);return super.has(e)&&t!==void 0&&(this.delete(e),super.set(e,t)),t}set(e,t){if(super.set(e,t),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}}const K2=new NP(8192);function IP(n,e){if(K2.has(`${n}.${e}`))return K2.get(`${n}.${e}`);const t=n.substring(2).toLowerCase(),r=Vue(xP(t),"bytes"),i=t.split("");for(let c=0;c<40;c+=2)r[c>>1]>>4>=8&&i[c]&&(i[c]=i[c].toUpperCase()),(r[c>>1]&15)>=8&&i[c+1]&&(i[c+1]=i[c+1].toUpperCase());const s=`0x${i.join("")}`;return K2.set(`${n}.${e}`,s),s}function qge(n,e){if(!Xy(n,{strict:!1}))throw new QE({address:n});return IP(n,e)}const Gue=/^0x[a-fA-F0-9]{40}$/,Q2=new NP(8192);function Xy(n,e){const{strict:t=!0}=e??{},r=`${n}.${t}`;if(Q2.has(r))return Q2.get(r);const i=Gue.test(n)?n.toLowerCase()===n?!0:t?IP(n)===n:!0:!1;return Q2.set(r,i),i}function Kue(n,e){if(!Xy(n,{strict:!1}))throw new QE({address:n});if(!Xy(e,{strict:!1}))throw new QE({address:e});return n.toLowerCase()===e.toLowerCase()}class js{constructor(e,t){this.scope=e,this.module=t}storeObject(e,t){this.setItem(e,JSON.stringify(t))}loadObject(e){const t=this.getItem(e);return t?JSON.parse(t):void 0}setItem(e,t){localStorage.setItem(this.scopedKey(e),t)}getItem(e){return localStorage.getItem(this.scopedKey(e))}removeItem(e){localStorage.removeItem(this.scopedKey(e))}clear(){const e=this.scopedKey(""),t=[];for(let r=0;r<localStorage.length;r++){const i=localStorage.key(r);typeof i=="string"&&i.startsWith(e)&&t.push(i)}t.forEach(r=>localStorage.removeItem(r))}scopedKey(e){return`-${this.scope}${this.module?`:${this.module}`:""}:${e}`}static clearAll(){new js("CBWSDK").clear(),new js("walletlink").clear()}}const Ht={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901,unsupportedChain:4902}},YE={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."},4902:{standard:"EIP-3085",message:"Unrecognized chain ID."}},TP="Unspecified error message.",Que="Unspecified server error.";function bA(n,e=TP){if(n&&Number.isInteger(n)){const t=n.toString();if(ZE(YE,t))return YE[t].message;if(DP(n))return Que}return e}function Yue(n){if(!Number.isInteger(n))return!1;const e=n.toString();return!!(YE[e]||DP(n))}function Zue(n,{shouldIncludeStack:e=!1}={}){const t={};if(n&&typeof n=="object"&&!Array.isArray(n)&&ZE(n,"code")&&Yue(n.code)){const r=n;t.code=r.code,r.message&&typeof r.message=="string"?(t.message=r.message,ZE(r,"data")&&(t.data=r.data)):(t.message=bA(t.code),t.data={originalError:zN(n)})}else t.code=Ht.rpc.internal,t.message=HN(n,"message")?n.message:TP,t.data={originalError:zN(n)};return e&&(t.stack=HN(n,"stack")?n.stack:void 0),t}function DP(n){return n>=-32099&&n<=-32e3}function zN(n){return n&&typeof n=="object"&&!Array.isArray(n)?Object.assign({},n):n}function ZE(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function HN(n,e){return typeof n=="object"&&n!==null&&e in n&&typeof n[e]=="string"}const Ge={rpc:{parse:n=>mi(Ht.rpc.parse,n),invalidRequest:n=>mi(Ht.rpc.invalidRequest,n),invalidParams:n=>mi(Ht.rpc.invalidParams,n),methodNotFound:n=>mi(Ht.rpc.methodNotFound,n),internal:n=>mi(Ht.rpc.internal,n),server:n=>{if(!n||typeof n!="object"||Array.isArray(n))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:e}=n;if(!Number.isInteger(e)||e>-32005||e<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return mi(e,n)},invalidInput:n=>mi(Ht.rpc.invalidInput,n),resourceNotFound:n=>mi(Ht.rpc.resourceNotFound,n),resourceUnavailable:n=>mi(Ht.rpc.resourceUnavailable,n),transactionRejected:n=>mi(Ht.rpc.transactionRejected,n),methodNotSupported:n=>mi(Ht.rpc.methodNotSupported,n),limitExceeded:n=>mi(Ht.rpc.limitExceeded,n)},provider:{userRejectedRequest:n=>pf(Ht.provider.userRejectedRequest,n),unauthorized:n=>pf(Ht.provider.unauthorized,n),unsupportedMethod:n=>pf(Ht.provider.unsupportedMethod,n),disconnected:n=>pf(Ht.provider.disconnected,n),chainDisconnected:n=>pf(Ht.provider.chainDisconnected,n),unsupportedChain:n=>pf(Ht.provider.unsupportedChain,n),custom:n=>{if(!n||typeof n!="object"||Array.isArray(n))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:e,message:t,data:r}=n;if(!t||typeof t!="string")throw new Error('"message" must be a nonempty string');return new kP(e,t,r)}}};function mi(n,e){const[t,r]=RP(e);return new BP(n,t||bA(n),r)}function pf(n,e){const[t,r]=RP(e);return new kP(n,t||bA(n),r)}function RP(n){if(n){if(typeof n=="string")return[n];if(typeof n=="object"&&!Array.isArray(n)){const{message:e,data:t}=n;if(e&&typeof e!="string")throw new Error("Must specify string message.");return[e||void 0,t]}}return[]}class BP extends Error{constructor(e,t,r){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!t||typeof t!="string")throw new Error('"message" must be a nonempty string.');super(t),this.code=e,r!==void 0&&(this.data=r)}}class kP extends BP{constructor(e,t,r){if(!Wue(e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,t,r)}}function Wue(n){return Number.isInteger(n)&&n>=1e3&&n<=4999}function wA(){return n=>n}const lg=wA(),Jue=wA(),Xue=wA();function Ea(n){return Math.floor(n)}const PP=/^[0-9]*$/,UP=/^[a-f0-9]*$/;function hl(n){return vA(crypto.getRandomValues(new Uint8Array(n)))}function vA(n){return[...n].map(e=>e.toString(16).padStart(2,"0")).join("")}function hy(n){return new Uint8Array(n.match(/.{1,2}/g).map(e=>Number.parseInt(e,16)))}function Lp(n,e=!1){const t=n.toString("hex");return lg(e?`0x${t}`:t)}function Y2(n){return Lp(WE(n),!0)}function ps(n){return Xue(n.toString(10))}function mc(n){return lg(`0x${BigInt(n).toString(16)}`)}function MP(n){return n.startsWith("0x")||n.startsWith("0X")}function xA(n){return MP(n)?n.slice(2):n}function LP(n){return MP(n)?`0x${n.slice(2)}`:`0x${n}`}function Qb(n){if(typeof n!="string")return!1;const e=xA(n).toLowerCase();return UP.test(e)}function efe(n,e=!1){if(typeof n=="string"){const t=xA(n).toLowerCase();if(UP.test(t))return lg(e?`0x${t}`:t)}throw Ge.rpc.invalidParams(`"${String(n)}" is not a hexadecimal string`)}function EA(n,e=!1){let t=efe(n,!1);return t.length%2===1&&(t=lg(`0${t}`)),e?lg(`0x${t}`):t}function zo(n){if(typeof n=="string"){const e=xA(n).toLowerCase();if(Qb(e)&&e.length===40)return Jue(LP(e))}throw Ge.rpc.invalidParams(`Invalid Ethereum address: ${String(n)}`)}function WE(n){if(Buffer.isBuffer(n))return n;if(typeof n=="string"){if(Qb(n)){const e=EA(n,!1);return Buffer.from(e,"hex")}return Buffer.from(n,"utf8")}throw Ge.rpc.invalidParams(`Not binary data: ${String(n)}`)}function $p(n){if(typeof n=="number"&&Number.isInteger(n))return Ea(n);if(typeof n=="string"){if(PP.test(n))return Ea(Number(n));if(Qb(n))return Ea(Number(BigInt(EA(n,!0))))}throw Ge.rpc.invalidParams(`Not an integer: ${String(n)}`)}function vp(n){if(n!==null&&(typeof n=="bigint"||nfe(n)))return BigInt(n.toString(10));if(typeof n=="number")return BigInt($p(n));if(typeof n=="string"){if(PP.test(n))return BigInt(n);if(Qb(n))return BigInt(EA(n,!0))}throw Ge.rpc.invalidParams(`Not an integer: ${String(n)}`)}function tfe(n){if(typeof n=="string")return JSON.parse(n);if(typeof n=="object")return n;throw Ge.rpc.invalidParams(`Not a JSON string or an object: ${String(n)}`)}function nfe(n){if(n==null||typeof n.constructor!="function")return!1;const{constructor:e}=n;return typeof e.config=="function"&&typeof e.EUCLID=="number"}function rfe(){const n=document.querySelector('link[sizes="192x192"]')||document.querySelector('link[sizes="180x180"]')||document.querySelector('link[rel="icon"]')||document.querySelector('link[rel="shortcut icon"]'),{protocol:e,host:t}=document.location,r=n?n.getAttribute("href"):null;return!r||r.startsWith("javascript:")||r.startsWith("vbscript:")?`${e}//${t}/favicon.ico`:r.startsWith("http://")||r.startsWith("https://")||r.startsWith("data:")?r:r.startsWith("//")?e+r:`${e}//${t}${r}`}async function ife(){return crypto.subtle.generateKey({name:"ECDH",namedCurve:"P-256"},!0,["deriveKey"])}async function sfe(n,e){return crypto.subtle.deriveKey({name:"ECDH",public:e},n,{name:"AES-GCM",length:256},!1,["encrypt","decrypt"])}async function afe(n,e){const t=crypto.getRandomValues(new Uint8Array(12)),r=await crypto.subtle.encrypt({name:"AES-GCM",iv:t},n,new TextEncoder().encode(e));return{iv:t,cipherText:r}}async function ofe(n,{iv:e,cipherText:t}){const r=await crypto.subtle.decrypt({name:"AES-GCM",iv:e},n,t);return new TextDecoder().decode(r)}function $P(n){switch(n){case"public":return"spki";case"private":return"pkcs8"}}async function jP(n,e){const t=$P(n),r=await crypto.subtle.exportKey(t,e);return vA(new Uint8Array(r))}async function zP(n,e){const t=$P(n),r=hy(e).buffer;return await crypto.subtle.importKey(t,new Uint8Array(r),{name:"ECDH",namedCurve:"P-256"},!0,n==="private"?["deriveKey"]:[])}async function cfe(n,e){const t=JSON.stringify(n,(r,i)=>{if(!(i instanceof Error))return i;const s=i;return Object.assign(Object.assign({},s.code?{code:s.code}:{}),{message:s.message})});return afe(e,t)}async function lfe(n,e){return JSON.parse(await ofe(e,n))}const Z2={storageKey:"ownPrivateKey",keyType:"private"},W2={storageKey:"ownPublicKey",keyType:"public"},J2={storageKey:"peerPublicKey",keyType:"public"};class ufe{constructor(){this.storage=new js("CBWSDK","SCWKeyManager"),this.ownPrivateKey=null,this.ownPublicKey=null,this.peerPublicKey=null,this.sharedSecret=null}async getOwnPublicKey(){return await this.loadKeysIfNeeded(),this.ownPublicKey}async getSharedSecret(){return await this.loadKeysIfNeeded(),this.sharedSecret}async setPeerPublicKey(e){this.sharedSecret=null,this.peerPublicKey=e,await this.storeKey(J2,e),await this.loadKeysIfNeeded()}async clear(){this.ownPrivateKey=null,this.ownPublicKey=null,this.peerPublicKey=null,this.sharedSecret=null,this.storage.removeItem(W2.storageKey),this.storage.removeItem(Z2.storageKey),this.storage.removeItem(J2.storageKey)}async generateKeyPair(){const e=await ife();this.ownPrivateKey=e.privateKey,this.ownPublicKey=e.publicKey,await this.storeKey(Z2,e.privateKey),await this.storeKey(W2,e.publicKey)}async loadKeysIfNeeded(){if(this.ownPrivateKey===null&&(this.ownPrivateKey=await this.loadKey(Z2)),this.ownPublicKey===null&&(this.ownPublicKey=await this.loadKey(W2)),(this.ownPrivateKey===null||this.ownPublicKey===null)&&await this.generateKeyPair(),this.peerPublicKey===null&&(this.peerPublicKey=await this.loadKey(J2)),this.sharedSecret===null){if(this.ownPrivateKey===null||this.peerPublicKey===null)return;this.sharedSecret=await sfe(this.ownPrivateKey,this.peerPublicKey)}}async loadKey(e){const t=this.storage.getItem(e.storageKey);return t?zP(e.keyType,t):null}async storeKey(e,t){const r=await jP(e.keyType,t);this.storage.setItem(e.storageKey,r)}}function ffe(n){if(!n||!Array.isArray(n)||n.length!==1&&n.length!==2||typeof n[0]!="string"||!Xy(n[0]))throw Ge.rpc.invalidParams();if(n.length===2){if(!Array.isArray(n[1]))throw Ge.rpc.invalidParams();for(const e of n[1])if(typeof e!="string"||!e.startsWith("0x"))throw Ge.rpc.invalidParams()}}const Fg="4.3.7",HP="@coinbase/wallet-sdk";async function AA(n,e){const t=Object.assign(Object.assign({},n),{jsonrpc:"2.0",id:crypto.randomUUID()}),r=await window.fetch(e,{method:"POST",body:JSON.stringify(t),mode:"cors",headers:{"Content-Type":"application/json","X-Cbw-Sdk-Version":Fg,"X-Cbw-Sdk-Platform":HP}}),{result:i,error:s}=await r.json();if(s)throw s;return i}function hfe(){return globalThis.coinbaseWalletExtension}function dfe(){var n,e;try{const t=globalThis;return(e=(n=t.top)===null||n===void 0?void 0:n.ethereum)!==null&&e!==void 0?e:t.ethereum}catch{return}}function pfe({metadata:n,preference:e}){var t,r;const{appName:i,appLogoUrl:s,appChainIds:c}=n;if(e.options!=="smartWalletOnly"){const f=hfe();if(f)return(t=f.setAppInfo)===null||t===void 0||t.call(f,i,s,c,e),f}const l=dfe();if(l!=null&&l.isCoinbaseBrowser)return(r=l.setAppInfo)===null||r===void 0||r.call(l,i,s,c,e),l}function gfe(n){if(!n||typeof n!="object"||Array.isArray(n))throw Ge.rpc.invalidParams({message:"Expected a single, non-array, object argument.",data:n});const{method:e,params:t}=n;if(typeof e!="string"||e.length===0)throw Ge.rpc.invalidParams({message:"'args.method' must be a non-empty string.",data:n});if(t!==void 0&&!Array.isArray(t)&&(typeof t!="object"||t===null))throw Ge.rpc.invalidParams({message:"'args.params' must be an object or array if provided.",data:n});switch(e){case"eth_sign":case"eth_signTypedData_v2":case"eth_subscribe":case"eth_unsubscribe":throw Ge.provider.unsupportedMethod()}}const FN="accounts",qN="activeChain",VN="availableChains",GN="walletCapabilities";class mfe{constructor(e){var t,r,i;this.metadata=e.metadata,this.communicator=e.communicator,this.callback=e.callback,this.keyManager=new ufe,this.storage=new js("CBWSDK","SCWStateManager"),this.accounts=(t=this.storage.loadObject(FN))!==null&&t!==void 0?t:[],this.chain=this.storage.loadObject(qN)||{id:(i=(r=e.metadata.appChainIds)===null||r===void 0?void 0:r[0])!==null&&i!==void 0?i:1},this.handshake=this.handshake.bind(this),this.request=this.request.bind(this),this.createRequestMessage=this.createRequestMessage.bind(this),this.decryptResponseMessage=this.decryptResponseMessage.bind(this)}async handshake(e){var t,r,i,s;await((r=(t=this.communicator).waitForPopupLoaded)===null||r===void 0?void 0:r.call(t));const c=await this.createRequestMessage({handshake:{method:e.method,params:Object.assign({},this.metadata,(i=e.params)!==null&&i!==void 0?i:{})}}),l=await this.communicator.postRequestAndWaitForResponse(c);if("failure"in l.content)throw l.content.failure;const f=await zP("public",l.sender);await this.keyManager.setPeerPublicKey(f);const p=(await this.decryptResponseMessage(l)).result;if("error"in p)throw p.error;switch(e.method){case"eth_requestAccounts":{const g=p.value;this.accounts=g,this.storage.storeObject(FN,g),(s=this.callback)===null||s===void 0||s.call(this,"accountsChanged",g);break}}}async request(e){var t;if(this.accounts.length===0)switch(e.method){case"wallet_sendCalls":return this.sendRequestToPopup(e);default:throw Ge.provider.unauthorized()}switch(e.method){case"eth_requestAccounts":return(t=this.callback)===null||t===void 0||t.call(this,"connect",{chainId:mc(this.chain.id)}),this.accounts;case"eth_accounts":return this.accounts;case"eth_coinbase":return this.accounts[0];case"net_version":return this.chain.id;case"eth_chainId":return mc(this.chain.id);case"wallet_getCapabilities":return this.handleGetCapabilitiesRequest(e);case"wallet_switchEthereumChain":return this.handleSwitchChainRequest(e);case"eth_ecRecover":case"personal_sign":case"wallet_sign":case"personal_ecRecover":case"eth_signTransaction":case"eth_sendTransaction":case"eth_signTypedData_v1":case"eth_signTypedData_v3":case"eth_signTypedData_v4":case"eth_signTypedData":case"wallet_addEthereumChain":case"wallet_watchAsset":case"wallet_sendCalls":case"wallet_showCallsStatus":case"wallet_grantPermissions":return this.sendRequestToPopup(e);default:if(!this.chain.rpcUrl)throw Ge.rpc.internal("No RPC URL set for chain");return AA(e,this.chain.rpcUrl)}}async sendRequestToPopup(e){var t,r;await((r=(t=this.communicator).waitForPopupLoaded)===null||r===void 0?void 0:r.call(t));const i=await this.sendEncryptedRequest(e),c=(await this.decryptResponseMessage(i)).result;if("error"in c)throw c.error;return c.value}async cleanup(){var e,t;this.storage.clear(),await this.keyManager.clear(),this.accounts=[],this.chain={id:(t=(e=this.metadata.appChainIds)===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:1}}async handleSwitchChainRequest(e){var t;const r=e.params;if(!r||!(!((t=r[0])===null||t===void 0)&&t.chainId))throw Ge.rpc.invalidParams();const i=$p(r[0].chainId);if(this.updateChain(i))return null;const c=await this.sendRequestToPopup(e);return c===null&&this.updateChain(i),c}async handleGetCapabilitiesRequest(e){ffe(e.params);const t=e.params[0],r=e.params[1];if(!this.accounts.some(l=>Kue(l,t)))throw Ge.provider.unauthorized("no active account found");const i=this.storage.loadObject(GN);if(!i)return{};if(!r||r.length===0)return i;const s=new Set(r.map(l=>kN(l)));return Object.fromEntries(Object.entries(i).filter(([l])=>{try{const f=kN(l);return s.has(f)}catch{return!1}}))}async sendEncryptedRequest(e){const t=await this.keyManager.getSharedSecret();if(!t)throw Ge.provider.unauthorized("No valid session found, try requestAccounts before other methods");const r=await cfe({action:e,chainId:this.chain.id},t),i=await this.createRequestMessage({encrypted:r});return this.communicator.postRequestAndWaitForResponse(i)}async createRequestMessage(e){const t=await jP("public",await this.keyManager.getOwnPublicKey());return{id:crypto.randomUUID(),sender:t,content:e,timestamp:new Date}}async decryptResponseMessage(e){var t,r;const i=e.content;if("failure"in i)throw i.failure;const s=await this.keyManager.getSharedSecret();if(!s)throw Ge.provider.unauthorized("Invalid session");const c=await lfe(i.encrypted,s),l=(t=c.data)===null||t===void 0?void 0:t.chains;if(l){const h=Object.entries(l).map(([p,g])=>({id:Number(p),rpcUrl:g}));this.storage.storeObject(VN,h),this.updateChain(this.chain.id,h)}const f=(r=c.data)===null||r===void 0?void 0:r.capabilities;return f&&this.storage.storeObject(GN,f),c}updateChain(e,t){var r;const i=t??this.storage.loadObject(VN),s=i==null?void 0:i.find(c=>c.id===e);return s?(s!==this.chain&&(this.chain=s,this.storage.storeObject(qN,s),(r=this.callback)===null||r===void 0||r.call(this,"chainChanged",mc(s.id))),!0):!1}}var _t={},Ue={},KN;function yfe(){if(KN)return Ue;KN=1,Object.defineProperty(Ue,"__esModule",{value:!0}),Ue.toBig=Ue.shrSL=Ue.shrSH=Ue.rotrSL=Ue.rotrSH=Ue.rotrBL=Ue.rotrBH=Ue.rotr32L=Ue.rotr32H=Ue.rotlSL=Ue.rotlSH=Ue.rotlBL=Ue.rotlBH=Ue.add5L=Ue.add5H=Ue.add4L=Ue.add4H=Ue.add3L=Ue.add3H=void 0,Ue.add=O,Ue.fromBig=t,Ue.split=r;const n=BigInt(2**32-1),e=BigInt(32);function t(L,F=!1){return F?{h:Number(L&n),l:Number(L>>e&n)}:{h:Number(L>>e&n)|0,l:Number(L&n)|0}}function r(L,F=!1){const q=L.length;let Q=new Uint32Array(q),G=new Uint32Array(q);for(let W=0;W<q;W++){const{h:A,l:E}=t(L[W],F);[Q[W],G[W]]=[A,E]}return[Q,G]}const i=(L,F)=>BigInt(L>>>0)<<e|BigInt(F>>>0);Ue.toBig=i;const s=(L,F,q)=>L>>>q;Ue.shrSH=s;const c=(L,F,q)=>L<<32-q|F>>>q;Ue.shrSL=c;const l=(L,F,q)=>L>>>q|F<<32-q;Ue.rotrSH=l;const f=(L,F,q)=>L<<32-q|F>>>q;Ue.rotrSL=f;const h=(L,F,q)=>L<<64-q|F>>>q-32;Ue.rotrBH=h;const p=(L,F,q)=>L>>>q-32|F<<64-q;Ue.rotrBL=p;const g=(L,F)=>F;Ue.rotr32H=g;const m=(L,F)=>L;Ue.rotr32L=m;const b=(L,F,q)=>L<<q|F>>>32-q;Ue.rotlSH=b;const w=(L,F,q)=>F<<q|L>>>32-q;Ue.rotlSL=w;const x=(L,F,q)=>F<<q-32|L>>>64-q;Ue.rotlBH=x;const S=(L,F,q)=>L<<q-32|F>>>64-q;Ue.rotlBL=S;function O(L,F,q,Q){const G=(F>>>0)+(Q>>>0);return{h:L+q+(G/2**32|0)|0,l:G|0}}const T=(L,F,q)=>(L>>>0)+(F>>>0)+(q>>>0);Ue.add3L=T;const _=(L,F,q,Q)=>F+q+Q+(L/2**32|0)|0;Ue.add3H=_;const I=(L,F,q,Q)=>(L>>>0)+(F>>>0)+(q>>>0)+(Q>>>0);Ue.add4L=I;const N=(L,F,q,Q,G)=>F+q+Q+G+(L/2**32|0)|0;Ue.add4H=N;const U=(L,F,q,Q,G)=>(L>>>0)+(F>>>0)+(q>>>0)+(Q>>>0)+(G>>>0);Ue.add5L=U;const z=(L,F,q,Q,G,W)=>F+q+Q+G+W+(L/2**32|0)|0;Ue.add5H=z;const M={fromBig:t,split:r,toBig:i,shrSH:s,shrSL:c,rotrSH:l,rotrSL:f,rotrBH:h,rotrBL:p,rotr32H:g,rotr32L:m,rotlSH:b,rotlSL:w,rotlBH:x,rotlBL:S,add:O,add3L:T,add3H:_,add4L:I,add4H:N,add5H:z,add5L:U};return Ue.default=M,Ue}var X2={},xp={},QN;function bfe(){return QN||(QN=1,Object.defineProperty(xp,"__esModule",{value:!0}),xp.crypto=void 0,xp.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0),xp}var YN;function wfe(){return YN||(YN=1,(function(n){/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */Object.defineProperty(n,"__esModule",{value:!0}),n.wrapXOFConstructorWithOpts=n.wrapConstructorWithOpts=n.wrapConstructor=n.Hash=n.nextTick=n.swap32IfBE=n.byteSwapIfBE=n.swap8IfBE=n.isLE=void 0,n.isBytes=t,n.anumber=r,n.abytes=i,n.ahash=s,n.aexists=c,n.aoutput=l,n.u8=f,n.u32=h,n.clean=p,n.createView=g,n.rotr=m,n.rotl=b,n.byteSwap=w,n.byteSwap32=x,n.bytesToHex=T,n.hexToBytes=N,n.asyncLoop=z,n.utf8ToBytes=M,n.bytesToUtf8=L,n.toBytes=F,n.kdfInputToBytes=q,n.concatBytes=Q,n.checkOpts=G,n.createHasher=A,n.createOptHasher=E,n.createXOFer=P,n.randomBytes=$;const e=bfe();function t(R){return R instanceof Uint8Array||ArrayBuffer.isView(R)&&R.constructor.name==="Uint8Array"}function r(R){if(!Number.isSafeInteger(R)||R<0)throw new Error("positive integer expected, got "+R)}function i(R,...C){if(!t(R))throw new Error("Uint8Array expected");if(C.length>0&&!C.includes(R.length))throw new Error("Uint8Array expected of length "+C+", got length="+R.length)}function s(R){if(typeof R!="function"||typeof R.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");r(R.outputLen),r(R.blockLen)}function c(R,C=!0){if(R.destroyed)throw new Error("Hash instance has been destroyed");if(C&&R.finished)throw new Error("Hash#digest() has already been called")}function l(R,C){i(R);const H=C.outputLen;if(R.length<H)throw new Error("digestInto() expects output buffer of length at least "+H)}function f(R){return new Uint8Array(R.buffer,R.byteOffset,R.byteLength)}function h(R){return new Uint32Array(R.buffer,R.byteOffset,Math.floor(R.byteLength/4))}function p(...R){for(let C=0;C<R.length;C++)R[C].fill(0)}function g(R){return new DataView(R.buffer,R.byteOffset,R.byteLength)}function m(R,C){return R<<32-C|R>>>C}function b(R,C){return R<<C|R>>>32-C>>>0}n.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function w(R){return R<<24&4278190080|R<<8&16711680|R>>>8&65280|R>>>24&255}n.swap8IfBE=n.isLE?R=>R:R=>w(R),n.byteSwapIfBE=n.swap8IfBE;function x(R){for(let C=0;C<R.length;C++)R[C]=w(R[C]);return R}n.swap32IfBE=n.isLE?R=>R:x;const S=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",O=Array.from({length:256},(R,C)=>C.toString(16).padStart(2,"0"));function T(R){if(i(R),S)return R.toHex();let C="";for(let H=0;H<R.length;H++)C+=O[R[H]];return C}const _={_0:48,_9:57,A:65,F:70,a:97,f:102};function I(R){if(R>=_._0&&R<=_._9)return R-_._0;if(R>=_.A&&R<=_.F)return R-(_.A-10);if(R>=_.a&&R<=_.f)return R-(_.a-10)}function N(R){if(typeof R!="string")throw new Error("hex string expected, got "+typeof R);if(S)return Uint8Array.fromHex(R);const C=R.length,H=C/2;if(C%2)throw new Error("hex string expected, got unpadded hex of length "+C);const K=new Uint8Array(H);for(let J=0,Y=0;J<H;J++,Y+=2){const se=I(R.charCodeAt(Y)),ue=I(R.charCodeAt(Y+1));if(se===void 0||ue===void 0){const ge=R[Y]+R[Y+1];throw new Error('hex string expected, got non-hex character "'+ge+'" at index '+Y)}K[J]=se*16+ue}return K}const U=async()=>{};n.nextTick=U;async function z(R,C,H){let K=Date.now();for(let J=0;J<R;J++){H(J);const Y=Date.now()-K;Y>=0&&Y<C||(await(0,n.nextTick)(),K+=Y)}}function M(R){if(typeof R!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(R))}function L(R){return new TextDecoder().decode(R)}function F(R){return typeof R=="string"&&(R=M(R)),i(R),R}function q(R){return typeof R=="string"&&(R=M(R)),i(R),R}function Q(...R){let C=0;for(let K=0;K<R.length;K++){const J=R[K];i(J),C+=J.length}const H=new Uint8Array(C);for(let K=0,J=0;K<R.length;K++){const Y=R[K];H.set(Y,J),J+=Y.length}return H}function G(R,C){if(C!==void 0&&{}.toString.call(C)!=="[object Object]")throw new Error("options should be object or undefined");return Object.assign(R,C)}class W{}n.Hash=W;function A(R){const C=K=>R().update(F(K)).digest(),H=R();return C.outputLen=H.outputLen,C.blockLen=H.blockLen,C.create=()=>R(),C}function E(R){const C=(K,J)=>R(J).update(F(K)).digest(),H=R({});return C.outputLen=H.outputLen,C.blockLen=H.blockLen,C.create=K=>R(K),C}function P(R){const C=(K,J)=>R(J).update(F(K)).digest(),H=R({});return C.outputLen=H.outputLen,C.blockLen=H.blockLen,C.create=K=>R(K),C}n.wrapConstructor=A,n.wrapConstructorWithOpts=E,n.wrapXOFConstructorWithOpts=P;function $(R=32){if(e.crypto&&typeof e.crypto.getRandomValues=="function")return e.crypto.getRandomValues(new Uint8Array(R));if(e.crypto&&typeof e.crypto.randomBytes=="function")return Uint8Array.from(e.crypto.randomBytes(R));throw new Error("crypto.getRandomValues must be defined")}})(X2)),X2}var ZN;function vfe(){if(ZN)return _t;ZN=1,Object.defineProperty(_t,"__esModule",{value:!0}),_t.shake256=_t.shake128=_t.keccak_512=_t.keccak_384=_t.keccak_256=_t.keccak_224=_t.sha3_512=_t.sha3_384=_t.sha3_256=_t.sha3_224=_t.Keccak=void 0,_t.keccakP=S;const n=yfe(),e=wfe(),t=BigInt(0),r=BigInt(1),i=BigInt(2),s=BigInt(7),c=BigInt(256),l=BigInt(113),f=[],h=[],p=[];for(let I=0,N=r,U=1,z=0;I<24;I++){[U,z]=[z,(2*U+3*z)%5],f.push(2*(5*z+U)),h.push((I+1)*(I+2)/2%64);let M=t;for(let L=0;L<7;L++)N=(N<<r^(N>>s)*l)%c,N&i&&(M^=r<<(r<<BigInt(L))-r);p.push(M)}const g=(0,n.split)(p,!0),m=g[0],b=g[1],w=(I,N,U)=>U>32?(0,n.rotlBH)(I,N,U):(0,n.rotlSH)(I,N,U),x=(I,N,U)=>U>32?(0,n.rotlBL)(I,N,U):(0,n.rotlSL)(I,N,U);function S(I,N=24){const U=new Uint32Array(10);for(let z=24-N;z<24;z++){for(let F=0;F<10;F++)U[F]=I[F]^I[F+10]^I[F+20]^I[F+30]^I[F+40];for(let F=0;F<10;F+=2){const q=(F+8)%10,Q=(F+2)%10,G=U[Q],W=U[Q+1],A=w(G,W,1)^U[q],E=x(G,W,1)^U[q+1];for(let P=0;P<50;P+=10)I[F+P]^=A,I[F+P+1]^=E}let M=I[2],L=I[3];for(let F=0;F<24;F++){const q=h[F],Q=w(M,L,q),G=x(M,L,q),W=f[F];M=I[W],L=I[W+1],I[W]=Q,I[W+1]=G}for(let F=0;F<50;F+=10){for(let q=0;q<10;q++)U[q]=I[F+q];for(let q=0;q<10;q++)I[F+q]^=~U[(q+2)%10]&U[(q+4)%10]}I[0]^=m[z],I[1]^=b[z]}(0,e.clean)(U)}class O extends e.Hash{constructor(N,U,z,M=!1,L=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=N,this.suffix=U,this.outputLen=z,this.enableXOF=M,this.rounds=L,(0,e.anumber)(z),!(0<N&&N<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=(0,e.u32)(this.state)}clone(){return this._cloneInto()}keccak(){(0,e.swap32IfBE)(this.state32),S(this.state32,this.rounds),(0,e.swap32IfBE)(this.state32),this.posOut=0,this.pos=0}update(N){(0,e.aexists)(this),N=(0,e.toBytes)(N),(0,e.abytes)(N);const{blockLen:U,state:z}=this,M=N.length;for(let L=0;L<M;){const F=Math.min(U-this.pos,M-L);for(let q=0;q<F;q++)z[this.pos++]^=N[L++];this.pos===U&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:N,suffix:U,pos:z,blockLen:M}=this;N[z]^=U,(U&128)!==0&&z===M-1&&this.keccak(),N[M-1]^=128,this.keccak()}writeInto(N){(0,e.aexists)(this,!1),(0,e.abytes)(N),this.finish();const U=this.state,{blockLen:z}=this;for(let M=0,L=N.length;M<L;){this.posOut>=z&&this.keccak();const F=Math.min(z-this.posOut,L-M);N.set(U.subarray(this.posOut,this.posOut+F),M),this.posOut+=F,M+=F}return N}xofInto(N){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(N)}xof(N){return(0,e.anumber)(N),this.xofInto(new Uint8Array(N))}digestInto(N){if((0,e.aoutput)(N,this),this.finished)throw new Error("digest() was already called");return this.writeInto(N),this.destroy(),N}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,(0,e.clean)(this.state)}_cloneInto(N){const{blockLen:U,suffix:z,outputLen:M,rounds:L,enableXOF:F}=this;return N||(N=new O(U,z,M,F,L)),N.state32.set(this.state32),N.pos=this.pos,N.posOut=this.posOut,N.finished=this.finished,N.rounds=L,N.suffix=z,N.outputLen=M,N.enableXOF=F,N.destroyed=this.destroyed,N}}_t.Keccak=O;const T=(I,N,U)=>(0,e.createHasher)(()=>new O(N,I,U));_t.sha3_224=T(6,144,224/8),_t.sha3_256=T(6,136,256/8),_t.sha3_384=T(6,104,384/8),_t.sha3_512=T(6,72,512/8),_t.keccak_224=T(1,144,224/8),_t.keccak_256=T(1,136,256/8),_t.keccak_384=T(1,104,384/8),_t.keccak_512=T(1,72,512/8);const _=(I,N,U)=>(0,e.createXOFer)((z={})=>new O(N,I,z.dkLen===void 0?U:z.dkLen,!0));return _t.shake128=_(31,168,128/8),_t.shake256=_(31,136,256/8),_t}var ex,WN;function FP(){if(WN)return ex;WN=1;const{keccak_256:n}=vfe();function e(b){return Buffer.allocUnsafe(b).fill(0)}function t(b){return b.toString(2).length}function r(b,w){let x=b.toString(16);x.length%2!==0&&(x="0"+x);const S=x.match(/.{1,2}/g).map(O=>parseInt(O,16));for(;S.length<w;)S.unshift(0);return Buffer.from(S)}function i(b,w){const x=b<0n;let S;if(x){const O=(1n<<BigInt(w))-1n;S=(~b&O)+1n}else S=b;return S&=(1n<<BigInt(w))-1n,S}function s(b,w,x){const S=e(w);return b=l(b),x?b.length<w?(b.copy(S),S):b.slice(0,w):b.length<w?(b.copy(S,w-b.length),S):b.slice(-w)}function c(b,w){return s(b,w,!0)}function l(b){if(!Buffer.isBuffer(b))if(Array.isArray(b))b=Buffer.from(b);else if(typeof b=="string")g(b)?b=Buffer.from(p(m(b)),"hex"):b=Buffer.from(b);else if(typeof b=="number")b=intToBuffer(b);else if(b==null)b=Buffer.allocUnsafe(0);else if(typeof b=="bigint")b=r(b);else if(b.toArray)b=Buffer.from(b.toArray());else throw new Error("invalid type");return b}function f(b){return b=l(b),"0x"+b.toString("hex")}function h(b,w){if(b=l(b),w||(w=256),w!==256)throw new Error("unsupported");return Buffer.from(n(new Uint8Array(b)))}function p(b){return b.length%2?"0"+b:b}function g(b){return typeof b=="string"&&b.match(/^0x[0-9A-Fa-f]*$/)}function m(b){return typeof b=="string"&&b.startsWith("0x")?b.slice(2):b}return ex={zeros:e,setLength:s,setLengthRight:c,isHexString:g,stripHexPrefix:m,toBuffer:l,bufferToHex:f,keccak:h,bitLengthFromBigInt:t,bufferBEFromBigInt:r,twosFromBigInt:i},ex}var tx,JN;function xfe(){if(JN)return tx;JN=1;const n=FP();function e(m){return m.startsWith("int[")?"int256"+m.slice(3):m==="int"?"int256":m.startsWith("uint[")?"uint256"+m.slice(4):m==="uint"?"uint256":m.startsWith("fixed[")?"fixed128x128"+m.slice(5):m==="fixed"?"fixed128x128":m.startsWith("ufixed[")?"ufixed128x128"+m.slice(6):m==="ufixed"?"ufixed128x128":m}function t(m){return Number.parseInt(/^\D+(\d+)$/.exec(m)[1],10)}function r(m){var b=/^\D+(\d+)x(\d+)$/.exec(m);return[Number.parseInt(b[1],10),Number.parseInt(b[2],10)]}function i(m){var b=m.match(/(.*)\[(.*?)\]$/);return b?b[2]===""?"dynamic":Number.parseInt(b[2],10):null}function s(m){var b=typeof m;if(b==="string"||b==="number")return BigInt(m);if(b==="bigint")return m;throw new Error("Argument is not a number")}function c(m,b){var w,x,S,O;if(m==="address")return c("uint160",s(b));if(m==="bool")return c("uint8",b?1:0);if(m==="string")return c("bytes",new Buffer(b,"utf8"));if(f(m)){if(typeof b.length>"u")throw new Error("Not an array?");if(w=i(m),w!=="dynamic"&&w!==0&&b.length>w)throw new Error("Elements exceed array size: "+w);S=[],m=m.slice(0,m.lastIndexOf("[")),typeof b=="string"&&(b=JSON.parse(b));for(O in b)S.push(c(m,b[O]));if(w==="dynamic"){var T=c("uint256",b.length);S.unshift(T)}return Buffer.concat(S)}else{if(m==="bytes")return b=new Buffer(b),S=Buffer.concat([c("uint256",b.length),b]),b.length%32!==0&&(S=Buffer.concat([S,n.zeros(32-b.length%32)])),S;if(m.startsWith("bytes")){if(w=t(m),w<1||w>32)throw new Error("Invalid bytes<N> width: "+w);return n.setLengthRight(b,32)}else if(m.startsWith("uint")){if(w=t(m),w%8||w<8||w>256)throw new Error("Invalid uint<N> width: "+w);x=s(b);const _=n.bitLengthFromBigInt(x);if(_>w)throw new Error("Supplied uint exceeds width: "+w+" vs "+_);if(x<0)throw new Error("Supplied uint is negative");return n.bufferBEFromBigInt(x,32)}else if(m.startsWith("int")){if(w=t(m),w%8||w<8||w>256)throw new Error("Invalid int<N> width: "+w);x=s(b);const _=n.bitLengthFromBigInt(x);if(_>w)throw new Error("Supplied int exceeds width: "+w+" vs "+_);const I=n.twosFromBigInt(x,256);return n.bufferBEFromBigInt(I,32)}else if(m.startsWith("ufixed")){if(w=r(m),x=s(b),x<0)throw new Error("Supplied ufixed is negative");return c("uint256",x*BigInt(2)**BigInt(w[1]))}else if(m.startsWith("fixed"))return w=r(m),c("int256",s(b)*BigInt(2)**BigInt(w[1]))}throw new Error("Unsupported or invalid type: "+m)}function l(m){return m==="string"||m==="bytes"||i(m)==="dynamic"}function f(m){return m.lastIndexOf("]")===m.length-1}function h(m,b){var w=[],x=[],S=32*m.length;for(var O in m){var T=e(m[O]),_=b[O],I=c(T,_);l(T)?(w.push(c("uint256",S)),x.push(I),S+=I.length):w.push(I)}return Buffer.concat(w.concat(x))}function p(m,b){if(m.length!==b.length)throw new Error("Number of types are not matching the values");for(var w,x,S=[],O=0;O<m.length;O++){var T=e(m[O]),_=b[O];if(T==="bytes")S.push(_);else if(T==="string")S.push(new Buffer(_,"utf8"));else if(T==="bool")S.push(new Buffer(_?"01":"00","hex"));else if(T==="address")S.push(n.setLength(_,20));else if(T.startsWith("bytes")){if(w=t(T),w<1||w>32)throw new Error("Invalid bytes<N> width: "+w);S.push(n.setLengthRight(_,w))}else if(T.startsWith("uint")){if(w=t(T),w%8||w<8||w>256)throw new Error("Invalid uint<N> width: "+w);x=s(_);const I=n.bitLengthFromBigInt(x);if(I>w)throw new Error("Supplied uint exceeds width: "+w+" vs "+I);S.push(n.bufferBEFromBigInt(x,w/8))}else if(T.startsWith("int")){if(w=t(T),w%8||w<8||w>256)throw new Error("Invalid int<N> width: "+w);x=s(_);const I=n.bitLengthFromBigInt(x);if(I>w)throw new Error("Supplied int exceeds width: "+w+" vs "+I);const N=n.twosFromBigInt(x,w);S.push(n.bufferBEFromBigInt(N,w/8))}else throw new Error("Unsupported or invalid type: "+T)}return Buffer.concat(S)}function g(m,b){return n.keccak(p(m,b))}return tx={rawEncode:h,solidityPack:p,soliditySHA3:g},tx}var nx,XN;function Efe(){if(XN)return nx;XN=1;const n=FP(),e=xfe(),t={type:"object",properties:{types:{type:"object",additionalProperties:{type:"array",items:{type:"object",properties:{name:{type:"string"},type:{type:"string"}},required:["name","type"]}}},primaryType:{type:"string"},domain:{type:"object"},message:{type:"object"}},required:["types","primaryType","domain","message"]},r={encodeData(s,c,l,f=!0){const h=["bytes32"],p=[this.hashType(s,l)];if(f){const g=(m,b,w)=>{if(l[b]!==void 0)return["bytes32",w==null?"0x0000000000000000000000000000000000000000000000000000000000000000":n.keccak(this.encodeData(b,w,l,f))];if(w===void 0)throw new Error(`missing value for field ${m} of type ${b}`);if(b==="bytes")return["bytes32",n.keccak(w)];if(b==="string")return typeof w=="string"&&(w=Buffer.from(w,"utf8")),["bytes32",n.keccak(w)];if(b.lastIndexOf("]")===b.length-1){const x=b.slice(0,b.lastIndexOf("[")),S=w.map(O=>g(m,x,O));return["bytes32",n.keccak(e.rawEncode(S.map(([O])=>O),S.map(([,O])=>O)))]}return[b,w]};for(const m of l[s]){const[b,w]=g(m.name,m.type,c[m.name]);h.push(b),p.push(w)}}else for(const g of l[s]){let m=c[g.name];if(m!==void 0)if(g.type==="bytes")h.push("bytes32"),m=n.keccak(m),p.push(m);else if(g.type==="string")h.push("bytes32"),typeof m=="string"&&(m=Buffer.from(m,"utf8")),m=n.keccak(m),p.push(m);else if(l[g.type]!==void 0)h.push("bytes32"),m=n.keccak(this.encodeData(g.type,m,l,f)),p.push(m);else{if(g.type.lastIndexOf("]")===g.type.length-1)throw new Error("Arrays currently unimplemented in encodeData");h.push(g.type),p.push(m)}}return e.rawEncode(h,p)},encodeType(s,c){let l="",f=this.findTypeDependencies(s,c).filter(h=>h!==s);f=[s].concat(f.sort());for(const h of f){if(!c[h])throw new Error("No type definition specified: "+h);l+=h+"("+c[h].map(({name:g,type:m})=>m+" "+g).join(",")+")"}return l},findTypeDependencies(s,c,l=[]){if(s=s.match(/^\w*/)[0],l.includes(s)||c[s]===void 0)return l;l.push(s);for(const f of c[s])for(const h of this.findTypeDependencies(f.type,c,l))!l.includes(h)&&l.push(h);return l},hashStruct(s,c,l,f=!0){return n.keccak(this.encodeData(s,c,l,f))},hashType(s,c){return n.keccak(this.encodeType(s,c))},sanitizeData(s){const c={};for(const l in t.properties)s[l]&&(c[l]=s[l]);return c.types&&(c.types=Object.assign({EIP712Domain:[]},c.types)),c},hash(s,c=!0){const l=this.sanitizeData(s),f=[Buffer.from("1901","hex")];return f.push(this.hashStruct("EIP712Domain",l.domain,l.types,c)),l.primaryType!=="EIP712Domain"&&f.push(this.hashStruct(l.primaryType,l.message,l.types,c)),n.keccak(Buffer.concat(f))}};nx={TYPED_MESSAGE_SCHEMA:t,TypedDataUtils:r,hashForSignTypedDataLegacy:function(s){return i(s.data)},hashForSignTypedData_v3:function(s){return r.hash(s.data,!1)},hashForSignTypedData_v4:function(s){return r.hash(s.data)}};function i(s){const c=new Error("Expect argument to be non-empty array");if(typeof s!="object"||!s.length)throw c;const l=s.map(function(p){return p.type==="bytes"?n.toBuffer(p.value):p.value}),f=s.map(function(p){return p.type}),h=s.map(function(p){if(!p.name)throw c;return p.type+" "+p.name});return e.soliditySHA3(["bytes32","bytes32"],[e.soliditySHA3(new Array(s.length).fill("string"),h),e.soliditySHA3(f,l)])}return nx}var Afe=Efe();const qm=Sg(Afe),Sfe="walletUsername",JE="Addresses",_fe="AppVersion";function Rn(n){return n.errorMessage!==void 0}class Ofe{constructor(e){this.secret=e}async encrypt(e){const t=this.secret;if(t.length!==64)throw Error("secret must be 256 bits");const r=crypto.getRandomValues(new Uint8Array(12)),i=await crypto.subtle.importKey("raw",hy(t),{name:"aes-gcm"},!1,["encrypt","decrypt"]),s=new TextEncoder,c=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:r},i,s.encode(e)),l=16,f=c.slice(c.byteLength-l),h=c.slice(0,c.byteLength-l),p=new Uint8Array(f),g=new Uint8Array(h),m=new Uint8Array([...r,...p,...g]);return vA(m)}async decrypt(e){const t=this.secret;if(t.length!==64)throw Error("secret must be 256 bits");return new Promise((r,i)=>{(async function(){const s=await crypto.subtle.importKey("raw",hy(t),{name:"aes-gcm"},!1,["encrypt","decrypt"]),c=hy(e),l=c.slice(0,12),f=c.slice(12,28),h=c.slice(28),p=new Uint8Array([...h,...f]),g={name:"AES-GCM",iv:new Uint8Array(l)};try{const m=await window.crypto.subtle.decrypt(g,s,p),b=new TextDecoder;r(b.decode(m))}catch(m){i(m)}})()})}}class Cfe{constructor(e,t,r){this.linkAPIUrl=e,this.sessionId=t;const i=`${t}:${r}`;this.auth=`Basic ${btoa(i)}`}async markUnseenEventsAsSeen(e){return Promise.all(e.map(t=>fetch(`${this.linkAPIUrl}/events/${t.eventId}/seen`,{method:"POST",headers:{Authorization:this.auth}}))).catch(t=>console.error("Unabled to mark event as failed:",t))}async fetchUnseenEvents(){var e;const t=await fetch(`${this.linkAPIUrl}/events?unseen=true`,{headers:{Authorization:this.auth}});if(t.ok){const{events:r,error:i}=await t.json();if(i)throw new Error(`Check unseen events failed: ${i}`);const s=(e=r==null?void 0:r.filter(c=>c.event==="Web3Response").map(c=>({type:"Event",sessionId:this.sessionId,eventId:c.id,event:c.event,data:c.data})))!==null&&e!==void 0?e:[];return this.markUnseenEventsAsSeen(s),s}throw new Error(`Check unseen events failed: ${t.status}`)}}var Ps;(function(n){n[n.DISCONNECTED=0]="DISCONNECTED",n[n.CONNECTING=1]="CONNECTING",n[n.CONNECTED=2]="CONNECTED"})(Ps||(Ps={}));class Jr{setConnectionStateListener(e){this.connectionStateListener=e}setIncomingDataListener(e){this.incomingDataListener=e}constructor(e,t=WebSocket){this.WebSocketClass=t,this.webSocket=null,this.isDisconnecting=!1,this.url=e.replace(/^http/,"ws"),this.instanceId=Jr.instanceCounter++,Jr.activeInstances.add(this.instanceId)}async connect(){if(this.webSocket)throw new Error("webSocket object is not null");if(this.isDisconnecting)throw new Error("WebSocket is disconnecting, cannot reconnect on same instance");return new Promise((e,t)=>{var r;let i;try{this.webSocket=i=new this.WebSocketClass(this.url)}catch(s){t(s);return}(r=this.connectionStateListener)===null||r===void 0||r.call(this,Ps.CONNECTING),i.onclose=s=>{var c;this.clearWebSocket(),i.readyState!==WebSocket.OPEN&&t(new Error(`websocket error ${s.code}: ${s.reason}`)),(c=this.connectionStateListener)===null||c===void 0||c.call(this,Ps.DISCONNECTED)},i.onopen=s=>{var c;e(),(c=this.connectionStateListener)===null||c===void 0||c.call(this,Ps.CONNECTED),Jr.pendingData.length>0&&([...Jr.pendingData].forEach(f=>this.sendData(f)),Jr.pendingData=[])},i.onmessage=s=>{var c,l;if(s.data==="h")(c=this.incomingDataListener)===null||c===void 0||c.call(this,{type:"Heartbeat"});else try{const f=JSON.parse(s.data);(l=this.incomingDataListener)===null||l===void 0||l.call(this,f)}catch{}}})}disconnect(){var e;const{webSocket:t}=this;if(t){this.isDisconnecting=!0,this.clearWebSocket(),(e=this.connectionStateListener)===null||e===void 0||e.call(this,Ps.DISCONNECTED),this.connectionStateListener=void 0,this.incomingDataListener=void 0;try{t.close()}catch{}}}sendData(e){const{webSocket:t}=this;if(!t){Jr.pendingData.push(e),this.isDisconnecting||this.connect();return}if(t.readyState!==WebSocket.OPEN){Jr.pendingData.push(e);return}t.send(e)}clearWebSocket(){const{webSocket:e}=this;e&&(this.webSocket=null,e.onclose=null,e.onerror=null,e.onmessage=null,e.onopen=null)}cleanup(){Jr.activeInstances.delete(this.instanceId)}}Jr.instanceCounter=0;Jr.activeInstances=new Set;Jr.pendingData=[];const eI=1e4,Nfe=6e4;class Ife{constructor({session:e,linkAPIUrl:t,listener:r}){this.destroyed=!1,this.lastHeartbeatResponse=0,this.nextReqId=Ea(1),this.reconnectAttempts=0,this.isReconnecting=!1,this._connected=!1,this._linked=!1,this.requestResolutions=new Map,this.handleSessionMetadataUpdated=s=>{if(!s)return;new Map([["__destroyed",this.handleDestroyed],["EthereumAddress",this.handleAccountUpdated],["WalletUsername",this.handleWalletUsernameUpdated],["AppVersion",this.handleAppVersionUpdated],["ChainId",l=>s.JsonRpcUrl&&this.handleChainUpdated(l,s.JsonRpcUrl)]]).forEach((l,f)=>{const h=s[f];h!==void 0&&l(h)})},this.handleDestroyed=s=>{var c;s==="1"&&((c=this.listener)===null||c===void 0||c.resetAndReload())},this.handleAccountUpdated=async s=>{var c;try{const l=await this.cipher.decrypt(s);(c=this.listener)===null||c===void 0||c.accountUpdated(l)}catch{}},this.handleMetadataUpdated=async(s,c)=>{var l;try{const f=await this.cipher.decrypt(c);(l=this.listener)===null||l===void 0||l.metadataUpdated(s,f)}catch{}},this.handleWalletUsernameUpdated=async s=>{this.handleMetadataUpdated(Sfe,s)},this.handleAppVersionUpdated=async s=>{this.handleMetadataUpdated(_fe,s)},this.handleChainUpdated=async(s,c)=>{var l;try{const f=await this.cipher.decrypt(s),h=await this.cipher.decrypt(c);(l=this.listener)===null||l===void 0||l.chainUpdated(f,h)}catch{}},this.session=e,this.cipher=new Ofe(e.secret),this.listener=r,this.linkAPIUrl=t,this.WebSocketClass=WebSocket;const i=this.createWebSocket();this.ws=i,this.http=new Cfe(t,e.id,e.key),this.setupVisibilityChangeHandler()}createWebSocket(){const e=new Jr(`${this.linkAPIUrl}/rpc`,this.WebSocketClass);return this.activeWsInstance=e,e.setConnectionStateListener(async t=>{if(e!==this.activeWsInstance)return;let r=!1;switch(t){case Ps.DISCONNECTED:this.heartbeatIntervalId&&(clearInterval(this.heartbeatIntervalId),this.heartbeatIntervalId=void 0),this.lastHeartbeatResponse=0,r=!1,this.destroyed||(async()=>{if(this.isReconnecting)return;this.isReconnecting=!0;const s=this.reconnectAttempts===0?0:3e3;await new Promise(c=>setTimeout(c,s)),!this.destroyed&&e===this.activeWsInstance?(this.reconnectAttempts++,"cleanup"in this.ws&&typeof this.ws.cleanup=="function"&&this.ws.cleanup(),this.ws=this.createWebSocket(),this.ws.connect().catch(()=>{}).finally(()=>{this.isReconnecting=!1})):this.isReconnecting=!1})();break;case Ps.CONNECTED:this.reconnectAttempts=0;try{r=await this.handleConnected(),this.fetchUnseenEventsAPI().catch(()=>{})}catch{break}this.connected=r,this.updateLastHeartbeat(),this.heartbeatIntervalId&&clearInterval(this.heartbeatIntervalId),this.heartbeatIntervalId=window.setInterval(()=>{this.heartbeat()},eI),setTimeout(()=>{this.heartbeat()},100);break;case Ps.CONNECTING:break}t!==Ps.CONNECTED&&(this.connected=r)}),e.setIncomingDataListener(t=>{var r;switch(t.type){case"Heartbeat":this.updateLastHeartbeat();return;case"IsLinkedOK":case"Linked":{const i=t.type==="IsLinkedOK"?t.linked:void 0;this.linked=i||t.onlineGuests>0;break}case"GetSessionConfigOK":case"SessionConfigUpdated":{this.handleSessionMetadataUpdated(t.metadata);break}case"Event":{this.handleIncomingEvent(t);break}}t.id!==void 0&&((r=this.requestResolutions.get(t.id))===null||r===void 0||r(t))}),e}setupVisibilityChangeHandler(){this.visibilityChangeHandler=()=>{!document.hidden&&!this.destroyed&&(this.connected?this.heartbeat():this.reconnectWithFreshWebSocket())},this.focusHandler=()=>{!this.destroyed&&!this.connected&&this.reconnectWithFreshWebSocket()},document.addEventListener("visibilitychange",this.visibilityChangeHandler),window.addEventListener("focus",this.focusHandler),window.addEventListener("pageshow",e=>{e.persisted&&this.focusHandler&&this.focusHandler()})}reconnectWithFreshWebSocket(){if(this.destroyed)return;const e=this.ws;this.activeWsInstance=void 0,e.disconnect(),"cleanup"in e&&typeof e.cleanup=="function"&&e.cleanup(),this.ws=this.createWebSocket(),this.ws.connect().catch(()=>{})}connect(){if(this.destroyed)throw new Error("instance is destroyed");this.ws.connect()}async destroy(){this.destroyed||(await this.makeRequest({type:"SetSessionConfig",id:Ea(this.nextReqId++),sessionId:this.session.id,metadata:{__destroyed:"1"}},{timeout:1e3}),this.destroyed=!0,this.activeWsInstance=void 0,this.heartbeatIntervalId&&(clearInterval(this.heartbeatIntervalId),this.heartbeatIntervalId=void 0),this.visibilityChangeHandler&&document.removeEventListener("visibilitychange",this.visibilityChangeHandler),this.focusHandler&&window.removeEventListener("focus",this.focusHandler),this.ws.disconnect(),"cleanup"in this.ws&&typeof this.ws.cleanup=="function"&&this.ws.cleanup(),this.listener=void 0)}get connected(){return this._connected}set connected(e){this._connected=e}get linked(){return this._linked}set linked(e){var t,r;this._linked=e,e&&((t=this.onceLinked)===null||t===void 0||t.call(this)),(r=this.listener)===null||r===void 0||r.linkedUpdated(e)}setOnceLinked(e){return new Promise(t=>{this.linked?e().then(t):this.onceLinked=()=>{e().then(t),this.onceLinked=void 0}})}async handleIncomingEvent(e){var t;if(!(e.type!=="Event"||e.event!=="Web3Response"))try{const r=await this.cipher.decrypt(e.data),i=JSON.parse(r);if(i.type!=="WEB3_RESPONSE")return;(t=this.listener)===null||t===void 0||t.handleWeb3ResponseMessage(i.id,i.response)}catch{}}async checkUnseenEvents(){await new Promise(e=>setTimeout(e,250));try{await this.fetchUnseenEventsAPI()}catch(e){console.error("Unable to check for unseen events",e)}}async fetchUnseenEventsAPI(){try{(await this.http.fetchUnseenEvents()).forEach(t=>{this.handleIncomingEvent(t)})}catch{}}async publishEvent(e,t,r=!1){const i=await this.cipher.encrypt(JSON.stringify(Object.assign(Object.assign({},t),{origin:location.origin,location:location.href,relaySource:"coinbaseWalletExtension"in window&&window.coinbaseWalletExtension?"injected_sdk":"sdk"}))),s={type:"PublishEvent",id:Ea(this.nextReqId++),sessionId:this.session.id,event:e,data:i,callWebhook:r};return this.setOnceLinked(async()=>{const c=await this.makeRequest(s);if(c.type==="Fail")throw new Error(c.error||"failed to publish event");return c.eventId})}sendData(e){this.ws.sendData(JSON.stringify(e))}updateLastHeartbeat(){this.lastHeartbeatResponse=Date.now()}heartbeat(){if(Date.now()-this.lastHeartbeatResponse>eI*2){this.ws.disconnect();return}if(this.connected)try{this.ws.sendData("h")}catch{}}async makeRequest(e,t={timeout:Nfe}){const r=e.id;this.sendData(e);let i;return Promise.race([new Promise((s,c)=>{i=window.setTimeout(()=>{c(new Error(`request ${r} timed out`))},t.timeout)}),new Promise(s=>{this.requestResolutions.set(r,c=>{clearTimeout(i),s(c),this.requestResolutions.delete(r)})})])}async handleConnected(){return(await this.makeRequest({type:"HostSession",id:Ea(this.nextReqId++),sessionId:this.session.id,sessionKey:this.session.key})).type==="Fail"?!1:(this.sendData({type:"IsLinked",id:Ea(this.nextReqId++),sessionId:this.session.id}),this.sendData({type:"GetSessionConfig",id:Ea(this.nextReqId++),sessionId:this.session.id}),!0)}}class Tfe{constructor(){this._nextRequestId=0,this.callbacks=new Map}makeRequestId(){this._nextRequestId=(this._nextRequestId+1)%2147483647;const e=this._nextRequestId,t=LP(e.toString(16));return this.callbacks.get(t)&&this.callbacks.delete(t),e}}/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Dfe(n){return n instanceof Uint8Array||ArrayBuffer.isView(n)&&n.constructor.name==="Uint8Array"}function Yb(n,...e){if(!Dfe(n))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(n.length))throw new Error("Uint8Array expected of length "+e+", got length="+n.length)}function tI(n,e=!0){if(n.destroyed)throw new Error("Hash instance has been destroyed");if(e&&n.finished)throw new Error("Hash#digest() has already been called")}function Rfe(n,e){Yb(n);const t=e.outputLen;if(n.length<t)throw new Error("digestInto() expects output buffer of length at least "+t)}function XE(...n){for(let e=0;e<n.length;e++)n[e].fill(0)}function rx(n){return new DataView(n.buffer,n.byteOffset,n.byteLength)}function gs(n,e){return n<<32-e|n>>>e}const Bfe=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",kfe=Array.from({length:256},(n,e)=>e.toString(16).padStart(2,"0"));function Pfe(n){if(Yb(n),Bfe)return n.toHex();let e="";for(let t=0;t<n.length;t++)e+=kfe[n[t]];return e}function Ufe(n){if(typeof n!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(n))}function qP(n){return typeof n=="string"&&(n=Ufe(n)),Yb(n),n}class Mfe{}function Lfe(n){const e=r=>n().update(qP(r)).digest(),t=n();return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=()=>n(),e}function $fe(n,e,t,r){if(typeof n.setBigUint64=="function")return n.setBigUint64(e,t,r);const i=BigInt(32),s=BigInt(4294967295),c=Number(t>>i&s),l=Number(t&s),f=r?4:0,h=r?0:4;n.setUint32(e+f,c,r),n.setUint32(e+h,l,r)}function jfe(n,e,t){return n&e^~n&t}function zfe(n,e,t){return n&e^n&t^e&t}class Hfe extends Mfe{constructor(e,t,r,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=i,this.buffer=new Uint8Array(e),this.view=rx(this.buffer)}update(e){tI(this),e=qP(e),Yb(e);const{view:t,buffer:r,blockLen:i}=this,s=e.length;for(let c=0;c<s;){const l=Math.min(i-this.pos,s-c);if(l===i){const f=rx(e);for(;i<=s-c;c+=i)this.process(f,c);continue}r.set(e.subarray(c,c+l),this.pos),this.pos+=l,c+=l,this.pos===i&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){tI(this),Rfe(e,this),this.finished=!0;const{buffer:t,view:r,blockLen:i,isLE:s}=this;let{pos:c}=this;t[c++]=128,XE(this.buffer.subarray(c)),this.padOffset>i-c&&(this.process(r,0),c=0);for(let g=c;g<i;g++)t[g]=0;$fe(r,i-8,BigInt(this.length*8),s),this.process(r,0);const l=rx(e),f=this.outputLen;if(f%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const h=f/4,p=this.get();if(h>p.length)throw new Error("_sha2: outputLen bigger than state");for(let g=0;g<h;g++)l.setUint32(4*g,p[g],s)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:r,length:i,finished:s,destroyed:c,pos:l}=this;return e.destroyed=c,e.finished=s,e.length=i,e.pos=l,i%t&&e.buffer.set(r),e}clone(){return this._cloneInto()}}const Ho=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Ffe=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Fo=new Uint32Array(64);class qfe extends Hfe{constructor(e=32){super(64,e,8,!1),this.A=Ho[0]|0,this.B=Ho[1]|0,this.C=Ho[2]|0,this.D=Ho[3]|0,this.E=Ho[4]|0,this.F=Ho[5]|0,this.G=Ho[6]|0,this.H=Ho[7]|0}get(){const{A:e,B:t,C:r,D:i,E:s,F:c,G:l,H:f}=this;return[e,t,r,i,s,c,l,f]}set(e,t,r,i,s,c,l,f){this.A=e|0,this.B=t|0,this.C=r|0,this.D=i|0,this.E=s|0,this.F=c|0,this.G=l|0,this.H=f|0}process(e,t){for(let g=0;g<16;g++,t+=4)Fo[g]=e.getUint32(t,!1);for(let g=16;g<64;g++){const m=Fo[g-15],b=Fo[g-2],w=gs(m,7)^gs(m,18)^m>>>3,x=gs(b,17)^gs(b,19)^b>>>10;Fo[g]=x+Fo[g-7]+w+Fo[g-16]|0}let{A:r,B:i,C:s,D:c,E:l,F:f,G:h,H:p}=this;for(let g=0;g<64;g++){const m=gs(l,6)^gs(l,11)^gs(l,25),b=p+m+jfe(l,f,h)+Ffe[g]+Fo[g]|0,x=(gs(r,2)^gs(r,13)^gs(r,22))+zfe(r,i,s)|0;p=h,h=f,f=l,l=c+b|0,c=s,s=i,i=r,r=b+x|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,c=c+this.D|0,l=l+this.E|0,f=f+this.F|0,h=h+this.G|0,p=p+this.H|0,this.set(r,i,s,c,l,f,h,p)}roundClean(){XE(Fo)}destroy(){this.set(0,0,0,0,0,0,0,0),XE(this.buffer)}}const Vfe=Lfe(()=>new qfe),Gfe=Vfe,nI="session:id",rI="session:secret",iI="session:linked";class $f{constructor(e,t,r,i=!1){this.storage=e,this.id=t,this.secret=r,this.key=Pfe(Gfe(`${t}, ${r} WalletLink`)),this._linked=!!i}static create(e){const t=hl(16),r=hl(32);return new $f(e,t,r).save()}static load(e){const t=e.getItem(nI),r=e.getItem(iI),i=e.getItem(rI);return t&&i?new $f(e,t,i,r==="1"):null}get linked(){return this._linked}set linked(e){this._linked=e,this.persistLinked()}save(){return this.storage.setItem(nI,this.id),this.storage.setItem(rI,this.secret),this.persistLinked(),this}persistLinked(){this.storage.setItem(iI,this._linked?"1":"0")}}function Kfe(){try{return window.frameElement!==null}catch{return!1}}function Qfe(){try{return Kfe()&&window.top?window.top.location:window.location}catch{return window.location}}function Yfe(){var n;return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test((n=window==null?void 0:window.navigator)===null||n===void 0?void 0:n.userAgent)}function VP(){var n,e;return(e=(n=window==null?void 0:window.matchMedia)===null||n===void 0?void 0:n.call(window,"(prefers-color-scheme: dark)").matches)!==null&&e!==void 0?e:!1}const Zfe='@namespace svg "http://www.w3.org/2000/svg";.-cbwsdk-css-reset,.-cbwsdk-css-reset *{animation:none;animation-delay:0;animation-direction:normal;animation-duration:0;animation-fill-mode:none;animation-iteration-count:1;animation-name:none;animation-play-state:running;animation-timing-function:ease;backface-visibility:visible;background:0;background-attachment:scroll;background-clip:border-box;background-color:rgba(0,0,0,0);background-image:none;background-origin:padding-box;background-position:0 0;background-position-x:0;background-position-y:0;background-repeat:repeat;background-size:auto auto;border:0;border-style:none;border-width:medium;border-color:inherit;border-bottom:0;border-bottom-color:inherit;border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-style:none;border-bottom-width:medium;border-collapse:separate;border-image:none;border-left:0;border-left-color:inherit;border-left-style:none;border-left-width:medium;border-radius:0;border-right:0;border-right-color:inherit;border-right-style:none;border-right-width:medium;border-spacing:0;border-top:0;border-top-color:inherit;border-top-left-radius:0;border-top-right-radius:0;border-top-style:none;border-top-width:medium;box-shadow:none;box-sizing:border-box;caption-side:top;clear:none;clip:auto;color:inherit;columns:auto;column-count:auto;column-fill:balance;column-gap:normal;column-rule:medium none currentColor;column-rule-color:currentColor;column-rule-style:none;column-rule-width:none;column-span:1;column-width:auto;counter-increment:none;counter-reset:none;direction:ltr;empty-cells:show;float:none;font:normal;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;font-size:medium;font-style:normal;font-variant:normal;font-weight:normal;height:auto;hyphens:none;letter-spacing:normal;line-height:normal;list-style:none;list-style-image:none;list-style-position:outside;list-style-type:disc;margin:0;margin-bottom:0;margin-left:0;margin-right:0;margin-top:0;opacity:1;orphans:0;outline:0;outline-color:invert;outline-style:none;outline-width:medium;overflow:visible;overflow-x:visible;overflow-y:visible;padding:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;page-break-after:auto;page-break-before:auto;page-break-inside:auto;perspective:none;perspective-origin:50% 50%;pointer-events:auto;position:static;quotes:"\\201C" "\\201D" "\\2018" "\\2019";tab-size:8;table-layout:auto;text-align:inherit;text-align-last:auto;text-decoration:none;text-decoration-color:inherit;text-decoration-line:none;text-decoration-style:solid;text-indent:0;text-shadow:none;text-transform:none;transform:none;transform-style:flat;transition:none;transition-delay:0s;transition-duration:0s;transition-property:none;transition-timing-function:ease;unicode-bidi:normal;vertical-align:baseline;visibility:visible;white-space:normal;widows:0;word-spacing:normal;z-index:auto}.-cbwsdk-css-reset strong{font-weight:bold}.-cbwsdk-css-reset *{box-sizing:border-box;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;line-height:1}.-cbwsdk-css-reset [class*=container]{margin:0;padding:0}.-cbwsdk-css-reset style{display:none}';function GP(){const n=document.createElement("style");n.type="text/css",n.appendChild(document.createTextNode(Zfe)),document.documentElement.appendChild(n)}function KP(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n))for(e=0;e<n.length;e++)n[e]&&(t=KP(n[e]))&&(r&&(r+=" "),r+=t);else for(e in n)n[e]&&(r&&(r+=" "),r+=e);return r}function jp(){for(var n,e,t=0,r="";t<arguments.length;)(n=arguments[t++])&&(e=KP(n))&&(r&&(r+=" "),r+=e);return r}var Zb,It,QP,dl,sI,YP,ZP,WP,SA,e3,t3,ug={},JP=[],Wfe=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,Wb=Array.isArray;function $a(n,e){for(var t in e)n[t]=e[t];return n}function _A(n){n&&n.parentNode&&n.parentNode.removeChild(n)}function bt(n,e,t){var r,i,s,c={};for(s in e)s=="key"?r=e[s]:s=="ref"?i=e[s]:c[s]=e[s];if(arguments.length>2&&(c.children=arguments.length>3?Zb.call(arguments,2):t),typeof n=="function"&&n.defaultProps!=null)for(s in n.defaultProps)c[s]===void 0&&(c[s]=n.defaultProps[s]);return dy(n,c,r,i,null)}function dy(n,e,t,r,i){var s={type:n,props:e,key:t,ref:r,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:i??++QP,__i:-1,__u:0};return i==null&&It.vnode!=null&&It.vnode(s),s}function Jb(n){return n.children}function py(n,e){this.props=n,this.context=e}function Lh(n,e){if(e==null)return n.__?Lh(n.__,n.__i+1):null;for(var t;e<n.__k.length;e++)if((t=n.__k[e])!=null&&t.__e!=null)return t.__e;return typeof n.type=="function"?Lh(n):null}function XP(n){var e,t;if((n=n.__)!=null&&n.__c!=null){for(n.__e=n.__c.base=null,e=0;e<n.__k.length;e++)if((t=n.__k[e])!=null&&t.__e!=null){n.__e=n.__c.base=t.__e;break}return XP(n)}}function aI(n){(!n.__d&&(n.__d=!0)&&dl.push(n)&&!eb.__r++||sI!=It.debounceRendering)&&((sI=It.debounceRendering)||YP)(eb)}function eb(){for(var n,e,t,r,i,s,c,l=1;dl.length;)dl.length>l&&dl.sort(ZP),n=dl.shift(),l=dl.length,n.__d&&(t=void 0,r=void 0,i=(r=(e=n).__v).__e,s=[],c=[],e.__P&&((t=$a({},r)).__v=r.__v+1,It.vnode&&It.vnode(t),OA(e.__P,t,r,e.__n,e.__P.namespaceURI,32&r.__u?[i]:null,s,i??Lh(r),!!(32&r.__u),c),t.__v=r.__v,t.__.__k[t.__i]=t,n7(s,t,c),r.__e=r.__=null,t.__e!=i&&XP(t)));eb.__r=0}function e7(n,e,t,r,i,s,c,l,f,h,p){var g,m,b,w,x,S,O,T=r&&r.__k||JP,_=e.length;for(f=Jfe(t,e,T,f,_),g=0;g<_;g++)(b=t.__k[g])!=null&&(m=b.__i==-1?ug:T[b.__i]||ug,b.__i=g,S=OA(n,b,m,i,s,c,l,f,h,p),w=b.__e,b.ref&&m.ref!=b.ref&&(m.ref&&CA(m.ref,null,b),p.push(b.ref,b.__c||w,b)),x==null&&w!=null&&(x=w),(O=!!(4&b.__u))||m.__k===b.__k?f=t7(b,f,n,O):typeof b.type=="function"&&S!==void 0?f=S:w&&(f=w.nextSibling),b.__u&=-7);return t.__e=x,f}function Jfe(n,e,t,r,i){var s,c,l,f,h,p=t.length,g=p,m=0;for(n.__k=new Array(i),s=0;s<i;s++)(c=e[s])!=null&&typeof c!="boolean"&&typeof c!="function"?(f=s+m,(c=n.__k[s]=typeof c=="string"||typeof c=="number"||typeof c=="bigint"||c.constructor==String?dy(null,c,null,null,null):Wb(c)?dy(Jb,{children:c},null,null,null):c.constructor==null&&c.__b>0?dy(c.type,c.props,c.key,c.ref?c.ref:null,c.__v):c).__=n,c.__b=n.__b+1,l=null,(h=c.__i=Xfe(c,t,f,g))!=-1&&(g--,(l=t[h])&&(l.__u|=2)),l==null||l.__v==null?(h==-1&&(i>p?m--:i<p&&m++),typeof c.type!="function"&&(c.__u|=4)):h!=f&&(h==f-1?m--:h==f+1?m++:(h>f?m--:m++,c.__u|=4))):n.__k[s]=null;if(g)for(s=0;s<p;s++)(l=t[s])!=null&&(2&l.__u)==0&&(l.__e==r&&(r=Lh(l)),i7(l,l));return r}function t7(n,e,t,r){var i,s;if(typeof n.type=="function"){for(i=n.__k,s=0;i&&s<i.length;s++)i[s]&&(i[s].__=n,e=t7(i[s],e,t,r));return e}n.__e!=e&&(r&&(e&&n.type&&!e.parentNode&&(e=Lh(n)),t.insertBefore(n.__e,e||null)),e=n.__e);do e=e&&e.nextSibling;while(e!=null&&e.nodeType==8);return e}function Xfe(n,e,t,r){var i,s,c,l=n.key,f=n.type,h=e[t],p=h!=null&&(2&h.__u)==0;if(h===null&&n.key==null||p&&l==h.key&&f==h.type)return t;if(r>(p?1:0)){for(i=t-1,s=t+1;i>=0||s<e.length;)if((h=e[c=i>=0?i--:s++])!=null&&(2&h.__u)==0&&l==h.key&&f==h.type)return c}return-1}function oI(n,e,t){e[0]=="-"?n.setProperty(e,t??""):n[e]=t==null?"":typeof t!="number"||Wfe.test(e)?t:t+"px"}function Vm(n,e,t,r,i){var s,c;e:if(e=="style")if(typeof t=="string")n.style.cssText=t;else{if(typeof r=="string"&&(n.style.cssText=r=""),r)for(e in r)t&&e in t||oI(n.style,e,"");if(t)for(e in t)r&&t[e]==r[e]||oI(n.style,e,t[e])}else if(e[0]=="o"&&e[1]=="n")s=e!=(e=e.replace(WP,"$1")),c=e.toLowerCase(),e=c in n||e=="onFocusOut"||e=="onFocusIn"?c.slice(2):e.slice(2),n.l||(n.l={}),n.l[e+s]=t,t?r?t.u=r.u:(t.u=SA,n.addEventListener(e,s?t3:e3,s)):n.removeEventListener(e,s?t3:e3,s);else{if(i=="http://www.w3.org/2000/svg")e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!="width"&&e!="height"&&e!="href"&&e!="list"&&e!="form"&&e!="tabIndex"&&e!="download"&&e!="rowSpan"&&e!="colSpan"&&e!="role"&&e!="popover"&&e in n)try{n[e]=t??"";break e}catch{}typeof t=="function"||(t==null||t===!1&&e[4]!="-"?n.removeAttribute(e):n.setAttribute(e,e=="popover"&&t==1?"":t))}}function cI(n){return function(e){if(this.l){var t=this.l[e.type+n];if(e.t==null)e.t=SA++;else if(e.t<t.u)return;return t(It.event?It.event(e):e)}}}function OA(n,e,t,r,i,s,c,l,f,h){var p,g,m,b,w,x,S,O,T,_,I,N,U,z,M,L,F,q=e.type;if(e.constructor!=null)return null;128&t.__u&&(f=!!(32&t.__u),s=[l=e.__e=t.__e]),(p=It.__b)&&p(e);e:if(typeof q=="function")try{if(O=e.props,T="prototype"in q&&q.prototype.render,_=(p=q.contextType)&&r[p.__c],I=p?_?_.props.value:p.__:r,t.__c?S=(g=e.__c=t.__c).__=g.__E:(T?e.__c=g=new q(O,I):(e.__c=g=new py(O,I),g.constructor=q,g.render=the),_&&_.sub(g),g.props=O,g.state||(g.state={}),g.context=I,g.__n=r,m=g.__d=!0,g.__h=[],g._sb=[]),T&&g.__s==null&&(g.__s=g.state),T&&q.getDerivedStateFromProps!=null&&(g.__s==g.state&&(g.__s=$a({},g.__s)),$a(g.__s,q.getDerivedStateFromProps(O,g.__s))),b=g.props,w=g.state,g.__v=e,m)T&&q.getDerivedStateFromProps==null&&g.componentWillMount!=null&&g.componentWillMount(),T&&g.componentDidMount!=null&&g.__h.push(g.componentDidMount);else{if(T&&q.getDerivedStateFromProps==null&&O!==b&&g.componentWillReceiveProps!=null&&g.componentWillReceiveProps(O,I),!g.__e&&g.shouldComponentUpdate!=null&&g.shouldComponentUpdate(O,g.__s,I)===!1||e.__v==t.__v){for(e.__v!=t.__v&&(g.props=O,g.state=g.__s,g.__d=!1),e.__e=t.__e,e.__k=t.__k,e.__k.some(function(Q){Q&&(Q.__=e)}),N=0;N<g._sb.length;N++)g.__h.push(g._sb[N]);g._sb=[],g.__h.length&&c.push(g);break e}g.componentWillUpdate!=null&&g.componentWillUpdate(O,g.__s,I),T&&g.componentDidUpdate!=null&&g.__h.push(function(){g.componentDidUpdate(b,w,x)})}if(g.context=I,g.props=O,g.__P=n,g.__e=!1,U=It.__r,z=0,T){for(g.state=g.__s,g.__d=!1,U&&U(e),p=g.render(g.props,g.state,g.context),M=0;M<g._sb.length;M++)g.__h.push(g._sb[M]);g._sb=[]}else do g.__d=!1,U&&U(e),p=g.render(g.props,g.state,g.context),g.state=g.__s;while(g.__d&&++z<25);g.state=g.__s,g.getChildContext!=null&&(r=$a($a({},r),g.getChildContext())),T&&!m&&g.getSnapshotBeforeUpdate!=null&&(x=g.getSnapshotBeforeUpdate(b,w)),L=p,p!=null&&p.type===Jb&&p.key==null&&(L=r7(p.props.children)),l=e7(n,Wb(L)?L:[L],e,t,r,i,s,c,l,f,h),g.base=e.__e,e.__u&=-161,g.__h.length&&c.push(g),S&&(g.__E=g.__=null)}catch(Q){if(e.__v=null,f||s!=null)if(Q.then){for(e.__u|=f?160:128;l&&l.nodeType==8&&l.nextSibling;)l=l.nextSibling;s[s.indexOf(l)]=null,e.__e=l}else{for(F=s.length;F--;)_A(s[F]);n3(e)}else e.__e=t.__e,e.__k=t.__k,Q.then||n3(e);It.__e(Q,e,t)}else s==null&&e.__v==t.__v?(e.__k=t.__k,e.__e=t.__e):l=e.__e=ehe(t.__e,e,t,r,i,s,c,f,h);return(p=It.diffed)&&p(e),128&e.__u?void 0:l}function n3(n){n&&n.__c&&(n.__c.__e=!0),n&&n.__k&&n.__k.forEach(n3)}function n7(n,e,t){for(var r=0;r<t.length;r++)CA(t[r],t[++r],t[++r]);It.__c&&It.__c(e,n),n.some(function(i){try{n=i.__h,i.__h=[],n.some(function(s){s.call(i)})}catch(s){It.__e(s,i.__v)}})}function r7(n){return typeof n!="object"||n==null||n.__b&&n.__b>0?n:Wb(n)?n.map(r7):$a({},n)}function ehe(n,e,t,r,i,s,c,l,f){var h,p,g,m,b,w,x,S=t.props,O=e.props,T=e.type;if(T=="svg"?i="http://www.w3.org/2000/svg":T=="math"?i="http://www.w3.org/1998/Math/MathML":i||(i="http://www.w3.org/1999/xhtml"),s!=null){for(h=0;h<s.length;h++)if((b=s[h])&&"setAttribute"in b==!!T&&(T?b.localName==T:b.nodeType==3)){n=b,s[h]=null;break}}if(n==null){if(T==null)return document.createTextNode(O);n=document.createElementNS(i,T,O.is&&O),l&&(It.__m&&It.__m(e,s),l=!1),s=null}if(T==null)S===O||l&&n.data==O||(n.data=O);else{if(s=s&&Zb.call(n.childNodes),S=t.props||ug,!l&&s!=null)for(S={},h=0;h<n.attributes.length;h++)S[(b=n.attributes[h]).name]=b.value;for(h in S)if(b=S[h],h!="children"){if(h=="dangerouslySetInnerHTML")g=b;else if(!(h in O)){if(h=="value"&&"defaultValue"in O||h=="checked"&&"defaultChecked"in O)continue;Vm(n,h,null,b,i)}}for(h in O)b=O[h],h=="children"?m=b:h=="dangerouslySetInnerHTML"?p=b:h=="value"?w=b:h=="checked"?x=b:l&&typeof b!="function"||S[h]===b||Vm(n,h,b,S[h],i);if(p)l||g&&(p.__html==g.__html||p.__html==n.innerHTML)||(n.innerHTML=p.__html),e.__k=[];else if(g&&(n.innerHTML=""),e7(e.type=="template"?n.content:n,Wb(m)?m:[m],e,t,r,T=="foreignObject"?"http://www.w3.org/1999/xhtml":i,s,c,s?s[0]:t.__k&&Lh(t,0),l,f),s!=null)for(h=s.length;h--;)_A(s[h]);l||(h="value",T=="progress"&&w==null?n.removeAttribute("value"):w!=null&&(w!==n[h]||T=="progress"&&!w||T=="option"&&w!=S[h])&&Vm(n,h,w,S[h],i),h="checked",x!=null&&x!=n[h]&&Vm(n,h,x,S[h],i))}return n}function CA(n,e,t){try{if(typeof n=="function"){var r=typeof n.__u=="function";r&&n.__u(),r&&e==null||(n.__u=n(e))}else n.current=e}catch(i){It.__e(i,t)}}function i7(n,e,t){var r,i;if(It.unmount&&It.unmount(n),(r=n.ref)&&(r.current&&r.current!=n.__e||CA(r,null,e)),(r=n.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(s){It.__e(s,e)}r.base=r.__P=null}if(r=n.__k)for(i=0;i<r.length;i++)r[i]&&i7(r[i],e,t||typeof n.type!="function");t||_A(n.__e),n.__c=n.__=n.__e=void 0}function the(n,e,t){return this.constructor(n,t)}function r3(n,e,t){var r,i,s,c;e==document&&(e=document.documentElement),It.__&&It.__(n,e),i=(r=!1)?null:e.__k,s=[],c=[],OA(e,n=e.__k=bt(Jb,null,[n]),i||ug,ug,e.namespaceURI,i?null:e.firstChild?Zb.call(e.childNodes):null,s,i?i.__e:e.firstChild,r,c),n7(s,n,c)}Zb=JP.slice,It={__e:function(n,e,t,r){for(var i,s,c;e=e.__;)if((i=e.__c)&&!i.__)try{if((s=i.constructor)&&s.getDerivedStateFromError!=null&&(i.setState(s.getDerivedStateFromError(n)),c=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(n,r||{}),c=i.__d),c)return i.__E=i}catch(l){n=l}throw n}},QP=0,py.prototype.setState=function(n,e){var t;t=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=$a({},this.state),typeof n=="function"&&(n=n($a({},t),this.props)),n&&$a(t,n),n!=null&&this.__v&&(e&&this._sb.push(e),aI(this))},py.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),aI(this))},py.prototype.render=Jb,dl=[],YP=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,ZP=function(n,e){return n.__v.__b-e.__v.__b},eb.__r=0,WP=/(PointerCapture)$|Capture$/i,SA=0,e3=cI(!1),t3=cI(!0);var tb,Vt,ix,lI,i3=0,s7=[],Xt=It,uI=Xt.__b,fI=Xt.__r,hI=Xt.diffed,dI=Xt.__c,pI=Xt.unmount,gI=Xt.__;function a7(n,e){Xt.__h&&Xt.__h(Vt,n,i3||e),i3=0;var t=Vt.__H||(Vt.__H={__:[],__h:[]});return n>=t.__.length&&t.__.push({}),t.__[n]}function mI(n){return i3=1,nhe(o7,n)}function nhe(n,e,t){var r=a7(tb++,2);if(r.t=n,!r.__c&&(r.__=[o7(void 0,e),function(l){var f=r.__N?r.__N[0]:r.__[0],h=r.t(f,l);f!==h&&(r.__N=[h,r.__[1]],r.__c.setState({}))}],r.__c=Vt,!Vt.__f)){var i=function(l,f,h){if(!r.__c.__H)return!0;var p=r.__c.__H.__.filter(function(m){return!!m.__c});if(p.every(function(m){return!m.__N}))return!s||s.call(this,l,f,h);var g=r.__c.props!==l;return p.forEach(function(m){if(m.__N){var b=m.__[0];m.__=m.__N,m.__N=void 0,b!==m.__[0]&&(g=!0)}}),s&&s.call(this,l,f,h)||g};Vt.__f=!0;var s=Vt.shouldComponentUpdate,c=Vt.componentWillUpdate;Vt.componentWillUpdate=function(l,f,h){if(this.__e){var p=s;s=void 0,i(l,f,h),s=p}c&&c.call(this,l,f,h)},Vt.shouldComponentUpdate=i}return r.__N||r.__}function rhe(n,e){var t=a7(tb++,3);!Xt.__s&&ahe(t.__H,e)&&(t.__=n,t.u=e,Vt.__H.__h.push(t))}function ihe(){for(var n;n=s7.shift();)if(n.__P&&n.__H)try{n.__H.__h.forEach(gy),n.__H.__h.forEach(s3),n.__H.__h=[]}catch(e){n.__H.__h=[],Xt.__e(e,n.__v)}}Xt.__b=function(n){Vt=null,uI&&uI(n)},Xt.__=function(n,e){n&&e.__k&&e.__k.__m&&(n.__m=e.__k.__m),gI&&gI(n,e)},Xt.__r=function(n){fI&&fI(n),tb=0;var e=(Vt=n.__c).__H;e&&(ix===Vt?(e.__h=[],Vt.__h=[],e.__.forEach(function(t){t.__N&&(t.__=t.__N),t.u=t.__N=void 0})):(e.__h.forEach(gy),e.__h.forEach(s3),e.__h=[],tb=0)),ix=Vt},Xt.diffed=function(n){hI&&hI(n);var e=n.__c;e&&e.__H&&(e.__H.__h.length&&(s7.push(e)!==1&&lI===Xt.requestAnimationFrame||((lI=Xt.requestAnimationFrame)||she)(ihe)),e.__H.__.forEach(function(t){t.u&&(t.__H=t.u),t.u=void 0})),ix=Vt=null},Xt.__c=function(n,e){e.some(function(t){try{t.__h.forEach(gy),t.__h=t.__h.filter(function(r){return!r.__||s3(r)})}catch(r){e.some(function(i){i.__h&&(i.__h=[])}),e=[],Xt.__e(r,t.__v)}}),dI&&dI(n,e)},Xt.unmount=function(n){pI&&pI(n);var e,t=n.__c;t&&t.__H&&(t.__H.__.forEach(function(r){try{gy(r)}catch(i){e=i}}),t.__H=void 0,e&&Xt.__e(e,t.__v))};var yI=typeof requestAnimationFrame=="function";function she(n){var e,t=function(){clearTimeout(r),yI&&cancelAnimationFrame(e),setTimeout(n)},r=setTimeout(t,35);yI&&(e=requestAnimationFrame(t))}function gy(n){var e=Vt,t=n.__c;typeof t=="function"&&(n.__c=void 0,t()),Vt=e}function s3(n){var e=Vt;n.__c=n.__(),Vt=e}function ahe(n,e){return!n||n.length!==e.length||e.some(function(t,r){return t!==n[r]})}function o7(n,e){return typeof e=="function"?e(n):e}const ohe=".-cbwsdk-css-reset .-gear-container{margin-left:16px !important;margin-right:9px !important;display:flex;align-items:center;justify-content:center;width:24px;height:24px;transition:opacity .25s}.-cbwsdk-css-reset .-gear-container *{user-select:none}.-cbwsdk-css-reset .-gear-container svg{opacity:0;position:absolute}.-cbwsdk-css-reset .-gear-icon{height:12px;width:12px;z-index:10000}.-cbwsdk-css-reset .-cbwsdk-snackbar{align-items:flex-end;display:flex;flex-direction:column;position:fixed;right:0;top:0;z-index:2147483647}.-cbwsdk-css-reset .-cbwsdk-snackbar *{user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance{display:flex;flex-direction:column;margin:8px 16px 0 16px;overflow:visible;text-align:left;transform:translateX(0);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header:hover .-gear-container svg{opacity:1}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header{display:flex;align-items:center;background:#fff;overflow:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-cblogo{margin:8px 8px 8px 8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-message{color:#000;font-size:13px;line-height:1.5;user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu{background:#fff;transition:opacity .25s ease-in-out,transform .25s linear,visibility 0s;visibility:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;opacity:0;flex-direction:column;padding-left:8px;padding-right:8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:last-child{margin-bottom:8px !important}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover{background:#f5f7f8;border-radius:6px;transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover span{color:#050f19;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover svg path{fill:#000;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item{visibility:inherit;height:35px;margin-top:8px;margin-bottom:0;display:flex;flex-direction:row;align-items:center;padding:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item *{visibility:inherit;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover{background:rgba(223,95,103,.2);transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover svg path{fill:#df5f67;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover span{color:#df5f67;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-info{color:#aaa;font-size:13px;margin:0 8px 0 32px;position:absolute}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-hidden{opacity:0;text-align:left;transform:translateX(25%);transition:opacity .5s linear}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-expanded .-cbwsdk-snackbar-instance-menu{opacity:1;display:flex;transform:translateY(8px);visibility:visible}",che="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEuNDkyIDEwLjQxOWE4LjkzIDguOTMgMCAwMTguOTMtOC45M2gxMS4xNjNhOC45MyA4LjkzIDAgMDE4LjkzIDguOTN2MTEuMTYzYTguOTMgOC45MyAwIDAxLTguOTMgOC45M0gxMC40MjJhOC45MyA4LjkzIDAgMDEtOC45My04LjkzVjEwLjQxOXoiIGZpbGw9IiMxNjUyRjAiLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTEwLjQxOSAwSDIxLjU4QzI3LjMzNSAwIDMyIDQuNjY1IDMyIDEwLjQxOVYyMS41OEMzMiAyNy4zMzUgMjcuMzM1IDMyIDIxLjU4MSAzMkgxMC40MkM0LjY2NSAzMiAwIDI3LjMzNSAwIDIxLjU4MVYxMC40MkMwIDQuNjY1IDQuNjY1IDAgMTAuNDE5IDB6bTAgMS40ODhhOC45MyA4LjkzIDAgMDAtOC45MyA4LjkzdjExLjE2M2E4LjkzIDguOTMgMCAwMDguOTMgOC45M0gyMS41OGE4LjkzIDguOTMgMCAwMDguOTMtOC45M1YxMC40MmE4LjkzIDguOTMgMCAwMC04LjkzLTguOTNIMTAuNDJ6IiBmaWxsPSIjZmZmIi8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNS45OTggMjYuMDQ5Yy01LjU0OSAwLTEwLjA0Ny00LjQ5OC0xMC4wNDctMTAuMDQ3IDAtNS41NDggNC40OTgtMTAuMDQ2IDEwLjA0Ny0xMC4wNDYgNS41NDggMCAxMC4wNDYgNC40OTggMTAuMDQ2IDEwLjA0NiAwIDUuNTQ5LTQuNDk4IDEwLjA0Ny0xMC4wNDYgMTAuMDQ3eiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0xMi43NjIgMTQuMjU0YzAtLjgyMi42NjctMS40ODkgMS40ODktMS40ODloMy40OTdjLjgyMiAwIDEuNDg4LjY2NiAxLjQ4OCAxLjQ4OXYzLjQ5N2MwIC44MjItLjY2NiAxLjQ4OC0xLjQ4OCAxLjQ4OGgtMy40OTdhMS40ODggMS40ODggMCAwMS0xLjQ4OS0xLjQ4OHYtMy40OTh6IiBmaWxsPSIjMTY1MkYwIi8+PC9zdmc+",lhe="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEyIDYuNzV2LTEuNWwtMS43Mi0uNTdjLS4wOC0uMjctLjE5LS41Mi0uMzItLjc3bC44MS0xLjYyLTEuMDYtMS4wNi0xLjYyLjgxYy0uMjQtLjEzLS41LS4yNC0uNzctLjMyTDYuNzUgMGgtMS41bC0uNTcgMS43MmMtLjI3LjA4LS41My4xOS0uNzcuMzJsLTEuNjItLjgxLTEuMDYgMS4wNi44MSAxLjYyYy0uMTMuMjQtLjI0LjUtLjMyLjc3TDAgNS4yNXYxLjVsMS43Mi41N2MuMDguMjcuMTkuNTMuMzIuNzdsLS44MSAxLjYyIDEuMDYgMS4wNiAxLjYyLS44MWMuMjQuMTMuNS4yMy43Ny4zMkw1LjI1IDEyaDEuNWwuNTctMS43MmMuMjctLjA4LjUyLS4xOS43Ny0uMzJsMS42Mi44MSAxLjA2LTEuMDYtLjgxLTEuNjJjLjEzLS4yNC4yMy0uNS4zMi0uNzdMMTIgNi43NXpNNiA4LjVhMi41IDIuNSAwIDAxMC01IDIuNSAyLjUgMCAwMTAgNXoiIGZpbGw9IiMwNTBGMTkiLz48L3N2Zz4=";class c7{constructor(){this.items=new Map,this.nextItemKey=0,this.root=null,this.darkMode=VP()}attach(e){this.root=document.createElement("div"),this.root.className="-cbwsdk-snackbar-root",e.appendChild(this.root),this.render()}presentItem(e){const t=this.nextItemKey++;return this.items.set(t,e),this.render(),()=>{this.items.delete(t),this.render()}}clear(){this.items.clear(),this.render()}render(){this.root&&r3(bt("div",null,bt(l7,{darkMode:this.darkMode},Array.from(this.items.entries()).map(([e,t])=>bt(uhe,Object.assign({},t,{key:e}))))),this.root)}}const l7=n=>bt("div",{class:jp("-cbwsdk-snackbar-container")},bt("style",null,ohe),bt("div",{class:"-cbwsdk-snackbar"},n.children)),uhe=({autoExpand:n,message:e,menuItems:t})=>{const[r,i]=mI(!0),[s,c]=mI(n??!1);rhe(()=>{const f=[window.setTimeout(()=>{i(!1)},1),window.setTimeout(()=>{c(!0)},1e4)];return()=>{f.forEach(window.clearTimeout)}});const l=()=>{c(!s)};return bt("div",{class:jp("-cbwsdk-snackbar-instance",r&&"-cbwsdk-snackbar-instance-hidden",s&&"-cbwsdk-snackbar-instance-expanded")},bt("div",{class:"-cbwsdk-snackbar-instance-header",onClick:l},bt("img",{src:che,class:"-cbwsdk-snackbar-instance-header-cblogo"})," ",bt("div",{class:"-cbwsdk-snackbar-instance-header-message"},e),bt("div",{class:"-gear-container"},!s&&bt("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},bt("circle",{cx:"12",cy:"12",r:"12",fill:"#F5F7F8"})),bt("img",{src:lhe,class:"-gear-icon",title:"Expand"}))),t&&t.length>0&&bt("div",{class:"-cbwsdk-snackbar-instance-menu"},t.map((f,h)=>bt("div",{class:jp("-cbwsdk-snackbar-instance-menu-item",f.isRed&&"-cbwsdk-snackbar-instance-menu-item-is-red"),onClick:f.onClick,key:h},bt("svg",{width:f.svgWidth,height:f.svgHeight,viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},bt("path",{"fill-rule":f.defaultFillRule,"clip-rule":f.defaultClipRule,d:f.path,fill:"#AAAAAA"})),bt("span",{class:jp("-cbwsdk-snackbar-instance-menu-item-info",f.isRed&&"-cbwsdk-snackbar-instance-menu-item-info-is-red")},f.info)))))},u7="M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z";class fhe{constructor(){this.attached=!1,this.snackbar=new c7}attach(){if(this.attached)throw new Error("Coinbase Wallet SDK UI is already attached");const e=document.documentElement,t=document.createElement("div");t.className="-cbwsdk-css-reset",e.appendChild(t),this.snackbar.attach(t),this.attached=!0,GP()}showConnecting(e){let t;return e.isUnlinkedErrorState?t={autoExpand:!0,message:"Connection lost",menuItems:[{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]}:t={message:"Confirm on phone",menuItems:[{isRed:!0,info:"Cancel transaction",svgWidth:"11",svgHeight:"11",path:"M10.3711 1.52346L9.21775 0.370117L5.37109 4.21022L1.52444 0.370117L0.371094 1.52346L4.2112 5.37012L0.371094 9.21677L1.52444 10.3701L5.37109 6.53001L9.21775 10.3701L10.3711 9.21677L6.53099 5.37012L10.3711 1.52346Z",defaultFillRule:"inherit",defaultClipRule:"inherit",onClick:e.onCancel},{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:u7,defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]},this.snackbar.presentItem(t)}}const hhe=".-cbwsdk-css-reset .-cbwsdk-redirect-dialog-backdrop{position:fixed;top:0;left:0;right:0;bottom:0;transition:opacity .25s;background-color:rgba(10,11,13,.5)}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-backdrop-hidden{opacity:0}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box{display:block;position:fixed;top:50%;left:50%;transform:translate(-50%, -50%);padding:20px;border-radius:8px;background-color:#fff;color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box p{display:block;font-weight:400;font-size:14px;line-height:20px;padding-bottom:12px;color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box button{appearance:none;border:none;background:none;color:#0052ff;padding:0;text-decoration:none;display:block;font-weight:600;font-size:16px;line-height:24px}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.dark{background-color:#0a0b0d;color:#fff}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.dark button{color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.light{background-color:#fff;color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.light button{color:#0052ff}";class dhe{constructor(){this.root=null,this.darkMode=VP()}attach(){const e=document.documentElement;this.root=document.createElement("div"),this.root.className="-cbwsdk-css-reset",e.appendChild(this.root),GP()}present(e){this.render(e)}clear(){this.render(null)}render(e){this.root&&(r3(null,this.root),e&&r3(bt(phe,Object.assign({},e,{onDismiss:()=>{this.clear()},darkMode:this.darkMode})),this.root))}}const phe=({title:n,buttonText:e,darkMode:t,onButtonClick:r,onDismiss:i})=>{const s=t?"dark":"light";return bt(l7,{darkMode:t},bt("div",{class:"-cbwsdk-redirect-dialog"},bt("style",null,hhe),bt("div",{class:"-cbwsdk-redirect-dialog-backdrop",onClick:i}),bt("div",{class:jp("-cbwsdk-redirect-dialog-box",s)},bt("p",null,n),bt("button",{onClick:r},e))))},ghe="https://keys.coinbase.com/connect",mhe="https://rpc.wallet.coinbase.com",bI="https://www.walletlink.org",yhe="https://go.cb-w.com/walletlink";class wI{constructor(){this.attached=!1,this.redirectDialog=new dhe}attach(){if(this.attached)throw new Error("Coinbase Wallet SDK UI is already attached");this.redirectDialog.attach(),this.attached=!0}redirectToCoinbaseWallet(e){const t=new URL(yhe);t.searchParams.append("redirect_url",Qfe().href),e&&t.searchParams.append("wl_url",e);const r=document.createElement("a");r.target="cbw-opener",r.href=t.href,r.rel="noreferrer noopener",r.click()}openCoinbaseWalletDeeplink(e){this.redirectToCoinbaseWallet(e),setTimeout(()=>{this.redirectDialog.present({title:"Redirecting to Coinbase Wallet...",buttonText:"Open",onButtonClick:()=>{this.redirectToCoinbaseWallet(e)}})},99)}showConnecting(e){return()=>{this.redirectDialog.clear()}}}class Aa{constructor(e){this.chainCallbackParams={chainId:"",jsonRpcUrl:""},this.isMobileWeb=Yfe(),this.linkedUpdated=s=>{this.isLinked=s;const c=this.storage.getItem(JE);if(s&&(this._session.linked=s),this.isUnlinkedErrorState=!1,c){const l=c.split(" "),f=this.storage.getItem("IsStandaloneSigning")==="true";l[0]!==""&&!s&&this._session.linked&&!f&&(this.isUnlinkedErrorState=!0)}},this.metadataUpdated=(s,c)=>{this.storage.setItem(s,c)},this.chainUpdated=(s,c)=>{this.chainCallbackParams.chainId===s&&this.chainCallbackParams.jsonRpcUrl===c||(this.chainCallbackParams={chainId:s,jsonRpcUrl:c},this.chainCallback&&this.chainCallback(c,Number.parseInt(s,10)))},this.accountUpdated=s=>{this.accountsCallback&&this.accountsCallback([s]),Aa.accountRequestCallbackIds.size>0&&(Array.from(Aa.accountRequestCallbackIds.values()).forEach(c=>{this.invokeCallback(c,{method:"requestEthereumAccounts",result:[s]})}),Aa.accountRequestCallbackIds.clear())},this.resetAndReload=this.resetAndReload.bind(this),this.linkAPIUrl=e.linkAPIUrl,this.storage=e.storage,this.metadata=e.metadata,this.accountsCallback=e.accountsCallback,this.chainCallback=e.chainCallback;const{session:t,ui:r,connection:i}=this.subscribe();this._session=t,this.connection=i,this.relayEventManager=new Tfe,this.ui=r,this.ui.attach()}subscribe(){const e=$f.load(this.storage)||$f.create(this.storage),{linkAPIUrl:t}=this,r=new Ife({session:e,linkAPIUrl:t,listener:this}),i=this.isMobileWeb?new wI:new fhe;return r.connect(),{session:e,ui:i,connection:r}}resetAndReload(){this.connection.destroy().then(()=>{const e=$f.load(this.storage);(e==null?void 0:e.id)===this._session.id&&js.clearAll(),document.location.reload()}).catch(e=>{})}signEthereumTransaction(e){return this.sendRequest({method:"signEthereumTransaction",params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:ps(e.weiValue),data:Lp(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?ps(e.gasPriceInWei):null,maxFeePerGas:e.gasPriceInWei?ps(e.gasPriceInWei):null,maxPriorityFeePerGas:e.gasPriceInWei?ps(e.gasPriceInWei):null,gasLimit:e.gasLimit?ps(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!1}})}signAndSubmitEthereumTransaction(e){return this.sendRequest({method:"signEthereumTransaction",params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:ps(e.weiValue),data:Lp(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?ps(e.gasPriceInWei):null,maxFeePerGas:e.maxFeePerGas?ps(e.maxFeePerGas):null,maxPriorityFeePerGas:e.maxPriorityFeePerGas?ps(e.maxPriorityFeePerGas):null,gasLimit:e.gasLimit?ps(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!0}})}submitEthereumTransaction(e,t){return this.sendRequest({method:"submitEthereumTransaction",params:{signedTransaction:Lp(e,!0),chainId:t}})}getWalletLinkSession(){return this._session}sendRequest(e){let t=null;const r=hl(8),i=s=>{this.publishWeb3RequestCanceledEvent(r),this.handleErrorResponse(r,e.method,s),t==null||t()};return new Promise((s,c)=>{t=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:i,onResetConnection:this.resetAndReload}),this.relayEventManager.callbacks.set(r,l=>{if(t==null||t(),Rn(l))return c(new Error(l.errorMessage));s(l)}),this.publishWeb3RequestEvent(r,e)})}publishWeb3RequestEvent(e,t){const r={type:"WEB3_REQUEST",id:e,request:t};this.publishEvent("Web3Request",r,!0).then(i=>{}).catch(i=>{this.handleWeb3ResponseMessage(r.id,{method:t.method,errorMessage:i.message})}),this.isMobileWeb&&this.openCoinbaseWalletDeeplink(t.method)}openCoinbaseWalletDeeplink(e){if(this.ui instanceof wI)switch(e){case"requestEthereumAccounts":case"switchEthereumChain":return;default:window.addEventListener("blur",()=>{window.addEventListener("focus",()=>{this.connection.checkUnseenEvents()},{once:!0})},{once:!0}),this.ui.openCoinbaseWalletDeeplink();break}}publishWeb3RequestCanceledEvent(e){const t={type:"WEB3_REQUEST_CANCELED",id:e};this.publishEvent("Web3RequestCanceled",t,!1).then()}publishEvent(e,t,r){return this.connection.publishEvent(e,t,r)}handleWeb3ResponseMessage(e,t){if(t.method==="requestEthereumAccounts"){Aa.accountRequestCallbackIds.forEach(r=>this.invokeCallback(r,t)),Aa.accountRequestCallbackIds.clear();return}this.invokeCallback(e,t)}handleErrorResponse(e,t,r){var i;const s=(i=r==null?void 0:r.message)!==null&&i!==void 0?i:"Unspecified error message.";this.handleWeb3ResponseMessage(e,{method:t,errorMessage:s})}invokeCallback(e,t){const r=this.relayEventManager.callbacks.get(e);r&&(r(t),this.relayEventManager.callbacks.delete(e))}requestEthereumAccounts(){const{appName:e,appLogoUrl:t}=this.metadata,r={method:"requestEthereumAccounts",params:{appName:e,appLogoUrl:t}},i=hl(8);return new Promise((s,c)=>{this.relayEventManager.callbacks.set(i,l=>{if(Rn(l))return c(new Error(l.errorMessage));s(l)}),Aa.accountRequestCallbackIds.add(i),this.publishWeb3RequestEvent(i,r)})}watchAsset(e,t,r,i,s,c){const l={method:"watchAsset",params:{type:e,options:{address:t,symbol:r,decimals:i,image:s},chainId:c}};let f=null;const h=hl(8),p=g=>{this.publishWeb3RequestCanceledEvent(h),this.handleErrorResponse(h,l.method,g),f==null||f()};return f=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:p,onResetConnection:this.resetAndReload}),new Promise((g,m)=>{this.relayEventManager.callbacks.set(h,b=>{if(f==null||f(),Rn(b))return m(new Error(b.errorMessage));g(b)}),this.publishWeb3RequestEvent(h,l)})}addEthereumChain(e,t,r,i,s,c){const l={method:"addEthereumChain",params:{chainId:e,rpcUrls:t,blockExplorerUrls:i,chainName:s,iconUrls:r,nativeCurrency:c}};let f=null;const h=hl(8),p=g=>{this.publishWeb3RequestCanceledEvent(h),this.handleErrorResponse(h,l.method,g),f==null||f()};return f=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:p,onResetConnection:this.resetAndReload}),new Promise((g,m)=>{this.relayEventManager.callbacks.set(h,b=>{if(f==null||f(),Rn(b))return m(new Error(b.errorMessage));g(b)}),this.publishWeb3RequestEvent(h,l)})}switchEthereumChain(e,t){const r={method:"switchEthereumChain",params:Object.assign({chainId:e},{address:t})};let i=null;const s=hl(8),c=l=>{this.publishWeb3RequestCanceledEvent(s),this.handleErrorResponse(s,r.method,l),i==null||i()};return i=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:c,onResetConnection:this.resetAndReload}),new Promise((l,f)=>{this.relayEventManager.callbacks.set(s,h=>{if(i==null||i(),Rn(h)&&h.errorCode)return f(Ge.provider.custom({code:h.errorCode,message:"Unrecognized chain ID. Try adding the chain using addEthereumChain first."}));if(Rn(h))return f(new Error(h.errorMessage));l(h)}),this.publishWeb3RequestEvent(s,r)})}}Aa.accountRequestCallbackIds=new Set;const vI="DefaultChainId",xI="DefaultJsonRpcUrl";class f7{constructor(e){this._relay=null,this._addresses=[],this.metadata=e.metadata,this._storage=new js("walletlink",bI),this.callback=e.callback||null;const t=this._storage.getItem(JE);if(t){const r=t.split(" ");r[0]!==""&&(this._addresses=r.map(i=>zo(i)))}this.initializeRelay()}getSession(){const e=this.initializeRelay(),{id:t,secret:r}=e.getWalletLinkSession();return{id:t,secret:r}}async handshake(){await this._eth_requestAccounts()}get selectedAddress(){return this._addresses[0]||void 0}get jsonRpcUrl(){var e;return(e=this._storage.getItem(xI))!==null&&e!==void 0?e:void 0}set jsonRpcUrl(e){this._storage.setItem(xI,e)}updateProviderInfo(e,t){var r;this.jsonRpcUrl=e;const i=this.getChainId();this._storage.setItem(vI,t.toString(10)),$p(t)!==i&&((r=this.callback)===null||r===void 0||r.call(this,"chainChanged",mc(t)))}async watchAsset(e){const t=Array.isArray(e)?e[0]:e;if(!t.type)throw Ge.rpc.invalidParams("Type is required");if((t==null?void 0:t.type)!=="ERC20")throw Ge.rpc.invalidParams(`Asset of type '${t.type}' is not supported`);if(!(t!=null&&t.options))throw Ge.rpc.invalidParams("Options are required");if(!(t!=null&&t.options.address))throw Ge.rpc.invalidParams("Address is required");const r=this.getChainId(),{address:i,symbol:s,image:c,decimals:l}=t.options,h=await this.initializeRelay().watchAsset(t.type,i,s,l,c,r==null?void 0:r.toString());return Rn(h)?!1:!!h.result}async addEthereumChain(e){var t,r;const i=e[0];if(((t=i.rpcUrls)===null||t===void 0?void 0:t.length)===0)throw Ge.rpc.invalidParams("please pass in at least 1 rpcUrl");if(!i.chainName||i.chainName.trim()==="")throw Ge.rpc.invalidParams("chainName is a required field");if(!i.nativeCurrency)throw Ge.rpc.invalidParams("nativeCurrency is a required field");const s=Number.parseInt(i.chainId,16);if(s===this.getChainId())return!1;const c=this.initializeRelay(),{rpcUrls:l=[],blockExplorerUrls:f=[],chainName:h,iconUrls:p=[],nativeCurrency:g}=i,m=await c.addEthereumChain(s.toString(),l,p,f,h,g);if(Rn(m))return!1;if(((r=m.result)===null||r===void 0?void 0:r.isApproved)===!0)return this.updateProviderInfo(l[0],s),null;throw Ge.rpc.internal("unable to add ethereum chain")}async switchEthereumChain(e){const t=e[0],r=Number.parseInt(t.chainId,16),s=await this.initializeRelay().switchEthereumChain(r.toString(10),this.selectedAddress||void 0);if(Rn(s))throw s;const c=s.result;return c.isApproved&&c.rpcUrl.length>0&&this.updateProviderInfo(c.rpcUrl,r),null}async cleanup(){this.callback=null,this._relay&&this._relay.resetAndReload(),this._storage.clear()}_setAddresses(e,t){var r;if(!Array.isArray(e))throw new Error("addresses is not an array");const i=e.map(s=>zo(s));JSON.stringify(i)!==JSON.stringify(this._addresses)&&(this._addresses=i,(r=this.callback)===null||r===void 0||r.call(this,"accountsChanged",i),this._storage.setItem(JE,i.join(" ")))}async request(e){const t=e.params||[];switch(e.method){case"eth_accounts":return[...this._addresses];case"eth_coinbase":return this.selectedAddress||null;case"net_version":return this.getChainId().toString(10);case"eth_chainId":return mc(this.getChainId());case"eth_requestAccounts":return this._eth_requestAccounts();case"eth_ecRecover":case"personal_ecRecover":return this.ecRecover(e);case"personal_sign":return this.personalSign(e);case"eth_signTransaction":return this._eth_signTransaction(t);case"eth_sendRawTransaction":return this._eth_sendRawTransaction(t);case"eth_sendTransaction":return this._eth_sendTransaction(t);case"eth_signTypedData_v1":case"eth_signTypedData_v3":case"eth_signTypedData_v4":case"eth_signTypedData":return this.signTypedData(e);case"wallet_addEthereumChain":return this.addEthereumChain(t);case"wallet_switchEthereumChain":return this.switchEthereumChain(t);case"wallet_watchAsset":return this.watchAsset(t);default:if(!this.jsonRpcUrl)throw Ge.rpc.internal("No RPC URL set for chain");return AA(e,this.jsonRpcUrl)}}_ensureKnownAddress(e){const t=zo(e);if(!this._addresses.map(i=>zo(i)).includes(t))throw new Error("Unknown Ethereum address")}_prepareTransactionParams(e){const t=e.from?zo(e.from):this.selectedAddress;if(!t)throw new Error("Ethereum address is unavailable");this._ensureKnownAddress(t);const r=e.to?zo(e.to):null,i=e.value!=null?vp(e.value):BigInt(0),s=e.data?WE(e.data):Buffer.alloc(0),c=e.nonce!=null?$p(e.nonce):null,l=e.gasPrice!=null?vp(e.gasPrice):null,f=e.maxFeePerGas!=null?vp(e.maxFeePerGas):null,h=e.maxPriorityFeePerGas!=null?vp(e.maxPriorityFeePerGas):null,p=e.gas!=null?vp(e.gas):null,g=e.chainId?$p(e.chainId):this.getChainId();return{fromAddress:t,toAddress:r,weiValue:i,data:s,nonce:c,gasPriceInWei:l,maxFeePerGas:f,maxPriorityFeePerGas:h,gasLimit:p,chainId:g}}async ecRecover(e){const{method:t,params:r}=e;if(!Array.isArray(r))throw Ge.rpc.invalidParams();const s=await this.initializeRelay().sendRequest({method:"ethereumAddressFromSignedMessage",params:{message:Y2(r[0]),signature:Y2(r[1]),addPrefix:t==="personal_ecRecover"}});if(Rn(s))throw s;return s.result}getChainId(){var e;return Number.parseInt((e=this._storage.getItem(vI))!==null&&e!==void 0?e:"1",10)}async _eth_requestAccounts(){var e,t;if(this._addresses.length>0)return(e=this.callback)===null||e===void 0||e.call(this,"connect",{chainId:mc(this.getChainId())}),this._addresses;const i=await this.initializeRelay().requestEthereumAccounts();if(Rn(i))throw i;if(!i.result)throw new Error("accounts received is empty");return this._setAddresses(i.result),(t=this.callback)===null||t===void 0||t.call(this,"connect",{chainId:mc(this.getChainId())}),this._addresses}async personalSign({params:e}){if(!Array.isArray(e))throw Ge.rpc.invalidParams();const t=e[1],r=e[0];this._ensureKnownAddress(t);const s=await this.initializeRelay().sendRequest({method:"signEthereumMessage",params:{address:zo(t),message:Y2(r),addPrefix:!0,typedDataJson:null}});if(Rn(s))throw s;return s.result}async _eth_signTransaction(e){const t=this._prepareTransactionParams(e[0]||{}),i=await this.initializeRelay().signEthereumTransaction(t);if(Rn(i))throw i;return i.result}async _eth_sendRawTransaction(e){const t=WE(e[0]),i=await this.initializeRelay().submitEthereumTransaction(t,this.getChainId());if(Rn(i))throw i;return i.result}async _eth_sendTransaction(e){const t=this._prepareTransactionParams(e[0]||{}),i=await this.initializeRelay().signAndSubmitEthereumTransaction(t);if(Rn(i))throw i;return i.result}async signTypedData(e){const{method:t,params:r}=e;if(!Array.isArray(r))throw Ge.rpc.invalidParams();const i=h=>{const p={eth_signTypedData_v1:qm.hashForSignTypedDataLegacy,eth_signTypedData_v3:qm.hashForSignTypedData_v3,eth_signTypedData_v4:qm.hashForSignTypedData_v4,eth_signTypedData:qm.hashForSignTypedData_v4};return Lp(p[t]({data:tfe(h)}),!0)},s=r[t==="eth_signTypedData_v1"?1:0],c=r[t==="eth_signTypedData_v1"?0:1];this._ensureKnownAddress(s);const f=await this.initializeRelay().sendRequest({method:"signEthereumMessage",params:{address:zo(s),message:i(c),typedDataJson:JSON.stringify(c,null,2),addPrefix:!1}});if(Rn(f))throw f;return f.result}initializeRelay(){return this._relay||(this._relay=new Aa({linkAPIUrl:bI,storage:this._storage,metadata:this.metadata,accountsCallback:this._setAddresses.bind(this),chainCallback:this.updateProviderInfo.bind(this)})),this._relay}}const h7="SignerType",d7=new js("CBWSDK","SignerConfigurator");function bhe(){return d7.getItem(h7)}function whe(n){d7.setItem(h7,n)}async function vhe(n){const{communicator:e,metadata:t,handshakeRequest:r,callback:i}=n;Ehe(e,t,i).catch(()=>{});const s={id:crypto.randomUUID(),event:"selectSignerType",data:Object.assign(Object.assign({},n.preference),{handshakeRequest:r})},{data:c}=await e.postRequestAndWaitForResponse(s);return c}function xhe(n){const{signerType:e,metadata:t,communicator:r,callback:i}=n;switch(e){case"scw":return new mfe({metadata:t,callback:i,communicator:r});case"walletlink":return new f7({metadata:t,callback:i})}}async function Ehe(n,e,t){await n.onMessage(({event:i})=>i==="WalletLinkSessionRequest");const r=new f7({metadata:e,callback:t});n.postMessage({event:"WalletLinkUpdate",data:{session:r.getSession()}}),await r.handshake(),n.postMessage({event:"WalletLinkUpdate",data:{connected:!0}})}const Ahe=`Coinbase Wallet SDK requires the Cross-Origin-Opener-Policy header to not be set to 'same-origin'. This is to ensure that the SDK can communicate with the Coinbase Smart Wallet app.

Please see https://www.smartwallet.dev/guides/tips/popup-tips#cross-origin-opener-policy for more information.`,She=()=>{let n;return{getCrossOriginOpenerPolicy:()=>n===void 0?"undefined":n,checkCrossOriginOpenerPolicy:async()=>{if(typeof window>"u"){n="non-browser-env";return}try{const e=`${window.location.origin}${window.location.pathname}`,t=await fetch(e,{method:"HEAD"});if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);const r=t.headers.get("Cross-Origin-Opener-Policy");n=r??"null",n==="same-origin"&&console.error(Ahe)}catch(e){console.error("Error checking Cross-Origin-Opener-Policy:",e.message),n="error"}}}},{checkCrossOriginOpenerPolicy:_he,getCrossOriginOpenerPolicy:Ohe}=She(),EI=420,AI=540,Che={isRed:!1,info:"Retry",svgWidth:"10",svgHeight:"11",path:u7,defaultFillRule:"evenodd",defaultClipRule:"evenodd"},Nhe="Popup was blocked. Try again.";let Gm=null;function Ihe(n){const e=(window.innerWidth-EI)/2+window.screenX,t=(window.innerHeight-AI)/2+window.screenY;Dhe(n);function r(){const s=`wallet_${crypto.randomUUID()}`,c=window.open(n,s,`width=${EI}, height=${AI}, left=${e}, top=${t}`);return c==null||c.focus(),c||null}let i=r();if(!i){const s=Rhe();return new Promise((c,l)=>{s.presentItem({autoExpand:!0,message:Nhe,menuItems:[Object.assign(Object.assign({},Che),{onClick:()=>{i=r(),i?c(i):l(Ge.rpc.internal("Popup window was blocked")),s.clear()}})]})})}return Promise.resolve(i)}function The(n){n&&!n.closed&&n.close()}function Dhe(n){const e={sdkName:HP,sdkVersion:Fg,origin:window.location.origin,coop:Ohe()};for(const[t,r]of Object.entries(e))n.searchParams.append(t,r.toString())}function Rhe(){if(!Gm){const n=document.createElement("div");n.className="-cbwsdk-css-reset",document.body.appendChild(n),Gm=new c7,Gm.attach(n)}return Gm}class Bhe{constructor({url:e=ghe,metadata:t,preference:r}){this.popup=null,this.listeners=new Map,this.postMessage=async i=>{(await this.waitForPopupLoaded()).postMessage(i,this.url.origin)},this.postRequestAndWaitForResponse=async i=>{const s=this.onMessage(({requestId:c})=>c===i.id);return this.postMessage(i),await s},this.onMessage=async i=>new Promise((s,c)=>{const l=f=>{if(f.origin!==this.url.origin)return;const h=f.data;i(h)&&(s(h),window.removeEventListener("message",l),this.listeners.delete(l))};window.addEventListener("message",l),this.listeners.set(l,{reject:c})}),this.disconnect=()=>{The(this.popup),this.popup=null,this.listeners.forEach(({reject:i},s)=>{i(Ge.provider.userRejectedRequest("Request rejected")),window.removeEventListener("message",s)}),this.listeners.clear()},this.waitForPopupLoaded=async()=>this.popup&&!this.popup.closed?(this.popup.focus(),this.popup):(this.popup=await Ihe(this.url),this.onMessage(({event:i})=>i==="PopupUnload").then(this.disconnect).catch(()=>{}),this.onMessage(({event:i})=>i==="PopupLoaded").then(i=>{this.postMessage({requestId:i.id,data:{version:Fg,metadata:this.metadata,preference:this.preference,location:window.location.toString()}})}).then(()=>{if(!this.popup)throw Ge.rpc.internal();return this.popup})),this.url=new URL(e),this.metadata=t,this.preference=r}}function khe(n){const e=Zue(Phe(n),{shouldIncludeStack:!0}),t=new URL("https://docs.cloud.coinbase.com/wallet-sdk/docs/errors");return t.searchParams.set("version",Fg),t.searchParams.set("code",e.code.toString()),t.searchParams.set("message",e.message),Object.assign(Object.assign({},e),{docUrl:t.href})}function Phe(n){var e;if(typeof n=="string")return{message:n,code:Ht.rpc.internal};if(Rn(n)){const t=n.errorMessage,r=(e=n.errorCode)!==null&&e!==void 0?e:t.match(/(denied|rejected)/i)?Ht.provider.userRejectedRequest:void 0;return Object.assign(Object.assign({},n),{message:t,code:r,data:{method:n.method}})}return n}var sx={exports:{}},SI;function Uhe(){return SI||(SI=1,(function(n){var e=Object.prototype.hasOwnProperty,t="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(t=!1));function i(f,h,p){this.fn=f,this.context=h,this.once=p||!1}function s(f,h,p,g,m){if(typeof p!="function")throw new TypeError("The listener must be a function");var b=new i(p,g||f,m),w=t?t+h:h;return f._events[w]?f._events[w].fn?f._events[w]=[f._events[w],b]:f._events[w].push(b):(f._events[w]=b,f._eventsCount++),f}function c(f,h){--f._eventsCount===0?f._events=new r:delete f._events[h]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var h=[],p,g;if(this._eventsCount===0)return h;for(g in p=this._events)e.call(p,g)&&h.push(t?g.slice(1):g);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(p)):h},l.prototype.listeners=function(h){var p=t?t+h:h,g=this._events[p];if(!g)return[];if(g.fn)return[g.fn];for(var m=0,b=g.length,w=new Array(b);m<b;m++)w[m]=g[m].fn;return w},l.prototype.listenerCount=function(h){var p=t?t+h:h,g=this._events[p];return g?g.fn?1:g.length:0},l.prototype.emit=function(h,p,g,m,b,w){var x=t?t+h:h;if(!this._events[x])return!1;var S=this._events[x],O=arguments.length,T,_;if(S.fn){switch(S.once&&this.removeListener(h,S.fn,void 0,!0),O){case 1:return S.fn.call(S.context),!0;case 2:return S.fn.call(S.context,p),!0;case 3:return S.fn.call(S.context,p,g),!0;case 4:return S.fn.call(S.context,p,g,m),!0;case 5:return S.fn.call(S.context,p,g,m,b),!0;case 6:return S.fn.call(S.context,p,g,m,b,w),!0}for(_=1,T=new Array(O-1);_<O;_++)T[_-1]=arguments[_];S.fn.apply(S.context,T)}else{var I=S.length,N;for(_=0;_<I;_++)switch(S[_].once&&this.removeListener(h,S[_].fn,void 0,!0),O){case 1:S[_].fn.call(S[_].context);break;case 2:S[_].fn.call(S[_].context,p);break;case 3:S[_].fn.call(S[_].context,p,g);break;case 4:S[_].fn.call(S[_].context,p,g,m);break;default:if(!T)for(N=1,T=new Array(O-1);N<O;N++)T[N-1]=arguments[N];S[_].fn.apply(S[_].context,T)}}return!0},l.prototype.on=function(h,p,g){return s(this,h,p,g,!1)},l.prototype.once=function(h,p,g){return s(this,h,p,g,!0)},l.prototype.removeListener=function(h,p,g,m){var b=t?t+h:h;if(!this._events[b])return this;if(!p)return c(this,b),this;var w=this._events[b];if(w.fn)w.fn===p&&(!m||w.once)&&(!g||w.context===g)&&c(this,b);else{for(var x=0,S=[],O=w.length;x<O;x++)(w[x].fn!==p||m&&!w[x].once||g&&w[x].context!==g)&&S.push(w[x]);S.length?this._events[b]=S.length===1?S[0]:S:c(this,b)}return this},l.prototype.removeAllListeners=function(h){var p;return h?(p=t?t+h:h,this._events[p]&&c(this,p)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=t,l.EventEmitter=l,n.exports=l})(sx)),sx.exports}var Mhe=Uhe();const Lhe=Sg(Mhe);class $he extends Lhe{}var jhe=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};class zhe extends $he{constructor(e){var{metadata:t}=e,r=e.preference,{keysUrl:i}=r,s=jhe(r,["keysUrl"]);super(),this.signer=null,this.isCoinbaseWallet=!0,this.metadata=t,this.preference=s,this.communicator=new Bhe({url:i,metadata:t,preference:s});const c=bhe();c&&(this.signer=this.initSigner(c))}async request(e){try{if(gfe(e),!this.signer)switch(e.method){case"eth_requestAccounts":{const t=await this.requestSignerSelection(e),r=this.initSigner(t);await r.handshake(e),this.signer=r,whe(t);break}case"wallet_sendCalls":{const t=this.initSigner("scw");await t.handshake({method:"handshake"});const r=await t.request(e);return await t.cleanup(),r}case"wallet_getCallsStatus":return AA(e,mhe);case"net_version":return 1;case"eth_chainId":return mc(1);default:throw Ge.provider.unauthorized("Must call 'eth_requestAccounts' before other methods")}return await this.signer.request(e)}catch(t){const{code:r}=t;return r===Ht.provider.unauthorized&&this.disconnect(),Promise.reject(khe(t))}}async enable(){return console.warn('.enable() has been deprecated. Please use .request({ method: "eth_requestAccounts" }) instead.'),await this.request({method:"eth_requestAccounts"})}async disconnect(){var e;await((e=this.signer)===null||e===void 0?void 0:e.cleanup()),this.signer=null,js.clearAll(),this.emit("disconnect",Ge.provider.disconnected("User initiated disconnection"))}requestSignerSelection(e){return vhe({communicator:this.communicator,preference:this.preference,metadata:this.metadata,handshakeRequest:e,callback:this.emit.bind(this)})}initSigner(e){return xhe({signerType:e,metadata:this.metadata,communicator:this.communicator,callback:this.emit.bind(this)})}}function Hhe(n){if(n){if(!["all","smartWalletOnly","eoaOnly"].includes(n.options))throw new Error(`Invalid options: ${n.options}`);if(n.attribution&&n.attribution.auto!==void 0&&n.attribution.dataSuffix!==void 0)throw new Error("Attribution cannot contain both auto and dataSuffix properties")}}class Fhe{constructor(e){this.metadata={appName:e.appName||"Dapp",appLogoUrl:e.appLogoUrl||rfe(),appChainIds:e.appChainIds||[]},this.storeLatestVersion(),_he()}makeWeb3Provider(e={options:"all"}){var t;Hhe(e);const r={metadata:this.metadata,preference:e};return(t=pfe(r))!==null&&t!==void 0?t:new zhe(r)}getCoinbaseWalletLogo(e,t=240){return iue(e,t)}storeLatestVersion(){new js("CBWSDK").setItem("VERSION",Fg)}}const Km={STRATEGY:["function erc20Token() public view returns (address)","function getApy() public view returns (uint128)","function locked(address) public view returns (uint40,uint256,uint256,uint256)","function withdraw(uint256) public","function withdrawYields() public","function getYields(address) public view returns (uint256)","function getYieldsLogs() public","function deposit(uint256) public","function getBalance() public view returns (uint256)","function getTotalAllocated() public view returns (uint256)","function investorCounter() public view returns (uint256)","event Log(uint256 ajustedAmount, uint256 applied)"],ERC20:["function approve(address, uint256) public","function balanceOf(address account) view returns (uint256)","function decimals() view returns (uint256)"]},gf={chainId:"0xa4b1",chainName:"Arbitrum One",rpcUrls:["https://arb1.arbitrum.io/rpc"],nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},blockExplorerUrls:["https://arbiscan.io/"]};function p7(n=()=>null){async function e(i){var l;let s;switch(i){case"trustwallet":{if(!((l=window.ethereum)!=null&&l.isTrust))throw new Error("TrustWallet no encontrada. Abra em um navegador com Trust Wallet ou use o app mobile.");await window.ethereum.request({method:"eth_requestAccounts"}),s=new cl(window.ethereum);break}case"walletconnect":{const f=await Kle.init({projectId:"SEU_PROJECT_ID_WALLETCONNECT",chains:[parseInt(gf.chainId,16)],showQrModal:!0});await f.enable(),s=new cl(f);break}case"coinbase":{const h=new Fhe({appName:"Minha DApp",appLogoUrl:"https://example.com/logo.png",darkMode:!1}).makeWeb3Provider(gf.rpcUrls[0],parseInt(gf.chainId,16));await h.request({method:"eth_requestAccounts"}),s=new cl(h);break}default:await window.ethereum.request({method:"eth_requestAccounts"}),await window.ethereum.request({method:"eth_chainId"})!==gf.chainId&&await window.ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:gf.chainId}]}).catch(async h=>{h.code===4902&&await window.ethereum.request({method:"wallet_addEthereumChain",params:[gf]})}),s=new cl(window.ethereum)}if(!s)return;const c=await s.getSigner();c.balanceWei=await s.getBalance(c.address),n(c)}async function t(i,s,c="ERC20",...l){if(c=c.toUpperCase(),!(c in Km))throw new Error("Invalid contract!");const f=Km[c],h=new cl(window.ethereum);return await new Ql(i,f,h)[s](...l).catch(console.error)}async function r(i,s,c,l="ERC20",...f){if(!i.address)throw new Error("Invalid signer!");if(l=l.toUpperCase(),!(l in Km))throw new Error("Invalid contract!");const h=Km[l];return await new Ql(s,h,i)[c](...f,{gasLimit:5e5})}return[e,t,r]}/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var _I="popstate";function qhe(n={}){function e(r,i){let{pathname:s,search:c,hash:l}=r.location;return a3("",{pathname:s,search:c,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(r,i){return typeof i=="string"?i:fg(i)}return Ghe(e,t,null,n)}function kt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function zs(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Vhe(){return Math.random().toString(36).substring(2,10)}function OI(n,e){return{usr:n.state,key:n.key,idx:e}}function a3(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Kh(e):e,state:t,key:e&&e.key||r||Vhe()}}function fg({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Kh(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function Ghe(n,e,t,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,c=i.history,l="POP",f=null,h=p();h==null&&(h=0,c.replaceState({...c.state,idx:h},""));function p(){return(c.state||{idx:null}).idx}function g(){l="POP";let S=p(),O=S==null?null:S-h;h=S,f&&f({action:l,location:x.location,delta:O})}function m(S,O){l="PUSH";let T=a3(x.location,S,O);h=p()+1;let _=OI(T,h),I=x.createHref(T);try{c.pushState(_,"",I)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;i.location.assign(I)}s&&f&&f({action:l,location:x.location,delta:1})}function b(S,O){l="REPLACE";let T=a3(x.location,S,O);h=p();let _=OI(T,h),I=x.createHref(T);c.replaceState(_,"",I),s&&f&&f({action:l,location:x.location,delta:0})}function w(S){return Khe(S)}let x={get action(){return l},get location(){return n(i,c)},listen(S){if(f)throw new Error("A history only accepts one active listener");return i.addEventListener(_I,g),f=S,()=>{i.removeEventListener(_I,g),f=null}},createHref(S){return e(i,S)},createURL:w,encodeLocation(S){let O=w(S);return{pathname:O.pathname,search:O.search,hash:O.hash}},push:m,replace:b,go(S){return c.go(S)}};return x}function Khe(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),kt(t,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:fg(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function g7(n,e,t="/"){return Qhe(n,e,t,!1)}function Qhe(n,e,t,r){let i=typeof e=="string"?Kh(e):e,s=Za(i.pathname||"/",t);if(s==null)return null;let c=m7(n);Yhe(c);let l=null;for(let f=0;l==null&&f<c.length;++f){let h=ade(s);l=ide(c[f],h,r)}return l}function m7(n,e=[],t=[],r="",i=!1){let s=(c,l,f=i,h)=>{let p={relativePath:h===void 0?c.path||"":h,caseSensitive:c.caseSensitive===!0,childrenIndex:l,route:c};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(r)&&f)return;kt(p.relativePath.startsWith(r),`Absolute route path "${p.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(r.length)}let g=qa([r,p.relativePath]),m=t.concat(p);c.children&&c.children.length>0&&(kt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),m7(c.children,e,m,g,f)),!(c.path==null&&!c.index)&&e.push({path:g,score:nde(g,c.index),routesMeta:m})};return n.forEach((c,l)=>{var f;if(c.path===""||!((f=c.path)!=null&&f.includes("?")))s(c,l);else for(let h of y7(c.path))s(c,l,!0,h)}),e}function y7(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),s=t.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let c=y7(r.join("/")),l=[];return l.push(...c.map(f=>f===""?s:[s,f].join("/"))),i&&l.push(...c),l.map(f=>n.startsWith("/")&&f===""?"/":f)}function Yhe(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:rde(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var Zhe=/^:[\w-]+$/,Whe=3,Jhe=2,Xhe=1,ede=10,tde=-2,CI=n=>n==="*";function nde(n,e){let t=n.split("/"),r=t.length;return t.some(CI)&&(r+=tde),e&&(r+=Jhe),t.filter(i=>!CI(i)).reduce((i,s)=>i+(Zhe.test(s)?Whe:s===""?Xhe:ede),r)}function rde(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function ide(n,e,t=!1){let{routesMeta:r}=n,i={},s="/",c=[];for(let l=0;l<r.length;++l){let f=r[l],h=l===r.length-1,p=s==="/"?e:e.slice(s.length)||"/",g=nb({path:f.relativePath,caseSensitive:f.caseSensitive,end:h},p),m=f.route;if(!g&&h&&t&&!r[r.length-1].route.index&&(g=nb({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},p)),!g)return null;Object.assign(i,g.params),c.push({params:i,pathname:qa([s,g.pathname]),pathnameBase:ude(qa([s,g.pathnameBase])),route:m}),g.pathnameBase!=="/"&&(s=qa([s,g.pathnameBase]))}return c}function nb(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=sde(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let s=i[0],c=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((h,{paramName:p,isOptional:g},m)=>{if(p==="*"){let w=l[m]||"";c=s.slice(0,s.length-w.length).replace(/(.)\/+$/,"$1")}const b=l[m];return g&&!b?h[p]=void 0:h[p]=(b||"").replace(/%2F/g,"/"),h},{}),pathname:s,pathnameBase:c,pattern:n}}function sde(n,e=!1,t=!0){zs(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,l,f)=>(r.push({paramName:l,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function ade(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return zs(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Za(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function ode(n,e="/"){let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?Kh(n):n;return{pathname:t?t.startsWith("/")?t:cde(t,e):e,search:fde(r),hash:hde(i)}}function cde(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function ax(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function lde(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function b7(n){let e=lde(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function w7(n,e,t,r=!1){let i;typeof n=="string"?i=Kh(n):(i={...n},kt(!i.pathname||!i.pathname.includes("?"),ax("?","pathname","search",i)),kt(!i.pathname||!i.pathname.includes("#"),ax("#","pathname","hash",i)),kt(!i.search||!i.search.includes("#"),ax("#","search","hash",i)));let s=n===""||i.pathname==="",c=s?"/":i.pathname,l;if(c==null)l=t;else{let g=e.length-1;if(!r&&c.startsWith("..")){let m=c.split("/");for(;m[0]==="..";)m.shift(),g-=1;i.pathname=m.join("/")}l=g>=0?e[g]:"/"}let f=ode(i,l),h=c&&c!=="/"&&c.endsWith("/"),p=(s||c===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(h||p)&&(f.pathname+="/"),f}var qa=n=>n.join("/").replace(/\/\/+/g,"/"),ude=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),fde=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,hde=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function dde(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var v7=["POST","PUT","PATCH","DELETE"];new Set(v7);var pde=["GET",...v7];new Set(pde);var Qh=oe.createContext(null);Qh.displayName="DataRouter";var Xb=oe.createContext(null);Xb.displayName="DataRouterState";oe.createContext(!1);var x7=oe.createContext({isTransitioning:!1});x7.displayName="ViewTransition";var gde=oe.createContext(new Map);gde.displayName="Fetchers";var mde=oe.createContext(null);mde.displayName="Await";var Hs=oe.createContext(null);Hs.displayName="Navigation";var qg=oe.createContext(null);qg.displayName="Location";var Ja=oe.createContext({outlet:null,matches:[],isDataRoute:!1});Ja.displayName="Route";var NA=oe.createContext(null);NA.displayName="RouteError";function yde(n,{relative:e}={}){kt(Vg(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=oe.useContext(Hs),{hash:i,pathname:s,search:c}=Gg(n,{relative:e}),l=s;return t!=="/"&&(l=s==="/"?t:qa([t,s])),r.createHref({pathname:l,search:c,hash:i})}function Vg(){return oe.useContext(qg)!=null}function du(){return kt(Vg(),"useLocation() may be used only in the context of a <Router> component."),oe.useContext(qg).location}var E7="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function A7(n){oe.useContext(Hs).static||oe.useLayoutEffect(n)}function bde(){let{isDataRoute:n}=oe.useContext(Ja);return n?Dde():wde()}function wde(){kt(Vg(),"useNavigate() may be used only in the context of a <Router> component.");let n=oe.useContext(Qh),{basename:e,navigator:t}=oe.useContext(Hs),{matches:r}=oe.useContext(Ja),{pathname:i}=du(),s=JSON.stringify(b7(r)),c=oe.useRef(!1);return A7(()=>{c.current=!0}),oe.useCallback((f,h={})=>{if(zs(c.current,E7),!c.current)return;if(typeof f=="number"){t.go(f);return}let p=w7(f,JSON.parse(s),i,h.relative==="path");n==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:qa([e,p.pathname])),(h.replace?t.replace:t.push)(p,h.state,h)},[e,t,s,i,n])}oe.createContext(null);function Gg(n,{relative:e}={}){let{matches:t}=oe.useContext(Ja),{pathname:r}=du(),i=JSON.stringify(b7(t));return oe.useMemo(()=>w7(n,JSON.parse(i),r,e==="path"),[n,i,r,e])}function vde(n,e){return S7(n,e)}function S7(n,e,t,r,i){var T;kt(Vg(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=oe.useContext(Hs),{matches:c}=oe.useContext(Ja),l=c[c.length-1],f=l?l.params:{},h=l?l.pathname:"/",p=l?l.pathnameBase:"/",g=l&&l.route;{let _=g&&g.path||"";_7(h,!g||_.endsWith("*")||_.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${_}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${_}"> to <Route path="${_==="/"?"*":`${_}/*`}">.`)}let m=du(),b;if(e){let _=typeof e=="string"?Kh(e):e;kt(p==="/"||((T=_.pathname)==null?void 0:T.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${_.pathname}" was given in the \`location\` prop.`),b=_}else b=m;let w=b.pathname||"/",x=w;if(p!=="/"){let _=p.replace(/^\//,"").split("/");x="/"+w.replace(/^\//,"").split("/").slice(_.length).join("/")}let S=g7(n,{pathname:x});zs(g||S!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),zs(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let O=_de(S&&S.map(_=>Object.assign({},_,{params:Object.assign({},f,_.params),pathname:qa([p,s.encodeLocation?s.encodeLocation(_.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?p:qa([p,s.encodeLocation?s.encodeLocation(_.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:_.pathnameBase])})),c,t,r,i);return e&&O?oe.createElement(qg.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},O):O}function xde(){let n=Tde(),e=dde(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=oe.createElement(oe.Fragment,null,oe.createElement("p",null," Hey developer "),oe.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",oe.createElement("code",{style:s},"ErrorBoundary")," or"," ",oe.createElement("code",{style:s},"errorElement")," prop on your route.")),oe.createElement(oe.Fragment,null,oe.createElement("h2",null,"Unexpected Application Error!"),oe.createElement("h3",{style:{fontStyle:"italic"}},e),t?oe.createElement("pre",{style:i},t):null,c)}var Ede=oe.createElement(xde,null),Ade=class extends oe.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.unstable_onError?this.props.unstable_onError(n,e):console.error("React Router caught the following error during render",n)}render(){return this.state.error!==void 0?oe.createElement(Ja.Provider,{value:this.props.routeContext},oe.createElement(NA.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Sde({routeContext:n,match:e,children:t}){let r=oe.useContext(Qh);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),oe.createElement(Ja.Provider,{value:n},t)}function _de(n,e=[],t=null,r=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let s=n,c=t==null?void 0:t.errors;if(c!=null){let h=s.findIndex(p=>p.route.id&&(c==null?void 0:c[p.route.id])!==void 0);kt(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),s=s.slice(0,Math.min(s.length,h+1))}let l=!1,f=-1;if(t)for(let h=0;h<s.length;h++){let p=s[h];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(f=h),p.route.id){let{loaderData:g,errors:m}=t,b=p.route.loader&&!g.hasOwnProperty(p.route.id)&&(!m||m[p.route.id]===void 0);if(p.route.lazy||b){l=!0,f>=0?s=s.slice(0,f+1):s=[s[0]];break}}}return s.reduceRight((h,p,g)=>{let m,b=!1,w=null,x=null;t&&(m=c&&p.route.id?c[p.route.id]:void 0,w=p.route.errorElement||Ede,l&&(f<0&&g===0?(_7("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,x=null):f===g&&(b=!0,x=p.route.hydrateFallbackElement||null)));let S=e.concat(s.slice(0,g+1)),O=()=>{let T;return m?T=w:b?T=x:p.route.Component?T=oe.createElement(p.route.Component,null):p.route.element?T=p.route.element:T=h,oe.createElement(Sde,{match:p,routeContext:{outlet:h,matches:S,isDataRoute:t!=null},children:T})};return t&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?oe.createElement(Ade,{location:t.location,revalidation:t.revalidation,component:w,error:m,children:O(),routeContext:{outlet:null,matches:S,isDataRoute:!0},unstable_onError:r}):O()},null)}function IA(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Ode(n){let e=oe.useContext(Qh);return kt(e,IA(n)),e}function Cde(n){let e=oe.useContext(Xb);return kt(e,IA(n)),e}function Nde(n){let e=oe.useContext(Ja);return kt(e,IA(n)),e}function TA(n){let e=Nde(n),t=e.matches[e.matches.length-1];return kt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function Ide(){return TA("useRouteId")}function Tde(){var r;let n=oe.useContext(NA),e=Cde("useRouteError"),t=TA("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function Dde(){let{router:n}=Ode("useNavigate"),e=TA("useNavigate"),t=oe.useRef(!1);return A7(()=>{t.current=!0}),oe.useCallback(async(i,s={})=>{zs(t.current,E7),t.current&&(typeof i=="number"?n.navigate(i):await n.navigate(i,{fromRouteId:e,...s}))},[n,e])}var NI={};function _7(n,e,t){!e&&!NI[n]&&(NI[n]=!0,zs(!1,t))}oe.memo(Rde);function Rde({routes:n,future:e,state:t,unstable_onError:r}){return S7(n,void 0,t,r,e)}function o3(n){kt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Bde({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:i,static:s=!1}){kt(!Vg(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),l=oe.useMemo(()=>({basename:c,navigator:i,static:s,future:{}}),[c,i,s]);typeof t=="string"&&(t=Kh(t));let{pathname:f="/",search:h="",hash:p="",state:g=null,key:m="default"}=t,b=oe.useMemo(()=>{let w=Za(f,c);return w==null?null:{location:{pathname:w,search:h,hash:p,state:g,key:m},navigationType:r}},[c,f,h,p,g,m,r]);return zs(b!=null,`<Router basename="${c}"> is not able to match the URL "${f}${h}${p}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:oe.createElement(Hs.Provider,{value:l},oe.createElement(qg.Provider,{children:e,value:b}))}function kde({children:n,location:e}){return vde(c3(n),e)}function c3(n,e=[]){let t=[];return oe.Children.forEach(n,(r,i)=>{if(!oe.isValidElement(r))return;let s=[...e,i];if(r.type===oe.Fragment){t.push.apply(t,c3(r.props.children,s));return}kt(r.type===o3,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),kt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=c3(r.props.children,s)),t.push(c)}),t}var my="get",yy="application/x-www-form-urlencoded";function ew(n){return n!=null&&typeof n.tagName=="string"}function Pde(n){return ew(n)&&n.tagName.toLowerCase()==="button"}function Ude(n){return ew(n)&&n.tagName.toLowerCase()==="form"}function Mde(n){return ew(n)&&n.tagName.toLowerCase()==="input"}function Lde(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function $de(n,e){return n.button===0&&(!e||e==="_self")&&!Lde(n)}var Qm=null;function jde(){if(Qm===null)try{new FormData(document.createElement("form"),0),Qm=!1}catch{Qm=!0}return Qm}var zde=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ox(n){return n!=null&&!zde.has(n)?(zs(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${yy}"`),null):n}function Hde(n,e){let t,r,i,s,c;if(Ude(n)){let l=n.getAttribute("action");r=l?Za(l,e):null,t=n.getAttribute("method")||my,i=ox(n.getAttribute("enctype"))||yy,s=new FormData(n)}else if(Pde(n)||Mde(n)&&(n.type==="submit"||n.type==="image")){let l=n.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=n.getAttribute("formaction")||l.getAttribute("action");if(r=f?Za(f,e):null,t=n.getAttribute("formmethod")||l.getAttribute("method")||my,i=ox(n.getAttribute("formenctype"))||ox(l.getAttribute("enctype"))||yy,s=new FormData(l,n),!jde()){let{name:h,type:p,value:g}=n;if(p==="image"){let m=h?`${h}.`:"";s.append(`${m}x`,"0"),s.append(`${m}y`,"0")}else h&&s.append(h,g)}}else{if(ew(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=my,r=null,i=yy,c=n}return s&&i==="text/plain"&&(c=s,s=void 0),{action:r,method:t.toLowerCase(),encType:i,formData:s,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function DA(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Fde(n,e,t){let r=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return r.pathname==="/"?r.pathname=`_root.${t}`:e&&Za(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${t}`,r}async function qde(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Vde(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function Gde(n,e,t){let r=await Promise.all(n.map(async i=>{let s=e.routes[i.route.id];if(s){let c=await qde(s,t);return c.links?c.links():[]}return[]}));return Zde(r.flat(1).filter(Vde).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function II(n,e,t,r,i,s){let c=(f,h)=>t[h]?f.route.id!==t[h].route.id:!0,l=(f,h)=>{var p;return t[h].pathname!==f.pathname||((p=t[h].route.path)==null?void 0:p.endsWith("*"))&&t[h].params["*"]!==f.params["*"]};return s==="assets"?e.filter((f,h)=>c(f,h)||l(f,h)):s==="data"?e.filter((f,h)=>{var g;let p=r.routes[f.route.id];if(!p||!p.hasLoader)return!1;if(c(f,h)||l(f,h))return!0;if(f.route.shouldRevalidate){let m=f.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((g=t[0])==null?void 0:g.params)||{},nextUrl:new URL(n,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function Kde(n,e,{includeHydrateFallback:t}={}){return Qde(n.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),t&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function Qde(n){return[...new Set(n)]}function Yde(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function Zde(n,e){let t=new Set;return new Set(e),n.reduce((r,i)=>{let s=JSON.stringify(Yde(i));return t.has(s)||(t.add(s),r.push({key:s,link:i})),r},[])}function O7(){let n=oe.useContext(Qh);return DA(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function Wde(){let n=oe.useContext(Xb);return DA(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var RA=oe.createContext(void 0);RA.displayName="FrameworkContext";function C7(){let n=oe.useContext(RA);return DA(n,"You must render this element inside a <HydratedRouter> element"),n}function Jde(n,e){let t=oe.useContext(RA),[r,i]=oe.useState(!1),[s,c]=oe.useState(!1),{onFocus:l,onBlur:f,onMouseEnter:h,onMouseLeave:p,onTouchStart:g}=e,m=oe.useRef(null);oe.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let x=O=>{O.forEach(T=>{c(T.isIntersecting)})},S=new IntersectionObserver(x,{threshold:.5});return m.current&&S.observe(m.current),()=>{S.disconnect()}}},[n]),oe.useEffect(()=>{if(r){let x=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(x)}}},[r]);let b=()=>{i(!0)},w=()=>{i(!1),c(!1)};return t?n!=="intent"?[s,m,{}]:[s,m,{onFocus:Ep(l,b),onBlur:Ep(f,w),onMouseEnter:Ep(h,b),onMouseLeave:Ep(p,w),onTouchStart:Ep(g,b)}]:[!1,m,{}]}function Ep(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function Xde({page:n,...e}){let{router:t}=O7(),r=oe.useMemo(()=>g7(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?oe.createElement(tpe,{page:n,matches:r,...e}):null}function epe(n){let{manifest:e,routeModules:t}=C7(),[r,i]=oe.useState([]);return oe.useEffect(()=>{let s=!1;return Gde(n,e,t).then(c=>{s||i(c)}),()=>{s=!0}},[n,e,t]),r}function tpe({page:n,matches:e,...t}){let r=du(),{manifest:i,routeModules:s}=C7(),{basename:c}=O7(),{loaderData:l,matches:f}=Wde(),h=oe.useMemo(()=>II(n,e,f,i,r,"data"),[n,e,f,i,r]),p=oe.useMemo(()=>II(n,e,f,i,r,"assets"),[n,e,f,i,r]),g=oe.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let w=new Set,x=!1;if(e.forEach(O=>{var _;let T=i.routes[O.route.id];!T||!T.hasLoader||(!h.some(I=>I.route.id===O.route.id)&&O.route.id in l&&((_=s[O.route.id])!=null&&_.shouldRevalidate)||T.hasClientLoader?x=!0:w.add(O.route.id))}),w.size===0)return[];let S=Fde(n,c,"data");return x&&w.size>0&&S.searchParams.set("_routes",e.filter(O=>w.has(O.route.id)).map(O=>O.route.id).join(",")),[S.pathname+S.search]},[c,l,r,i,h,e,n,s]),m=oe.useMemo(()=>Kde(p,i),[p,i]),b=epe(p);return oe.createElement(oe.Fragment,null,g.map(w=>oe.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...t})),m.map(w=>oe.createElement("link",{key:w,rel:"modulepreload",href:w,...t})),b.map(({key:w,link:x})=>oe.createElement("link",{key:w,nonce:t.nonce,...x})))}function npe(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var N7=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{N7&&(window.__reactRouterVersion="7.9.4")}catch{}function rpe({basename:n,children:e,window:t}){let r=oe.useRef();r.current==null&&(r.current=qhe({window:t,v5Compat:!0}));let i=r.current,[s,c]=oe.useState({action:i.action,location:i.location}),l=oe.useCallback(f=>{oe.startTransition(()=>c(f))},[c]);return oe.useLayoutEffect(()=>i.listen(l),[i,l]),oe.createElement(Bde,{basename:n,children:e,location:s.location,navigationType:s.action,navigator:i})}var I7=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,BA=oe.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:i,reloadDocument:s,replace:c,state:l,target:f,to:h,preventScrollReset:p,viewTransition:g,...m},b){let{basename:w}=oe.useContext(Hs),x=typeof h=="string"&&I7.test(h),S,O=!1;if(typeof h=="string"&&x&&(S=h,N7))try{let L=new URL(window.location.href),F=h.startsWith("//")?new URL(L.protocol+h):new URL(h),q=Za(F.pathname,w);F.origin===L.origin&&q!=null?h=q+F.search+F.hash:O=!0}catch{zs(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let T=yde(h,{relative:i}),[_,I,N]=Jde(r,m),U=ope(h,{replace:c,state:l,target:f,preventScrollReset:p,relative:i,viewTransition:g});function z(L){e&&e(L),L.defaultPrevented||U(L)}let M=oe.createElement("a",{...m,...N,href:S||T,onClick:O||s?e:z,ref:npe(b,I),target:f,"data-discover":!x&&t==="render"?"true":void 0});return _&&!x?oe.createElement(oe.Fragment,null,M,oe.createElement(Xde,{page:T})):M});BA.displayName="Link";var ipe=oe.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:i=!1,style:s,to:c,viewTransition:l,children:f,...h},p){let g=Gg(c,{relative:h.relative}),m=du(),b=oe.useContext(Xb),{navigator:w,basename:x}=oe.useContext(Hs),S=b!=null&&hpe(g)&&l===!0,O=w.encodeLocation?w.encodeLocation(g).pathname:g.pathname,T=m.pathname,_=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;t||(T=T.toLowerCase(),_=_?_.toLowerCase():null,O=O.toLowerCase()),_&&x&&(_=Za(_,x)||_);const I=O!=="/"&&O.endsWith("/")?O.length-1:O.length;let N=T===O||!i&&T.startsWith(O)&&T.charAt(I)==="/",U=_!=null&&(_===O||!i&&_.startsWith(O)&&_.charAt(O.length)==="/"),z={isActive:N,isPending:U,isTransitioning:S},M=N?e:void 0,L;typeof r=="function"?L=r(z):L=[r,N?"active":null,U?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let F=typeof s=="function"?s(z):s;return oe.createElement(BA,{...h,"aria-current":M,className:L,ref:p,style:F,to:c,viewTransition:l},typeof f=="function"?f(z):f)});ipe.displayName="NavLink";var spe=oe.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:i,state:s,method:c=my,action:l,onSubmit:f,relative:h,preventScrollReset:p,viewTransition:g,...m},b)=>{let w=upe(),x=fpe(l,{relative:h}),S=c.toLowerCase()==="get"?"get":"post",O=typeof l=="string"&&I7.test(l),T=_=>{if(f&&f(_),_.defaultPrevented)return;_.preventDefault();let I=_.nativeEvent.submitter,N=(I==null?void 0:I.getAttribute("formmethod"))||c;w(I||_.currentTarget,{fetcherKey:e,method:N,navigate:t,replace:i,state:s,relative:h,preventScrollReset:p,viewTransition:g})};return oe.createElement("form",{ref:b,method:S,action:x,onSubmit:r?f:T,...m,"data-discover":!O&&n==="render"?"true":void 0})});spe.displayName="Form";function ape(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function T7(n){let e=oe.useContext(Qh);return kt(e,ape(n)),e}function ope(n,{target:e,replace:t,state:r,preventScrollReset:i,relative:s,viewTransition:c}={}){let l=bde(),f=du(),h=Gg(n,{relative:s});return oe.useCallback(p=>{if($de(p,e)){p.preventDefault();let g=t!==void 0?t:fg(f)===fg(h);l(n,{replace:g,state:r,preventScrollReset:i,relative:s,viewTransition:c})}},[f,l,h,t,r,e,n,i,s,c])}var cpe=0,lpe=()=>`__${String(++cpe)}__`;function upe(){let{router:n}=T7("useSubmit"),{basename:e}=oe.useContext(Hs),t=Ide();return oe.useCallback(async(r,i={})=>{let{action:s,method:c,encType:l,formData:f,body:h}=Hde(r,e);if(i.navigate===!1){let p=i.fetcherKey||lpe();await n.fetch(p,t,i.action||s,{preventScrollReset:i.preventScrollReset,formData:f,body:h,formMethod:i.method||c,formEncType:i.encType||l,flushSync:i.flushSync})}else await n.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:f,body:h,formMethod:i.method||c,formEncType:i.encType||l,replace:i.replace,state:i.state,fromRouteId:t,flushSync:i.flushSync,viewTransition:i.viewTransition})},[n,e,t])}function fpe(n,{relative:e}={}){let{basename:t}=oe.useContext(Hs),r=oe.useContext(Ja);kt(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...Gg(n||".",{relative:e})},c=du();if(n==null){s.search=c.search;let l=new URLSearchParams(s.search),f=l.getAll("index");if(f.some(p=>p==="")){l.delete("index"),f.filter(g=>g).forEach(g=>l.append("index",g));let p=l.toString();s.search=p?`?${p}`:""}}return(!n||n===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(s.pathname=s.pathname==="/"?t:qa([t,s.pathname])),fg(s)}function hpe(n,{relative:e}={}){let t=oe.useContext(x7);kt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=T7("useViewTransitionState"),i=Gg(n,{relative:e});if(!t.isTransitioning)return!1;let s=Za(t.currentLocation.pathname,r)||t.currentLocation.pathname,c=Za(t.nextLocation.pathname,r)||t.nextLocation.pathname;return nb(i.pathname,c)!=null||nb(i.pathname,s)!=null}function dpe({setSigner:n=()=>null,signer:e}){const[t,r]=oe.useState(!1),[i,s]=oe.useState(!1),[c,l]=oe.useState(!1),[f]=p7(n);return oe.useEffect(()=>{e&&(r(!0),s(!1))},[e]),B.jsxs(B.Fragment,{children:[B.jsx("header",{className:"sticky top-0 z-50 w-full border-b bg-white/95 backdrop-blur supports-[backdrop-filter]:bg-white/60",children:B.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[B.jsxs("div",{className:"flex h-16 items-center justify-between gap-2.5",children:[B.jsx(BA,{to:"/",className:"flex items-center",children:B.jsx("h1",{className:`  \r
                  text-xl \r
                  max-[470px]:text-xl \r
                  min-[470px]:text-2xl  font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent`,children:"Cadach Finance"})}),B.jsxs("nav",{className:"hidden md:flex items-center space-x-8",children:[B.jsx("a",{href:"#estrategias",className:"text-gray-600 hover:text-gray-900 transition-colors",children:"Estratgias"}),B.jsx("a",{href:"#sobre",className:"text-gray-600 hover:text-gray-900 transition-colors",children:"Sobre"}),B.jsx("a",{href:"#suporte",className:"text-gray-600 hover:text-gray-900 transition-colors",children:"Suporte"})]}),B.jsxs("div",{className:"flex items-center space-x-4",children:[t?B.jsxs("div",{className:"flex items-center space-x-2",children:[B.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),B.jsx("span",{className:"text-sm text-gray-600",children:`${e.address.substr(0,5)}...${e.address.substr(-5)}`})]}):B.jsxs(en,{onClick:()=>s(!0),className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700",children:[B.jsx(kL,{className:"w-4 h-4 mr-2"}),"Conectar Carteira"]}),B.jsx(en,{variant:"ghost",size:"sm",className:"md:hidden",onClick:()=>l(!c),children:c?B.jsx(V4,{className:"w-5 h-5"}):B.jsx(bL,{className:"w-5 h-5"})})]})]}),c&&B.jsx("div",{className:"md:hidden border-t py-4",children:B.jsxs("nav",{className:"flex flex-col space-y-4",children:[B.jsx("a",{href:"#estrategias",className:"text-gray-600 hover:text-gray-900 transition-colors",children:"Estratgias"}),B.jsx("a",{href:"#sobre",className:"text-gray-600 hover:text-gray-900 transition-colors",children:"Sobre"}),B.jsx("a",{href:"#suporte",className:"text-gray-600 hover:text-gray-900 transition-colors",children:"Suporte"})]})})]})}),i&&B.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",children:B.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-sm",children:[B.jsxs("div",{className:"flex justify-between items-center mb-4",children:[B.jsx("h3",{className:"text-lg font-semibold",children:"Conectar Carteira"}),B.jsx(en,{variant:"ghost",size:"sm",onClick:()=>s(!1),children:B.jsx(V4,{className:"w-4 h-4"})})]}),B.jsxs("div",{className:"space-y-3",children:[B.jsxs(en,{variant:"outline",className:"w-full justify-start",onClick:()=>f("metamask"),children:[B.jsx("div",{className:"w-6 h-6 bg-orange-500 rounded-full mr-3 flex items-center justify-center text-white text-xs font-bold",children:"M"}),"MetaMask"]}),B.jsxs(en,{variant:"outline",className:"w-full justify-start",onClick:()=>f("walletconnect"),children:[B.jsx("div",{className:"w-6 h-6 bg-blue-500 rounded-full mr-3 flex items-center justify-center text-white text-xs font-bold",children:"W"}),"WalletConnect"]}),B.jsxs(en,{variant:"outline",className:"w-full justify-start",onClick:()=>f("coinbase"),children:[B.jsx("div",{className:"w-6 h-6 bg-blue-600 rounded-full mr-3 flex items-center justify-center text-white text-xs font-bold",children:"C"}),"Coinbase Wallet"]}),B.jsxs(en,{variant:"outline",className:"w-full justify-start",onClick:()=>f("trustwallet"),children:[B.jsx("div",{className:"w-6 h-6 bg-blue-600 rounded-full mr-3 flex items-center justify-center text-white text-xs font-bold",children:"T"}),"Trust Wallet"]})]})]})})]})}function ppe(){const n=()=>{var e;(e=document.getElementById("estrategias"))==null||e.scrollIntoView({behavior:"smooth"})};return B.jsxs("section",{className:"relative overflow-hidden bg-gradient-to-br from-blue-50 via-white to-purple-50",children:[B.jsx("div",{className:"absolute inset-0 bg-grid-slate-100 [mask-image:linear-gradient(0deg,white,rgba(255,255,255,0.6))] -z-10"}),B.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-10 md:py-20",children:B.jsxs("div",{className:"text-center max-w-4xl mx-auto",children:[B.jsxs("h1",{className:`  \r
            text-4xl \r
            sm:text-6xl \r
            max-[550px]:text-3xl \r
            font-bold \r
            tracking-tight \r
            text-gray-900 \r
            mb-6`,children:["Invista em"," ",B.jsx("span",{className:"bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"DeFi"})," ","com um clique"]}),B.jsx("p",{className:"text-xl text-gray-600 mb-8 max-w-2xl mx-auto leading-relaxed",children:"Aqui voc encontra estratgias profissionais prontas para usar, automao que protege seu capital e suporte prtico para comear hoje no DEFI"}),B.jsxs("div",{className:"flex flex-wrap justify-center gap-6 mb-10",children:[B.jsxs("div",{className:"flex items-center space-x-2 bg-white/80 rounded-full px-4 py-2 shadow-sm",children:[B.jsx(ML,{className:"w-5 h-5 text-blue-600"}),B.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Um Clique"})]}),B.jsxs("div",{className:"flex items-center space-x-2 bg-white/80 rounded-full px-4 py-2 shadow-sm",children:[B.jsx(ub,{className:"w-5 h-5 text-green-600"}),B.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Seguro"})]}),B.jsxs("div",{className:"flex items-center space-x-2 bg-white/80 rounded-full px-4 py-2 shadow-sm",children:[B.jsx(KI,{className:"w-5 h-5 text-purple-600"}),B.jsx("span",{className:"text-sm font-medium text-gray-700",children:"100% Portugus"})]})]}),B.jsxs("div",{className:"flex flex-col  min-[470px]:flex-row gap-4 justify-center items-center",children:[B.jsxs(en,{size:"lg",className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white px-8 py-6 text-lg font-semibold rounded-full shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105",onClick:n,children:["Comear agora",B.jsx(tL,{className:"w-5 h-5 ml-2"})]}),B.jsx(en,{variant:"outline",size:"lg",className:"px-8 py-6 text-lg font-semibold rounded-full border-2 hover:bg-gray-50",children:"Ver demonstrao"})]}),B.jsxs("div",{className:"mt-16 pt-8 border-t border-gray-200",children:[B.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Confiado por mais de 2.000 investidores"}),B.jsxs("div",{className:"flex flex-wrap justify-center items-center space-x-8 opacity-60",children:[B.jsxs("div",{className:"flex flex-wrap justify-center items-center space-x-8 ",children:[B.jsx("div",{className:"text-2xl font-bold text-gray-400",children:"R$ 4.3M+"}),B.jsx("div",{className:"text-sm text-gray-400",children:"Total investido"})]}),B.jsxs("div",{className:"flex flex-wrap justify-center items-center space-x-8 ",children:[B.jsx("div",{className:"w-1 h-8 bg-gray-300 max-[558px]:hidden"}),B.jsx("div",{className:"text-2xl font-bold text-gray-400",children:"2.1k+"}),B.jsx("div",{className:"text-sm text-gray-400",children:"Investidores ativos"})]})]})]})]})}),B.jsx("div",{className:"hidden sm:block absolute top-20 left-10 w-20 h-20 bg-blue-200 rounded-full opacity-20 animate-pulse"}),B.jsx("div",{className:"hidden sm:block absolute bottom-20 right-10 w-32 h-32 bg-purple-200 rounded-full opacity-20 animate-pulse delay-1000"}),B.jsx("div",{className:"hidden sm:block absolute top-1/2 left-1/4 w-16 h-16 bg-green-200 rounded-full opacity-20 animate-pulse delay-500"})]})}function gpe({setStrategyFilter:n}){const[e,t]=oe.useState(null),r=[{id:"baixo-risco",name:"Baixo Risco",icon:ub,risco:1,color:"green",gradient:"from-green-500 to-emerald-600",bgColor:"bg-green-50",borderColor:"border-green-200",textColor:"text-green-700",returnRange:"5-8%",description:"Estratgias conservadoras com foco em segurana e preservao de capital",features:["Tokens lastreados em ouro e ativos estveis","Protocolos auditados e estabelecidos","Baixa volatilidade e risco controlado"]},{id:"moderado",name:"Moderado",icon:SL,risco:2,color:"yellow",gradient:"from-yellow-500 to-orange-500",bgColor:"bg-yellow-50",borderColor:"border-yellow-200",textColor:"text-yellow-700",returnRange:"8-15%",description:"Equilbrio perfeito entre segurana e rentabilidade",features:["Diversificao entre protocolos seguros","Yield farming com risco controlado","Estratgias balanceadas e testadas"]},{id:"agressivo",name:"Agressivo",icon:EL,color:"red",risco:3,gradient:"from-red-500 to-pink-600",bgColor:"bg-red-50",borderColor:"border-red-200",textColor:"text-red-700",returnRange:"15-25%+",description:"Maior potencial de retorno para investidores experientes",features:["Protocolos de alto rendimento","Estratgias avanadas de DeFi","Maior volatilidade e potencial"]}],i=s=>{t(e===s?null:s)};return B.jsx("section",{id:"estrategias",className:"py-20 bg-gray-50",children:B.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[B.jsxs("div",{className:"text-center mb-16",children:[B.jsx("h2",{className:"text-3xl sm:text-4xl font-bold text-gray-900 mb-4",children:"Escolha seu perfil de investimento"}),B.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Oferecemos estratgias para todos os perfis, desde conservadores at os mais arrojados"})]}),B.jsx("div",{className:"grid md:grid-cols-3 gap-8 max-w-6xl mx-auto  overflow-visible",children:r.map(s=>{const c=s.icon,l=e===s.id;return B.jsxs("div",{className:`relative bg-white rounded-2xl p-8 shadow-lg hover:shadow-xl overflow-visible transition-all duration-300 cursor-pointer transform hover:scale-105 ${l?"ring-2 ring-blue-500 ring-offset-2":""}`,onClick:()=>i(s.id),children:[B.jsxs("div",{className:"flex flex-col justify-between h-full",children:[B.jsxs("div",{children:[B.jsxs("div",{className:"text-center mb-6",children:[B.jsx("div",{className:`inline-flex items-center justify-center w-16 h-16 rounded-full bg-gradient-to-r ${s.gradient} text-white mb-4`,children:B.jsx(c,{className:"w-8 h-8"})}),B.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2 sm:text-2xl",children:s.name}),B.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[B.jsx(h3,{className:"w-5 h-5 text-green-600"}),B.jsx("span",{className:"text-2xl max-[1023px]:text-base font-bold text-green-600 ",children:s.returnRange}),B.jsx("span",{className:"text-gray-500 text-sm",children:"ao ano"})]})]}),B.jsx("p",{className:"text-gray-600 text-center mb-6 leading-relaxed",children:s.description}),B.jsx("div",{className:"space-y-3 mb-6",children:s.features.map((f,h)=>B.jsxs("div",{className:"flex items-start space-x-2",children:[B.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-2 flex-shrink-0"}),B.jsx("span",{className:"text-sm text-gray-600",children:f})]},h))})]}),B.jsx(en,{className:`w-full bg-gradient-to-r ${s.gradient} hover:opacity-90 text-white font-semibold py-3 rounded-lg transition-all duration-300 mt-auto`,onClick:f=>{f.stopPropagation(),n(s.risco);const h=document.getElementById("table");h&&h.scrollIntoView({behavior:"smooth"})},children:"Ver estratgias"})]}),l&&B.jsx("div",{className:"absolute top-full left-0 right-0 bg-white rounded-b-2xl shadow-xl p-6 z-50 border-t break-words ",children:B.jsxs("div",{className:"flex items-start space-x-3  ",children:[B.jsx(f3,{className:"min-w-4 min-h-4 text-blue-500 mt-1"}),B.jsxs("div",{className:"overflow-y-auto",children:[B.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Detalhes da categoria"}),B.jsxs("p",{className:"text-sm text-gray-600 mb-4 break-words",children:["Esta categoria  ideal para investidores que buscam ",s.name.toLowerCase()," e esto dispostos a aceitar os riscos correspondentes em troca dos retornos esperados."]}),B.jsxs("div",{className:"flex space-x-2 flex-wrap gap-3 justify-center",children:[B.jsx(en,{size:"sm",variant:"outline",children:"Saiba mais"}),B.jsx(en,{size:"sm",className:"bg-blue-600 hover:bg-blue-700",children:"Ver produtos"})]})]})]})})]},s.id)})}),B.jsxs("div",{className:"text-center mt-16",children:[B.jsx("p",{className:"text-gray-600 mb-6",children:"No tem certeza qual categoria escolher?"}),B.jsx(en,{variant:"outline",size:"lg",className:"rounded-full",children:"Fazer quiz de perfil"})]})]})})}function mpe({isOpen:n,onClose:e,onOpen:t,children:r}){return oe.useEffect(()=>{n&&t&&t()},[n,t]),n?B.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black/60 z-50 p-4",children:B.jsxs("div",{className:" bg-white rounded-xl shadow-lg relative max-w-lg w-full max-h-[90vh] flex flex-col p-1",children:[B.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-600 hover:text-black text-xl z-10 w-8 h-8 flex items-center justify-center rounded-full hover:bg-gray-100 transition-colors",children:""}),B.jsx("div",{className:"overflow-y-auto flex-1 custom-scrollbar",children:r})]})}):null}const TI=()=>null;function ype({product:n,onClose:e=TI,onSubmit:t=TI,mode:r="buy",userBalance:i=0,fees:s={transaction:.5,gas:.1},error:c,setError:l}){const[f,h]=oe.useState(0),p=r==="buy",g=s.transaction?f*s.transaction/100:0,m=p?f+g+(s.gas||0):f-g-(s.gas||0),b=p?f:f-g-(s.gas||0),w=x=>{x.preventDefault(),t({amount:f,mode:r,netAmount:b,fees:{transaction:g,gas:s.gas||0},total:m})};return B.jsxs("div",{className:"p-6 max-[470px]:p-3",children:[B.jsxs("div",{className:"text-center mb-6",children:[B.jsx("div",{className:"flex items-center justify-center mb-4",children:(()=>{if(!n)return null;const x=n.icon;return B.jsx("div",{className:`p-3 rounded-xl bg-gradient-to-r ${p?n.categoryColor==="green"?"from-green-500 to-emerald-600":n.categoryColor==="red"?"from-red-500 to-pink-600":"from-yellow-500 to-orange-500":"from-purple-500 to-indigo-600"} text-white`,children:B.jsx(x,{className:"w-8 h-8"})})})()}),B.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-2 sm:text-2xl",children:[p?"Investir em":"Vender"," ",n==null?void 0:n.name]}),B.jsx("p",{className:"text-gray-600",children:p?"Digite o valor que deseja investir em USDT":"Digite o valor que deseja resgatar em USDT"})]}),B.jsxs("div",{children:[B.jsxs("div",{children:[B.jsxs("div",{className:"flex items-center justify-between mb-2",children:[B.jsxs("label",{htmlFor:"amount",className:"block text-sm font-medium text-gray-700",children:["Valor da ",p?"Compra":"Venda"]}),!p&&B.jsxs("button",{type:"button",onClick:()=>{h(i)},className:"text-xs font-medium text-blue-600 hover:text-blue-700",children:["Saldo: ",i," USDT"]})]}),B.jsxs("div",{className:"relative",children:[B.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:B.jsx(el,{className:"w-5 h-5 text-gray-400"})}),B.jsx("input",{type:"number",id:"amount",name:"amount",step:"0.01",min:"0",onFocus:()=>l(null),max:p?void 0:i,value:f,placeholder:"0.00",className:"block w-full pl-10 pr-14 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-lg",onChange:x=>h(Number(x.target.value)),required:!0}),B.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:B.jsx("span",{className:"text-gray-500 sm:text-sm font-medium",children:"USDT"})})]}),B.jsx("p",{className:"mt-2 text-sm text-gray-500",children:p?"Valor mnimo: 10 USDT":`Mximo disponvel: ${i} USDT`}),B.jsx("p",{className:"mt-2 text-sm text-red-700 mb-3 h-4",children:c})]}),f>0&&B.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:[B.jsxs("h4",{className:"font-medium text-gray-900 mb-3 flex items-center",children:[B.jsx(rL,{className:"w-4 h-4 mr-2"}),"Detalhes da Transao"]}),B.jsxs("div",{className:"space-y-2 text-sm",children:[B.jsxs("div",{className:"flex justify-between",children:[B.jsxs("span",{className:"text-gray-600",children:["Valor ",p?"investido":"vendido",":"]}),B.jsxs("span",{className:"font-medium text-gray-900",children:[f.toFixed(2)," USDT"]})]}),s.transaction>0&&B.jsxs("div",{className:"flex justify-between",children:[B.jsxs("span",{className:"text-gray-600",children:["Taxa de transao (",s.transaction,"%):"]}),B.jsxs("span",{className:"font-medium text-gray-900",children:[g.toFixed(2)," USDT"]})]}),s.gas>0&&B.jsxs("div",{className:"flex justify-between",children:[B.jsx("span",{className:"text-gray-600",children:"Taxa de gas (estimada):"}),B.jsxs("span",{className:"font-medium text-gray-900",children:[s.gas," USDT"]})]}),B.jsx("div",{className:"pt-2 border-t border-gray-200",children:B.jsxs("div",{className:"flex justify-between",children:[B.jsx("span",{className:"text-gray-900 font-semibold",children:p?"Total a pagar:":"Voc receber:"}),B.jsxs("span",{className:`font-bold ${p?"text-red-600":"text-green-600"}`,children:[Math.abs(m).toFixed(2)," USDT"]})]})})]})]}),B.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[B.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Sobre o Ativo"}),B.jsxs("div",{className:"space-y-2 text-sm max-[400px]:text-xs",children:[B.jsxs("div",{className:"flex justify-between",children:[B.jsx("span",{className:"text-gray-600 max-w-[50%]",children:"Rendimento esperado:"}),B.jsxs("span",{className:"font-medium text-green-600 max-[400px]:max-w-[50%]",children:[n==null?void 0:n.currentReturn,"% APY"]})]}),B.jsxs("div",{className:"flex justify-between",children:[B.jsx("span",{className:"text-gray-600 max-w-[50%]",children:"Categoria de risco:"}),B.jsx("span",{className:`font-medium ${(n==null?void 0:n.categoryColor)==="green"?"text-green-600":(n==null?void 0:n.categoryColor)==="red"?"text-red-600":"text-yellow-600"}`,children:n==null?void 0:n.category})]})]})]}),B.jsxs("div",{className:"flex space-x-3 pt-4 flex-wrap gap-3",children:[B.jsx(en,{type:"button",variant:"outline",className:"flex-1",onClick:e,children:"Cancelar"}),B.jsx(en,{type:"button",onClick:w,className:`flex-1 bg-gradient-to-r ${p?(n==null?void 0:n.categoryColor)==="green"?"from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700":(n==null?void 0:n.categoryColor)==="red"?"from-red-500 to-pink-600 hover:from-red-600 hover:to-pink-700":"from-yellow-500 to-orange-500 hover:from-yellow-600 hover:to-orange-600":"from-purple-500 to-indigo-600 hover:from-purple-600 hover:to-indigo-700"} text-white transition-all duration-200`,children:p?B.jsxs(B.Fragment,{children:[B.jsx(h3,{className:"w-4 h-4 mr-2"}),"Confirmar Compra"]}):B.jsxs(B.Fragment,{children:[B.jsx(IL,{className:"w-4 h-4 mr-2"}),"Confirmar Venda"]})})]})]}),B.jsx("div",{className:"mt-6 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:B.jsxs("div",{className:"flex items-start space-x-2",children:[B.jsx(f3,{className:"w-5 h-5 text-yellow-600 mt-0.5 flex-shrink-0"}),B.jsxs("div",{className:"text-sm text-yellow-800",children:[B.jsx("p",{className:"font-medium mb-1",children:"Importante:"}),B.jsx("p",{children:p?"Investimentos em criptomoedas envolvem riscos. Certifique-se de ler e compreender todos os riscos antes de investir. Nunca invista mais do que pode perder.":"Ao vender seus ativos, voc deixar de receber os rendimentos futuros. As taxas de transao sero deduzidas do valor total."})]})]})})]})}const DI=[["0x4cdBD464A1fC138F8a2741DFEf57153934bcbeBd","Estratgia - Renda em dlar","Baixo Risco","green",ub,0,"Investimento em tokens lastreados em dlar para proteo contra inflao","Esta estratgia foca na preservao do patrimnio atravs de investimentos em tokens lastreados no dlar. Ideal para quem busca proteo contra a volatilidade do mercado.",0,0,[["AAVE Pool",100,"bg-green-500"]],["Risco de smart contract","Volatilidade do preo do dlar"],["Auditado por empresas de segurana","Rebalanceamento automtico","Saque a qualquer momento"]]];function bpe({signer:n}){const[e,t]=oe.useState([]),[r,i]=oe.useState(null),[s,c]=oe.useState(),[l,f]=oe.useState({}),[h,p]=oe.useState(null),[,g,m]=p7();oe.useEffect(()=>{let T=[];DI.forEach(_=>{const[I]=_;T.push(g(I,"getApy","STRATEGY").then(N=>_[5]=Number(nl(N,27)*100).toFixed(2)),g(I,"getTotalAllocated","STRATEGY").then(N=>_[8]=Number(nl(N,27)*100).toFixed(2)),g(I,"investorCounter","STRATEGY").then(N=>_[9]=N))}),Promise.all(T).then(()=>{const _=["id","name","category","categoryColor","icon","currentReturn","description","longDescription","tvl","investors","composition","risks","features"],I=DI.map(N=>Object.fromEntries(N.map((U,z)=>[_[z],U])));t(I)})},[]);const b=async T=>{const _=r===T;if(!_&&(n!=null&&n.address)){const I=await g(T,"erc20Token","STRATEGY"),N=await g(T,"getYields","STRATEGY",n.address),U=await g(I,"decimals","ERC20"),z=await g(I,"balanceOf","ERC20",n.address),M=await m(n,T,"getBalance","STRATEGY");f({available:Number(nl(z,U)).toFixed(2),balance:Number(nl(M,U)).toFixed(5),gas:Number(c$(n.balanceWei)).toFixed(2),yield:Number(nl(N,U)).toFixed(5)})}i(_?null:T)},w=T=>{i(T),c("buy")},x=()=>{p(null),c(),i(null)},S=async({amount:T,mode:_})=>{if(!r||T<=0)return;const I=await g(r,"erc20Token","STRATEGY"),N=await g(I,"decimals","ERC20"),U=o$(String(T).replace(",","."),N),z=Number(nl(await g(I,"balanceOf","ERC20",n.address),N));switch(_){case"sell":{await m(n,r,"withdraw","STRATEGY",U),x();return}default:{if(z<T){console.log("Saldo insuficiente , balance:",z,"amount:",T),p("Saldo insuficiente");return}await m(n,I,"approve","ERC20",r,U),await m(n,r,"deposit","STRATEGY",U),x()}}},O=T=>{const _={green:"bg-green-100 text-green-800 border-green-200",red:"bg-red-100 text-red-800 border-red-200",yellow:"bg-yellow-100 text-yellow-800 border-yellow-200"};return _[T]||_.green};return B.jsxs("section",{className:"py-10 bg-white md:py-20",id:"strategies",children:[B.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[B.jsxs("div",{className:"text-center mb-16",children:[B.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-4",children:[B.jsx(CL,{className:"w-6 h-6 text-yellow-500"}),B.jsx("span",{className:"text-sm font-semibold text-gray-600 uppercase tracking-wide",children:"Produtos em Destaque"})]}),B.jsx("h2",{className:"text-3xl sm:text-4xl font-bold text-gray-900 mb-4",children:"Estratgias mais populares"}),B.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Conhea as estratgias que esto gerando os melhores resultados para nossos investidores"})]}),B.jsx("div",{className:`grid lg:grid-cols-${Math.min(e.length,2)} gap-8 max-w-6xl mx-auto`,children:e.map(T=>{const _=T.icon,I=r===T.id;return B.jsxs("div",{className:`bg-white rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 overflow-hidden ${I?"ring-2 ring-blue-500 ring-offset-2":""}`,children:[B.jsxs("div",{className:"p-8 max-[450px]:p-6",children:[B.jsxs("div",{className:"flex items-start justify-between mb-6 gap-2 max-[350px]:mb-3",children:[B.jsxs("div",{className:"flex items-top space-x-4",children:[B.jsx("div",{className:`p-3 rounded-xl bg-gradient-to-r h-fit mt-1.5 ${T.categoryColor==="green"?"from-green-500 to-emerald-600":T.categoryColor==="red"?"from-red-500 to-pink-600":"from-yellow-500 to-orange-500"} text-white`,children:B.jsx(_,{className:"w-6 h-6"})}),B.jsxs("div",{children:[B.jsx("h3",{className:"text-base font-bold text-gray-900 mb-1 sm:text-xl",children:T.name}),B.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border  max-[500px]:hidden ${O(T.categoryColor)}`,children:T.category})]})]}),B.jsxs("div",{className:"text-right",children:[B.jsxs("div",{className:"flex items-center space-x-1 text-green-600 mb-1",children:[B.jsx(h3,{className:"w-4 h-4"}),B.jsxs("span",{className:"text-base font-bold sm:text-2xl",children:[T.currentReturn,"%"]})]}),B.jsx("span",{className:"hidden text-sm text-gray-500 sm:visible",children:"ao ano"})]})]}),B.jsx("p",{className:`visible items-center px-2.5 py-0.5 rounded-full text-xs font-medium border
                    mb-6 max-w-[50%] mx-auto text-center
                    min-[501px]:hidden ${O(T.categoryColor)}`,children:T.category}),B.jsx("p",{className:"text-gray-600 mb-6 leading-relaxed",children:T.description}),B.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[B.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 text-center",children:[B.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-1",children:[B.jsx(el,{className:"w-4 h-4 text-gray-600"}),B.jsx("span",{className:"text-lg font-bold text-gray-900",children:T.tvl})]}),B.jsx("span",{className:"text-sm text-gray-500",children:"Total Investido"})]}),B.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 text-center",children:[B.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-1",children:[B.jsx(RL,{className:"w-4 h-4 text-gray-600"}),B.jsx("span",{className:"text-lg font-bold text-gray-900",children:T.investors})]}),B.jsx("span",{className:"text-sm text-gray-500",children:"Investidores"})]})]}),B.jsxs("div",{className:"flex space-x-3 flex-wrap gap-3",children:[B.jsxs(en,{variant:"outline",className:"flex-1",onClick:()=>b(T.id),children:[B.jsx(f3,{className:"w-4 h-4 mr-2"}),I?"Menos detalhes":"Ver detalhes"]}),B.jsx(en,{className:`flex-1 bg-gradient-to-r ${T.categoryColor==="green"?"from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700":T.categoryColor==="red"?"from-red-500 to-pink-600 hover:from-red-600 hover:to-pink-700":"from-yellow-500 to-orange-500 hover:from-yellow-600 hover:to-orange-600"} text-white`,disabled:!(n!=null&&n.address),onClick:()=>w(T.id),children:"Investir agora"})]})]}),I&&B.jsxs("div",{className:"border-t bg-gray-50 p-8 max-[450px]:p-6",children:[B.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6 max-[510px]:flex max-[510px]:flex-col max-[510px]:gap-3",children:[B.jsxs("div",{className:"bg-white rounded-lg p-4 text-center",children:[B.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-1",children:[B.jsx(el,{className:"w-4 h-4 text-gray-600"}),B.jsx("span",{className:"text-base font-bold text-gray-900 sm:text-lg",children:l.available||0})]}),B.jsx("span",{className:"text-sm text-gray-500",children:"Disponvel para investir"})]}),B.jsxs("div",{className:"bg-white rounded-lg p-4 text-center",children:[B.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-1",children:[B.jsx(el,{className:"w-4 h-4 text-gray-600"}),B.jsx("span",{className:"text-base font-bold text-gray-900 sm:text-lg",children:l.yield||0})]}),B.jsx("span",{className:"text-sm text-gray-500",children:"Recompensas"})]}),B.jsxs("div",{className:"bg-white rounded-lg p-4 text-center",children:[B.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-1",children:[B.jsx(el,{className:"w-4 h-4 text-gray-600"}),B.jsx("span",{className:"text-base font-bold text-gray-900 sm:text-lg",children:l.balance||0})]}),B.jsx("span",{className:"text-sm text-gray-500",children:"Capital investido"})]})]}),B.jsxs("div",{className:"flex justify-center pb-2  flex-wrap gap-3",children:[B.jsxs(en,{className:"flex-1 bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700",onClick:()=>c("sell"),children:[B.jsx(el,{className:"w-4 h-4 mr-2"}),"Resgatar patrimnio"]}),B.jsxs(en,{className:"flex-1 bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700",onClick:()=>{m(n,T.id,"withdrawYields","STRATEGY")},children:[B.jsx(el,{className:"w-4 h-4 mr-2"}),"Resgatar ganhos"]})]}),B.jsxs("div",{className:"space-y-6",children:[B.jsxs("div",{children:[B.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Sobre a estratgia"}),B.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:T.longDescription})]}),B.jsxs("div",{children:[B.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Composio"}),B.jsx("div",{className:"space-y-2",children:T.composition.map(([N,U,z],M)=>B.jsxs("div",{className:"flex items-center space-x-3",children:[B.jsx("div",{className:`w-3 h-3 rounded-full ${z}`}),B.jsx("span",{className:"text-sm text-gray-600 flex-1",children:N}),B.jsxs("span",{className:"text-sm font-semibold text-gray-900",children:[U,"%"]})]},M))})]}),B.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[B.jsxs("div",{children:[B.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Principais recursos"}),B.jsx("ul",{className:"space-y-2",children:T.features.map((N,U)=>B.jsxs("li",{className:"flex items-start space-x-2",children:[B.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mt-2 flex-shrink-0"}),B.jsx("span",{className:"text-sm text-gray-600",children:N})]},U))})]}),B.jsxs("div",{children:[B.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Principais riscos"}),B.jsx("ul",{className:"space-y-2",children:T.risks.map((N,U)=>B.jsxs("li",{className:"flex items-start space-x-2",children:[B.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full mt-2 flex-shrink-0"}),B.jsx("span",{className:"text-sm text-gray-600",children:N})]},U))})]})]})]})]})]},T.id)})}),B.jsxs("div",{className:"text-center mt-16",children:[B.jsx("p",{className:"text-gray-600 mb-6",children:"Quer ver todas as estratgias disponveis?"}),B.jsx(en,{size:"lg",variant:"outline",className:"rounded-full",children:"Ver todas as estratgias"})]})]}),B.jsx(mpe,{isOpen:!!s,onClose:()=>{p(null),c(),i(null)},children:B.jsx(ype,{product:e.find(T=>T.id===r),mode:s,userBalance:l.balance,onClose:()=>c(),onSubmit:S,error:h,setError:p})})]})}const wpe=n=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(Number(n||0));function vpe({value:n=1}){const e=[1,2,3,4],t=Math.max(0,Math.min(4,Number(n))),r=["h-2","h-3","h-4","h-6"];return B.jsxs("div",{className:"flex items-end gap-1 h-6","aria-label":`Risco ${t} de 4`,title:`Risco ${t}/4`,children:[e.map((i,s)=>B.jsx("span",{className:["w-1.5 rounded-sm",r[s],i<=t?"bg-gradient-to-t from-purple-600 to-purple-400":"bg-purple-200/40 border border-purple-200"].join(" ")},i)),B.jsxs("span",{className:"sr-only",children:[t," de 4"]})]})}const xpe=[{estrategia:"Blindando meu $",total:12500,apy:7.8,criadoPor:"Equipe Cadach",risco:1},{estrategia:"Beta Moderado",total:32200.5,apy:14.2,criadoPor:"Breno LG",risco:2},{estrategia:"Alpha Momentum",total:9800,apy:22.6,criadoPor:"Desk Quant",risco:3},{estrategia:"Gamma DeFi+",total:48750,apy:31.1,criadoPor:"DAO X",risco:4}];function Epe({rows:n=xpe,strategyFilter:e=null,pageSize:t=10,onInvest:r=i=>console.log("Investir em",i.estrategia)}){const[i,s]=oe.useState(n),[c,l]=oe.useState(1),[f,h]=oe.useState("estrategia"),[p,g]=oe.useState("asc");oe.useEffect(()=>{e&&[1,2,3,4].includes(Number(e))?(s(n.filter(M=>Number(M.risco)===Number(e))),l(1)):s(n)},[e,n]);const m={estrategia:M=>{var L;return(L=M.estrategia)==null?void 0:L.toString().toLowerCase()},total:M=>Number(M.total)||0,apy:M=>Number(M.apy)||0,criadoPor:M=>{var L;return(L=M.criadoPor)==null?void 0:L.toString().toLowerCase()},risco:M=>Number(M.risco)||0},b=oe.useMemo(()=>{const M=[...i],L=m[f];return M.sort((F,q)=>{const Q=L?L(F):F[f],G=L?L(q):q[f];if(typeof Q=="string"&&typeof G=="string"){const P=Q.localeCompare(G,"pt-BR",{sensitivity:"base"});return p==="asc"?P:-P}const W=Number(Q),A=Number(G);if(!Number.isNaN(W)&&!Number.isNaN(A))return p==="asc"?W-A:A-W;const E=String(Q).localeCompare(String(G),"pt-BR",{sensitivity:"base"});return p==="asc"?E:-E}),M},[i,f,p]),w=Math.max(1,Math.ceil(b.length/t)),x=oe.useMemo(()=>{const M=(c-1)*t;return b.slice(M,M+t)},[b,c,t]),S=()=>l(1),O=()=>l(M=>Math.max(1,M-1)),T=()=>l(M=>Math.min(w,M+1)),_=()=>l(w),I=M=>{M===f?g(L=>L==="asc"?"desc":"asc"):(h(M),g("asc")),l(1)},N=[{id:"estrategia",label:"Estratgia"},{id:"total",label:"Total investido"},{id:"apy",label:"APY"},{id:"criadoPor",label:"Criado por"},{id:"risco",label:"Risco"},{id:"invest",label:"Investir"}],U="grid grid-cols-[26%_18%_12%_20%_10%_14%]",z=({id:M,children:L})=>{const F=f===M,q=M==="invest"?void 0:F?p==="asc"?"ascending":"descending":"none",Q=M!=="invest";return B.jsx("div",{role:"columnheader","aria-sort":q,className:"px-4 py-3 text-sm font-medium text-gray-700 whitespace-nowrap",children:Q?B.jsxs("button",{onClick:()=>I(M),className:"group inline-flex items-center gap-1 select-none cursor-pointer",children:[B.jsx("span",{children:L}),B.jsx("svg",{className:`h-4 w-4 shrink-0 transition-transform ${F?p==="asc"?"rotate-180":"":"opacity-50 group-hover:opacity-80"}`,viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:B.jsx("path",{d:"M5.23 7.21a.75.75 0 011.06.02L10 10.17l3.71-2.94a.75.75 0 011.04 1.08l-4.24 3.36a.75.75 0 01-.94 0L5.21 8.31a.75.75 0 01.02-1.1z"})})]}):B.jsx("span",{children:L})})};return B.jsxs("div",{className:"mx-auto px-4 sm:px-6 lg:px-8 py-10 md:py-20",id:"table",children:[B.jsx("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between mb-3",children:B.jsx("h2",{className:"text-3xl sm:text-4xl font-bold text-gray-900 mb-4 text-center w-full",children:"Estratgias"})}),B.jsxs("div",{role:"table","aria-label":"Tabela de estratgias",className:"rounded-xl border border-gray-200 shadow-sm overflow-hidden bg-gray-100",children:[B.jsx("div",{role:"rowgroup",className:"bg-gray-200",children:B.jsx("div",{role:"row",className:`${U} text-left`,children:N.map(M=>B.jsx(z,{id:M.id,children:M.label},M.id))})}),B.jsx("div",{role:"rowgroup",className:"divide-y divide-gray-200",children:x.length>0?x.map((M,L)=>B.jsxs("div",{role:"row",className:`${U} items-center hover:bg-gray-200`,children:[B.jsx("div",{role:"cell",className:"px-4 py-3 font-medium text-gray-800",children:M.estrategia}),B.jsx("div",{role:"cell",className:"px-4 py-3 tabular-nums",children:wpe(M.total)}),B.jsxs("div",{role:"cell",className:"px-4 py-3 tabular-nums",children:[Number(M.apy).toFixed(2),"%"]}),B.jsx("div",{role:"cell",className:"px-4 py-3 text-gray-800",children:M.criadoPor}),B.jsx("div",{role:"cell",className:"px-4 py-3",children:B.jsx(vpe,{value:M.risco})}),B.jsx("div",{role:"cell",className:"px-4 py-3",children:B.jsx("button",{onClick:()=>r(M),className:"text-sm font-medium text-purple-600 hover:text-purple-500 transition-colors",children:"Detalhes"})})]},L)):B.jsx("div",{role:"row",className:`${U}`,children:B.jsx("div",{role:"cell",className:"px-4 py-10 text-center text-gray-500 col-span-6",children:"Nenhum registro."})})})]}),B.jsxs("div",{className:"mt-4 flex flex-col items-center justify-between gap-3 sm:flex-row",children:[B.jsxs("p",{className:"text-sm text-gray-600",children:["Pgina ",B.jsx("span",{className:"font-medium",children:c})," de"," ",B.jsx("span",{className:"font-medium",children:w})," /"," ",B.jsx("span",{className:"font-medium",children:i.length})," registros"]}),B.jsxs("div",{className:"inline-flex items-center gap-2",children:[B.jsx("button",{onClick:S,disabled:c===1,className:"rounded-md border border-gray-300 px-3 py-1.5 text-sm disabled:opacity-50",children:""}),B.jsx("button",{onClick:O,disabled:c===1,className:"rounded-md border border-gray-300 px-3 py-1.5 text-sm disabled:opacity-50",children:"Anterior"}),B.jsx("button",{onClick:T,disabled:c===w,className:"rounded-md border border-gray-300 px-3 py-1.5 text-sm disabled:opacity-50",children:"Prxima"}),B.jsx("button",{onClick:_,disabled:c===w,className:"rounded-md border border-gray-300 px-3 py-1.5 text-sm disabled:opacity-50",children:""})]})]})]})}function Ape({signer:n}){const[e,t]=oe.useState(null);return B.jsxs(B.Fragment,{children:[B.jsx(ppe,{}),B.jsx(gpe,{setStrategyFilter:t}),B.jsx(Epe,{pageSize:10,strategyFilter:e}),B.jsx(bpe,{signer:n})]})}function Spe(){const n=new Date().getFullYear();return B.jsx("footer",{className:"bg-gray-900 text-gray-300",children:B.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-16",children:[B.jsxs("div",{className:"grid md:grid-cols-4 gap-8",children:[B.jsxs("div",{className:"md:col-span-2",children:[B.jsx("h3",{className:"text-2xl font-bold bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent mb-4",children:"Cadach Finance"}),B.jsx("p",{className:"text-gray-400 mb-6 leading-relaxed max-w-md",children:"Aqui voc encontra estratgias profissionais prontas para usar, automao que protege seu capital e suporte prtico para comear hoje no DEFI"}),B.jsxs("div",{className:"flex space-x-4",children:[B.jsx("a",{href:"https://x.com/cadachd?s=21",target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-white transition-colors","aria-label":"X (antigo Twitter)",children:B.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 24 24",className:"w-5 h-5",children:B.jsx("path",{d:"M18.244 2.25h3.308l-7.227 8.26 8.508 11.24H15.12l-5.18-6.774L3.972 21.75H.664l7.73-8.845L.254 2.25h6.594l4.704 6.19L18.244 2.25zM17.1 19.35h1.832L7.05 4.78H5.09L17.1 19.35z"})})}),B.jsx("a",{href:"https://github.com/LizzardMedeiros/cadach-defi",target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-white transition-colors","aria-label":"GitHub",children:B.jsx(cL,{className:"w-5 h-5"})}),B.jsx("a",{href:"https://www.instagram.com/cadach.defi?igsh=OXZhMzczZWE0ZHZj&utm_source=qr",target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-white transition-colors","aria-label":"Instagram",children:B.jsx(hL,{className:"w-5 h-5"})}),B.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:B.jsx(pL,{className:"w-5 h-5"})})]})]}),B.jsxs("div",{children:[B.jsx("h4",{className:"text-white font-semibold mb-4",children:"Plataforma"}),B.jsxs("ul",{className:"space-y-3",children:[B.jsx("li",{children:B.jsxs("a",{href:"#estrategias",className:"text-gray-400 hover:text-white transition-colors flex items-center space-x-2",children:[B.jsx(KI,{className:"w-4 h-4"}),B.jsx("span",{children:"Estratgias"})]})}),B.jsx("li",{children:B.jsxs("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors flex items-center space-x-2",children:[B.jsx(ub,{className:"w-4 h-4"}),B.jsx("span",{children:"Segurana"})]})}),B.jsx("li",{children:B.jsxs("a",{href:"../../public/docs/whitepaper.pdf",download:"whitepaper.pdf",className:"text-gray-400 hover:text-white transition-colors flex items-center space-x-2",children:[B.jsx(aL,{className:"w-4 h-4"}),B.jsx("span",{children:"Documentao"})]})})]})]}),B.jsxs("div",{children:[B.jsx("h4",{className:"text-white font-semibold mb-4",children:"Suporte"}),B.jsxs("ul",{className:"space-y-3",children:[B.jsx("li",{children:B.jsxs("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors flex items-center space-x-2",children:[B.jsx(vL,{className:"w-4 h-4"}),B.jsx("span",{children:"Central de Ajuda"})]})}),B.jsx("li",{children:B.jsxs("a",{href:"mailto:contato@cadachfinance.com.br",className:"text-gray-400 hover:text-white transition-colors flex items-center space-x-2",children:[B.jsx(mL,{className:"w-4 h-4"}),B.jsx("span",{children:"Contato"})]})}),B.jsx("li",{children:B.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:"FAQ"})})]})]})]}),B.jsx("div",{className:"border-t border-gray-800 mt-12 pt-8",children:B.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8 text-center",children:[B.jsxs("div",{children:[B.jsx("div",{className:"text-2xl font-bold text-white mb-1",children:"R$ 4.3M+"}),B.jsx("div",{className:"text-sm text-gray-400",children:"Total Investido"})]}),B.jsxs("div",{children:[B.jsx("div",{className:"text-2xl font-bold text-white mb-1",children:"2.1k+"}),B.jsx("div",{className:"text-sm text-gray-400",children:"Investidores"})]}),B.jsxs("div",{children:[B.jsx("div",{className:"text-2xl font-bold text-white mb-1",children:"12"}),B.jsx("div",{className:"text-sm text-gray-400",children:"Estratgias"})]}),B.jsxs("div",{children:[B.jsx("div",{className:"text-2xl font-bold text-white mb-1",children:"99.9%"}),B.jsx("div",{className:"text-sm text-gray-400",children:"Uptime"})]})]})}),B.jsxs("div",{className:"border-t border-gray-800 mt-12 pt-8 flex flex-col md:flex-row justify-between items-center",children:[B.jsxs("div",{className:"text-gray-400 text-sm mb-4 md:mb-0",children:[" ",n," Cadach Finance. Todos os direitos reservados."]}),B.jsxs("div",{className:"flex space-x-6 text-sm",children:[B.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:"Termos de Uso"}),B.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:"Poltica de Privacidade"}),B.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:"Cookies"})]})]}),B.jsx("div",{className:"border-t border-gray-800 mt-8 pt-8",children:B.jsx("div",{className:"bg-gray-800 rounded-lg p-4",children:B.jsxs("p",{className:"text-xs text-gray-400 leading-relaxed",children:[B.jsx("strong",{className:"text-gray-300",children:"Aviso de Risco:"})," Investimentos em DeFi envolvem riscos significativos, incluindo a possibilidade de perda total do capital investido. Os retornos passados no garantem resultados futuros. Recomendamos que voc entenda completamente os riscos antes de investir e considere buscar aconselhamento financeiro independente."]})})})]})})}function _pe({logo:n,code:e,company:t,tags:r,status:i,rate:s,cdi:c,investors:l,dueDate:f,amount:h,raised:p,available:g,finalizedAt:m}){const b=Math.round(p/h*100);return B.jsx("div",{className:"bg-white rounded-2xl shadow-sm border p-5 w-full h-full",children:B.jsxs("div",{children:[B.jsxs("div",{className:"flex justify-between items-center mb-2",children:[B.jsx("h2",{className:"font-bold text-lg text-gray-900",children:e}),B.jsx("img",{src:n,alt:t,className:"w-10 h-10 rounded-full object-contain"})]}),B.jsxs("p",{className:"text-sm text-gray-600 mb-3",children:["Por ",t]}),B.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:r.map((w,x)=>B.jsx("span",{className:`px-2 py-0.5 text-xs font-medium rounded-full ${w.color?w.color:"bg-gray-100 text-gray-700"}`,children:w.label},x))}),B.jsxs("div",{className:"bg-green-50 rounded-lg p-3 mb-4",children:[B.jsx("p",{className:"text-sm text-gray-600",children:"Rentabilidade"}),B.jsxs("p",{className:"text-xl font-semibold text-green-600",children:[s,"% ",B.jsx("span",{className:"text-sm font-normal",children:"ao ano"})]}),B.jsxs("p",{className:"text-xs text-gray-500",children:["Equivalente a ",c,"% do CDI"]})]}),B.jsxs("div",{className:"text-sm space-y-1 mb-4",children:[B.jsxs("p",{className:"text-gray-700",children:[B.jsx("strong",{children:"Nmero de investidores:"})," ",l]}),B.jsxs("p",{className:"text-gray-700",children:[B.jsx("strong",{children:i==="Finalizada"?"Liquidado em:":"Vencimento:"})," ",f]}),B.jsxs("p",{className:"text-gray-700",children:[B.jsx("strong",{className:"text-gray-700",children:"Volume de captao:"})," ",h.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})]})]}),B.jsxs("div",{children:[B.jsxs("div",{className:"flex justify-between text-xs text-gray-600 mb-1",children:[B.jsxs("span",{children:["Captado:"," ",p.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})]}),B.jsxs("span",{children:[b,"%"]})]}),B.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mb-1",children:B.jsx("div",{className:"bg-purple-400 h-2 rounded-full",style:{width:`${b}%`}})}),B.jsxs("p",{className:"text-xs text-gray-600",children:["Disponvel:"," ",g.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})]})]}),i==="Finalizada"&&m&&B.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Captao finalizada: ",m]})]})})}function Ope(){const n=[{code:"KAVAK6SR01",company:"Kavak Tecnologia e Comrcio S.A.",logo:"../../../public/logos/bitCoinOrange.png",tags:[{label:"Em captao",color:"bg-green-100 text-green-700"},{label:"Snior",color:"bg-purple-100 text-purple-700"},{label:"Longo prazo",color:"bg-pink-100 text-pink-700"},{label:"CR",color:"bg-gray-100 text-gray-600"},{label:"RCVM 88",color:"bg-gray-100 text-gray-600"}],status:"Em captao",rate:21.27,cdi:139.22,investors:5,dueDate:"28/10/2026",amount:175e3,raised:10859.13,available:164140.87},{code:"MLLR1SR02",company:"Mellro Servios de TI Ltda.",logo:"/logos/mellro.png",tags:[{label:"Em captao",color:"bg-green-100 text-green-700"},{label:"Snior",color:"bg-purple-100 text-purple-700"},{label:"Curto prazo",color:"bg-pink-100 text-pink-700"},{label:"CR",color:"bg-gray-100 text-gray-600"},{label:"RCVM 88",color:"bg-gray-100 text-gray-600"}],status:"Em captao",rate:18.57,cdi:122.83,investors:1,dueDate:"08/04/2026",amount:2e5,raised:1e4,available:19e4},{code:"MOV2SR03",company:"Movens Intelligence & Capital",logo:"/logos/movens.png",tags:[{label:"Em captao",color:"bg-green-100 text-green-700"},{label:"Snior",color:"bg-purple-100 text-purple-700"},{label:"Mdio prazo",color:"bg-pink-100 text-pink-700"},{label:"CR",color:"bg-gray-100 text-gray-600"},{label:"RCVM 88",color:"bg-gray-100 text-gray-600"}],status:"Em captao",rate:21,cdi:137.54,investors:32,dueDate:"15/04/2026",amount:1e5,raised:18444.33,available:81555.67},{code:"CFIR1SR13",company:"ConferIR Tecnologia S.A.",logo:"/logos/conferir.png",tags:[{label:"Finalizada",color:"bg-blue-100 text-blue-700"},{label:"Snior",color:"bg-purple-100 text-purple-700"},{label:"Curto prazo",color:"bg-pink-100 text-pink-700"},{label:"CR",color:"bg-gray-100 text-gray-600"},{label:"RCVM 88",color:"bg-gray-100 text-gray-600"}],status:"Finalizada",rate:23.87,cdi:154.61,investors:64,dueDate:"14/08/2025",amount:75024.96,raised:75024.96,available:0,finalizedAt:"11/10/2025"}];return B.jsx("div",{className:" py-10",children:B.jsxs("div",{className:"container mx-auto px-4",children:[B.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Oportunidades de investimento"}),B.jsx("div",{className:`grid gap-6 justify-items-center\r
          grid-cols-[repeat(auto-fit,minmax(280px,1fr))]`,children:n.map((e,t)=>B.jsx(_pe,{...e},t))})]})})}function Cpe(){return B.jsx(B.Fragment,{children:B.jsx("section",{className:"py-10",children:B.jsx(Ope,{})})})}function Npe(){const[n,e]=oe.useState();return B.jsx(rpe,{children:B.jsxs("div",{className:"min-h-screen bg-white",children:[B.jsx(dpe,{setSigner:e,signer:n}),B.jsx("main",{children:B.jsxs(kde,{children:[B.jsx(o3,{path:"/",element:B.jsx(Ape,{signer:n})}),B.jsx(o3,{path:"/tokens",element:B.jsx(Cpe,{})})]})}),B.jsx(Spe,{})]})})}rM.createRoot(document.getElementById("root")).render(B.jsx(oe.StrictMode,{children:B.jsx(Npe,{})}));export{due as $,og as A,Di as B,ZZ as C,D3 as D,XY as E,tu as F,gc as G,qb as H,cu as I,bs as J,Ci as K,NP as L,ys as M,Wk as N,hue as O,aO as P,cB as Q,BN as R,Vue as S,yue as T,mA as U,kge as V,wP as W,Xy as X,QE as Y,sue as Z,SF as _,Qa as a,oue as a0,hu as a1,bP as a2,kN as a3,G2 as a4,Uge as a5,uue as a6,vP as a7,IP as a8,Pge as a9,Bue as aa,$ge as ab,MN as ac,AP as ad,cg as ae,Cue as af,EP as ag,kue as ah,jge as ai,Kue as aj,xP as ak,qge as al,que as am,Lge as an,Jy as ao,Fge as ap,zge as aq,Mge as ar,yP as as,cue as at,lue as au,Gh as av,aue as aw,bue as ax,wue as ay,ve as b,mq as c,Ka as d,kF as e,Ni as f,Sg as g,Bp as h,uE as i,Bg as j,oK as k,JG as l,xG as m,eW as n,ei as o,Yte as p,Ine as q,tW as r,gue as s,Dr as t,Zi as u,lu as v,fA as w,$re as x,uA as y,Vb as z};
